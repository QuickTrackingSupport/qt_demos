/*! 2021-05-26 12:25:17 aplus_mini_cloud_203252441.js */
module.exports=function(e){function t(a){if(n[a])return n[a].exports;var o=n[a]={exports:{},id:a,loaded:!1};return e[a].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";n(2).initGlobal(),e.exports=function(e){var t=n(4);return n(70)(e,t)}},function(e,t,n){"use strict";var a,o=n(3),r=o.APLUS,s=o.APLUS_QUEUE,u=o.GOLDLOG,i=o.GOLDLOG_QUEUE,c=!1;try{a=window,c=!0}catch(e){a={}}t.getContext=function(){return a},t.initGlobal=function(e){a=e?e:{v:1,aplus:{},aplus_queue:[]};var t,n;if(c)try{t=a.aplus||(a.aplus={});var o=a.goldlog_queue||(a.goldlog_queue=[]);n=a.aplus_queue||(a.aplus_queue=[]),n=o.concat(n)}catch(e){}else t=a.aplus,n=a.aplus_queue;return a.aplus=a.goldlog=t,a.aplus_queue=a.goldlog_queue=n,a};var p=function(e){if(e===r||e===u){var t=a[r]||a[u];return t||(t=a[r]=a[u]={}),t}var n=i,o=s;if(e===o||e===n){var c=a[o]||a[n];return c||(c=a[o]=a[n]=[]),c}};t.getGlobalValue=p,t.setGlobalValue=function(e,t){a[e]=t};var l=function(e){var t;try{var n=p(r);t=n[e]}catch(e){t=""}finally{return t}};t.getGoldlogVal=l;var f=function(e,t){var n=!1;try{var a=p(r);e&&(a[e]=t,n=!0)}catch(e){n=!1}finally{return n}};t.setGoldlogVal=f,t.getClientInfo=function(){return l("_aplus_client")||{}}},function(e,t){var n="aplus",a="goldlog",o=n+"_queue",r=a+"_queue",s="mw_change",u="MetaInfo",i="append"+u,c="set"+u,p="http",l="_pubsub",f="other",g="2101",h="2201",d="2202",_="19999",v="1023",m="1010",y=3e4,b="ekvs",S=1e4,A=1,x=3e3,P="$$_page_start",I="$$_page_end",T="$$_app_start",C="$$_app_end";e.exports={PAGE_ENTER:"PAGE_ENTER",CURRENT_PAGE_CONFIG:"CURRENT_PAGE_CONFIG",_ANONY_ID:"_anony_id",_USER_ID:"_user_id",DEFAULT_CODE:f,OTHER:_,EVENT_MAP:{2101:"click",2201:"exposure",2202:"exposure",19999:f,1023:"app_show",1010:"app_hide_or_unload"},EVENT_ID_MAP:{EXP:h,IMPEXP:d,CLK:g,OTHER:_,SHOW:v,H_OR_U:m},APLUS:n,GOLDLOG:a,UNSUBSCRIBE:n+"."+n+l+".unsubscribe",SUBSCRIBE:n+"."+n+l+".subscribe",PUBLISH:n+"."+n+l+".publish",CACHE_PUBS:n+"."+n+l+".cachePubs",APLUS_UNIVERSAL:n+"_universal",APLUS_QUEUE:o,GOLDLOG_QUEUE:r,COMPLETE:"complete",PV_CODE:"2001",EXP_CODE:h,CLK_CODE:g,OTHER_CODE:_,CLK:"CLK",EXP:"EXP",SPM_CNT:"spm-cnt",SPM_URL:"spm-url",SPM_PRE:"spm-pre",MW_CHANGE_PV:s+"_pv",MW_CHANGE_HJLJ:s+"_hjlj",HTTP:p+":",HTTPS:"https:",APPEND_META_INFO:i,SET_META_INFO:c,APLUS_APPEND_META_INFO:n+"."+i,APLUS_SET_META_INFO:n+"."+c,PVID:"pvid",APLUS_LOG_PIPE:"aplus-log-pipe",openAPIs:["send","enter","sendPV","record","combineRecord","recordUdata","requestVTConfig","setPageSPM","setMetaInfo","appendMetaInfo","updatePageProperties","updateNextPageProperties","updatePageUtparam","updateNextPageUtparam","pageAppear","pageDisappear","skipPage","updateSessionProperties","getPageSpmUrl","getPageSpmPre"],SESSION_INTERVAL:y,SESSION_PAUSE_TIME:"session_pause_time",IMPRINT:"imprint",CURRENT_SESSION:"current_session",MAX_EVENTID_LENGTH:128,MAX_PROPERTY_KEY_LENGTH:256,MAX_PROPERTY_KEYS_COUNT:100,REQUESTS:"requests",SHARES:"shares",APLUS_SSRC:"_aplus_ssrc",EKVS:b,EVENT_MAX_COUNT:S,MEMORY_MAX_COUNT:A,EVENT_SEND_DEFAULT_INTERVAL:x,PAGE_START:P,PAGE_END:I,APP_START:T,APP_END:C}},function(e,t,n){e.exports={metaInfo:{"aplus-rhost-v":"quickaplus-web-api-cn-zhangjiakou.aliyun.com","aplus-rhost-g":"quickaplus-web-api-cn-zhangjiakou.aliyun.com","aplus-mmstat-timeout":"10000",sdkId:"aplus_mini_cloud",customSdkId:"203252441_20210526_122515",appId:""},globalConfig:{isAli:!1,isDecodeUrl:!0,APLUS_QUEUE:"aplus_queue",ETAG_STORAGE_KEY:"__ETAG__CNA__ID__",script_name:"aplus_mini.js",lver:"1.6.4"},plugins:[{name:"inject_app",path:n(5)},{name:"inject_page",path:n(9)},{name:"open_api",path:n(10)},{name:"aplus_client",path:n(12)},{name:"pubsub",path:n(13)},{name:"aplus_meta_inject",path:n(16)},{name:"aplus_ac",path:n(21),deps:["inject_page"]},{name:"aplus_ae",path:n(30),deps:["inject_page"]},{name:"aplus_mini_report",path:n(38)},{name:"aplus_log_inject",path:n(43),deps:["aplus_meta_inject"],config:{plugins:{pv:[{name:"etag",path:n(44)},{name:"when_to_sendpv",path:n(49),config:{aplusWaiting:""}},{name:"where_to_send",path:n(50)},{name:"what_to_send",path:n(51),config:{logdataToUt:{}}},{name:"miniapp_data",path:n(55)},{name:"what_to_sendpv_userdata",path:n(56),deps:["what_to_send"]},{name:"can_to_sendpv",path:n(57)}],hjlj:[{name:"etag",path:n(44)},{name:"where_to_send",path:n(50)},{name:"what_to_send",path:n(51),deps:[]},{name:"miniapp_data",path:n(55)},{name:"what_to_hjlj_userdata",path:n(58)}]}}},{name:"aplus_api",path:n(59),deps:["aplus_log_inject","aplus_meta_inject"]},{name:"meta_queue",path:n(66),config:{isOpenApi:!0}},{name:"etag",path:n(44)},{name:"aplus_queue",path:n(68),config:{isOpenApi:!0}},{name:"auto_tracker",path:n(69),deps:["inject_page"]}]}},function(e,t,n){"use strict";function a(e,t){var n={};if(t&&(n.scene=t),e){e.miniappDebugId&&(n.debugId=e.miniappDebugId);for(var a in e)"$$_share_uid"!==a&&0!==a.indexOf("$$_utm_")||(n[a]=e[a])}return n}function o(){var e=App;App=function(t){var n=r.getContext(),o={onLaunch:function(e){i.initIsTB();var t=e?e.query:{};t||(t={});var o=e?e.referrerInfo:{};if(n.aplus_queue.push({action:"aplus.appendMetaInfo",arguments:["aplus-session-args",Object.assign({},o,{scene:e.scene||""})]}),t){var r={};if(t.spm&&(n.aplus.spm_orign=t.spm),e.scene&&(r.scene=e.scene),t.miniappDebugId){var s=t.miniappDebugId.trim(),u=s.split("_");r=Object.assign({},r,{aplus_work_no:u.length>2?u[1]:s,aplus_track_debug_id:s,aplus_flag:"aplus_test"})}n.aplus_queue.push({action:"aplus.appendMetaInfo",arguments:["aplus-exdata",r]}),n.aplus_queue.push({action:"aplus.appendMetaInfo",arguments:["aplus-cpvdata",r]}),n.aplus_queue.push({action:"aplus.appendMetaInfo",arguments:["aplus-global-args",a(t,e.scene)]})}},onShow:function(e){var t=e?e.query:{};t||(t={});var o=e?e.scene:"";n.aplus_queue.push({action:"aplus.setMetaInfo",arguments:["aplus-global-args",a(t,o)]}),o&&(n.aplus_queue.push({action:"aplus.appendMetaInfo",arguments:["aplus-exdata",{scene:o}]}),n.aplus_queue.push({action:"aplus.appendMetaInfo",arguments:["aplus-cpvdata",{scene:o}]}),n.aplus_queue.push({action:"aplus.appendMetaInfo",arguments:["aplus-session-args",{scene:o}]})),s.onAplusReady(n.aplus_queue,u.SUBSCRIBE,function(){var t=n.aplus.globalConfig||{},a=n.aplus.getMetaInfo("aplus-enable-appEvent");t.isAli&&!a||(n.onAppShowTime=(new Date).getTime(),n.aplus_queue.push({action:"aplus.record",arguments:["$$_app_show","1023",e,"GET"]}))})},onHide:function(){s.onAplusReady(n.aplus_queue,u.SUBSCRIBE,function(){var e=n.aplus.globalConfig||{},t=n.aplus.getMetaInfo("aplus-enable-appEvent");if(!e.isAli||t){var a=(new Date).getTime()-n.onAppShowTime;n.aplus_queue.push({action:"aplus.record",arguments:["$$_app_hide","1010","duration="+a,"GET"]})}})},onUnload:function(){s.onAplusReady(n.aplus_queue,u.SUBSCRIBE,function(){var e=n.aplus.globalConfig||{},t=n.aplus.getMetaInfo("aplus-enable-appEvent");if(!e.isAli||t){var a=(new Date).getTime()-n.onAppShowTime;n.aplus_queue.push({action:"aplus.record",arguments:["$$_app_unload","1010","duration="+a,"GET"]})}})}};Object.keys(o).forEach(function(e){s.resetFn(t,e,o[e])}),e(t)}}var r=n(2),s=n(6),u=n(3),i=n(7);e.exports=function(){return{run:function(){["object","function"].indexOf(typeof App)>-1&&o()}}}},function(e,t){e.exports={resetFn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=e[t];e[t]=function(e){var t=a&&a.call(this,e);return t?n.call(this,t):void n.call(this,e)}},rewriteFn:function(e,t,n){var a=e[t];e[t]=function(e){n.call(this,e),a&&a.call(this,e)}},onAplusReady:function(e,t,n){e.push({action:t,arguments:["aplusReady",function(e){"complete"===e&&"function"==typeof n&&n()}]})}}},function(e,t,n){"use strict";function a(){if("boolean"==typeof i)return i;var e=!1;try{var t=navigator?navigator.userAgent||navigator.swuserAgent:"";e=!!/AliApp/i.test(t),(/AliApp\(AP/i.test(t)||/AliApp\(DingTalk/i.test(t)||/AliApp\(AMAP/i.test(t))&&(e=!1),/AliApp\(KB/i.test(t)&&(e=!!/Mist/.test(t)),/AlipayIDE Taobao/.test(t)&&(e=!0);var n=c().ctx;"function"==typeof n.canIUse&&(e=!!n.canIUse("callUserTrack"))}catch(e){}return i=e,e}function o(){return"boolean"==typeof i?!!i:a()}var r=n(8),s=n(2),u=n(3);t.getCurrentPage=function(){var e=getCurrentPages();return e[e.length-1]||{}};var i;t.resetIsTB=function(e){i=e},t.initIsTB=a;var c=function(){try{return{ctx:dd,platType:"dd",sdkType:"ddmp",logDomain:"/ddm_logs"}}catch(e){try{return{ctx:my,platType:my&&my.tb?"taobao":"my",sdkType:my&&my.tb?"taobaomp":"mymp",logDomain:"/alipaym_logs"}}catch(e){try{return{ctx:tt,platType:"tt",sdkType:"ttmp",logDomain:"/bytedancem_logs"}}catch(e){try{return{ctx:swan,platType:"bd",sdkType:"bdmp",logDomain:"/baidum_logs"}}catch(e){try{return{ctx:wx,platType:"wx",sdkType:"wxmp",logDomain:"/wxm_logs"}}catch(e){return{ctx:{},platType:"UNKNOW",sdkType:"UNKNOW"}}}}}}};t.isTB=o,t.getPlatformType=function(){return c().platType},t.getSdkType=function(){return c().sdkType},t.getContext=function(){return c().ctx},t.getLogDomain=function(){return c().logDomain};var p="httpRequest",l="request",f=function(){};t.request=function(e,t,n,a){var o=c().ctx;t||(t={}),r(a)||(a=f),r(n)||(n=f);var i=t.requestMethodName||l,g=o[i];r(g)||(i!==l?i=l:i!==p&&(i=p),g=o[i]);var h=t.dataType||"json",d=t.timeout||5e3,_=t.method||"GET";if(0===e.indexOf("//")){var v=u.HTTPS;/(\d+\.){3,}\d+/.test(e)&&(v="http:"),e=v+e}var m;if(r(g)){var y={url:e,method:_,dataType:h,timeout:d,success:function(e){n(e)},fail:function(t){console&&console.warn("request "+e+" failure, the msg is ",t),a(t)}};"object"==typeof t.data&&"POST"===_&&(y.data=t.data,y.url=y.url.split("?")[0]);var b=s.getGlobalValue("aplus"),S=b.getMetaInfo("aplus-request-extinfo");"object"==typeof S&&(y._extInfo=S),g(y)}else console&&console.warn('can not find "'+i+'"!'),a(m)}},function(e,t){"use strict";e.exports=function(e){return"function"==typeof e}},function(e,t,n){"use strict";function a(e,t){var n=getCurrentPages()[0],a=n.route||n.is||"";t.query||(t.query={}),t.query.$$_share_uid=e.aplus.getMetaInfo("_anony_id")||e.aplus.__ETAG__CNA__ID__,t.query.$$_utm_medium=3;var o="$$_share_uid="+t.query.$$_share_uid+"&$$_utm_medium=3";return t.path?t.path.indexOf("?")>-1?t.path+="&"+o:t.path+="?"+o:t.path=a+"?"+o,e.aplus_queue.push({action:i.PUBLISH,arguments:["onShareAppMessage",t]}),t}function o(){var e=u.getContext(),t=Page;Page=function(n){var o={onPullDownRefresh:function(){var t={status:"ready"};e.aplus_queue.push({action:i.PUBLISH,arguments:["onPullDownRefresh",t]})},onReachBottom:function(){var t=this,n={status:"ready",context:t};e.aplus_queue.push({action:i.PUBLISH,arguments:["onReachBottom",n]})},onShareAppMessage:function(t){return a(e,t)},onLoad:function(){var t=this;e.aplus_queue.push({action:i.PUBLISH,arguments:["onLoad",{status:"ready"}]});var n=!1;try{c.onAplusReady(e.aplus_queue,i.SUBSCRIBE,function(){var a=e.aplus.getMetaInfo("aplus-disable-hooksetdata");if(!n&&a!==!0){n=!0;var o=p.getCurrentPage();c.resetFn(o,"setData",function(n){e.aplus_queue.push({action:i.PUBLISH,arguments:["onPageDataChanged",{data:n,context:t}]})})}e.aplus.onAplusClk=function(t){var n=this;e.aplus_queue.push({action:i.PUBLISH,arguments:["onAplusClk",{status:"ready",context:n,event:t}]})},e.aplus.onAplusTouch=function(t){var n=this;e.aplus_queue.push({action:i.PUBLISH,arguments:["onAplusTouch",{status:"ready",context:n,event:t}]})}})}catch(e){}},onShow:function(){var t=this;c.onAplusReady(e.aplus_queue,i.SUBSCRIBE,function(){e.aplus_queue.push({action:i.PUBLISH,arguments:["onShow",{status:"ready",context:t}]})})},onReady:function(){var t=this;e.aplus_queue.push({action:i.PUBLISH,arguments:["onReady",{status:"ready",context:t}]})},onHide:function(){e.aplus_queue.push({action:i.PUBLISH,arguments:["onHide",{status:"ready"}]})},onUnload:function(){e.aplus_queue.push({action:i.PUBLISH,arguments:["onUnload",{status:"ready"}]})},onAplusClk:function(t){var n=this;e.aplus_queue.push({action:i.PUBLISH,arguments:["onAplusClk",{status:"ready",context:n,event:t}]})},onAplusTouch:function(t){var n=this;e.aplus_queue.push({action:i.PUBLISH,arguments:["onAplusTouch",{status:"ready",context:n,event:t}]})}};try{my&&delete o.onShareAppMessage}catch(e){}Object.keys(o).forEach(function(e){c.resetFn(n,e,o[e])}),t(n)}}function r(){var e=u.getContext(),t=Component;Component=function(n){try{var o={onShow:function(){var t=this;c.onAplusReady(e.aplus_queue,i.SUBSCRIBE,function(){e.aplus_queue.push({action:i.PUBLISH,arguments:["onShow",{status:"ready",context:t}]})})},onShareAppMessage:function(t){return a(e,t)}};try{my&&delete o.onShareAppMessage}catch(e){}Object.keys(o).forEach(function(e){c.resetFn(n.methods,e,o[e])}),t.apply(this,arguments)}catch(e){t.apply(this,arguments)}}}function s(e,t,n){["object","function"].indexOf(typeof e)>-1?n():console.log("typeof "+t+" is not object cant watchExp.")}var u=n(2),i=n(3),c=n(6),p=n(7);e.exports=function(){return{run:function(){s(Page,"Page",o),s(Component,"Component",r)}}}},function(e,t,n){"use strict";var a=n(2),o=n(3),r=n(11);e.exports=function(){return{pushQueue:function(e,t){var n=a.getGlobalValue("aplus_queue");n.push({action:"aplus."+e,arguments:t})},run:function(){var e=this,t=a.getGlobalValue(o.APLUS);r(o.openAPIs,function(n){t[n]=function(){var t=[];r(arguments,function(e){t.push(e)});var a="enter"===n?"_sendPV":"_"+n;e.pushQueue(a,t)}})}}}},function(e,t){"use strict";e.exports=function(e,t){var n,a=e.length;for(n=0;n<a;n++){var o=t(e[n],n);if("break"===o)break}}},function(e,t,n){"use strict";var a=n(7),o=n(2);e.exports=function(){return{_getNetworkType:function(e){var t=a.getContext();t.getNetworkType?t.getNetworkType({success:function(t){e(t?t.networkType:"")}}):e("")},_getSystemInfo:function(e){var t=this,n={},o=t.SYSTEM_INFO||{};if(o&&o.version)e(t.SYSTEM_INFO);else try{a.getContext().getSystemInfo({complete:function(a){a&&a.version?t._getNetworkType(function(n){a.networkType=n,t.SYSTEM_INFO=a,e(a)}):t._getNetworkType(function(t){n.networkType=t,e(n)})}})}catch(t){e(n)}},_getAccountInfoSync:function(){var e={};try{var t=a.getContext();if(t.getAccountInfoSync&&t.canIUse("getAccountInfoSync")){var n=t.getAccountInfoSync(),o=n.miniProgram||{},r=n.plugin||{};e.appId=o.appId,e.appVersion=o.version||o.envVersion,e.pluginAppId=r.appId,e.pluginAppVersion=r.version}else if(t.getAppIdSync&&t.canIUse("getAppIdSync")){var s=t.getAppIdSync()||{};e.appId=s.appId||""}}catch(e){}return e},run:function(e,t){var n=this;return this._getSystemInfo(function(e){e.userAgent="-",e.os=e.platform.toLocaleUpperCase(),e.os_version=e.system,e.access=e.brand;var a="";e.host&&"string"==typeof e.host.env&&(a=e.host.env),e.host=a;var r=n._getAccountInfoSync(),s=Object.assign({},e,r),u=o.getGlobalValue("aplus");u._aplus_client=s,t()}),2e3}}}},function(e,t,n){var a=n(14),o=n(2);e.exports=function(){return{run:function(){var e=o.getGlobalValue("aplus");e.aplus_pubsub||(e.aplus_pubsub=a.create())}}}},function(e,t,n){"use strict";var a=n(8),o=n(15),r=function(e){for(var t=e.length,n=new Array(t-1),a=1;a<t;a++)n[a-1]=e[a];return n},s=o.extend({callable:function(e){if(!a(e))throw new TypeError(e+" is not a function");return e},create:function(e){var t=new this;for(var n in e)t[n]=e[n];return t.handlers=[],t.pubs={},t},setHandlers:function(e){this.handlers=e},subscribe:function(e,t){this.callable(t);var n=this,a=n.pubs||{},o=a[e]||[];if(o)for(var r=0;r<o.length;r++){var s=o[r]();t.apply(n,s)}var u=n.handlers||[];return e in u||(u[e]=[]),u[e].push(t),n.setHandlers(u),n},unsubscribe:function(e,t){this.callable(t);try{var n=this.handlers[e];if(!n)return this;if("object"==typeof n&&n.length>0){for(var a=0;a<n.length;a++){var o=t.toString(),r=n[a].toString();o===r&&n.splice(a,1)}this.handlers[e]=n}else delete this.handlers[e]}catch(e){}return this},publish:function(e){var t=r(arguments),n=this.handlers||[],o=n[e]?n[e].length:0;if(o>0)for(var s=0;s<o;s++){var u=n[e][s];a(u)&&u.apply(this,t)}return this},cachePubs:function(e){var t=this.pubs||{},n=r(arguments);t[e]||(t[e]=[]),t[e].push(function(){return n})}});e.exports=s},function(e,t,n){"use strict";function a(){}var o=n(8);a.prototype.extend=function(){},a.prototype.create=function(){},a.extend=function(e){return this.prototype.extend.call(this,e)},a.prototype.create=function(e){var t=new this;for(var n in e)t[n]=e[n];return t},a.prototype.extend=function(e){var t=function(){};try{o(Object.create)||(Object.create=function(e){function t(){}return t.prototype=e,new t}),t.prototype=Object.create(this.prototype);for(var n in e)t.prototype[n]=e[n];t.prototype.constructor=t,t.extend=t.prototype.extend,t.create=t.prototype.create}catch(e){console&&console.log(e)}finally{return t}},e.exports=a},function(e,t,n){"use strict";e.exports=function(){return{run:function(){n(17)(this.options.context.aplus_config)}}}},function(e,t,n){"use strict";var a=n(2),o=n(3),r=n(18);e.exports=function(e){var t=a.getGlobalValue(o.APLUS),n=t._$=t._$||{};n.is_terminal=!0,n.send_pv_count=0,n.spm={data:{}},n.meta_info=r.qGet()||{},t.globalConfig=e.globalConfig;for(var s in e.metaInfo)r.setMetaInfo(s,e.metaInfo[s]);t._$=n,t.isInternational=function(){return!1}}},function(e,t,n){"use strict";function a(){return s=p||{},p}function o(){return s||a()}function r(e,t){return s||(s={}),s[e]=t,!0}var s,u=n(19),i=n(20),c=n(2),p={},l="object",f="string";t.getInfo=a,t.qGet=o,t.setMetaInfo=r;var g=function(e){return s||(s={}),s[e]||""};t.getMetaInfo=g;var h=function(e,t){if(e&&t){var n,a=function(n){try{var a=typeof t===f?JSON.parse(t):t;s(e,Object.assign({},n,a))}catch(e){}},o=function(n){try{var a=typeof t===f?JSON.parse(t):t;s(e,n.concat(a))}catch(e){}},r=function(e){e.constructor===Array?o(e):a(e)},s=function(e,t){d(e,t,{from:"appendMetaInfo"})},u=g(e);if("aplus-exinfo"===e&&(s(e,Object.assign({},u,i.param2obj(t))),n=!0),"aplus-page-properties"===e){var c=t;if(u)for(var p in u)t[p]?c[p]=Object.assign({},u[p],t[p]):c[p]=u[p];s(e,c),n=!0}if(u)if(typeof u===l)r(u),n=!0;else try{var h=JSON.parse(u);typeof h===l&&(r(h),n=!0)}catch(e){}n||s(e,t)}};t.appendMetaInfo=h;var d=function(e,t){var n,a,s="OVERWRITE",i=s;if("object"==typeof e?(n=e.metaName,a=e.metaValue,i=e.mode||s):(n=e,a=t),i!==s)return h(n,a);if(r(n,a)){var p=c.getGoldlogVal("_$")||{};p.meta_info=o();var l=c.setGoldlogVal("_$",p),f=["setMetaInfo",n,a,{}];return u.doPubMsg(f),u.doCachePubs(f),l}};t._setMetaInfo=d},function(e,t,n){"use strict";var a=n(2),o="function",r=function(){var e=a.getGlobalValue("aplus"),t=e.aplus_pubsub||{},n=typeof t.publish===o;return n?t:""};t.doPubMsg=function(e){var t=r();t&&typeof t.publish===o&&t.publish.apply(t,e)},t.doCachePubs=function(e){var t=r();t&&typeof t.cachePubs===o&&t.cachePubs.apply(t,e)},t.doSubMsg=function(e,t){var n=r();n&&typeof n.subscribe===o&&n.subscribe(e,t)}},function(e,t){"use strict";function n(e,t){var n,o,r,s=[],u=e.length;for(r=0;r<u;r++){n=e[r][0],o=e[r][1];var i=0===n.indexOf(a),c=i||t?o:encodeURIComponent(o);s.push(i?c:n+"="+c)}return s.join("&")}t.arr2obj=function(e){var t,n,a,o={},r=e.length;for(a=0;a<r;a++)t=e[a][0],n=e[a][1],o[t]=n;return o},t.param2obj=function(e){if("object"==typeof e)return e;e||(e="");for(var t={},n=e.split("&"),a=0;a<n.length;a++){var o=n[a],r=o.indexOf("="),s=o.split("="),u=o.length;if(2===s.length)t[s[0]]=s[1]||"";else if(r>0){var i=o.slice(0,r),c=o.slice(r+1,u)||"";t[i]=c}else t[s[0]]=""}return t};var a="::-plain-::";t.s_plain_obj=a,t.arr2param=n,t.obj2param=function(e,t){var n,o,r,s=[];for(n in e)n&&e.hasOwnProperty(n)&&(o=""+e[n],r=n+"="+o,t?s.push(r):s.push(0===n.indexOf(a)?o:r));return s.join("&")},t.encodeGokeyValue=function(e){return e}},function(e,t,n){"use strict";e.exports=function(){return{run:function(){n(22)()}}}},function(e,t,n){"use strict";var a=n(23),o=n(7),r=n(2),s=n(3),u=n(27),i=n(24),c=n(28);e.exports=function(){var e=o.getContext(),t=r.getContext(),n=r.getGlobalValue("aplus"),p=[],l=function(t){p=n.getMetaInfo("aplus-auto-clk"),u(p)&&p.forEach(function(n){c.isStartWith(n.cssSelector,".")||(n.cssSelector="."+n.cssSelector);var o=e.createSelectorQuery().selectAll(n.cssSelector);"function"==typeof o.fields?e.createSelectorQuery().selectAll(n.cssSelector).fields({id:!0,dataset:!0,rect:!0,scrollOffset:!0},function(e){a.watch_click(t.event,i(e),n)}).exec():o.boundingClientRect().exec(function(e){e&&e.length>0&&e[0]&&a.watch_click(t.event,i(e[0]),n)})})};t.aplus_queue.push({action:s.SUBSCRIBE,arguments:["aplusReady",function(e){"complete"===e&&(p=n.getMetaInfo("aplus-auto-clk"))}]}),t.aplus_queue.push({action:s.SUBSCRIBE,arguments:["onShow",function(){}]}),t.aplus_queue.push({action:s.SUBSCRIBE,arguments:["onHide",function(){}]}),t.aplus_queue.push({action:s.SUBSCRIBE,arguments:["onAplusClk",function(e){"ready"===e.status&&l(e)}]}),n.aplus_pubsub.subscribe("onUnload",function(e){"ready"===e.status})}},function(e,t,n){"use strict";function a(e,t){var n=r.getGoldlogVal("_aplus_auto_exp")||{},a=n.hashMap||{};for(var s in a)for(var i=a[s]||[],c=0;c<i.length;c++){var p=i[c]||{},l=p.expConfig||{};if(e.cssSelector===l.cssSelector){var f=u({index:t},l);if(f===p.hash_value)return o(p.dataset)}}}var o=n(24),r=n(2),s=n(25),u=n(26);t.watch_click=function(e,t,n){function o(e,t){var n={};e&&(e.changedTouches?n=e.changedTouches[0]:e.detail&&(n=e.detail));var a=n.clientX||0,o=n.clientY||0,r=t.top,s=t.bottom;return t.scrollTop&&(r+=t.scrollTop,s+=t.scrollTop),t.left<a&&a<t.right&&r<o&&o<s}for(var u=r.getGlobalValue("aplus"),i=0;i<t.length;i++){var c=t[i];if(o(e,c)){var p=i+1,l=c.dataset||a(n,p)||{},f={};if(u.globalConfig.isAli){var g=l.tracker||n.cssSelector.replace(/\'|\"|\;|\:|\=|\[|\]|\.|\#|\-|\/|\|/g,"");if(f=u._$.spm.data||{},f.c=g,f.c&&"0"!==f.c){var h="d"+p;f.d=h}}s.pushEvent("CLK",l,n,c,f)}}}},function(e,t){function n(e){var t,a=Array.isArray(e)?[]:{};if("object"==typeof e){if(JSON&&JSON.parse)t=JSON.stringify(e),a=JSON.parse(t);else for(var o in e)a[o]="object"==typeof e[o]?n(e[o]):e[o];return a}}e.exports=n},function(e,t,n){function a(e,t,n){var a=r.getGlobalValue("aplus")||{},o=a.getMetaInfo;if("function"==typeof o){var i=o(e),c={};return"function"==typeof i&&(c=i(t?u(t):{},n)),s.param2obj(c)}return{}}function o(e,t){var n="";try{var a=new Number(e);n=parseFloat(a.toFixed(t))}catch(t){n=e}return n}var r=n(2),s=n(20),u=n(24),i=n(15),c={},p=3,l="POST",f="EXP",g=i.extend({push:function(e){var t=r.getGlobalValue("aplus");for(this.buffer.push(e);this.buffer.length>=this.pkgSize;){var n=this.buffer.splice(0,this.pkgSize);n.length>0&&t.combineRecord(this.logkey,f,n,this.method)}}});t.pushEvent=function(e,t,n,s,u){var i=r.getGlobalValue("aplus"),p=n.props||[],g={},h={};if(t)for(var d in t)h[d.toLowerCase().replace(/^data-/,"").replace(/-/g,"")]=t[d];if(p)for(var _=0;_<p.length;_++){var v=p[_].toLowerCase().replace(/^data-/,"").replace(/-/g,"");g[p[_]]=h[v]}s&&e===f&&(g=Object.assign({},g,{_w:o(s.width,2),_h:o(s.height,2),_x:o(s.x,2),_y:o(s.y,2),_hash:s.hash_value||"",_rate:o(s.viewabilityRate||s.intersectionRatio,2),_viewability:"intersection"}));var m=e===f?"aplus-auto-exp-userfn":"aplus-auto-clk-userfn",y=a(m,s,n.cssSelector);!y.spm&&u&&u.a&&u.b&&(y.spm=[u.a,u.b,u.c||"0",u.d||"0"].join("."));var b=Object.assign({},{exargs:g},y);"EXP"===e&&i.globalConfig.isAli&&c[n.logkey]?c[n.logkey].push(b):i.record(n.logkey,e,b,l)},t.watchRecord=function(e){var t=r.getGlobalValue("aplus");t.globalConfig.isAli&&e&&e.forEach(function(e){c.hasOwnProperty(e.logkey)||(c[e.logkey]=g.create({length:0,buffer:[],logkey:e.logkey,pkgSize:"number"==typeof e.pkgSize&&e.pkgSize||p,method:e.method||l}))})},t.clearRecord=function(){var e=r.getGlobalValue("aplus");if(e.globalConfig.isAli)for(var t in c){var n=c[t].buffer;n.length>0&&(e.combineRecord(t,f,n,l),c[t].buffer=[])}}},function(e,t){e.exports=function(e,t){var n=[t.logkey,t.cssSelector,t.positionSelector];return e.id&&n.push(e.id),e.dataset&&n.push(JSON.stringify(e.dataset)),n=n.join("_")}},function(e,t){"use strict";e.exports=function(e){return Array.isArray?Array.isArray(e):/Array/.test(Object.prototype.toString.call(e))}},function(e,t,n){"use strict";t.assign=n(29),t.makeCacheNum=function(){return Math.floor(268435456*Math.random()).toString(16)},t.isStartWith=function(e,t){return 0===e.indexOf(t)},t.isEndWith=function(e,t){var n=e.length,a=t.length;return n>=a&&e.indexOf(t)==n-a},t.any=function(e,t){var n,a=e.length;for(n=0;n<a;n++)if(t(e[n]))return!0;return!1},t.isNumber=function(e){return"number"==typeof e},t.isContain=function(e,t){return e.indexOf(t)>-1};var a=function(e){var t,n=e.constructor===Array?[]:{};if("object"==typeof e){if(JSON&&JSON.parse)t=JSON.stringify(e),n=JSON.parse(t);else for(var o in e)n[o]="object"==typeof e[o]?a(e[o]):e[o];return n}};t.cloneDeep=a},function(e,t){e.exports=function(e,t){return"function"!=typeof Object.assign?function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var a=arguments[n];if(null!==a)for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t}(e,t):Object.assign({},e,t)}},function(e,t,n){"use strict";e.exports=function(){return{run:function(){n(31)()}}}},function(e,t,n){"use strict";var a=n(2),o=n(32),r=n(33),s=n(3),u=n(7),i={};e.exports=function(){function e(e,t,n){var a=function(n,a){if("aplus-auto-exp"===n){var s=r.getAutoExpConfig(a);if(JSON.stringify(s)===JSON.stringify(g))return;g=s,a&&g&&g.length>0&&o.watch_exposure(e,g,t)}};c.aplus_queue.push({action:n,arguments:["setMetaInfo",a]})}function t(e,t){g=f.getMetaInfo("aplus-auto-exp"),o.watch_exposure(e,g,t)}function n(e){try{var n=u.getCurrentPage(),a=i[n.route||n.is],o=JSON.stringify(n.data);a!==o&&(i[n.route||n.is]=o,t(e.context,0))}catch(e){}}var c=a.getContext(),p=0,l=0,f=a.getGlobalValue("aplus");if(!f._aplus_auto_exp){f._aplus_auto_exp={hashMap:{}};var g=[];c.aplus_queue.push({action:s.SUBSCRIBE,arguments:["onShow",function(n){if("ready"===n.status){e(n.context,1,s.SUBSCRIBE),0===p?(t(n.context,1),p=1):t(n.context,0);try{var a=u.getCurrentPage();i[a.route||a.is]=JSON.stringify(a.data)}catch(e){}}}]}),c.aplus_queue.push({action:s.SUBSCRIBE,arguments:["onAplusTouch",function(e){"ready"===e.status&&(0===l?(l=1,t(e.context,1)):n(e))}]}),c.aplus_queue.push({action:s.SUBSCRIBE,arguments:["onPageDataChanged",function(e){setTimeout(function(){n(e)},200)}]}),c.aplus_queue.push({action:s.SUBSCRIBE,arguments:["onHide",function(t){"ready"===t.status&&(i={},p=0,l=0,e(t.context,1,s.UNSUBSCRIBE),o.clear())}]}),c.aplus_queue.push({action:s.SUBSCRIBE,arguments:["onUnload",function(e){"ready"===e.status&&(i={},o.clear())}]})}}},function(e,t,n){"use strict";var a,o=n(2),r=n(33),s=n(24),u=n(25),i=n(26),c=[],p=n(7),l=n(28);t.watch_exposure=function(e,t,n,f){function g(o){function r(e){var t=i[0];t&&!l.isStartWith(i[0],".")&&(t="."+t);try{var n=a.createSelectorQuery().selectAll(t);"function"==typeof n.fields?n.fields({dataset:!0,id:!0},function(t){if(t&&t.length>0){for(var n=0;n<t.length;n++)t[n].index=""+(n+1);e({elements:t,type:"COMMON"})}}).exec():console.warn("该平台不支持自动曝光")}catch(e){console.warn("该平台不支持自动曝光, err = ",e)}}if(o<t.length){var u=t[o];b=0,c.forEach(function(e){e.subject[0]===u.cssSelector&&e.subject[1]===u.positionSelector&&(b=1)});var i=[u.cssSelector,u.positionSelector];r(function(t){for(var a=t.elements||[],r=0;r<a.length;r++){var p=a[r];if(0===b||0===n){var l=_(e);l.subject=i,c.push(l),p.index&&!h(p,u)&&(d(p,u),v(l,u,p.index,function(e,t,n){if(n){var a=s(e);a.index=""+n;var o=s(a.dataset);d({id:a.id,index:a.index,dataset:o},t),m(a,o,u)}}))}}g(++o)})}}function h(e,t){var n=i(e,t),a=e.index;return A[t.logkey]&&A[t.logkey].forEach(function(e){if(e.hash_value===n&&e.index===a)return!0}),!1}function d(e,t){var n=i(e,t);try{var a=e.index;if(A[t.logkey]){var o=0;A[t.logkey].forEach(function(t){t.hash_value===n&&(o=1,e.id&&(t.id=e.id),e.dataset&&(t.dataset=e.dataset),e.status&&(t.status=e.status))}),o||A[t.logkey].push({id:e.id,hash_value:n,status:0,expConfig:t,dataset:e.dataset,index:a})}else A[t.logkey]=[{id:e.id,hash_value:n,status:0,expConfig:t,dataset:e.dataset,index:a}]}catch(e){console.log("error === ",e)}}function _(e){var t={thresholds:[r.AUTO_AT_VIEW_RATE],initialRatio:0},n=!1;try{my&&(n=!0)}catch(e){}return n?(t.selectAll=!0,a.createIntersectionObserver(t)):(t.observeAll=!0,a.createIntersectionObserver(e,t))}function v(e,t,n,a){var o=t.cssSelector;o&&!l.isStartWith(o,".")&&(o="."+o),t.positionSelector?e.relativeTo(t.positionSelector).observe(o,function(e){try{a(e,t,n)}catch(e){console.log("errorMessage: ",e)}}):e.relativeToViewport().observe(o,function(e){try{a(e,t,n)}catch(e){console.log("errorMessage: ",e)}})}function m(e,t,n){var a=o.getGlobalValue("aplus"),r=(new Date).getTime(),i=y(r,e,n);if(i&&i.length>0){var c=i[0],p=t.tracker||n.cssSelector.replace(/\'|\"|\;|\:|\=|\[|\]|\.|\#|\-|\/|\|/g,""),l={},f=c.index;if(a.globalConfig.isAli&&(l=s(a._$.spm.data||{}),l.c=p,l.c&&"0"!==l.c)){var g="d"+f;l.d=g}u.pushEvent("EXP",t,n,Object.assign({},e,{x:c.x,y:c.y,width:c.width,height:c.height,hash_value:c.hash_value}),l)}}function y(e,t,n){var a=o.getGoldlogVal("_aplus_auto_exp")||{},s=a.hashMap||{},u=[];for(var c in s)for(var p=s[c]||[],l=0;l<p.length;l++){var f=i(t,n),g=p[l]||{};if(0===g.status&&g.expConfig&&f===g.hash_value){var h=t.boundingClientRect||{};h.width&&h.height&&(g.dataset=t.dataset,g.x=h.left,g.y=h.top,g.width=h.width,g.height=h.height,g.size=h.width*h.height,t.intersectionRatio>=r.AUTO_AT_VIEW_RATE&&(g.exposureTime=e,g.status=1,u.push(g)))}}return u}a&&!f||(a=p.getContext());var b,S=o.getGoldlogVal("_aplus_auto_exp")||{},A=S.hashMap||{};u.watchRecord(t),g(0)},t.reset=function(){},t.clear=function(){u.clearRecord();for(var e=0;e<c.length;e++)c[e].disconnect();c=[];var t=o.getGoldlogVal("_aplus_auto_exp")||{},n=t.hashMap||{};for(var a in n)delete n[a]}},function(e,t,n){"use strict";function a(e){return aplus&&aplus.getMetaInfo?aplus.getMetaInfo(e):r.getMetaCnt(e)}var o=n(34),r=n(35),s=n(37);t.DATA_APLUS_AE_KEY="data-aplus-ae",t.DATA_APLUS_AC_KEY="data-aplus-clk",t.LOOP_TIME=1e3,t.getDefaultRequestCfg=function(){return{method:"POST",pkgSize:10}};var u=function(e){var t=e;try{var n=a("aplus-auto-exp-visible");n&&(t=parseFloat(n)),t<=0&&(t=e)}catch(n){t=e}finally{return t}};t.AUTO_AT_VIEW_RATE=u(.3);var i=function(e){var t=e;try{var n=a("aplus-auto-exp-duration"),o=parseInt(n);o+""!="NaN"&&(t=o)}catch(e){}finally{return t}};t.EXP_DURATION=i(300);var c=function(e,t){var n,r=[],u=[];try{n=t||a(e);var i=[];if(n&&"string"==typeof n)try{i=JSON.parse(n)}catch(e){i=JSON.parse(n.replace(/'/g,'"'))}else"object"==typeof n&&n.constructor===Array&&(i=n);if(i&&i.constructor===Array)for(var c=0;c<i.length;c++){var p=i[c]||{},l=p.logkey||"",f=p.tag?p.tag:"",g=p.filter,h=p.cssSelector,d=h||f&&g;if(!l||!d)throw new Error("meta "+e+" config error, "+JSON.stringify(p));g="string"==typeof g?g.split("="):[];var _=f;if(g.length>=2?_+="["+g.shift()+'="'+decodeURIComponent(g.join(""))+'"]':1==g.length&&g[0]&&(_+="["+decodeURIComponent(g[0])+"]"),h&&(_+=h),p.elementSelector=_,o.indexof(u,_)>-1)throw new Error("meta "+e+" config error, tag_filter_cssSelector "+_+" repeated");u.push(_),r.push(p)}}catch(e){s.logger({msg:e})}finally{return r}};t.getAutoExpConfig=function(e){return c("aplus-auto-exp",e)||[]},t.getAutoExpUserFn=function(){var e=a("aplus-auto-exp-userfn");if(e){var t=window[e]||e;if("function"==typeof t)return t}return null},t.isThrottleWatchDom=function(){var e=!1;try{e="throttle"===a("aplus-auto-exp-watchdom")}catch(e){}return e},t.getAutoClkConfig=function(e){return c("aplus-auto-clk",e)||[]},t.getAutoClkUserFn=function(){var e=a("aplus-auto-clk-userfn");if(e){var t=window[e]||e;if("function"==typeof t)return t}return null}},function(e,t){"use strict";t.indexof=function(e,t){var n=-1;try{n=e.indexOf(t)}catch(o){for(var a=0;a<e.length;a++)e[a]===t&&(n=a)}finally{return n}},t.isArray=function(e){return Array.isArray?Array.isArray(e):/Array/.test(Object.prototype.toString.call(e))}},function(e,t,n){"use strict";function a(e){return s=s||document.getElementsByTagName("head")[0],
u&&!e?u:s?u=s.getElementsByTagName("meta"):[]}function o(e,t){var n,o,r,s=a(),u=s.length;for(n=0;n<u;n++)o=s[n],i.tryToGetAttribute(o,"name")===e&&(r=i.tryToGetAttribute(o,t||"content"));return r||""}function r(e){var t={isonepage:"-1",urlpagename:""},n=e.qGet();if(n&&n.hasOwnProperty("isonepage_data"))t.isonepage=n.isonepage_data.isonepage,t.urlpagename=n.isonepage_data.urlpagename;else{var a=o("isonepage")||"-1",r=a.split("|");t.isonepage=r[0],t.urlpagename=r[1]?r[1]:""}return t}var s,u,i=n(36);t.getMetaTags=a,t.getMetaCnt=o,t.getOnePageInfo=r},function(e,t){"use strict";t.tryToGetAttribute=function(e,t){return e&&e.getAttribute?e.getAttribute(t)||"":""};var n=function(e,t,n){if(e&&e.setAttribute)try{e.setAttribute(t,n)}catch(e){}};t.tryToSetAttribute=n,t.tryToRemoveAttribute=function(e,t){if(e&&e.removeAttribute)try{e.removeAttribute(t)}catch(a){n(e,t,"")}}},function(e,t){"use strict";var n="[aplus log]: ";t.logger=function(e){e||(e={});var t=e.level||"warn";console&&console[t]&&console[t](n+e.msg)}},function(e,t,n){"use strict";e.exports=function(){return{run:function(){var e=n(39),t=e.create();t.run(this.options)}}}},function(e,t,n){"use strict";var a=n(40),o=n(2),r=o.getGlobalValue("aplus"),s=n(41);e.exports=s.extend({failureBackLogs:[],sendLog:function(e,t,n){r.send(e,t,n,function(){},function(){})},handlerMiddleware:function(e){var t=a.changeToArray(this.format,e.what_to_send.logdata).join(this.getLogicSymbol());this.sendLog(e.where_to_send.url,encodeURIComponent(t),e.where_to_send.method)},run:function(){this.watchLOG()}})},function(e,t,n){"use strict";var a=n(2);t.getKeyIndex=function(e){var t={protocol:1,event_args:25};return t[e]};var o="-";t.changeToArray=function(e,t){var n=a.getGlobalValue("aplus"),r=t.event_timestamp.getTime().toString(),s=t.client||{},u=s.screenWidth||"",i=s.screenHeight||"",c=u+"*"+i,p=u&&i?c:o,l=s.language||o,f=t.gokey||{},g=JSON.stringify(f),h=JSON.stringify({customSdkId:t.sdk_info.customSdkId||"",platform_type:t.sdk_info.platformType||""}),d=t.appKey||t.appId||o,_=JSON.stringify({appId:s.appId||n.getMetaInfo("miniAppId")||""}),v=JSON.stringify(t.sessionArgs||{}),m=JSON.stringify(t.globalArgs||{}),y=t.arg1||t.logkey||o;0===y.indexOf("/$$_")&&(y=y.substring(1,y.length)),"2001"===t.event_code&&t.trackerEventCode&&(y=t.trackerEventCode);var b=[t.cache,t.method||"GET",o,p,d,_,t._dev_id||o,"{}",t._user_nick||o,t._user_id||o,t._anony_id||o,"{}",l,t.timeZone||o,s.os||o,s.os_version||o,h,t._session_id||o,t.cna||o,r,encodeURIComponent(t.url)||o,t.event_code||o,encodeURIComponent(t.pre)||o,m,v,g,y,t.sdk_info.jsver,t.sdk_info.lver,s.appVersion||"devtools"||o,s.brand||o,o,s.networkType||o];return b},t.changeToObj=function(e){var t=e.event_timestamp.getTime().toString(),n=e.client||{},a=n.language||o,r=e.gokey||{},s=JSON.stringify(r),u=JSON.stringify({customSdkId:e.sdk_info.customSdkId||"",platform_type:e.sdk_info.platformType||""}),i=e.appKey||e.appId||o,c=JSON.stringify({appId:n.appId||aplus.getMetaInfo("miniAppId")||""}),p=JSON.stringify(e.sessionArgs||{}),l=JSON.stringify(e.globalArgs||{}),f=e.arg1||e.logkey||o;0===f.indexOf("/$$_")&&(f=f.substring(1,f.length)),"2001"===e.event_code&&e.trackerEventCode&&(f=e.trackerEventCode);var g={};g.platform=e.sdk_info.platformType||"",g.sdk_type=g.platform?g.platform+"mp":"",g.appkey=i,g.sdk_version=e.sdk_info.lver,g.device_type=n.device_model||"",g.os=n.os||"",g.os_version=n.os_version||"",g.jsver=e.sdk_info.jsver,g.pixel_ratio=window.devicePixelRatio||"";var h=Math.round(n.screenWidth*(window.devicePixelRatio||1)),d=Math.round(n.screenHeight*(window.devicePixelRatio||1));g.resolution=h>d?h+"*"+d:d+"*"+h,g.language=a,g.app_version=aplus.getMetaInfo("appVersion")||"devtools",g.arg1=f,g.event_args=s,g.event_code=e.event_code||"",g.sessionArgs=p,g.global_args=l,g.app_ext_info=c,g.time=t,g.cna=e.cna||"",g.url=e.url||"",g.pre=e.pre||"",g.method=e.method||"GET",g.log_id=e.cache||"",g.sdk_info=u;var _=aplus.getMetaInfo("aplus-exdata");return _&&_.aplus_track_debug_id&&(g.track_debug_id=_.aplus_track_debug_id),g}},function(e,t,n){"use strict";var a=n(15),o=n(42),r=n(3);e.exports=a.extend({subscribeLogs:function(e,t){o.pushIntoGoldlogQueue(r.SUBSCRIBE,[e,function(e){e.status===r.COMPLETE&&t(e)}])},getLogicSymbol:function(){return"ALI"===this.format?"&":"||"},handlerMiddleware:function(){},watchLOG:function(){var e=this;e.subscribeLogs(r.MW_CHANGE_PV,function(t){e.handlerMiddleware(t,"pv")}),e.subscribeLogs(r.MW_CHANGE_HJLJ,function(t){e.handlerMiddleware(t,r.APLUS)})},run:function(){this.watchLOG()}})},function(e,t,n){"use strict";var a=n(2);t.pushIntoGoldlogQueue=function(e,t){var n=a.getGlobalValue("aplus_queue"),o=a.getGlobalValue("aplus"),r=e.split("."),s=o[r[1]],u=s?s[r[2]]:null;o&&2===r.length&&s?s.apply(o,t):3===r.length&&u?u.apply(s,t):n.push({action:e,arguments:t})}},function(e,t,n){"use strict";var a=n(11);e.exports=function(){return{getLogConfig:function(){var e={},t=this.options.config.plugins;for(var n in t)e[n]={plugins:t[n],context:{}},a(t[n],function(t){e[n].context[t.name]=t.config||{}});return e},run:function(){this.options.context.logConfig=this.getLogConfig(),this.options.context.logConfig.pageLoadTime=this.options.context.PAGE_LOAD_TIME}}}},function(e,t,n){"use strict";var a=n(2),o=n(7),r=n(3),s=n(45),u="EMPTY_CNA";e.exports=function(){return{_syncEtag:function(e){var t,n=a.getGlobalValue(r.APLUS),i=this,c=function(t){var o=t&&t.data?t.data.cna:"";o?(a.setGoldlogVal(f,o),e(o)):"Y"===n.fetchEtagStatus?n.aplus_pubsub.subscribe("etag",function(t){e(t)}):g()},p=n.getMetaInfo("aplus-rhost-v");p&&(t=s.getUrl({egUrl:(p.indexOf("//")===-1?"//"+p:p)+"/eg.js"}),i.options.context.etag&&(i.options.context.etag.egUrl=t));var l=o.getContext(),f=n.globalConfig.ETAG_STORAGE_KEY,g=function(){t&&(n.fetchEtagStatus="Y",o.request(t,{dataType:"text",requestMethodName:"request"},function(t){n.fetchEtagStatus="N";var o="";try{var r=t.data||"",s=r.split(";");if(s.length>1){var i=s[1],c=i.split("=");o=c[1]||"",o=o.replace(/\"/g,""),a.setGoldlogVal(f,o),l.setStorage({key:f,data:{cna:o}}),n.aplus_pubsub.publish("etag",o),n.aplus_pubsub.cachePubs("etag",o)}}catch(e){console.log(e)}o||(o=u),e(o)},function(e){console.log(e)}))},h=a.getGoldlogVal(f);h?e(h):l.getStorage({key:f,success:function(e){c(e)},fail:function(e){c(e)}})},run:function(e,t){var n=this;return this._syncEtag(function(e){n.options.context.etag&&(n.options.context.etag.cna=e),t(e)}),3e3}}}},function(e,t,n){"use strict";var a=n(46);t.getUrl=function(e){var t=a.getUrl(e&&e.egUrl);if(0!==t.indexOf("http")){var n="https:";/(\d+\.){3,}\d+/.test(t)&&(n="http:"),t=n+t}return t}},function(e,t,n){"use strict";var a=n(47),o=n(48);e.exports={tryToDecodeURIComponent:function(e,t){var n=t||"";if(e)try{n=decodeURIComponent(e)}catch(e){}return n},parseSemicolonContent:function(e,t,n){t=t||{};var o,r,s=e.split(";"),u=s.length;for(o=0;o<u;o++){r=s[o].split("=");var i=a.trim(r.slice(1).join("="));t[a.trim(r[0])||""]=n?i:this.tryToDecodeURIComponent(i)}return t},nodeListToArray:function(e){var t,n;try{return t=[].slice.call(e)}catch(o){t=[],n=e.length;for(var a=0;a<n;a++)t.push(e[a]);return t}},getLsCna:function(e,t){if(o.set&&o.test()){var n="",a=o.get(e);if(a){var r=a.split("_")||[];n=t?r.length>1&&t===r[0]?r[1]:"":r.length>1?r[1]:""}return decodeURIComponent(n)}return""},setLsCna:function(e,t,n){n&&o.set&&o.test()&&o.set(e,t+"_"+encodeURIComponent(n))},getUrl:function(e){var t=e||"//log.mmstat.com/eg.js";try{var n=aplus.getMetaInfo("aplus-rhost-v"),a=/[[a-z|\-|\_|0-9\.]+[a-z|\-|\_|0-9](:\d*)?/,o=n.match(a);o&&o[0]&&(t="//"+o[0]+"/eg.js")}catch(e){}return t}}},function(e,t){"use strict";function n(e){return"string"==typeof e?e.replace(/^\s+|\s+$/g,""):""}t.trim=n},function(e,t){"use strict";e.exports={set:function(e,t){try{return localStorage.setItem(e,t),!0}catch(e){return!1}},get:function(e){try{return localStorage.getItem(e)}catch(e){return""}},test:function(){var e="grey_test_key";try{return localStorage.setItem(e,1),localStorage.removeItem(e),!0}catch(e){return!1}},remove:function(e){localStorage.removeItem(e)}}},function(e,t,n){"use strict";var a=n(2),o=n(3);e.exports=function(){return{getMetaInfo:function(){var e=a.getGoldlogVal("_$")||{},t=e.meta_info;return t},getAplusWaiting:function(){var e=this.getMetaInfo()||{};return e["aplus-waiting"]},run:function(e,t){var n=this.options.config||{},a=this.getAplusWaiting();if(a&&n.is_auto)switch(a=this.getAplusWaiting()+"",this.options.context.when_to_sendpv={aplusWaiting:a},a){case o._USER_ID:case o._ANONY_ID:case"MAN":return"done";case"1":return this.options.context.when_to_sendpv.isWait=!0,setTimeout(function(){t()},6e3),6e3;default:var r=1*a;if(r+""!="NaN")return this.options.context.when_to_sendpv.isWait=!0,setTimeout(function(){t()},r),r}}}}},function(e,t,n){"use strict";var a=n(2),o=n(37);e.exports=function(){return{getMetaInfo:function(e){var t=a.getGoldlogVal("_$")||{};return(t.meta_info||{})[e]},getHostUrl:function(e){var t="COMMON_HJLJ",n=this.options.context.userdata||{},a=this.getMetaInfo(e===t?"aplus-rhost-g":"aplus-rhost-v");if(!a)return"";var o=e===t?["//",a,/^(\/)/.test(n.logkey)?"":"/",n.logkey]:["//",a,"/vx.gif"];return o.join("")},run:function(){var e=!!this.options.context.is_single;if(!e){var t=this.options.config||{};this.options.context.where_to_send.method=t.method||"POST";var n=this.getHostUrl(t.recordType);return n?void(this.options.context.where_to_send.url=n):(o.logger({msg:"please set "+t.recordType+" logdomain!"}),"done")}}}}},function(e,t,n){"use strict";var a=n(2),o=n(3),r=n(37),s=n(7),u=n(52),i=n(54),c=o.SPM_CNT,p=o.SPM_URL,l=o.SPM_PRE;e.exports=function(){return{getCommonParams:function(){var e=a.getGlobalValue(o.APLUS),t=this.options.context||{},n=t.etag||{},f=t.userdata||{},g=a.getGoldlogVal("_$")||{},h=g.spm||{},d=this.options.config||{},_=e.getMetaInfo("platformType")||s.getPlatformType(),v={_dev_id:e.getMetaInfo("_dev_id"),_anony_id:e.getMetaInfo(o._ANONY_ID),_user_id:e.getMetaInfo(o._USER_ID),_user_nick:e.getMetaInfo("_user_nick"),_session_id:e.getMetaInfo("_session_id"),uaid:e.getMetaInfo("uaid")+""=="1"?1:0},m=e._aplus_client||{},y=e.globalConfig||{},b="-";try{var S=getCurrentPages()[0];b=S.route||S.is}catch(e){}var A=(new Date).getTime()+b,x=m.model+m.networkType+d.title+n.cna,P=(y.isDecodeUrl?"DC_":"")+u.getLogId(A,x),I=e.getMetaInfo("appKey")||e.getMetaInfo("appId");I||r.logger({msg:"please set appId in aplus metaInfo before sendPV!"});var T=Object.assign({},{appKey:I,cache:P,cna:n.cna,etag:n,pre:g.page_referrer||"-",sdk_info:{jsver:y.script_name,lver:y.lver,customSdkId:e.getMetaInfo("customSdkId")||"",platformType:_.toLowerCase()},title:d.title||"",url:b||"-",client:m,timeZone:i.getTimeZone(),gmkey:f.gmkey||"",method:this.options.context.where_to_send.method},v),C=v;return h.spm_url&&(C[p]=h.spm_url||""),h.spm_pre&&(C[l]=h.spm_pre||""),h.spm_cnt&&(C[c]=h.spm_cnt||""),C[o.PVID]=e.pvid||"",T.sessionArgs=e.getMetaInfo("aplus-session-args"),T.globalArgs=e.getMetaInfo("aplus-global-args"),T.gokey=C,T},getPvParams:function(){var e=a.getGlobalValue(o.APLUS),t=this.getCommonParams();return this.options.config.is_auto||(t.sdk_info.mansndlog=1),Object.assign({},t,{event_code:o.PV_CODE,logtype:"1",logkey:"/vx.gif",event_timestamp:e._$.send_pv_count>0?new Date:e.logConfig.pageLoadTime})},getHjljParams:function(){var e=this.options.context||{},t=e.userdata||{},n={event_code:o.EVENT_ID_MAP[t.gmkey]||t.gmkey,logtype:"2",logkey:t.logkey,event_timestamp:new Date};return Object.assign({},this.getCommonParams(),n)},run:function(){var e={};e="PV"===this.options.config.recordType?this.getPvParams():this.getHjljParams(),this.options.context.what_to_send.logdata=e}}}},function(e,t,n){"use strict";function a(e,t,n){return e?o.hash(encodeURIComponent(e)).substr(0,t):n}var o=n(53),r=function(e){function t(e){var t="0123456789abcdefhijklmnopqrstuvwxyzABCDEFHIJKLMNOPQRSTUVWXYZ",n="0123456789abcdefghijkmnopqrstuvwxyzABCDEFGHIJKMNOPQRSTUVWXYZ";return 1==e?t.substr(Math.floor(60*Math.random()),1):2==e?n.substr(Math.floor(60*Math.random()),1):"0"}for(var n,a="",o="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=!1;a.length<e;)n=o.substr(Math.floor(62*Math.random()),1),!r&&a.length<=2&&("g"==n.toLowerCase()||"l"==n.toLowerCase())&&(0===a.length&&"g"==n.toLowerCase()?Math.random()<.5&&(n=t(1),r=!0):1==a.length&&"l"==n.toLowerCase()&&"g"==a.charAt(0).toLowerCase()&&(n=t(2),r=!0)),a+=n;return a};t.getLogId=function(e,t){var n=r(8),o=n.substr(0,4),s=n.substr(0,6);return[a(e,4,o),a(t,4,o),s].join("")}},function(e,t){"use strict";t.hash=function(e,t){var n,a,o=1315423911,r=t||o;for(n=e.length-1;n>=0;n--)a=e.charCodeAt(n),r^=(r<<5)+a+(r>>2);var s=(2147483647&r).toString(16);return s}},function(e,t){t.getTimeZone=function(){var e=-(new Date).getTimezoneOffset()/60,t="+";e<0&&(t="-");var n=Math.abs(parseInt(e)),a=Math.abs(parseInt(e)-e),o="00";return a>0&&(o=60*a),"GMT"+t+(n>9?n:"0"+n)+":"+o}},function(e,t,n){"use strict";var a=n(3),o=n(2),r=n(7);e.exports=function(){return{run:function(){var e=r.isTB(),t=o.getGlobalValue(a.APLUS),n=this.options.context.what_to_send.logdata||{},s=getCurrentPages(),u=s[s.length-1]||{};u&&!n.title&&(n.title=u.route||""),n.url=(!e&&t.globalConfig.isAli?"https://":"")+(u.route||u.is||"-");var i="-";if(s.length>1){var c=s[s.length-2]||{};i=(!e&&t.globalConfig.isAli?"https://":"")+(c.route||c.is||"-")}n.pre=i,n.sdk_info&&(n.sdk_info.windmill="1"),this.options.context.what_to_send.logdata=n}}}},function(e,t,n){"use strict";var a=n(20),o=n(27),r=n(2),s=n(3),u=n(7),i=r.getGlobalValue("aplus");e.exports=function(){return{getUserdata:function(){var e=this.options.config||{},t={};e&&!e.is_auto&&e.gokey&&("string"==typeof e.gokey?t=a.param2obj(e.gokey):"object"==typeof e.gokey&&(t=e.gokey));var n=function(e){o(e)?e.forEach(function(e){t=Object.assign({},t,e)}):t=Object.assign({},t,e)};n(i.getMetaInfo("aplus-cpvdata"));var r=u.getCurrentPage(),s=r.route||r.is||"page",c=i.getMetaInfo("aplus-page-properties")||{},p=c[s];"object"==typeof p&&n(p);var l=this.options.context||{},f=l.userdata||{};return n(f),t},updatePre:function(e){var t=this.options.config||{},n=r.getGoldlogVal("_$")||{};return t&&t.referrer&&(n.page_referrer=t.referrer,e.pre=t.referrer),r.setGoldlogVal("_$",n),e},updateUrl:function(e){var t=this.options.config||{};return t&&t.pageUrl&&(e.url=t.pageUrl),e},updateSpmUrl:function(e){var t=this.options.config||{},n=t[s.SPM_URL]||t.spmUrl;return n&&(e.gokey[s.SPM_URL]=n),e},run:function(){var e=this.options.context.what_to_send.logdata,t=Object.assign({},this.getUserdata(),e.userdata||{});e.gokey=Object.assign({},e.gokey,t),e=this.updatePre(e),e=this.updateUrl(e),e=this.updateSpmUrl(e),this.options.context.what_to_send.logdata=e,this.options.context.userdata=e.gokey}}}},function(e,t,n){"use strict";var a=n(2);e.exports=function(){return{run:function(){var e=a.getGoldlogVal("_$")||{},t=e.send_pv_count||0;e.send_pv_count=++t,a.setGoldlogVal("_$",e)}}}},function(e,t,n){"use strict";var a=n(20),o=n(27),r=n(2),s=r.getGlobalValue("aplus");e.exports=function(){return{getUserData:function(){var e=this.options.context||{},t=e.userdata||{},n=e.what_to_send.logdata.gokey;n=Object.assign({},n,a.param2obj(t.gokey)),n=Object.assign({},n,a.param2obj(s.getMetaInfo("aplus-exinfo")||{}));var r=s.getMetaInfo("aplus-exdata");return o(r)?r.forEach(function(e){n=Object.assign({},n,e)}):n=Object.assign({},n,r||{}),n},run:function(){var e=this.options.context.what_to_send.logdata,t=this.getUserData();"1010"===e.gmkey&&(e.arg1=t.duration||e.logkey),e.gokey=t,this.options.context.what_to_send.logdata=e}}}},function(e,t,n){"use strict";e.exports=function(){return{run:function(){n(60)(this.options.context.logConfig)}}}},function(e,t,n){"use strict";var a=n(19),o=n(3),r=n(2);e.exports=function(e){var t=r.getGlobalValue(o.APLUS);if(!t._aplus_api){t._aplus_api={status:o.COMPLETE};var s=n(61).run.create({logConfig:e});for(var u in s)t[u]=s[u];r.setGlobalValue(o.APLUS,t);var i=[o.APLUS+"Ready",o.COMPLETE];a.doPubMsg(i),a.doCachePubs(i)}}},function(e,t,n){"use strict";var a=n(15),o=n(8),r=n(7),s=n(27),u=n(3),i=n(19),c=n(24),p=n(2),l=n(62),f=n(18),g=n(65),h=function(e,t){my&&my.call&&"function"==typeof t&&my.call("handleLoggingAction",{type:"behavior",subType:e.subType},function(n){var a={};a[e.spmType]=n[e.spmType],t(a)})},d=a.extend({_send:function(e,t,n,a,o){if(0===e.indexOf("//")){var s=u.HTTPS;/(\d+\.){3,}\d+/.test(e)&&(s="http:"),e=s+e}return"object"==typeof t&&"POST"===n?r.request(e,{method:n,data:t,dataType:"base64"},a,o):r.request(e+"?"+t,{method:n,dataType:"base64"},a,o),e},_requestVTConfig:function(e,t,n){if(0===e.indexOf("//")){var a=u.HTTPS;/(\d+\.){3,}\d+/.test(e)&&(a="http:"),e=a+e}r.request(e,{method:"GET"},t,n)},_sendPV:function(e,t){var n=p.getGlobalValue(u.APLUS);e=e||{},e.pageName&&n._setMetaInfo(u.APLUS+"-pagename",e.pageName);var a=new l;e.recordType="PV",e.method||(e.method="GET");var o=n.logConfig.pv;return a.run({plugins:o.plugins,context:c(o.context)},{config:e,userdata:t||{},pubsubType:"pv",middlewareMessageKey:"mw_change_pv"}),!0},_combineRecord:function(e,t,n,a){var o=p.getGlobalValue(u.APLUS),r="EXP";if(!o.globalConfig.isAli||t!==r&&"CLK"!==t)console.warn("only support EXP or CLK log to combile record!");else if(s(n)){a||(a="POST");var i=[],c="true";n.forEach(function(e){i.push({exargs:"object"==typeof e.exargs?e.exargs:{},scm:e.scm,spm:e.spm,aplusContentId:e.aplusContentId}),"false"===e._aplus_sendtomy&&"true"===c&&(c="false")});var l=[];l.push((t===r?"expdata=":"clkdata=")+JSON.stringify(i)),l.push(t===r?"_is_auto_exp=1":"_is_auto_clk=1"),l.push("_eventType=custom"),l.push("_method="+a),l.push("_pkgSize="+n.length),"false"===c&&l.push("_aplus_sendtomy=false"),o.record(e,t,l.join("&"),a)}else console.warn("type of gokeys must be ArrayObject!")},_record:function(e,t,n,a,r){var s=p.getGlobalValue(u.APLUS);e+="",e&&0!==e.indexOf("/")&&s.globalConfig.isAli&&(e="/"+e);var i=new l,f=s.logConfig.hjlj;return i.run({plugins:f.plugins,context:c(f.context)},{config:{recordType:"COMMON_HJLJ",method:a||"GET"},userdata:{logkey:e,gmkey:t,gokey:n},pubsubType:"hjlj",middlewareMessageKey:"mw_change_hjlj"},function(){o(r)&&r()}),!0},getPageSPM:function(){var e=p.getGlobalValue(u.APLUS),t=e._$||{},n=t.spm||{},a=n.data||{};return[a.a,a.b]},_setPageSPM:function(){var e,t={},n=arguments;"object"==typeof n[0]?(t=n[0],e=n[1]):(t.spmCnt=[n[0],n[1],"0","0"].join("."),e=n[2]);var a;t.spmCnt||t.spmUrl||!f.getMetaInfo("pageConfig")?(a=["setPageSPM",t],i.doPubMsg(a),i.doCachePubs(a)):(a=["clearPageSPM"],i.doPubMsg(a),i.doCachePubs(a));var o="function"==typeof e?e:function(){};o(a)},_setMetaInfo:function(e,t){return f._setMetaInfo(e,t)},_updatePageProperties:function(e){if("object"==typeof e){g()?my.reportAnalytics("updatePageProperties",e):"my"===r.getPlatformType()&&my.call("reportData",{spmDetail:e,ignoreDefaultPageMonitor:!0});var t=r.getCurrentPage(),n=t.route||t.is||"page",a={};a[n]=e,f.appendMetaInfo("aplus-page-properties",a)}},_updateNextPageProperties:function(e){if(e||(e={}),my){var t={type:"updateNextProp",eventId:-1,eventid:-1,name:"",pageName:"",comName:"",arg1:"",arg2:"",arg3:"",param:e,params:e};my.callUserTrack?my.callUserTrack("commitut",t):my.reportAnalytics&&my.reportAnalytics("enter",t)}},_appendMetaInfo:f.appendMetaInfo,getMetaInfo:function(e){return f.getMetaInfo(e)},cloneDeep:c,_skipPage:function(){my&&my.callUserTrack&&my.callUserTrack("skipPage")},_pageAppear:function(){my&&my.callUserTrack&&this.isPageDisAppear&&(this.isPageDisAppear=!1,this.isPageAppear=!0,my.callUserTrack("pageAppear"))},_pageDisappear:function(){my&&my.callUserTrack&&this.isPageAppear&&(this.isPageDisAppear=!0,this.isPageAppear=!1,my.callUserTrack("pageDisappear"))},_updatePageUtparam:function(e){e||(e={}),my&&my.callUserTrack&&my.callUserTrack("updatePageUtparam",{utParamJson:JSON.stringify(e)})},_updateNextPageUtparam:function(e){e||(e={}),my&&my.callUserTrack&&my.callUserTrack("updateNextPageUtparam",{utParamJson:JSON.stringify(e)})},_updateSessionProperties:function(e){my&&my.call&&"object"==typeof e&&my.call("handleLoggingAction",{type:"behavior",subType:"updateSessionProperties",extData:e})},_getPageSpmUrl:function(e){h({subType:"getPageSpmUrl",spmType:"spmUrl"},e)},_getPageSpmPre:function(e){h({subType:"getPageSpmPre",spmType:"spmPre"},e)}});t.run=d},function(e,t,n){"use strict";var a=n(11),o=n(2),r=n(8),s=n(19),u=n(37),i=n(3),c=n(63),p=n(64),l=function(){};l.prototype.run=function(e,t,n){var l=new p;l.init({middleware:[],config:t.config,plugins:e.plugins});var f=l.run(),g=r(e.context)?new e.context:e.context;g.userdata=t.userdata,g.logger=u.logger;var h={context:g,pubsub:o.getGoldlogVal("aplus_pubsub"),pubsubType:t&&t.pubsubType},d=new c;d.create(h),d.wrap(f,function(){h.context.status=i.COMPLETE,t&&(t.middlewareMessageKey&&s.doPubMsg([t.middlewareMessageKey,h.context]),t.messageFnQueue&&a(t.messageFnQueue,function(t){t(o.getGlobalValue(i.APLUS),e)})),r(n)&&n(h.context)})()},e.exports=l},function(e,t,n){"use strict";function a(){}var o=n(8),r=n(34),s=n(37);a.prototype.create=function(e){for(var t in e)"undefined"==typeof this[t]&&(this[t]=e[t]);return this},a.prototype.calledList=[],a.prototype.setCalledList=function(e){r.indexof(this.calledList,e)===-1&&this.calledList.push(e)},a.prototype.resetCalledList=function(){this.calledList=[]},a.prototype.wrap=function(e,t){var n=this,a=this.context||{},u=a.compose||{},i=u.maxTimeout||1e4;return function(a){var u,c=e.length,p=0,l=0,f=function(g,h){if(p===c)return a="done",n.resetCalledList(),o(t)&&h!==a&&t.call(n,a),void clearTimeout(u);if(r.indexof(n.calledList,p)===-1){if(n.setCalledList(p),!e[p]||!o(e[p][0]))return;try{a=e[p][0].call(n,a,function(){p++,l=1,f(p)})}catch(e){s.logger({msg:e})}}var d="number"==typeof a;if("pause"===a||d){l=0;var _=d?a:i,v=e[p]?e[p][1]:"";u=setTimeout(function(){0===l&&(s.logger({msg:"jump the middleware about "+v+", because waiting timeout maxTimeout = "+_}),a=null,p++,f(p))},_)}else"done"===a?(p=c,f(p,a)):(p++,f(p))};return n.calledList&&n.calledList.length>0&&n.resetCalledList(),f(p)}},e.exports=a},function(e,t,n){"use strict";var a=n(29),o=n(37);e.exports=function(){return{init:function(e){this.opts=e,e&&"object"==typeof e.middleware&&e.middleware.length>0?this.middleware=e.middleware:this.middleware=[],this.plugins_name=[]},pubsubInfo:function(e,t){try{var n=e.pubsub;n&&n.publish("plugins_change_"+e.pubsubType,t)}catch(e){o.logger({msg:e})}},run:function(e){e||(e=0);var t=this,n=this.middleware,o=this.opts||{},r=o.plugins;if(r&&"object"==typeof r&&r.length>0){var s=r[e];if(this.plugins_name.push(s.name),n.push([function(e,n){t.pubsubInfo(this,s);var r=new s.path;return r.init||(r.init=function(e){this.options=e}),r.init({context:this.context,config:a(s.config||{},o.config)}),r.run(e,function(e){setTimeout(function(){n(s,e)},1)})},s.name]),e++,r[e])return this.run(e)}return n}}}},function(e,t){function n(){try{var e=navigator?navigator.userAgent||navigator.swuserAgent:"";return/Triver/g.test(e)}catch(e){return!1}}e.exports=n},function(e,t,n){"use strict";var a=n(67),o=n(2);e.exports=function(){return{run:function(){var e=this.options.context.aplus_config,t=e.globalConfig.APLUS_QUEUE,n=o.getContext(),r=n[t]||[],s=a.getFormatQueue(r,"metaQueue");n[t]=s.queue,a.processGoldlogQueue(s.formatQueue,this.options.config)}}}},function(e,t,n){function a(){var e=i.getGoldlogVal("_$")||{},t=e.meta_info;return t}function o(){var e=a()||{},t=e.uaid+"";return"1"!==t||e._anony_id?e._hold||e["aplus-waiting"]:"BLOCK"}function r(e){var t=o(),n=a()||{},r=!0,s=e.arguments||[],u=s[0],i=s[1],c="START";if("_hold"===u&&i===c)return c;if("_anony_id"===u&&i)return c;if(e&&/sendPV|record|setPageSPM|setMetaInfo|appendMetaInfo$/.test(e.action))switch(t){case"BLOCK":n[t]||(_.push(e),r=!1)}return r}function s(e){g(h,e),g(d,e),g(_,e)}function u(e,t){return t&&f.openAPIs.indexOf(e)>-1&&(e="_"+e),e}var i=n(2),c=n(34),p=n(8),l=n(37),f=n(3),g=function(e,t){function n(){if(e&&c.isArray(e)&&e.length){for(var n=m(e).queue,a={},o=[];a=n.shift();)v(a,t,function(e){o.push(e)});o.length>0&&setTimeout(function(){for(;a=o.shift();)v(a,t)},100)}}try{n()}catch(e){l.logger({msg:e})}};t.processGoldlogQueue=g;var h=[],d=[],_=[];t.subscribeAndProcessQueue=function(e,t){var n=i.getGlobalValue(e);n.push({action:f.SUBSCRIBE,arguments:[f.SET_META_INFO,function(e,n){e===f._USER_ID&&n?g(h,t):e===f._ANONY_ID&&n?g(d,t):"_hold"===e&&"START"===n&&s(t)}]})};var v=function(e,t,n){var a=!!t.isOpenApi,o=e?e.action:"",f=e?e.arguments:"",g=r(e);if(g){var h=i.getContext();try{if(o&&f&&c.isArray(f)){var d,_=o.split("."),v=h,m=h;if(3===_.length)v=h[_[0]][_[1]]||{},d=u(_[2],a),m=v[d]?v[d]:"";else for(;_.length;)if(d=u(_.shift(),a),m=v=v[d],!v)return void(p(n)&&n(e));p(m)&&m.apply(v,f),"START"===g&&s(t)}}catch(e){l.logger({msg:e})}}};t.processTask=v;var m=function(e,t){for(var n={subscribeMwChangeQueue:[],subscribeMetaQueue:[],subscribeQueue:[],metaQueue:[],othersQueue:[]},a=[],o={};o=e.shift();)try{var r=o.action,s=o.arguments[0];/subscribe/.test(r)?"setMetaInfo"===s?n.subscribeMetaQueue.push(o):s===f.MW_CHANGE_PV||s===f.MW_CHANGE_HJLJ?n.subscribeMwChangeQueue.push(o):n.subscribeQueue.push(o):/MetaInfo/.test(r)?n.metaQueue.push(o):n.othersQueue.push(o)}catch(e){l.logger({msg:e}),n.othersQueue.push(o)}var u;return t&&n[t]&&(u=n[t],n[t]=[]),a=n.subscribeMwChangeQueue.concat(n.metaQueue),a=a.concat(n.subscribeQueue),a=a.concat(n.subscribeMetaQueue,n.othersQueue),{queue:a,formatQueue:u}};t.getFormatQueue=m},function(e,t,n){"use strict";var a=n(15),o=n(2),r=n(67),s=a.extend({push:function(e){this.length++,r.processTask(e,this.opts)}});e.exports=function(){return{processAplusQueue:function(e){var t=this.options.config||{},n=o.getGlobalValue(e);r.processGoldlogQueue(n,t),o.setGlobalValue(e,s.create({opts:t,startLength:n.length,length:0}))},run:function(){var e=this.options.context.aplus_config,t=e.globalConfig.APLUS_QUEUE;this.processAplusQueue(t),"aplus_queue"===t&&this.processAplusQueue("goldlog_queue"),r.subscribeAndProcessQueue(t,this.options.config)}}}},function(e,t,n){"use strict";function a(){function e(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=s.getCurrentPage(),r=o.route||o.is;switch(t){case"onPullDownRefresh":d.onPullDownRefresh+=1,e="event="+t+"&pagename="+r+"&count="+d.onPullDownRefresh,f.push({action:"aplus.record",arguments:[a.logkey||"$$_pull_down_refresh","CLK",e]});break;case"onReachBottom":d.onReachBottom+=1,e="event="+t+"&pagename="+r+"&count="+d.onReachBottom,f.push({action:"aplus.record",arguments:[n.logkey||"$$_reach_bottom","CLK",e]});break;case"onShareAppMessage":d.onShareAppMessage+=1,e="event="+t+"&pagename="+r+"&count="+d.onShareAppMessage,f.push({action:"aplus.record",arguments:[c.logkey||"$$_share","CLK",e]});break;case"onPageShow":if(l.globalConfig.isAli){var p=l.getMetaInfo("pageConfig"),_=o.route||o.is;p&&(p[_]?i(p[_].spm)?f.push({action:"aplus.setPageSPM",arguments:p[_].spm}):u.logger({level:"error",msg:"Spm is incorrect in the page of ("+_+"), please check metaInfo.pageConfig"}):u.logger({level:"error",msg:"Spm that does not match the page ("+_+"), please check metaInfo.pageConfig"}))}o.route&&!g&&(h={ts:Date.now(),path:o.route,page_name:o.route},g=!0),l.sendPV({is_auto:!0},{isMini:!0});break;case"onPageHide":if(g&&o&&o.route&&r&&h.page_name===o.route){var v=Date.now()-h.ts;l.sendPV({is_auto:!0},{duration:v,ts:h.ts,path:h.path,page_name:h.page_name,isMini:!0}),h=null,g=!1}}}function t(){n=l.getMetaInfo("rb_config"),a=l.getMetaInfo("pdr_config"),c=l.getMetaInfo("share_config")}var n,a,c,p=o.getContext(),l=o.getGlobalValue(r.APLUS),f=o.getGlobalValue(r.APLUS_QUEUE),g=!1,h=null,d={onPullDownRefresh:0,onReachBottom:0,onShareAppMessage:0,onClick:0};f.push({action:r.SUBSCRIBE,arguments:["aplusReady",function(e){"complete"===e&&t()}]}),l.aplus_pubsub.subscribe("onShow",function(t){if("ready"===t.status){var n="MAN"!==p.aplus.getMetaInfo("aplus-waiting");n&&e("onPageShow")}}),l.aplus_pubsub.subscribe("onHide",function(t){if("ready"===t.status){var n="MAN"!==p.aplus.getMetaInfo("aplus-waiting");n&&e("onPageHide")}}),l.aplus_pubsub.subscribe("onPullDownRefresh",function(t){"ready"===t.status&&e("onPullDownRefresh")}),l.aplus_pubsub.subscribe("onReachBottom",function(t){"ready"===t.status&&e("onReachBottom")}),f.push({action:r.SUBSCRIBE,arguments:["onShareAppMessage",function(){e("onShareAppMessage")}]})}var o=n(2),r=n(3),s=n(7),u=n(37),i=n(27);e.exports=function(){return{run:function(){a()}}}},function(e,t,n){"use strict";e.exports=function(e,t){var a=n(2),o=n(19),r=n(37),s=n(11),u=n(7),i=n(71);u.initIsTB(),"object"==typeof e&&(e.siteId&&(t.globalConfig.siteId=e.siteId),t.metaInfo=Object.assign({},t.metaInfo,e.metaInfo));var c="running",p="complete",l=["aplusReady",c];return o.doPubMsg(l),i.run({plugins:t.plugins,context:function(){var e={PAGE_LOAD_TIME:new Date},n=[];return s(t.plugins,function(t){e[t.name]=t.config,"aplus_log_inject"===t.name&&t.config&&t.config.plugins&&(n=t.config.plugins.pv,s(n,function(t){e[t.name]=t.config}))}),Object.assign({},e,{aplus_config:t})}},function(){r.logger({msg:"APLUS INIT SUCCESS"}),l[1]=p,o.doPubMsg(l)}),a.getContext()}},function(e,t,n){"use strict";var a=n(62),o=n(8),r=n(19);t.run=function(e,t){var n=new a;n.run({plugins:e.plugins,context:e.context},{config:{},userdata:{},pubsubType:"aplusinit",messageFnQueue:[],middlewareMessageKey:"mw_change_aplusinit"},function(e){var n=["aplusInitContext",e];r.doPubMsg(n),r.doCachePubs(n),o(t)&&t(e)})}}]);