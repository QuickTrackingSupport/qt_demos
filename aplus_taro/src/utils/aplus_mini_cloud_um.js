/*! 2021-12-21 17:14:15 */
module.exports = function(e) {
    function t(a) {
        if (n[a]) return n[a].exports;
        var r = n[a] = {
            exports: {},
            id: a,
            loaded: !1
        };
        return e[a].call(r.exports, r, r.exports, t), r.loaded = !0, r.exports;
    }
    var n = {};
    return t.m = e, t.c = n, t.p = "", t(0);
}([ function(e, t, n) {
    e.exports = n(1);
}, function(e, t, n) {
    "use strict";
    n(2).initGlobal(), e.exports = function(e) {
        var t = n(4);
        return n(92)(e, t);
    };
}, function(e, t, n) {
    "use strict";
    var a, r = n(3), o = r.APLUS, s = r.APLUS_QUEUE, i = r.GOLDLOG, u = r.GOLDLOG_QUEUE, c = !1;
    try {
        a = window, c = !0;
    } catch (e) {
        a = {};
    }
    t.getContext = function() {
        return a;
    }, t.initGlobal = function(e) {
        a = e ? e : {
            v: 1,
            aplus: {},
            aplus_queue: []
        };
        var t, n;
        if (c) try {
            t = a.aplus || (a.aplus = {});
            var r = a.goldlog_queue || (a.goldlog_queue = []);
            n = a.aplus_queue || (a.aplus_queue = []), n = r.concat(n);
        } catch (e) {} else t = a.aplus, n = a.aplus_queue;
        return a.aplus = a.goldlog = t, a.aplus_queue = a.goldlog_queue = n, a;
    };
    var p = function(e) {
        if (e === o || e === i) {
            var t = a[o] || a[i];
            return t || (t = a[o] = a[i] = {}), t;
        }
        var n = u, r = s;
        if (e === r || e === n) {
            var c = a[r] || a[n];
            return c || (c = a[r] = a[n] = []), c;
        }
    };
    t.getGlobalValue = p, t.setGlobalValue = function(e, t) {
        a[e] = t;
    };
    var l = function(e) {
        var t;
        try {
            var n = p(o);
            t = n[e];
        } catch (e) {
            t = "";
        } finally {
            return t;
        }
    };
    t.getGoldlogVal = l;
    var f = function(e, t) {
        var n = !1;
        try {
            var a = p(o);
            e && (a[e] = t, n = !0);
        } catch (e) {
            n = !1;
        } finally {
            return n;
        }
    };
    t.setGoldlogVal = f, t.getClientInfo = function() {
        return l("_aplus_client") || {};
    };
}, function(e, t) {
    var n = "aplus", a = "goldlog", r = n + "_queue", o = a + "_queue", s = "mw_change", i = "MetaInfo", u = "append" + i, c = "set" + i, p = "http", l = "_pubsub", f = "other", g = "2101", d = "2201", h = "2202", _ = "19999", v = "1023", m = "1010", y = 3e4, b = 18e5, S = "ekvs", P = 1e4, A = 1, I = 3e3, C = "$$_page_start", T = "$$_page_end", E = "$$_app_start", x = "$$_app_end", M = "aplus_user_profile", w = "imprint", O = "aplus-idtype", U = "aplus-jsbridge-only", k = "aplus-page-config", N = "aplus-skip-apv-rules", L = "aplus-rhost-v", R = "aplus-rhost-g";
    e.exports = {
        PAGE_ENTER: "PAGE_ENTER",
        CURRENT_PAGE_CONFIG: "CURRENT_PAGE_CONFIG",
        _ANONY_ID: "_anony_id",
        _USER_ID: "_user_id",
        DEFAULT_CODE: f,
        OTHER: _,
        EVENT_MAP: {
            "2101": "click",
            "2201": "exposure",
            "2202": "exposure",
            "19999": f,
            "1023": "app_show",
            "1010": "app_hide_or_unload"
        },
        EVENT_ID_MAP: {
            EXP: d,
            IMPEXP: h,
            CLK: g,
            OTHER: _,
            SHOW: v,
            H_OR_U: m
        },
        APLUS: n,
        GOLDLOG: a,
        UNSUBSCRIBE: n + "." + n + l + ".unsubscribe",
        SUBSCRIBE: n + "." + n + l + ".subscribe",
        PUBLISH: n + "." + n + l + ".publish",
        CACHE_PUBS: n + "." + n + l + ".cachePubs",
        APLUS_UNIVERSAL: n + "_universal",
        APLUS_QUEUE: r,
        GOLDLOG_QUEUE: o,
        COMPLETE: "complete",
        PV_CODE: "2001",
        EXP_CODE: d,
        CLK_CODE: g,
        OTHER_CODE: _,
        CLK: "CLK",
        EXP: "EXP",
        SPM_CNT: "spm-cnt",
        SPM_URL: "spm-url",
        SPM_PRE: "spm-pre",
        MW_CHANGE_PV: s + "_pv",
        MW_CHANGE_HJLJ: s + "_hjlj",
        HTTP: p + ":",
        HTTPS: "https:",
        APPEND_META_INFO: u,
        SET_META_INFO: c,
        APLUS_APPEND_META_INFO: n + "." + u,
        APLUS_SET_META_INFO: n + "." + c,
        PVID: "pvid",
        APLUS_LOG_PIPE: "aplus-log-pipe",
        openAPIs: [ "send", "enter", "sendPV", "record", "combineRecord", "recordUdata", "requestVTConfig", "setPageSPM", "setMetaInfo", "appendMetaInfo", "updatePageProperties", "updateNextPageProperties", "updatePageUtparam", "updateNextPageUtparam", "pageAppear", "pageDisappear", "skipPage", "updateSessionProperties", "getPageSpmUrl", "getPageSpmPre", "setPageName", "getElementSPM", "recordAppLink" ],
        SESSION_INTERVAL: y,
        SESSION_PAUSE_TIME: "session_pause_time",
        IMPRINT: "imprint",
        CURRENT_SESSION: "current_session",
        MAX_EVENTID_LENGTH: 128,
        MAX_PROPERTY_KEY_LENGTH: 256,
        MAX_PROPERTY_KEYS_COUNT: 100,
        REQUESTS: "requests",
        SHARES: "shares",
        APLUS_SSRC: "_aplus_ssrc",
        EKVS: S,
        EVENT_MAX_COUNT: P,
        MEMORY_MAX_COUNT: A,
        EVENT_SEND_DEFAULT_INTERVAL: I,
        PAGE_START: C,
        PAGE_END: T,
        APP_START: E,
        APP_END: x,
        USER_PROFILE_KEY: M,
        SHARE_CACHE_INTERVAL: b,
        IMPRINT: w,
        ID_TYPE: O,
        GLOBAL_PROPERTY: "globalproperty",
        JSBRIDGE_ONLY: U,
        PAGE_CONFIG: k,
        APLUS_SKIP_APV_RULES: N,
        APLUS_PV_DOMAIN: L,
        APLUS_EKV_DOMAIN: R
    };
}, function(e, t, n) {
    e.exports = {
        metaInfo: {
            "aplus-rhost-v": "",
            "aplus-rhost-g": "",
            "aplus-mmstat-timeout": "10000",
            sdkId: "aplus_mini_cloud_um"
        },
        globalConfig: {
            isAli: !1,
            isDecodeUrl: !0,
            APLUS_QUEUE: "aplus_queue",
            ETAG_STORAGE_KEY: "__ETAG__CNA__ID__",
            script_name: "aplus_mini.js",
            "aplus-globaldata": {},
            lver: "1.7.12"
        },
        plugins: [ {
            name: "inject_app_um",
            path: n(5)
        }, {
            name: "inject_page_um",
            path: n(30)
        }, {
            name: "open_api",
            path: n(33)
        }, {
            name: "aplus_client",
            path: n(34)
        }, {
            name: "pubsub",
            path: n(35)
        }, {
            name: "aplus_meta_inject",
            path: n(38)
        }, {
            name: "aplus_ac",
            path: n(42),
            deps: [ "inject_page_um" ]
        }, {
            name: "aplus_ae",
            path: n(47),
            deps: [ "inject_page_um" ]
        }, {
            name: "aplus_mini_spm",
            path: n(54)
        }, {
            name: "aplus_mini_report_um",
            path: n(55)
        }, {
            name: "aplus_log_inject",
            path: n(60),
            deps: [ "aplus_meta_inject" ],
            config: {
                plugins: {
                    pv: [ {
                        name: "etag",
                        path: n(61)
                    }, {
                        name: "when_to_sendpv",
                        path: n(66),
                        config: {
                            aplusWaiting: ""
                        }
                    }, {
                        name: "where_to_send",
                        path: n(67)
                    }, {
                        name: "what_to_send",
                        path: n(68),
                        config: {
                            logdataToUt: {}
                        }
                    }, {
                        name: "miniapp_data",
                        path: n(72)
                    }, {
                        name: "what_to_sendpv_userdata",
                        path: n(73),
                        deps: [ "what_to_send" ]
                    }, {
                        name: "can_to_sendpv",
                        path: n(74)
                    } ],
                    hjlj: [ {
                        name: "etag",
                        path: n(61)
                    }, {
                        name: "where_to_send",
                        path: n(67)
                    }, {
                        name: "what_to_send",
                        path: n(68),
                        deps: []
                    }, {
                        name: "miniapp_data",
                        path: n(72)
                    }, {
                        name: "what_to_hjlj_userdata",
                        path: n(75)
                    } ]
                }
            }
        }, {
            name: "aplus_api",
            path: n(76),
            deps: [ "aplus_log_inject", "aplus_meta_inject" ]
        }, {
            name: "meta_queue",
            path: n(84),
            config: {
                isOpenApi: !0
            }
        }, {
            name: "etag",
            path: n(61)
        }, {
            name: "aplus_queue",
            path: n(86),
            config: {
                isOpenApi: !0
            }
        }, {
            name: "auto_tracker_um",
            path: n(87),
            deps: [ "inject_page_um" ]
        } ]
    };
}, function(e, t, n) {
    "use strict";
    function a(e, t) {
        var n = {};
        t && (n.scene = t), e && e.miniappDebugId && (n.debugId = e.miniappDebugId);
        for (var a in e) "$$_share_uid" !== a && 0 !== a.indexOf("$$_utm_") || (n[a] = e[a]);
        return n;
    }
    function r(e) {
        h().load(function() {
            v().w("cache init success");
        });
        var t = {}, n = p(e);
        for (var a in n) "object" == typeof n[a] ? t = y.assign(n[a], t) : n[a] && (t[a] = n[a]);
        d().load();
        var r = f().resume(t), o = f().getCurrentSessionId();
        g().setSessionId(o), r && d().add(_.DataType.HALF_SESSION, {}, function() {
            v().w("before send session"), d().send();
        });
    }
    function o() {
        f().pause(), d().send(_.DataType.CLOSE_SESSION, {}, function() {
            d().save(), h().save(), v().w("after send session");
        });
    }
    function s() {
        var e = App, t = !1, n = !1, s = i.getContext(), p = l.getContext(), f = {
            onLaunch: function(e) {
                l.initIsTB();
                var t = e ? e.query : {}, n = e ? e.referrerInfo : {};
                if (S += 1, s.aplus_queue.push({
                    action: "aplus.appendMetaInfo",
                    arguments: [ "aplus-session-args", y.assign(n, {
                        scene: e.scene || ""
                    }) ]
                }), t) {
                    var r = {};
                    if (t.spm && (s.aplus.spm_orign = t.spm), e.scene && (r.scene = e.scene), t.miniappDebugId) {
                        var o = t.miniappDebugId.trim(), i = o.split("_");
                        r = y.assign(r, {
                            aplus_work_no: i.length > 2 ? i[1] : o,
                            aplus_track_debug_id: o,
                            aplus_flag: "aplus_test"
                        });
                    }
                    s.aplus_queue.push({
                        action: "aplus.appendMetaInfo",
                        arguments: [ "aplus-exdata", r ]
                    }), s.aplus_queue.push({
                        action: "aplus.appendMetaInfo",
                        arguments: [ "aplus-cpvdata", r ]
                    }), s.aplus_queue.push({
                        action: "aplus.appendMetaInfo",
                        arguments: [ "aplus-global-args", a(t, e.scene) ]
                    });
                }
            },
            onShow: function(e) {
                S += 1;
                var n, o = e ? e.query : {}, i = e ? e.scene : "";
                s.aplus_queue.push({
                    action: "aplus.setMetaInfo",
                    arguments: [ "aplus-global-args", a(o, i) ]
                }), i && (s.aplus_queue.push({
                    action: "aplus.appendMetaInfo",
                    arguments: [ "aplus-exdata", {
                        scene: i
                    } ]
                }), s.aplus_queue.push({
                    action: "aplus.appendMetaInfo",
                    arguments: [ "aplus-cpvdata", {
                        scene: i
                    } ]
                }), s.aplus_queue.push({
                    action: "aplus.appendMetaInfo",
                    arguments: [ "aplus-session-args", {
                        scene: i
                    } ]
                })), 2 === S ? n = 1 : 1 === S ? n = 0 : v().w("APP_LAUNCH_TYPE should not reach this, value = " + S), 
                u.onAplusReady(s.aplus_queue, c.SUBSCRIBE, function() {
                    t || (t = !0, r(e));
                    var a = s.aplus.globalConfig || {};
                    if (!a.isAli) {
                        var o = m.getPageCode();
                        s.onAppShowTime = new Date().getTime(), s.aplus_queue.push({
                            action: "aplus.record",
                            arguments: [ c.APP_START, "SHOW", {
                                start_type: n,
                                page_name: o || e.path || "-",
                                url: e.path || "-"
                            } ]
                        });
                    }
                });
            },
            onHide: function() {
                u.onAplusReady(s.aplus_queue, c.SUBSCRIBE, function() {
                    var e = s.aplus.globalConfig || {}, n = m.getPageCode();
                    if (!e.isAli) {
                        var a = m.getCurrentPagePath(), r = new Date().getTime() - s.onAppShowTime;
                        s.aplus_queue.push({
                            action: "aplus.record",
                            arguments: [ c.APP_END, "H_OR_U", {
                                duration: r,
                                end_type: 0,
                                page_name: n || a || "-",
                                url: a || "-",
                                start_time: s.onAppShowTime
                            } ]
                        });
                    }
                    t = !1, o();
                }), S = 0;
            }
        };
        App = function(t) {
            var n = i.getContext();
            t.aplus = n, e(t);
        }, p.onAppShow(function(e) {
            if (!n) {
                var t = {};
                t = b(p.getLaunchOptionsSync) ? p.getLaunchOptionsSync() || {} : e, f.onLaunch(t), 
                n = !0;
            }
            f.onShow(e);
        }), p.onAppHide(function() {
            f.onHide();
        });
    }
    var i = n(2), u = n(6), c = n(3), p = n(7), l = n(8), f = n(12), g = n(17), d = n(19), h = n(13), _ = n(15), v = n(11), m = n(29), y = n(27), b = n(9), S = 0;
    e.exports = function() {
        return {
            run: function() {
                [ "object", "function" ].indexOf(typeof App) > -1 && s();
            }
        };
    };
}, function(e, t) {
    e.exports = {
        resetFn: function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "", n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : function() {}, a = e[t];
            e[t] = function() {
                var e = a && a.apply(this, arguments);
                return e ? n.call(this, e) : n.apply(this, arguments);
            };
        },
        rewriteFn: function(e, t, n) {
            var a = e[t];
            e[t] = function(e) {
                n.call(this, e), a && a.call(this, e);
            };
        },
        onAplusReady: function(e, t, n) {
            e.push({
                action: t,
                arguments: [ "aplusReady", function(e) {
                    "complete" === e && "function" == typeof n && n();
                } ]
            });
        }
    };
}, function(e, t) {
    function n(e) {
        var t, a = Array.isArray(e) ? [] : {};
        if ("object" == typeof e) {
            if (JSON && JSON.parse) t = JSON.stringify(e), a = JSON.parse(t); else for (var r in e) a[r] = "object" == typeof e[r] ? n(e[r]) : e[r];
            return a;
        }
    }
    e.exports = n;
}, function(e, t, n) {
    "use strict";
    function a() {
        if ("boolean" == typeof c) return c;
        var e = !1;
        try {
            var t = navigator ? navigator.userAgent || navigator.swuserAgent : "";
            e = !!/AliApp/i.test(t), (/AliApp\(AP/i.test(t) || /AliApp\(DingTalk/i.test(t) || /AliApp\(AMAP/i.test(t)) && (e = !1), 
            /AliApp\(KB/i.test(t) && (e = !!/Mist/.test(t)), /AlipayIDE Taobao/.test(t) && (e = !0);
            var n = p().ctx;
            "function" == typeof n.canIUse && (e = !!n.canIUse("callUserTrack"));
        } catch (e) {}
        return c = e, e;
    }
    function r() {
        return "boolean" == typeof c ? !!c : a();
    }
    var o = n(9), s = n(2), i = n(10), u = n(11);
    t.getCurrentPage = function() {
        var e = getCurrentPages();
        return e[e.length - 1] || {};
    }, t.getReferrerPage = function() {
        var e = getCurrentPages();
        return e[e.length - 2] || {};
    };
    var c;
    t.resetIsTB = function(e) {
        c = e;
    }, t.initIsTB = a;
    var p = function() {
        try {
            return {
                ctx: dd,
                platType: "dd",
                sdkType: "ddmp",
                logDomain: "/ddm_logs"
            };
        } catch (e) {
            try {
                return {
                    ctx: my,
                    platType: my && my.tb ? "taobao" : "my",
                    sdkType: my && my.tb ? "taobaomp" : "mymp",
                    logDomain: "/alipaym_logs"
                };
            } catch (e) {
                try {
                    return {
                        ctx: tt,
                        platType: "tt",
                        sdkType: "ttmp",
                        logDomain: "/bytedancem_logs"
                    };
                } catch (e) {
                    try {
                        return {
                            ctx: swan,
                            platType: "bd",
                            sdkType: "bdmp",
                            logDomain: "/baidum_logs"
                        };
                    } catch (e) {
                        try {
                            return {
                                ctx: wx,
                                platType: "wx",
                                sdkType: "wxmp",
                                logDomain: "/wxm_logs"
                            };
                        } catch (e) {
                            return {
                                ctx: {},
                                platType: "UNKNOW",
                                sdkType: "UNKNOW"
                            };
                        }
                    }
                }
            }
        }
    };
    t.isTB = r, t.getPlatformType = function() {
        return p().platType;
    }, t.getSdkType = function() {
        return p().sdkType;
    }, t.getContext = function() {
        return p().ctx;
    }, t.getLogDomain = function() {
        return p().logDomain;
    };
    var l = "httpRequest", f = "request", g = function() {};
    t.request = function(e, t, n, a) {
        var r = p().ctx;
        t || (t = {}), o(a) || (a = g), o(n) || (n = g);
        var c = t.requestMethodName || f, d = r[c];
        o(d) || (c !== f ? c = f : c !== l && (c = l), d = r[c]);
        var h = t.dataType || "json", _ = t.timeout || 5e3, v = t.method || "GET";
        e = i.can2https(e);
        var m;
        if (o(d)) {
            var y = {
                url: e,
                method: v,
                dataType: h,
                timeout: _,
                success: function(e) {
                    n(e);
                },
                fail: function(t) {
                    u().w("request " + e + " failure, the msg is ", t), a(t);
                }
            };
            "object" == typeof t.data && "POST" === v && (y.data = t.data, y.url = y.url.split("?")[0]);
            var b = s.getGlobalValue("aplus"), S = b.getMetaInfo("aplus-request-extinfo");
            "object" == typeof S && (y._extInfo = S), d(y);
        } else u().w('can not find "' + c + '"!'), a(m);
    };
}, function(e, t) {
    "use strict";
    e.exports = function(e) {
        return "function" == typeof e;
    };
}, function(e, t, n) {
    "use strict";
    function a(e) {
        var t, n, a, o = [], s = e.length;
        for (a = 0; a < s; a++) t = e[a][0], n = e[a][1], o.push(0 === t.indexOf(r) ? n : t + "=" + encodeURIComponent(n));
        return o.join("&");
    }
    var r = "::-plain-::";
    t.mkPlainKey = function() {
        return r + Math.random();
    }, t.s_plain_obj = r, t.mkPlainKeyForExparams = function(e) {
        var t = e || r;
        return t + "exparams";
    }, t.arr2param = a, t.param2arr = function(e) {
        for (var t, n = e.split("&"), a = 0, r = n.length, o = []; a < r; a++) t = n[a].split("="), 
        o.push([ t.shift(), t.join("=") ]);
        return o;
    }, t.arr2obj = function(e) {
        var t, n, a, r = {}, o = e.length;
        for (a = 0; a < o; a++) t = e[a][0], n = e[a][1], r[t] = n;
        return r;
    }, t.jsonLikeStr2JSON = function(e) {
        if (!e || "string" != typeof e) return {};
        for (var t = e.replace(/['"{}]+/g, ""), n = t.split(","), a = [], r = 0; r < n.length; r++) a.push(n[r].split(":"));
        var o = this.arr2obj(a);
        return o;
    }, t.can2https = function(e) {
        if (0 === e.indexOf("//")) {
            var t = "https:";
            /(\d+\.){3,}\d+/.test(e) && (t = "http:"), e = t + e;
        }
        return e;
    }, t.getAppKey = function() {
        var e = n(2).getGlobalValue("aplus");
        return e.getMetaInfo("appkey") || e.getMetaInfo("appId") || e.getMetaInfo("appKey");
    }, t.checkEmptyObj = function(e) {
        return "object" != typeof e || 0 === Object.keys(e).length;
    }, t.checkDomain = function(e) {
        const t = new RegExp(/^[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+(:[0-9]{1,5})*$/);
        if (!e || !e.match(t)) {
            var a = n(11);
            return a().tip_w(a().repeat("!")), a().tip_w("收数域名配置错误,请检查aplus-rhost-v取值的内容, 正确格式 eg. test-qtracking-xxx.com:端口号可选 "), 
            a().tip_w(a().repeat("!")), !1;
        }
        return !0;
    }, t.checkOpenid = function(e) {
        if (!e) {
            var t = n(11);
            return t().tip_w(t().repeat("!")), t().tip_w("QT的UV计算依赖小程序的用户唯一标识, 请确保针对用户唯一标识的上报！！"), 
            t().tip_w("配置参考代码: aplus_queue.push({action: 'aplus.setMetaInfo', arguments: ['_anony_id', 待配置取值]});"), 
            t().tip_w("获取小程序唯一标识请参考链接: https://t.tb.cn/1dTHjTTQF0UjOTNHiCkaCS"), t().tip_w(t().repeat("!")), 
            !1;
        }
        return !0;
    };
}, function(e, t) {
    var n = "[APLUS] -- ";
    e.exports = function() {
        function e() {
            this.setDebug = function(e) {
                a = e;
            }, this.i = function() {
                try {
                    "string" == typeof arguments[0] && (arguments[0] = n + arguments[0]), console.info.apply(console, arguments);
                } catch (e) {}
            }, this.e = function() {
                if (a) try {
                    "string" == typeof arguments[0] && (arguments[0] = n + arguments[0]), console.error.apply(console, arguments);
                } catch (e) {}
            }, this.w = function() {
                try {
                    "string" == typeof arguments[0] && (arguments[0] = n + arguments[0]), console.warn.apply(console, arguments);
                } catch (e) {}
            }, this.v = function() {
                if (a) try {
                    "string" == typeof arguments[0] && (arguments[0] = n + arguments[0]), console.log.apply(console, arguments);
                } catch (e) {}
            }, this.tip_w = function(e) {
                try {
                    console.log("%c " + n + e, "background:red; padding: 4px; padding-right: 8px; border-radius: 4px; color: #fff;");
                } catch (e) {}
            }, this.repeat = function(e) {
                for (var t = e; t.length < 86; ) t += e;
                return t;
            };
        }
        var t = null, a = !1;
        return function() {
            return null === t && (t = new e()), t;
        };
    }();
}, function(e, t, n) {
    var a = n(13), r = n(11), o = n(3), s = n(8), i = n(7), u = n(15), c = n(2);
    e.exports = function() {
        function e() {
            return {
                resume: function(e) {
                    var t = !1;
                    g || (g = a().get(o.CURRENT_SESSION));
                    var s = new Date();
                    return f = s.getTime(), !g || !g.end_time || f - g.end_time > o.SESSION_INTERVAL ? (t = !0, 
                    n(e), r().v("开始新的session(%s): ", g.id, g)) : r().v("延续上一次session(%s): %s ", g.id, s.toLocaleTimeString(), g), 
                    t;
                },
                pause: function() {
                    p();
                },
                getCurrentSessionId: function() {
                    return (g || {}).id;
                },
                getCurrentSession: function() {
                    return g;
                },
                cloneCurrentSession: function() {
                    return i(g);
                }
            };
        }
        function t(e) {
            var t = {};
            for (var n in e) t[n] = e[n];
            return r().v("query: ", e), t;
        }
        function n(e) {
            try {
                var n = (g || {}).options || {}, a = u.assign({}, t(e.query));
                a.path = e.path || n.path, a.scene = e.scene ? s.getPlatformType() + "_" + e.scene : n.scene;
                var o = e.referrerInfo;
                o && (a.referrerAppId = o.appId), r().v("session options: ", a);
                var i = c.getGlobalValue("aplus"), p = i.getMetaInfo("globalproperty"), l = Date.now();
                g = {
                    id: u.getRandomStr(10) + l,
                    start_time: l,
                    options: a,
                    state_s: 1
                }, p && (g.gp = p);
            } catch (e) {
                r().e("生成新session失败: ", e);
            }
        }
        function p() {
            if (g) {
                var e = new Date();
                g.end_time = e.getTime(), "number" != typeof g.duration && (g.duration = 0), g.duration = g.end_time - f, 
                g.state_s = 0, a().set(o.CURRENT_SESSION, g), r().v("退出会话(%s): %s ", g.id, e.toLocaleTimeString(), g);
            }
        }
        var l = null, f = null, g = null;
        return function() {
            return l || (l = e()), l;
        };
    }();
}, function(e, t, n) {
    var a = n(8), r = n(9), o = n(14), s = n(11), i = n(10);
    e.exports = function() {
        function e() {
            var e = a.getContext();
            this.load = function(t) {
                u ? (e.removeStorage({
                    key: n
                }), r(t) && t()) : (n = "aplus_cache_" + i.getAppKey() || "", e.getStorage({
                    key: n,
                    success: function(a) {
                        u = a && a.data ? o.parse(a.data) || {} : {}, c = !0, e.removeStorage({
                            key: n
                        }), r(t) && t();
                    },
                    fail: function(a) {
                        s().v(n + ": " + a.errMsg), u = {}, c = !0, e.removeStorage({
                            key: n
                        }), r(t) && t();
                    }
                }));
            }, this.save = function() {
                u && e.setStorage({
                    key: n,
                    data: o.stringfy(u)
                });
            }, this.set = function(e, t) {
                u && (u[e] = t);
            }, this.get = function(e) {
                return (u || {})[e];
            }, this.remove = function(e) {
                u && u[e] && delete u[e];
            }, this.getAll = function() {
                return u;
            }, this.clear = function() {
                u = null;
            }, this.has = function(e) {
                return !!this.get(e);
            }, this.isLoaded = function() {
                return c;
            };
        }
        var t = null, n = "", u = null, c = !1;
        return function() {
            return t || (t = new e()), t;
        };
    }();
}, function(e, t) {
    t.stringfy = function(e) {
        if (e) try {
            return JSON.stringify(e);
        } catch (e) {}
        return "";
    }, t.parse = function(e) {
        if (e) try {
            return JSON.parse(e);
        } catch (e) {}
        return null;
    }, t.parseToArray = function(e) {
        if (e) try {
            return JSON.parse(e);
        } catch (e) {}
        return [];
    };
}, function(e, t, n) {
    t.getRandomStr = function(e) {
        for (var t = "", n = [ "0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z" ], a = 0; a < Number(e); a++) {
            var r = Math.round(Math.random() * (n.length - 1));
            t += n[r];
        }
        return t;
    }, t.startsWith = function(e, t) {
        return !(!e || !t || 0 === t.length || t.length > e.length) && e.substr(0, t.length) === t;
    }, t.assign = function(e) {
        if (void 0 === e || null === e) throw new TypeError("Cannot convert undefined or null to object");
        for (var t = Object(e), n = 1; n < arguments.length; n++) {
            var a = arguments[n];
            if (a) for (var r in a) Object.prototype.hasOwnProperty.call(a, r) && (t[r] = a[r]);
        }
        return t;
    }, t.checkEvent = function(e, t) {
        var a = n(3), r = n(11);
        if (!e || "string" != typeof e) return r().e('please check trackEvent id. id should be "string" and not null'), 
        !1;
        var o = [ "id", "du" ], s = {};
        if (o.forEach(function(e) {
            s[e] = 1;
        }), s[e]) return r().e("eventId不能与以下保留字冲突: " + o.join(",")), !1;
        if (e.length > a.MAX_EVENTID_LENGTH) return r().e("The maximum length of event id shall not exceed " + a.MAX_EVENTID_LENGTH), 
        !1;
        if (t && ("object" != typeof t || Array.isArray(t)) && "string" != typeof t) return r().e("please check trackEvent properties. properties should be string or object(not include Array)"), 
        !1;
        if ("object" == typeof t) {
            var i = 0;
            for (var u in t) if ({}.hasOwnProperty.call(t, u)) {
                if (u.length > a.MAX_PROPERTY_KEY_LENGTH) return r().e("The maximum length of property key shall not exceed " + a.MAX_PROPERTY_KEY_LENGTH), 
                !1;
                if (i >= a.MAX_PROPERTY_KEYS_COUNT) return r().e("The maximum count of properties shall not exceed " + a.MAX_PROPERTY_KEYS_COUNT), 
                !1;
                if (s[u]) return r().e("属性中的key不能与以下保留字冲突: " + o.join(",")), !1;
                i += 1;
            }
        }
        return !0;
    };
    var a = n(16);
    t.deleteInfo = function(e, t) {
        return a(t, function(t) {
            delete e[t];
        }), e;
    }, t.checkEmptyObj = function(e) {
        return "object" != typeof e || 0 === Object.keys(e).length;
    }, t.DataType = {
        HALF_SESSION: "half_session",
        CLOSE_SESSION: "close_session",
        EKV: "ekv",
        ENTER_PAGE: "enter_page",
        LEAVE_PAGE: "leave_page"
    }, t.AccessType = {
        MOBILE_NETWORK_2G: "2g",
        MOBILE_NETWORK_3G: "3g",
        MOBILE_NETWORK_4G: "4g",
        MOBILE_NETWORK_NONE: "none"
    };
}, function(e, t) {
    "use strict";
    e.exports = function(e, t) {
        var n, a = e.length;
        for (n = 0; n < a; n++) {
            var r = t(e[n], n);
            if ("break" === r) break;
        }
    };
}, function(e, t, n) {
    var a = n(13), r = n(11), o = n(3), s = n(18);
    e.exports = function() {
        function e() {
            if (p.length) {
                var e = a().get(o.EKVS);
                n(e) + p.length <= o.EVENT_MAX_COUNT && (e = t(e, p), a().set(o.EKVS, e));
            }
        }
        function t(e, t) {
            e = e || {};
            var n = e[c];
            return s(n) && n.length ? e[c] = n.concat(t) : e[c] = [].concat(t), e;
        }
        function n(e) {
            var t = 0;
            for (var n in e) s(e[n]) && (t += e[n].length);
            return t;
        }
        function i() {
            return {
                addEvent: function(t) {
                    t && (c ? (p.unshift(t), p.length > o.MEMORY_MAX_COUNT && (e(c), p.length = 0)) : (r().w("session id is null: ", c), 
                    l.unshift(t)));
                },
                setSessionId: function(e) {
                    if (c = e, r().v("setSessionId: ", c), s(l) && l.length && c) {
                        for (var t = 0; t < l.length; t++) this.addEvent(l[t]);
                        l.length = 0;
                    }
                },
                getEkvs: function() {
                    var e = a().get(o.EKVS);
                    return p && p.length && (e = t(e, p)), e;
                },
                clear: function() {
                    a().remove(o.EKVS), p.length = 0, l.length = 0;
                }
            };
        }
        var u, c, p = [], l = [];
        return function() {
            return u || (u = i()), u;
        };
    }();
}, function(e, t) {
    "use strict";
    e.exports = function(e) {
        return Array.isArray ? Array.isArray(e) : /Array/.test(Object.prototype.toString.call(e));
    };
}, function(e, t, n) {
    var a = n(20), r = n(13), o = n(3), s = n(11), i = n(21), u = n(22), c = n(26), p = n(9), l = n(27), f = n(7), g = n(10), d = 50, h = n(2);
    e.exports = function() {
        function e(e, t, r) {
            t = t || {};
            var s = i(e);
            if (s) {
                var u = n(2), c = u.getGlobalValue(o.APLUS), f = c._aplus_client || {};
                s.header = l.assign(s.header, a.getNetInfo(f)), s.noCache = t.noCache, P.enqueue(s);
            }
            p(r) && r();
        }
        function t(e) {
            var n = P.front(), a = function() {
                P.dequeue(), t(e);
            }, r = function() {
                var n = P.dequeue();
                n && !n.noCache && S.push(n), t(e);
            };
            n ? u(n, a, r) : (_(), e());
        }
        function _() {
            S.forEach(function(e) {
                P.enqueue(e);
            }), S.length = 0;
        }
        function v(e) {
            if (b) return void s().v("队列正在发送中");
            b = !0;
            var n = function() {
                b = !1, p(e) && e();
            };
            t(n);
        }
        function m() {
            this.send = function(e, t, n) {
                e ? this.add(e, t, function() {
                    v(n);
                }) : v(n);
            }, this.add = function(t, n, a) {
                var r = h.getGlobalValue(o.APLUS);
                g.checkOpenid(r.getMetaInfo(o._ANONY_ID)) && e(t, n, a);
            }, this.load = function() {
                var e = r().get(o.REQUESTS);
                e && e.length && e.forEach(function(e) {
                    P.enqueue(e);
                }), r().remove(o.REQUESTS);
            }, this.save = function() {
                r().set(o.REQUESTS, f(P.items())), P.clear();
            };
        }
        var y = null, b = !1, S = [], P = new c(d);
        return function() {
            return y || (y = new m()), y;
        };
    }();
}, function(e, t, n) {
    var a = n(8), r = n(3), o = n(13), s = n(2), i = n(15), u = n(10);
    t.getNetInfo = function(e) {
        var t = {}, n = e.networkType;
        switch ("none" === n && (n = "unknown"), n = n ? n.toLowerCase() : "") {
          case i.AccessType.MOBILE_NETWORK_4G:
            t.access_subtype = "LTE", t.access = "4G";
            break;

          case i.AccessType.MOBILE_NETWORK_3G:
            t.access_subtype = "CDMA", t.access = "3G";
            break;

          case i.AccessType.MOBILE_NETWORK_2G:
            t.access_subtype = "GRPS", t.access = "2G";
            break;

          default:
            t.access = n, delete t.access_subtype;
        }
        return t;
    }, t.getHeaderInfo = function() {
        var e = {}, t = s.getGlobalValue(r.APLUS), n = t.globalConfig || {}, i = t._aplus_client || {}, c = o().get(r.IMPRINT);
        c && (e.imprint = c), e.device_type = "Phone", e.sdk_version = n.lver, e.appkey = u.getAppKey(), 
        e.device_info = "", e.appid = i.appId, e.app_env = i.appEnv, e.app_version = t.getMetaInfo("appVersion") || "devtools";
        var p = t.getMetaInfo("aplus-global-args");
        p && p.debugId && (e.miniappDebugId = p.debugId);
        var l = i || {};
        l.safeArea = l.safeArea || {};
        var f = l.model || "", g = l.platform || "", d = l.brand || "", h = d.toLowerCase();
        e.sdk_type = a.getSdkType(), e.platform = a.getPlatformType(), e.platform_sdk_version = l.SDKVersion, 
        e.platform_version = l.platformVersion;
        var _ = Math.round(l.screenWidth * l.pixelRatio), v = Math.round(l.screenHeight * l.pixelRatio);
        e.resolution = _ > v ? _ + "*" + v : v + "*" + _, e.pixel_ratio = l.pixelRatio, 
        e.os = g, e.font_size_setting = l.fontSizeSetting, e.device_model = f, e.device_brand = d, 
        e.device_manufacturer = h, e.device_manuid = f, e.device_name = f, e.os_version = l.os_version, 
        e.language = l.language;
        var m = this.getNetInfo(i);
        return e.access = m.access, m.access_subtype && (e.access_subtype = m.access_subtype), 
        e;
    };
}, function(e, t, n) {
    function a() {
        var e = null, t = s().cloneCurrentSession();
        return t && (e = {
            header: {
                st: "1"
            },
            analytics: {
                sessions: [ t ]
            }
        }), e;
    }
    function r() {
        var e = null, t = {}, n = s().cloneCurrentSession();
        n && (t.sessions = [ n ]);
        var a = i().getEkvs();
        return a && (t.ekvs = c(a), i().clear()), (t.sessions || t.ekvs) && (e = {
            analytics: t
        }), e;
    }
    function o() {
        var e = null, t = i().getEkvs();
        return t && (e = {
            analytics: {
                ekvs: c(t)
            }
        }, i().clear()), e;
    }
    var s = n(12), i = n(17), u = n(15), c = n(7);
    e.exports = function(e) {
        var t = null;
        switch (e) {
          case u.DataType.HALF_SESSION:
            t = a();
            break;

          case u.DataType.CLOSE_SESSION:
            t = r();
            break;

          case u.DataType.EKV:
            t = o();
        }
        return t;
    };
}, function(e, t, n) {
    function a() {
        var e = d.getGlobalValue(_.APLUS), t = e.getMetaInfo(_.APLUS_PV_DOMAIN), n = i.getLogDomain();
        if (!t || !n) return l().w("current request domain invalid, please check your aplus-rhost-v value inside metainfo!"), 
        "";
        var a = [ "//", t, n ].join(""), r = _.HTTPS;
        return /(\d+\.){3,}\d+/.test(a) && (r = "http:"), a = r + a;
    }
    function r(e) {
        var t = i.getContext(), n = e.success, a = e.fail, r = !1, o = null;
        e.success = function(e) {
            r || (o && clearTimeout(o), v(n) && n(e));
        }, e.fail = function() {
            r || (o && clearTimeout(o), v(a) && a(!1));
        };
        try {
            t.request(e);
        } catch (t) {
            try {
                dd && dd.httpRequest(e);
            } catch (e) {
                l().w("请求发送失败: ", e);
            }
        }
        o = setTimeout(function() {
            o && clearTimeout(o), r = !0, v(a) && a(r);
        }, e.timeout || m);
    }
    function o(e) {
        e && (p.set(e), p.save(), l().v("imprint: ", p.getImpObj()));
    }
    function s() {
        var e = i.getSdkType() + "/json", t = !1;
        try {
            my && (t = !0);
        } catch (e) {}
        return t ? {
            headers: {
                "Content-Type": e,
                "Msg-Type": e
            }
        } : {
            header: {
                "Content-Type": e,
                "Msg-Type": e
            }
        };
    }
    var i = n(8), u = n(20), c = n(23), p = n(24), l = n(11), f = n(14), g = n(25), d = n(2), h = n(15), _ = n(3), v = n(9), m = 5e3;
    e.exports = function(e, t, n, m) {
        var y = d.getGlobalValue(_.APLUS), b = u.getHeaderInfo();
        if ("my" === i.getPlatformType() || "taobao" === i.getPlatformType() ? (b.id_type = "alipay_id", 
        b.id_tracking = {
            alipay_id: y.getMetaInfo(_._ANONY_ID) || "",
            unionid: y.getMetaInfo("_dev_id") || "",
            userId: y.getMetaInfo(_._USER_ID) || ""
        }) : (b.id_type = "openid", b.id_tracking = {
            openid: y.getMetaInfo(_._ANONY_ID) || "",
            unionid: y.getMetaInfo("_dev_id") || "",
            userId: y.getMetaInfo(_._USER_ID) || ""
        }), p.get() && (b[_.IMPRINT] = p.get()), e.analytics) {
            var S = y.getMetaInfo(_._USER_ID), P = y.getMetaInfo("_user_nick");
            e.analytics.active_user = {
                puid: S,
                provider: P
            };
        }
        e.header = h.assign(b, e.header, {
            ts: Date.now(),
            traceId: h.getRandomStr(10) + Date.now() + h.getRandomStr(9)
        });
        var A = c(e), I = f.stringfy(A), C = a(), T = {
            url: C,
            method: "POST",
            data: g.encode(I),
            success: function(a) {
                var r = a.code || a.status || a.statusCode;
                200 === r || 413 === r ? (l().i("数据发送成功: ", e, I), o((a.data || {}).imprint), v(t) && t(a)) : (l().w("数据发送失败: ", I), 
                v(n) && n());
            },
            fail: function(e) {
                l().w("超时: ", I), v(n) && n();
            },
            complete: function() {
                v(m) && m();
            }
        };
        r(h.assign(T, s()));
    };
}, function(e, t) {
    function n(e, t) {
        var n = a(e, t);
        return e && e.id_tracking && (n[t.id_tracking || "id_tracking"] = a(e.id_tracking, i)), 
        n;
    }
    function a(e, t) {
        var n = {};
        for (var a in e) t[a] ? n[t[a]] = e[a] : n[a] = e[a];
        return n;
    }
    function r(e, t) {
        var n = {};
        if (e) for (var a in e) e[a] && (n[t[a]] = e[a]);
        return n;
    }
    var o = {
        sessions: "sn",
        ekvs: "e",
        active_user: "active_user"
    }, s = {
        sdk_type: "sdt",
        access: "ac",
        access_subtype: "acs",
        device_model: "dm",
        language: "lang",
        device_type: "dt",
        device_manufacturer: "dmf",
        device_name: "dn",
        platform_version: "pv",
        id_type: "it",
        font_size_setting: "fss",
        os_version: "ov",
        device_manuid: "did",
        platform_sdk_version: "psv",
        device_brand: "db",
        appkey: "ak",
        _id: "id",
        id_tracking: "itr",
        imprint: "imp",
        sdk_version: "sv",
        resolution: "rl",
        testToken: "ttn",
        miniappDebugId: "dk",
        pixel_ratio: "pr"
    }, i = {
        uuid: "ud",
        unionid: "und",
        openid: "od",
        anonymousid: "nd",
        alipay_id: "ad",
        device_id: "dd",
        userid: "puid"
    };
    e.exports = function(e) {
        return {
            h: n(e.header, s),
            a: r(e.analytics, o)
        };
    };
}, function(e, t, n) {
    function a() {
        var e = "", t = this;
        this.set = function(t) {
            e = t;
        }, this.get = function() {
            return e;
        }, this.getImpObj = function() {
            return o.parse(s.decode(e));
        }, this.getItem = function(e) {
            var n = t.getImpObj();
            return n ? n[e] || "" : "";
        }, this.load = function() {
            e = r().get(i.IMPRINT);
        }, this.save = function() {
            e && r().set(i.IMPRINT, e);
        };
    }
    var r = n(13), o = n(14), s = n(25), i = n(3), u = new a();
    e.exports = u;
}, function(e, t) {
    var n = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", a = function(e) {
        for (var t = {}, n = 0, a = e.length; n < a; n++) t[e.charAt(n)] = n;
        return t;
    }(n), r = String.fromCharCode, o = function(e) {
        var t;
        return e.length < 2 ? (t = e.charCodeAt(0), t < 128 ? e : t < 2048 ? r(192 | t >>> 6) + r(128 | 63 & t) : r(224 | t >>> 12 & 15) + r(128 | t >>> 6 & 63) + r(128 | 63 & t)) : (t = 65536 + 1024 * (e.charCodeAt(0) - 55296) + (e.charCodeAt(1) - 56320), 
        r(240 | t >>> 18 & 7) + r(128 | t >>> 12 & 63) + r(128 | t >>> 6 & 63) + r(128 | 63 & t));
    }, s = /[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g, i = function(e) {
        return e.replace(s, o);
    }, u = function(e) {
        var t = [ 0, 2, 1 ][e.length % 3], a = e.charCodeAt(0) << 16 | (e.length > 1 ? e.charCodeAt(1) : 0) << 8 | (e.length > 2 ? e.charCodeAt(2) : 0), r = [ n.charAt(a >>> 18), n.charAt(a >>> 12 & 63), t >= 2 ? "=" : n.charAt(a >>> 6 & 63), t >= 1 ? "=" : n.charAt(63 & a) ];
        return r.join("");
    }, c = function(e) {
        return e.replace(/[\s\S]{1,3}/g, u);
    }, p = function(e) {
        return c(i(e));
    }, l = function(e, t) {
        return t ? p(String(e)).replace(/[+\/]/g, function(e) {
            return "+" == e ? "-" : "_";
        }).replace(/\=/g, "") : p(String(e));
    }, f = new RegExp([ "[À-ß][-¿]", "[à-ï][-¿]{2}", "[ð-÷][-¿]{3}" ].join("|"), "g"), g = function(e) {
        switch (e.length) {
          case 4:
            var t = (7 & e.charCodeAt(0)) << 18 | (63 & e.charCodeAt(1)) << 12 | (63 & e.charCodeAt(2)) << 6 | 63 & e.charCodeAt(3), n = t - 65536;
            return r((n >>> 10) + 55296) + r((1023 & n) + 56320);

          case 3:
            return r((15 & e.charCodeAt(0)) << 12 | (63 & e.charCodeAt(1)) << 6 | 63 & e.charCodeAt(2));

          default:
            return r((31 & e.charCodeAt(0)) << 6 | 63 & e.charCodeAt(1));
        }
    }, d = function(e) {
        return e.replace(f, g);
    }, h = function(e) {
        var t = e.length, n = t % 4, o = (t > 0 ? a[e.charAt(0)] << 18 : 0) | (t > 1 ? a[e.charAt(1)] << 12 : 0) | (t > 2 ? a[e.charAt(2)] << 6 : 0) | (t > 3 ? a[e.charAt(3)] : 0), s = [ r(o >>> 16), r(o >>> 8 & 255), r(255 & o) ];
        return s.length -= [ 0, 0, 2, 1 ][n], s.join("");
    }, _ = function(e) {
        return e.replace(/[\s\S]{1,4}/g, h);
    }, v = function(e) {
        return d(_(e));
    }, m = function(e) {
        return v(String(e).replace(/[-_]/g, function(e) {
            return "-" == e ? "+" : "/";
        }).replace(/[^A-Za-z0-9\+\/]/g, ""));
    };
    t.encode = l, t.decode = m;
}, function(e, t, n) {
    var a = n(11);
    e.exports = function(e) {
        var t = e, n = [];
        this.enqueue = function(e) {
            "number" == typeof t && this.size() >= t && this.dequeue(), n.push(e);
        }, this.dequeue = function() {
            return n.shift();
        }, this.front = function() {
            return n[0];
        }, this.isEmpty = function() {
            return 0 === n.length;
        }, this.clear = function() {
            n.length = 0;
        }, this.size = function() {
            return n.length;
        }, this.items = function() {
            return n;
        }, this.print = function() {
            a().v("---queue: ", n.toString());
        };
    };
}, function(e, t, n) {
    "use strict";
    t.assign = n(28), t.makeCacheNum = function() {
        return Math.floor(268435456 * Math.random()).toString(16);
    }, t.isStartWith = function(e, t) {
        return 0 === e.indexOf(t);
    }, t.isEndWith = function(e, t) {
        var n = e.length, a = t.length;
        return n >= a && e.indexOf(t) == n - a;
    }, t.any = function(e, t) {
        var n, a = e.length;
        for (n = 0; n < a; n++) if (t(e[n])) return !0;
        return !1;
    }, t.isNumber = function(e) {
        return "number" == typeof e;
    }, t.isNaN = function(e) {
        return isNaN ? isNaN(e) : e !== e;
    }, t.isContain = function(e, t) {
        return e.indexOf(t) > -1;
    };
    var a = function(e) {
        var t, n = e.constructor === Array ? [] : {};
        if ("object" == typeof e) {
            if (JSON && JSON.parse) t = JSON.stringify(e), n = JSON.parse(t); else for (var r in e) n[r] = "object" == typeof e[r] ? a(e[r]) : e[r];
            return n;
        }
    };
    t.cloneDeep = a;
    var r = function() {
        for (var e, t = /[?&]([^=#]+)=([^&#]*)/g, n = window.location.href, a = {}; e = t.exec(n); ) a[e[1]] = e[2];
        return a;
    };
    t.getUrlParams = r;
    var o = function(e) {
        if (!e) return !0;
        for (var t in e) if (Object.prototype.hasOwnProperty.call(e, t)) return !1;
        return !0;
    };
    t.isEmptyObject = o;
}, function(e, t) {
    e.exports = function(e, t) {
        return "function" != typeof Object.assign ? function(e) {
            for (var t = Object(e), n = 1; n < arguments.length; n++) {
                var a = arguments[n];
                if (null !== a) for (var r in a) Object.prototype.hasOwnProperty.call(a, r) && (t[r] = a[r]);
            }
            return t;
        }(e, t) : Object.assign({}, e, t);
    };
}, function(e, t, n) {
    function a(e, t) {
        if (!e) return "";
        var n = [];
        for (var a in t) n.push(a + "=" + t[a]);
        var r = n.join("&");
        return r ? e + "?" + r : e;
    }
    var r = n(2), o = "", s = {};
    t.getCurrentPagePath = function() {
        return o;
    }, t.setCurrentPath = function(e) {
        e && (o = e);
    }, t.getPageQuery = function(e) {
        if (e) return s[e];
    }, t.setPageQuery = function(e, t) {
        e && (s[e] = t);
    }, t.getFullPath = function(e) {
        return a(o, s[e]);
    }, t.getPageName = function(e) {
        var t = r.getGlobalValue("aplus"), n = t.getMetaInfo("pageConfig"), a = e || o;
        try {
            if (n && "object" == typeof n) for (var s in n) {
                if (s === a) break;
                if (n[s] && n[s].regRule) {
                    a = n[s].regRule.test(e) ? s : a;
                    break;
                }
            }
        } catch (e) {}
        return n[a];
    }, t.getPageCode = function(e) {
        return (this.getPageName(e) || {}).pageName;
    }, t.getVTRealtimeCode = function() {
        if (o) {
            var e = s[o] || {}, t = /^\$vt_/, n = decodeURIComponent(e.scene);
            return n && t.test(n) && n.replace(t, "");
        }
    };
}, function(e, t, n) {
    "use strict";
    function a(e) {
        var t = {};
        try {
            P(e, function(e, n) {
                0 === e.indexOf("utm_") && (t[e] = n);
            });
        } catch (e) {}
        return t;
    }
    function r(e, t) {
        var n = y.getContext(), a = E.getCurrentPage(), r = a.route || a.is || "", o = a.options || {}, s = I.obj2param(o, !0);
        s && (r = r + "?" + s), e.query || (e.query = {}), e.query.$$_share_uid = n.aplus.getMetaInfo("_anony_id") || n.aplus.__ETAG__CNA__ID__, 
        e.query.$$_utm_medium = 3, e.query = A.assign({}, o, e.query);
        var i = e.path || r, u = "$$_share_uid=" + e.query.$$_share_uid + "&$$_utm_medium=3";
        return i.indexOf("?") > -1 ? e.path = i + "&" + u : e.path = i + "?" + u, e.status = "ready", 
        n.aplus_queue.push({
            action: b.PUBLISH,
            arguments: [ t, e ]
        }), e;
    }
    function o() {
        var e = y.getContext(), t = {
            status: "ready"
        };
        e.aplus_queue.push({
            action: b.PUBLISH,
            arguments: [ "onPullDownRefresh", t ]
        });
    }
    function s() {
        var e = y.getContext(), t = this, n = {
            status: "ready",
            context: t
        };
        e.aplus_queue.push({
            action: b.PUBLISH,
            arguments: [ "onReachBottom", n ]
        });
    }
    function i(e) {
        var t = y.getContext();
        try {
            T.setCurrentPath(this.route), e && T.setPageQuery(this.route, e), C().i("Page onLoad: ", this.route, e);
            var n = this;
            S.onAplusReady(t.aplus_queue, b.SUBSCRIBE, function() {
                t.aplus.appendMetaInfo(b.GLOBAL_PROPERTY, a(e)), t.aplus_queue.push({
                    action: b.PUBLISH,
                    arguments: [ "onLoad", {
                        status: "ready",
                        context: n
                    } ]
                });
                var r = E.getCurrentPage();
                S.resetFn(r, "setData", function(e) {
                    t.aplus_queue.push({
                        action: b.PUBLISH,
                        arguments: [ "onPageDataChanged", {
                            data: e,
                            context: n
                        } ]
                    });
                });
            });
        } catch (e) {
            C().w("onPageLoad: ", e);
        }
    }
    function u() {
        var e = y.getContext();
        try {
            T.setCurrentPath(this.route), S.onAplusReady(e.aplus_queue, b.SUBSCRIBE, function() {
                var t = this;
                e.aplus_queue.push({
                    action: b.PUBLISH,
                    arguments: [ "onShow", {
                        status: "ready",
                        context: t
                    } ]
                });
            });
        } catch (e) {
            C().w("onPageShow: ", e);
        }
    }
    function c() {
        var e = y.getContext();
        try {
            var t = this;
            e.aplus_queue.push({
                action: b.PUBLISH,
                arguments: [ "onReady", {
                    status: "ready",
                    context: t
                } ]
            });
        } catch (e) {
            C().w("onPageReady: ", e);
        }
    }
    function p() {
        var e = y.getContext();
        try {
            e.aplus_queue.push({
                action: b.PUBLISH,
                arguments: [ "onHide", {
                    status: "ready"
                } ]
            });
        } catch (e) {
            C().w("onPageHide: ", e);
        }
    }
    function l() {
        var e = y.getContext();
        try {
            e.aplus_queue.push({
                action: b.PUBLISH,
                arguments: [ "onHide", {
                    status: "ready"
                } ]
            });
        } catch (e) {
            C().w("onPageUnload: ", e);
        }
    }
    function f(e) {
        var t = y.getContext();
        t.aplus_queue.push({
            action: b.PUBLISH,
            arguments: [ "onAplusClk", {
                status: "ready",
                event: e,
                context: this
            } ]
        });
    }
    function g(e) {
        var t = y.getContext(), n = this;
        t.aplus_queue.push({
            action: b.PUBLISH,
            arguments: [ "onAplusTouch", {
                status: "ready",
                context: n,
                event: e
            } ]
        });
    }
    function d(e) {
        if (e.onShareAppMessage) {
            var t = e.onShareAppMessage;
            e.onShareAppMessage = function(e) {
                var n = t.call(this, e) || {};
                return r(n, "onShareAppMessage");
            };
        }
    }
    function h(e) {
        if (e.onShareTimeline) {
            var t = e.onShareTimeline;
            e.onShareTimeline = function(e) {
                var n = t.call(this, e) || {};
                return r(n, "onShareTimeline");
            };
        }
    }
    function _() {
        try {
            var e = Page;
            Page = function(t) {
                S.rewriteFn(t, "onShow", u), S.rewriteFn(t, "onHide", p), S.rewriteFn(t, "onUnload", l), 
                S.rewriteFn(t, "onLoad", i), S.rewriteFn(t, "onReady", c), S.rewriteFn(t, "onPullDownRefresh", o), 
                S.rewriteFn(t, "onReachBottom", s), S.rewriteFn(t, "onAplusClk", f), S.rewriteFn(t, "onAplusTouch", g), 
                d(t), h(t), e(t);
            };
        } catch (e) {
            C().w("Page 重写异常");
        }
    }
    function v() {
        try {
            var e = Component;
            Component = function(t) {
                try {
                    t.methods = t.methods || {};
                    var n = t.methods;
                    S.rewriteFn(n, "onShow", u), S.rewriteFn(n, "onHide", p), S.rewriteFn(n, "onUnload", p), 
                    S.rewriteFn(n, "onLoad", i), d(n), e(t);
                } catch (n) {
                    e(t);
                }
            };
        } catch (e) {
            C().w("Component 重写异常");
        }
    }
    function m(e, t, n) {
        [ "object", "function" ].indexOf(typeof e) > -1 ? n() : C().w("typeof " + t + " is not object cant watchExp.");
    }
    var y = n(2), b = n(3), S = n(6), P = n(31), A = n(15), I = n(32), C = n(11), T = n(29), E = n(8);
    e.exports = function() {
        return {
            run: function() {
                m(Page, "Page", _), m(Component, "Component", v);
            }
        };
    };
}, function(e, t) {
    "use strict";
    e.exports = function(e, t) {
        if (Object && Object.keys) for (var n = Object.keys(e), a = n.length, r = 0; r < a; r++) {
            var o = n[r];
            t(o, e[o]);
        } else for (var s in e) t(s, e[s]);
    };
}, function(e, t) {
    "use strict";
    function n(e, t) {
        var n, r, o, s = [], i = e.length;
        for (o = 0; o < i; o++) {
            n = e[o][0], r = e[o][1];
            var u = 0 === n.indexOf(a), c = u || t ? r : encodeURIComponent(r);
            s.push(u ? c : n + "=" + c);
        }
        return s.join("&");
    }
    t.arr2obj = function(e) {
        var t, n, a, r = {}, o = e.length;
        for (a = 0; a < o; a++) t = e[a][0], n = e[a][1], r[t] = n;
        return r;
    }, t.param2obj = function(e) {
        if ("object" == typeof e) return e;
        e || (e = "");
        for (var t = {}, n = e.split("&"), a = 0; a < n.length; a++) {
            var r = n[a], o = r.indexOf("="), s = r.split("="), i = r.length;
            if (2 === s.length) t[s[0]] = s[1] || ""; else if (o > 0) {
                var u = r.slice(0, o), c = r.slice(o + 1, i) || "";
                t[u] = c;
            } else t[s[0]] = "";
        }
        return t;
    };
    var a = "::-plain-::";
    t.s_plain_obj = a, t.arr2param = n, t.obj2param = function(e, t) {
        var n, r, o, s = [];
        for (n in e) n && e.hasOwnProperty(n) && (r = "" + e[n], o = n + "=" + r, t ? s.push(o) : s.push(0 === n.indexOf(a) ? r : o));
        return s.join("&");
    }, t.encodeGokeyValue = function(e) {
        return e;
    };
}, function(e, t, n) {
    "use strict";
    var a = n(2), r = n(3), o = n(16);
    e.exports = function() {
        return {
            pushQueue: function(e, t) {
                var n = a.getGlobalValue("aplus_queue");
                n.push({
                    action: "aplus." + e,
                    arguments: t
                });
            },
            run: function() {
                var e = this, t = a.getGlobalValue(r.APLUS);
                o(r.openAPIs, function(n) {
                    t[n] = function() {
                        var t = [];
                        o(arguments, function(e) {
                            t.push(e);
                        });
                        var a = "enter" === n ? "_sendPV" : "_" + n;
                        e.pushQueue(a, t);
                    };
                });
            }
        };
    };
}, function(e, t, n) {
    "use strict";
    var a = n(8), r = n(2);
    e.exports = function() {
        return {
            _getNetworkType: function(e) {
                var t = a.getContext();
                t.getNetworkType ? t.getNetworkType({
                    success: function(t) {
                        e(t ? t.networkType : "");
                    }
                }) : e("");
            },
            _getSystemInfo: function(e) {
                var t = this, n = {}, r = t.SYSTEM_INFO || {};
                if (r && r.version) e(t.SYSTEM_INFO); else try {
                    a.getContext().getSystemInfo({
                        complete: function(a) {
                            a && a.version ? t._getNetworkType(function(n) {
                                a.networkType = n, t.SYSTEM_INFO = a, e(a);
                            }) : t._getNetworkType(function(t) {
                                n.networkType = t, e(n);
                            });
                        }
                    });
                } catch (t) {
                    e(n);
                }
            },
            _getAccountInfoSync: function() {
                var e = {};
                try {
                    var t = a.getContext();
                    if (t.getAccountInfoSync && t.canIUse("getAccountInfoSync")) {
                        var n = t.getAccountInfoSync(), r = n.miniProgram || {}, o = n.plugin || {};
                        e.appId = r.appId, e.appVersion = r.version || r.envVersion, e.pluginAppId = o.appId, 
                        e.pluginAppVersion = o.version;
                    } else if (t.getAppIdSync && t.canIUse("getAppIdSync")) {
                        var s = t.getAppIdSync() || {};
                        e.appId = s.appId || "";
                    }
                } catch (e) {}
                return e;
            },
            run: function(e, t) {
                var n = this;
                return this._getSystemInfo(function(e) {
                    e.userAgent = "-", e.os = e.platform ? e.platform.toLocaleUpperCase() : "", e.os_version = e.system ? e.system : "", 
                    e.access = e.brand ? e.brand : "";
                    var a = "";
                    e.host && "string" == typeof e.host.env && (a = e.host.env), e.host = a;
                    var o = n._getAccountInfoSync(), s = Object.assign({}, e, o), i = r.getGlobalValue("aplus");
                    i._aplus_client = s, t();
                }), 2e3;
            }
        };
    };
}, function(e, t, n) {
    var a = n(36), r = n(2);
    e.exports = function() {
        return {
            run: function() {
                var e = r.getGlobalValue("aplus");
                e.aplus_pubsub || (e.aplus_pubsub = a.create());
            }
        };
    };
}, function(e, t, n) {
    "use strict";
    var a = n(9), r = n(37), o = function(e) {
        for (var t = e.length, n = new Array(t - 1), a = 1; a < t; a++) n[a - 1] = e[a];
        return n;
    }, s = r.extend({
        callable: function(e) {
            if (!a(e)) throw new TypeError(e + " is not a function");
            return e;
        },
        create: function(e) {
            var t = new this();
            for (var n in e) t[n] = e[n];
            return t.handlers = [], t.pubs = {}, t;
        },
        setHandlers: function(e) {
            this.handlers = e;
        },
        subscribe: function(e, t) {
            this.callable(t);
            var n = this, a = n.pubs || {}, r = a[e] || [];
            if (r) for (var o = 0; o < r.length; o++) {
                var s = r[o]();
                t.apply(n, s);
            }
            var i = n.handlers || [];
            return e in i || (i[e] = []), i[e].push(t), n.setHandlers(i), n;
        },
        unsubscribe: function(e, t) {
            this.callable(t);
            try {
                var n = this.handlers[e];
                if (!n) return this;
                if ("object" == typeof n && n.length > 0) {
                    for (var a = 0; a < n.length; a++) {
                        var r = t.toString(), o = n[a].toString();
                        r === o && n.splice(a, 1);
                    }
                    this.handlers[e] = n;
                } else delete this.handlers[e];
            } catch (e) {}
            return this;
        },
        publish: function(e) {
            var t = o(arguments), n = this.handlers || [], r = n[e] ? n[e].length : 0;
            if (r > 0) for (var s = 0; s < r; s++) {
                var i = n[e][s];
                a(i) && i.apply(this, t);
            }
            return this;
        },
        cachePubs: function(e) {
            var t = this.pubs || {}, n = o(arguments);
            t[e] || (t[e] = []), t[e].push(function() {
                return n;
            });
        }
    });
    e.exports = s;
}, function(e, t, n) {
    "use strict";
    function a() {}
    var r = n(9);
    a.prototype.extend = function() {}, a.prototype.create = function() {}, a.extend = function(e) {
        return this.prototype.extend.call(this, e);
    }, a.prototype.create = function(e) {
        var t = new this();
        for (var n in e) t[n] = e[n];
        return t;
    }, a.prototype.extend = function(e) {
        var t = function() {};
        try {
            r(Object.create) || (Object.create = function(e) {
                function t() {}
                return t.prototype = e, new t();
            }), t.prototype = Object.create(this.prototype);
            for (var n in e) t.prototype[n] = e[n];
            t.prototype.constructor = t, t.extend = t.prototype.extend, t.create = t.prototype.create;
        } catch (e) {
            console && console.log(e);
        } finally {
            return t;
        }
    }, e.exports = a;
}, function(e, t, n) {
    "use strict";
    e.exports = function() {
        return {
            run: function() {
                n(39)(this.options.context.aplus_config);
            }
        };
    };
}, function(e, t, n) {
    "use strict";
    var a = n(2), r = n(3), o = n(40);
    e.exports = function(e) {
        var t = a.getGlobalValue(r.APLUS), n = t._$ = t._$ || {};
        n.is_terminal = !0, n.send_pv_count = 0, n.spm = {
            data: {}
        }, n.meta_info = o.qGet() || {}, t.globalConfig = e.globalConfig;
        for (var s in e.metaInfo) o.setMetaInfo(s, e.metaInfo[s]);
        t._$ = n, t.isInternational = function() {
            return !1;
        };
    };
}, function(e, t, n) {
    "use strict";
    function a() {
        return s = p || {}, p;
    }
    function r() {
        return s || a();
    }
    function o(e, t) {
        return s || (s = {}), s[e] = t, !0;
    }
    var s, i = n(41), u = n(32), c = n(2), p = {}, l = "object", f = "string";
    t.getInfo = a, t.qGet = r, t.setMetaInfo = o;
    var g = function(e) {
        return s || (s = {}), s[e] || "";
    };
    t.getMetaInfo = g;
    var d = function(e, t) {
        if (e && t) {
            var n, a = function(n) {
                try {
                    var a = typeof t === f ? JSON.parse(t) : t;
                    s(e, Object.assign({}, n, a));
                } catch (e) {}
            }, r = function(n) {
                try {
                    var a = typeof t === f ? JSON.parse(t) : t;
                    s(e, n.concat(a));
                } catch (e) {}
            }, o = function(e) {
                e.constructor === Array ? r(e) : a(e);
            }, s = function(e, t) {
                h(e, t, {
                    from: "appendMetaInfo"
                });
            }, i = g(e);
            if ("aplus-exinfo" === e && (s(e, Object.assign({}, i, u.param2obj(t))), n = !0), 
            "aplus-page-properties" === e) {
                var c = t;
                if (i) for (var p in i) t[p] ? c[p] = Object.assign({}, i[p], t[p]) : c[p] = i[p];
                s(e, c), n = !0;
            }
            if (i) if (typeof i === l) o(i), n = !0; else try {
                var d = JSON.parse(i);
                typeof d === l && (o(d), n = !0);
            } catch (e) {}
            n || s(e, t);
        }
    };
    t.appendMetaInfo = d;
    var h = function(e, t) {
        var n, a, s = "OVERWRITE", u = s;
        if ("object" == typeof e ? (n = e.metaName, a = e.metaValue, u = e.mode || s) : (n = e, 
        a = t), u !== s) return d(n, a);
        if (o(n, a)) {
            var p = c.getGoldlogVal("_$") || {};
            p.meta_info = r();
            var l = c.setGoldlogVal("_$", p), f = [ "setMetaInfo", n, a, {} ];
            return i.doPubMsg(f), i.doCachePubs(f), l;
        }
    };
    t._setMetaInfo = h;
}, function(e, t, n) {
    "use strict";
    var a = n(2), r = "function", o = function() {
        var e = a.getGlobalValue("aplus"), t = e.aplus_pubsub || {}, n = typeof t.publish === r;
        return n ? t : "";
    };
    t.doPubMsg = function(e) {
        var t = o();
        t && typeof t.publish === r && t.publish.apply(t, e);
    }, t.doCachePubs = function(e) {
        var t = o();
        t && typeof t.cachePubs === r && t.cachePubs.apply(t, e);
    }, t.doSubMsg = function(e, t) {
        var n = o();
        n && typeof n.subscribe === r && n.subscribe(e, t);
    };
}, function(e, t, n) {
    "use strict";
    e.exports = function() {
        return {
            run: function() {
                n(43)();
            }
        };
    };
}, function(e, t, n) {
    "use strict";
    var a = n(44), r = n(2), o = n(3), s = n(18), i = n(7), u = n(27), c = n(29);
    e.exports = function() {
        var e = r.getContext(), t = r.getGlobalValue("aplus"), n = [], p = function(e) {
            n = t.getMetaInfo("aplus-auto-clk");
            var r = c.getPageCode();
            s(n) && n.forEach(function(t) {
                u.isStartWith(t.cssSelector, ".") || (t.cssSelector = "." + t.cssSelector), t.spmB || (t.spmB = r);
                var n = e.context.createSelectorQuery().selectAll(t.cssSelector);
                "function" == typeof n.fields ? n.fields({
                    id: !0,
                    dataset: !0,
                    rect: !0,
                    scrollOffset: !0
                }, function(n) {
                    a.watch_click(e.event || e.res, i(n), t);
                }).exec() : n.boundingClientRect().exec(function(n) {
                    n && n.length > 0 && n[0] && a.watch_click(e.event, i(n[0]), t);
                });
            });
        };
        e.aplus_queue.push({
            action: o.SUBSCRIBE,
            arguments: [ "aplusReady", function(e) {
                "complete" === e && (n = t.getMetaInfo("aplus-auto-clk"));
            } ]
        }), e.aplus_queue.push({
            action: o.SUBSCRIBE,
            arguments: [ "onAplusClk", function(e) {
                "ready" === e.status && p(e);
            } ]
        });
    };
}, function(e, t, n) {
    "use strict";
    function a(e, t) {
        var n = o.getGoldlogVal("_aplus_auto_exp") || {}, a = n.hashMap || {};
        for (var s in a) for (var u = a[s] || [], c = 0; c < u.length; c++) {
            var p = u[c] || {}, l = p.expConfig || {};
            if (e.cssSelector === l.cssSelector) {
                var f = i({
                    index: t
                }, l);
                if (f === p.hash_value) return r(p.dataset);
            }
        }
    }
    var r = n(7), o = n(2), s = n(45), i = n(46), u = n(10);
    t.watch_click = function(e, t, n) {
        function r(e, t) {
            var n = {};
            e && (e.changedTouches ? n = e.changedTouches[0] : e.detail && (n = e.detail));
            var a = n.clientX || 0, r = n.clientY || 0, o = t.top, s = t.bottom;
            return t.scrollTop && (o += t.scrollTop, s += t.scrollTop), t.left < a && a < t.right && o < r && r < s;
        }
        for (var i = o.getGlobalValue("aplus"), c = 0; c < t.length; c++) {
            var p = t[c];
            if (r(e, p)) {
                var l = c + 1, f = p.dataset || a(n, l) || {}, g = {}, d = u.jsonLikeStr2JSON(f.trackerParams) || {};
                if (i.globalConfig.isAli) {
                    var h = f.tracker || n.cssSelector.replace(/\'|\"|\;|\:|\=|\[|\]|\.|\#|\-|\/|\|/g, "");
                    if (g = i._$.spm.data || {}, g.c = h, g.c && "0" !== g.c) {
                        var _ = "d" + l;
                        g.d = _;
                    }
                } else g.b = n.spmB, n.spmC ? g.c = n.spmC : g.c = d.spmC ? encodeURIComponent(d.spmC) : "", 
                n.spmD ? g.d = l ? n.spmD + "_" + l : n.spmD : g.d = d.spmD ? encodeURIComponent(d.spmD) : "";
                s.pushEvent("CLK", f, n, p, g);
            }
        }
    };
}, function(e, t, n) {
    function a(e, t, n) {
        var a = o.getGlobalValue("aplus") || {}, r = a.getMetaInfo;
        if ("function" == typeof r) {
            var u = r(e), c = {};
            return "function" == typeof u && (c = u(t ? i(t) : {}, n)), s.param2obj(c);
        }
        return {};
    }
    function r(e, t) {
        var n = "";
        try {
            var a = new Number(e);
            n = parseFloat(a.toFixed(t));
        } catch (t) {
            n = e;
        }
        return n;
    }
    var o = n(2), s = n(32), i = n(7), u = n(18), c = n(37), p = {}, l = 3, f = "POST", g = "EXP", d = c.extend({
        push: function(e) {
            var t = o.getGlobalValue("aplus");
            for (this.buffer.push(e); this.buffer.length >= this.pkgSize; ) {
                var n = this.buffer.splice(0, this.pkgSize);
                n.length > 0 && t.combineRecord(this.logkey, g, n, this.method);
            }
        }
    });
    t.pushEvent = function(e, t, n, s, i) {
        var c = o.getGlobalValue("aplus"), l = n.props || [], d = {}, h = {};
        if (t) for (var _ in t) h[_.toLowerCase().replace(/^data-/, "").replace(/-/g, "")] = t[_];
        if (l && u(l)) for (var v = 0; v < l.length; v++) {
            var m = l[v].toLowerCase().replace(/^data-/, "").replace(/-/g, "");
            d[l[v]] = h[m];
        } else d = Object.assign({}, h);
        s && e === g && (d = Object.assign({}, d, {
            _w: r(s.width, 2),
            _h: r(s.height, 2),
            _x: r(s.x, 2),
            _y: r(s.y, 2),
            _rate: r(s.viewabilityRate || s.intersectionRatio, 2),
            _viewability: "intersection"
        })), n._vt && (d._vt = n._vt);
        var y = e === g ? "aplus-auto-exp-userfn" : "aplus-auto-clk-userfn", b = a(y, s, n.cssSelector);
        b.spm || (c.globalConfig.isAli && i && i.a && i.b ? b.spm = [ i.a, i.b, i.c || "0", i.d || "0" ].join(".") : b.spm = i && i.b ? i : void 0);
        var S = {}, P = t.trackerParams || t["tracker-params"];
        if (P) try {
            var A = JSON.parse(P);
            d = Object.assign(d, A), delete d.trackerParams, delete d.trackerparams;
        } catch (e) {}
        "EXP" === e && c.globalConfig.isAli && p[n.logkey] ? (S = Object.assign({}, {
            exargs: d
        }, b), p[n.logkey].push(S)) : (S = Object.assign({}, d, b, n.customArgs), c.record(n.logkey, e, S, f));
    }, t.watchRecord = function(e) {
        var t = o.getGlobalValue("aplus");
        t.globalConfig.isAli && e && e.forEach(function(e) {
            p.hasOwnProperty(e.logkey) || (p[e.logkey] = d.create({
                length: 0,
                buffer: [],
                logkey: e.logkey,
                pkgSize: "number" == typeof e.pkgSize && e.pkgSize || l,
                method: e.method || f
            }));
        });
    }, t.clearRecord = function() {
        var e = o.getGlobalValue("aplus");
        if (e.globalConfig.isAli) for (var t in p) {
            var n = p[t].buffer;
            n.length > 0 && (e.combineRecord(t, g, n, f), p[t].buffer = []);
        }
    };
}, function(e, t) {
    e.exports = function(e, t) {
        var n = [ t.logkey, t.cssSelector, t.positionSelector ];
        return e.id && n.push(e.id), e.dataset && n.push(JSON.stringify(e.dataset)), n = n.join("_");
    };
}, function(e, t, n) {
    "use strict";
    e.exports = function() {
        return {
            run: function() {
                n(48)();
            }
        };
    };
}, function(e, t, n) {
    "use strict";
    var a = n(2), r = n(49), o = n(50), s = n(3), i = n(8), u = {};
    e.exports = function() {
        function e(e, t, n) {
            var a = function(n, a) {
                if ("aplus-auto-exp" === n) {
                    var s = o.getAutoExpConfig(a);
                    if (JSON.stringify(s) === JSON.stringify(g)) return;
                    g = s, a && g && g.length > 0 && r.watch_exposure(e, g, t);
                }
            };
            c.aplus_queue.push({
                action: n,
                arguments: [ "setMetaInfo", a ]
            });
        }
        function t(e, t) {
            g = f.getMetaInfo("aplus-auto-exp"), setTimeout(function() {
                r.watch_exposure(e, g, t);
            }, 0);
        }
        function n(e) {
            try {
                var n = i.getCurrentPage(), a = n.route || n.is, r = u[a], o = JSON.stringify(e.data);
                r !== o && (u[a] = o, t(e.context, 0));
            } catch (e) {}
        }
        var c = a.getContext(), p = 0, l = 0, f = a.getGlobalValue("aplus");
        if (!f._aplus_auto_exp) {
            f._aplus_auto_exp = {
                hashMap: {}
            };
            var g = [];
            c.aplus_queue.push({
                action: s.SUBSCRIBE,
                arguments: [ "onShow", function(n) {
                    if ("ready" === n.status) {
                        e(n.context, 1, s.SUBSCRIBE), 0 === p ? (t(n.context, 1), p = 1) : t(n.context, 0);
                        try {
                            var a = i.getCurrentPage(), r = a.route || a.is;
                            u[r] = r;
                        } catch (e) {}
                    }
                } ]
            }), c.aplus_queue.push({
                action: s.SUBSCRIBE,
                arguments: [ "onAplusTouch", function(e) {
                    "ready" === e.status && (0 === l ? (l = 1, t(e.context, 1)) : n(e));
                } ]
            }), c.aplus_queue.push({
                action: s.SUBSCRIBE,
                arguments: [ "onPageDataChanged", function(e) {
                    setTimeout(function() {
                        n(e);
                    }, 200);
                } ]
            }), c.aplus_queue.push({
                action: s.SUBSCRIBE,
                arguments: [ "onHide", function(t) {
                    "ready" === t.status && (u = {}, p = 0, l = 0, e(t.context, 1, s.UNSUBSCRIBE), r.clear());
                } ]
            }), c.aplus_queue.push({
                action: s.SUBSCRIBE,
                arguments: [ "onUnload", function(e) {
                    "ready" === e.status && (u = {}, r.clear());
                } ]
            });
        }
    };
}, function(e, t, n) {
    "use strict";
    var a, r = n(2), o = n(50), s = n(7), i = n(45), u = n(46), c = [], p = n(8), l = n(27), f = n(10), g = n(51), d = n(29);
    t.watch_exposure = function(e, t, n, h) {
        function _(r) {
            function o(e) {
                var t = u[0];
                t && !l.isStartWith(u[0], ".") && (t = "." + t);
                try {
                    var n = a.createSelectorQuery().selectAll(t);
                    "function" == typeof n.fields ? n.fields({
                        dataset: !0,
                        id: !0
                    }, function(t) {
                        if (t && g.isArray(t)) {
                            for (var n = 0; n < t.length; n++) t[n].index = "" + (n + 1);
                            e({
                                elements: t,
                                type: "COMMON"
                            });
                        }
                    }).exec() : console.warn("该平台不支持自动曝光");
                } catch (e) {
                    console.warn("该平台不支持自动曝光, err = ", e);
                }
            }
            if (r < t.length) {
                var i = t[r];
                A = 0, c.forEach(function(e) {
                    e.subject[0] === i.cssSelector && e.subject[1] === i.positionSelector && (A = 1);
                });
                var u = [ i.cssSelector, i.positionSelector ];
                o(function(t) {
                    for (var a = t.elements || [], o = 0; o < a.length; o++) {
                        var p = a[o];
                        if (0 === A || 0 === n) {
                            var l = y(e);
                            l.subject = u, c.push(l), p.index && !v(p, i) && (m(p, i), b(l, i, p.index, function(e, t, n) {
                                if (n) {
                                    var a = s(e);
                                    a.index = "" + n;
                                    var r = s(a.dataset);
                                    m({
                                        id: a.id,
                                        index: a.index,
                                        dataset: r
                                    }, t), S(a, r, i);
                                }
                            }));
                        }
                    }
                    _(++r);
                });
            }
        }
        function v(e, t) {
            var n = u(e, t), a = e.index;
            return C[t.logkey] && C[t.logkey].forEach(function(e) {
                if (e.hash_value === n && e.index === a) return !0;
            }), !1;
        }
        function m(e, t) {
            var n = u(e, t);
            try {
                var a = e.index;
                if (C[t.logkey]) {
                    var r = 0;
                    C[t.logkey].forEach(function(t) {
                        t.hash_value === n && (r = 1, e.id && (t.id = e.id), e.dataset && (t.dataset = e.dataset), 
                        e.status && (t.status = e.status));
                    }), r || C[t.logkey].push({
                        id: e.id,
                        hash_value: n,
                        status: 0,
                        expConfig: t,
                        dataset: e.dataset,
                        index: a
                    });
                } else C[t.logkey] = [ {
                    id: e.id,
                    hash_value: n,
                    status: 0,
                    expConfig: t,
                    dataset: e.dataset,
                    index: a
                } ];
            } catch (e) {
                console.log("error === ", e);
            }
        }
        function y(e) {
            var t = {
                thresholds: [ o.AUTO_AT_VIEW_RATE ],
                initialRatio: 0
            }, n = !1;
            try {
                my && (n = !0);
            } catch (e) {}
            return n ? (t.selectAll = !0, a.createIntersectionObserver(t)) : (t.observeAll = !0, 
            a.createIntersectionObserver(e, t));
        }
        function b(e, t, n, a) {
            var r = t.cssSelector;
            r && !l.isStartWith(r, ".") && (r = "." + r), t.positionSelector ? e.relativeTo(t.positionSelector).observe(r, function(e) {
                try {
                    a(e, t, n);
                } catch (e) {
                    console.log("errorMessage: ", e);
                }
            }) : e.relativeToViewport().observe(r, function(e) {
                try {
                    a(e, t, n);
                } catch (e) {
                    console.log("errorMessage: ", e);
                }
            });
        }
        function S(e, t, n) {
            var a = r.getGlobalValue("aplus"), o = new Date().getTime(), u = P(o, e, n);
            if (u && u.length > 0) {
                var c = u[0], p = t.tracker || n.cssSelector.replace(/\'|\"|\;|\:|\=|\[|\]|\.|\#|\-|\/|\|/g, ""), l = {}, g = f.jsonLikeStr2JSON(t.trackerParams || {}) || {}, h = c.index;
                if (a.globalConfig.isAli) {
                    if (l = s(a._$.spm.data || {}), l.c = p, l.c && "0" !== l.c) {
                        var _ = "d" + h;
                        l.d = _;
                    }
                } else d.getPageCode() && (l.b = d.getPageCode()), n.spmC ? l.c = n.spmC : l.c = g.spmC ? encodeURIComponent(g.spmC) : "", 
                n.spmD ? l.d = h ? n.spmD + "_" + h : n.spmD : l.d = g.spmD ? encodeURIComponent(g.spmD) : "";
                i.pushEvent("EXP", t, n, Object.assign({}, e, {
                    x: c.x,
                    y: c.y,
                    width: c.width,
                    height: c.height,
                    hash_value: c.hash_value
                }), l);
            }
        }
        function P(e, t, n) {
            var a = r.getGoldlogVal("_aplus_auto_exp") || {}, s = a.hashMap || {}, i = [];
            for (var c in s) for (var p = s[c] || [], l = 0; l < p.length; l++) {
                var f = u(t, n), g = p[l] || {};
                if (0 === g.status && g.expConfig && f === g.hash_value) {
                    var d = t.boundingClientRect || {};
                    d.width && d.height && (g.dataset = t.dataset, g.x = d.left, g.y = d.top, g.width = d.width, 
                    g.height = d.height, g.size = d.width * d.height, t.intersectionRatio >= o.AUTO_AT_VIEW_RATE && (g.exposureTime = e, 
                    g.status = 1, i.push(g)));
                }
            }
            return i;
        }
        a && !h || (a = p.getContext());
        var A, I = r.getGoldlogVal("_aplus_auto_exp") || {}, C = I.hashMap || {};
        i.watchRecord(t), _(0);
    }, t.reset = function() {}, t.clear = function() {
        i.clearRecord();
        for (var e = 0; e < c.length; e++) c[e].disconnect();
        c = [];
        var t = r.getGoldlogVal("_aplus_auto_exp") || {}, n = t.hashMap || {};
        for (var a in n) delete n[a];
    };
}, function(e, t, n) {
    "use strict";
    function a(e) {
        return aplus && aplus.getMetaInfo ? aplus.getMetaInfo(e) : o.getMetaCnt(e);
    }
    var r = n(51), o = n(52), s = n(11);
    t.DATA_APLUS_AE_KEY = "data-aplus-ae", t.DATA_APLUS_AC_KEY = "data-aplus-clk", t.DATA_APLUS_SPM_ANCHOR_ID_KEY = "data-spm-anchor-id", 
    t.DATA_APLUS_VT_ITEM_INDEX_KEY = "data-aplus-vt-pos", t.LOOP_TIME = 1e3, t.getDefaultRequestCfg = function() {
        return {
            method: "POST",
            pkgSize: 10
        };
    };
    var i = function(e) {
        var t = e;
        try {
            var n = a("aplus-auto-exp-visible");
            n && (t = parseFloat(n)), t <= 0 && (t = e);
        } catch (n) {
            t = e;
        } finally {
            return t;
        }
    };
    t.AUTO_AT_VIEW_RATE = i(.3);
    var u = function(e) {
        var t = e;
        try {
            var n = a("aplus-auto-exp-duration"), r = parseInt(n);
            r + "" != "NaN" && (t = r);
        } catch (e) {} finally {
            return t;
        }
    };
    t.EXP_DURATION = u(300);
    var c = function(e, t) {
        var n, o = [], i = [];
        try {
            n = t || a(e);
            var u = [];
            if (n && "string" == typeof n) try {
                u = JSON.parse(n);
            } catch (e) {
                u = JSON.parse(n.replace(/'/g, '"'));
            } else "object" == typeof n && n.constructor === Array && (u = n);
            if (u && u.constructor === Array) for (var c = 0; c < u.length; c++) {
                var p = u[c] || {}, l = p.logkey || "", f = p.tag ? p.tag : "", g = p.filter, d = p.cssSelector, h = d || f && g;
                if (!l || !h) throw new Error("meta " + e + " config error, " + JSON.stringify(p));
                g = "string" == typeof g ? g.split("=") : [];
                var _ = f;
                if (g.length >= 2 ? _ += "[" + g.shift() + '="' + decodeURIComponent(g.join("")) + '"]' : 1 == g.length && g[0] && (_ += "[" + decodeURIComponent(g[0]) + "]"), 
                d && (_ += d), p.elementSelector = _, r.indexof(i, _) > -1) throw new Error("meta " + e + " config error, tag_filter_cssSelector " + _ + " repeated");
                i.push(_), o.push(p);
            }
        } catch (e) {
            s().w(e);
        } finally {
            return o;
        }
    };
    t.getAutoExpConfig = function(e) {
        return c("aplus-auto-exp", e) || [];
    }, t.getAutoExpUserFn = function() {
        var e = a("aplus-auto-exp-userfn");
        if (e) {
            var t = window[e] || e;
            if ("function" == typeof t) return t;
        }
        return null;
    }, t.isThrottleWatchDom = function() {
        var e = !1;
        try {
            e = "throttle" === a("aplus-auto-exp-watchdom");
        } catch (e) {}
        return e;
    }, t.getAutoClkConfig = function(e) {
        return c("aplus-auto-clk", e) || [];
    }, t.getAutoClkUserFn = function() {
        var e = a("aplus-auto-clk-userfn");
        if (e) {
            var t = window[e] || e;
            if ("function" == typeof t) return t;
        }
        return null;
    };
}, function(e, t) {
    "use strict";
    t.indexof = function(e, t) {
        var n = -1;
        try {
            n = e.indexOf(t);
        } catch (r) {
            for (var a = 0; a < e.length; a++) e[a] === t && (n = a);
        } finally {
            return n;
        }
    }, t.itemMatch = function(e, t) {
        var n = !1;
        try {
            if (!this.isArray(e)) return n;
            n = e.some(function(e) {
                return e && e.length > 0 && t.indexOf(e) !== -1;
            });
        } catch (r) {
            for (var a = 0; a < e.length; a++) if (t.indexOf(e[a]) !== -1) {
                n = !0;
                break;
            }
        }
        return n;
    }, t.isArray = function(e) {
        return Array.isArray ? Array.isArray(e) : /Array/.test(Object.prototype.toString.call(e));
    };
}, function(e, t, n) {
    "use strict";
    function a(e) {
        return s = s || document.getElementsByTagName("head")[0], i && !e ? i : s ? i = s.getElementsByTagName("meta") : [];
    }
    function r(e, t) {
        var n, r, o, s = a(), i = s.length;
        for (n = 0; n < i; n++) r = s[n], u.tryToGetAttribute(r, "name") === e && (o = u.tryToGetAttribute(r, t || "content"));
        return o || "";
    }
    function o(e) {
        var t = {
            isonepage: "-1",
            urlpagename: ""
        }, n = e.qGet();
        if (n && n.hasOwnProperty("isonepage_data")) t.isonepage = n.isonepage_data.isonepage, 
        t.urlpagename = n.isonepage_data.urlpagename; else {
            var a = r("isonepage") || "-1", o = a.split("|");
            t.isonepage = o[0], t.urlpagename = o[1] ? o[1] : "";
        }
        return t;
    }
    var s, i, u = n(53);
    t.getMetaTags = a, t.getMetaCnt = r, t.getOnePageInfo = o;
}, function(e, t) {
    "use strict";
    t.tryToGetAttribute = function(e, t) {
        return e && e.getAttribute ? e.getAttribute(t) || "" : "";
    };
    var n = function(e, t, n) {
        if (e && e.setAttribute) try {
            e.setAttribute(t, n);
        } catch (e) {}
    };
    t.tryToSetAttribute = n, t.tryToRemoveAttribute = function(e, t) {
        if (e && e.removeAttribute) try {
            e.removeAttribute(t);
        } catch (a) {
            n(e, t, "");
        }
    };
}, function(e, t, n) {
    var a = n(2), r = n(18), o = n(3), s = n(8), i = n(11);
    e.exports = function() {
        return {
            resetLastPageSpm: function() {
                var e = a.getGlobalValue(o.APLUS, {}), t = e._$.spm || {};
                t.spm_cnt = "";
            },
            listen: function() {
                var e = this, t = a.getGlobalValue(o.APLUS_QUEUE, []);
                t.push({
                    action: o.SUBSCRIBE,
                    arguments: [ "onShow", function(e) {
                        if ("ready" === e.status) {
                            var t = a.getGlobalValue(o.APLUS, {}), n = t.getMetaInfo("pages"), i = s.getCurrentPage(), u = i.route || i.is;
                            if (r(n)) for (var c = 0; c < n.length; c++) {
                                var p = n[c];
                                if (p.matchUrl === u) {
                                    t.setPageSPM(p.spmA, p.spmB);
                                    break;
                                }
                            }
                        }
                    } ]
                }), t.push({
                    action: o.SUBSCRIBE,
                    arguments: [ "clearPageSPM", function() {
                        e.resetLastPageSpm();
                    } ]
                }), t.push({
                    action: o.SUBSCRIBE,
                    arguments: [ "setPageSPM", function(e) {
                        try {
                            var t = a.getGlobalValue(o.APLUS, {}), n = t._$.spm || {}, r = getCurrentPages() || [], s = e.spmCnt ? e.spmCnt.split(".") : [ n.data.a || "0", n.data.b || "0" ];
                            2 === s.length && (s = s.concat([ "0", "0" ]));
                            var u = s.join("."), c = r[r.length - 1], p = r[r.length - 2] || {}, l = r[r.length - 3] || {};
                            r.length > 0 && c && (r[r.length - 1].spm = u);
                            var f = n.data && n.data.a ? [ n.data.a, n.data.b, n.data.c || "0", n.data.d || "0" ].join(".") : "";
                            n.data.a = s[0] ? "" + s[0] : "0", n.data.b = s[1] ? "" + s[1] : "0", n.data.c = "0", 
                            n.data.d = "0", n.page_referrer = r.length > 1 && c ? c.route || c.is : "", n.spm_cnt = u;
                            var g = t.spm_orign || n.spm_orign;
                            n.spm_pre = e.spmPre || n.spm_url || l.spm || "", n.spm_url = e.spmUrl || f || p.spm || g || "", 
                            t._$.spm = n;
                        } catch (e) {
                            i().w("setPageSPM error, the errorInfo is ", e);
                        }
                    } ]
                });
            },
            run: function() {
                this.listen();
            }
        };
    };
}, function(e, t, n) {
    e.exports = function() {
        return {
            run: function() {
                var e = n(56), t = e.create();
                t.run(this.options);
            }
        };
    };
}, function(e, t, n) {
    "use strict";
    function a(e, t) {
        if (u().v("event: ", e, t), i.checkEvent(e, t)) {
            var a = n(59)(e, t);
            o().addEvent(a), s().send(i.DataType.EKV, {
                noCache: !1
            }, function() {
                u().i("event send success: ", e, a);
            });
        }
    }
    var r = n(57), o = n(17), s = n(19), i = n(15), u = n(11), c = n(7), p = n(27), l = n(2), f = n(8), g = n(3), d = n(29);
    e.exports = r.extend({
        handlerMiddleware: function(e) {
            var t = l.getGlobalValue("aplus");
            u().setDebug(!!t.getMetaInfo("DEBUG"));
            var n, r, o, s = e && e.userdata && e.userdata.logkey, h = e && e.userdata && e.userdata.gmkey, _ = e && e.what_to_send && e.what_to_send.logdata && e.what_to_send.logdata || {}, v = t.getMetaInfo("globalproperty");
            if ("CLK" === h || "EXP" === h || "OTHER" === h || s === g.APP_START || s === g.APP_END) {
                n = c(e && e.userdata && e.userdata.gokey || {}), r = _.gokey || {};
                var m, y = {};
                "$$_share" === s && (y.refer_page = _.url, y.share_type = n.share_type), r.scene && (y.scene = f.getPlatformType() + "_" + r.scene), 
                r.targetAppKey && (y.targetAppKey = n.targetAppKey, delete n.targetAppKey), o = n["data-pagename"] || n.page_name || n.spm && n.spm.b || t.getPageName() || _.url || "", 
                y.page_name = o, y.url = _.url || "-", (n.page_name || n["data-pagename"]) && (delete n.page_name, 
                delete n["data-pagename"]), p.isEmptyObject(v) || (y.gp = v), n.spm && (y["spm-cnt"] = [ encodeURIComponent(o), n.spm.c, n.spm.d ].filter(function(e) {
                    return !!e;
                }).join("."), delete n.spm);
                var b = c(n);
                for (var S in b) "string" == typeof S && i.startsWith(S, "_") && (y[S] = b[S], delete n[S]);
                m = s === g.APP_START || s === g.APP_END ? p.assign(y, n) : p.assign(y, {
                    cusp: n
                }), a(s, m);
            } else if ("2001" === _.event_code) {
                var P = {}, A = g.PAGE_START;
                r = c(_.gokey || {}), o = r.page_name || t.getPageName() || d.getPageCode(_.url) || _.url || "", 
                P.r = _.arg1 || _.logkey || "-", P.page_name = o, r._page_auto_pv ? (P.is_auto = 1, 
                P.url = r.path || "-", P.ref_url = r.referrer, delete r._page_auto_pv, delete r.referrer, 
                delete r.path, delete r.page_name) : (P.is_auto = 0, P.url = _.url || "-", P.ref_url = _.pre), 
                r.duration && (P.duration = r.duration, delete r.duration), p.isEmptyObject(v) || (P.gp = v), 
                r.scene && (P.scene = f.getPlatformType() + "_" + r.scene), r = i.deleteInfo(r, [ "_anony_id", "_dev_id", "_session_id", "_user_id", "_user_nick", "uaid", "pvid", "scene" ]), 
                P["spm-cnt"] = encodeURIComponent(o), r._page_auto_id && (A = r._page_auto_id, delete r._page_auto_id), 
                r.page_start && (P.page_start = r.page_start, delete r.page_start), a(A, p.assign(P, {
                    cusp: r
                }));
            }
        },
        run: function() {
            this.watchLOG();
        }
    });
}, function(e, t, n) {
    "use strict";
    var a = n(37), r = n(58), o = n(3);
    e.exports = a.extend({
        subscribeLogs: function(e, t) {
            r.pushIntoGoldlogQueue(o.SUBSCRIBE, [ e, function(e) {
                e.status === o.COMPLETE && t(e);
            } ]);
        },
        getLogicSymbol: function() {
            return "ALI" === this.format ? "&" : "||";
        },
        handlerMiddleware: function() {},
        watchLOG: function() {
            var e = this;
            e.subscribeLogs(o.MW_CHANGE_PV, function(t) {
                e.handlerMiddleware(t, "pv");
            }), e.subscribeLogs(o.MW_CHANGE_HJLJ, function(t) {
                e.handlerMiddleware(t, o.APLUS);
            });
        },
        run: function() {
            this.watchLOG();
        }
    });
}, function(e, t, n) {
    "use strict";
    var a = n(2);
    t.pushIntoGoldlogQueue = function(e, t) {
        var n = a.getGlobalValue("aplus_queue"), r = a.getGlobalValue("aplus"), o = e.split("."), s = r[o[1]], i = s ? s[o[2]] : null;
        r && 2 === o.length && s ? s.apply(r, t) : 3 === o.length && i ? i.apply(s, t) : n.push({
            action: e,
            arguments: t
        });
    };
}, function(e, t, n) {
    var a = n(2), r = n(27);
    e.exports = function(e, t) {
        if ("string" != typeof e) return null;
        var n = Object.create(null);
        n.id = e, t && t.ts || (n.ts = Date.now());
        var o = typeof t;
        if ("object" === o) for (var s in t) ({}).hasOwnProperty.call(t, s) && (n[s] = t[s]);
        var i = a.getGlobalValue("aplus"), u = i.getMetaInfo("globalproperty");
        return r.isEmptyObject(u) || (n.gp = u), n;
    };
}, function(e, t, n) {
    "use strict";
    var a = n(16);
    e.exports = function() {
        return {
            getLogConfig: function() {
                var e = {}, t = this.options.config.plugins;
                for (var n in t) e[n] = {
                    plugins: t[n],
                    context: {}
                }, a(t[n], function(t) {
                    e[n].context[t.name] = t.config || {};
                });
                return e;
            },
            run: function() {
                this.options.context.logConfig = this.getLogConfig(), this.options.context.logConfig.pageLoadTime = this.options.context.PAGE_LOAD_TIME;
            }
        };
    };
}, function(e, t, n) {
    "use strict";
    var a = n(2), r = n(8), o = n(3), s = n(62), i = n(11), u = "EMPTY_CNA";
    e.exports = function() {
        return {
            _syncEtag: function(e) {
                var t, n = a.getGlobalValue(o.APLUS), c = this, p = function(t) {
                    var r = t && t.data ? t.data.cna : "";
                    r ? (a.setGoldlogVal(g, r), e(r)) : "Y" === n.fetchEtagStatus ? n.aplus_pubsub.subscribe("etag", function(t) {
                        e(t);
                    }) : d();
                }, l = n.getMetaInfo(o.APLUS_PV_DOMAIN);
                l && (t = s.getUrl({
                    egUrl: (l.indexOf("//") === -1 ? "//" + l : l) + "/eg.js"
                }), c.options.context.etag && (c.options.context.etag.egUrl = t));
                var f = r.getContext(), g = n.globalConfig.ETAG_STORAGE_KEY, d = function() {
                    t && (n.fetchEtagStatus = "Y", r.request(t, {
                        dataType: "text",
                        requestMethodName: "request"
                    }, function(t) {
                        n.fetchEtagStatus = "N";
                        var r = "";
                        try {
                            var o = t.data || "", s = o.split(";");
                            if (s.length > 1) {
                                var c = s[1], p = c.split("=");
                                r = p[1] || "", r = r.replace(/\"/g, ""), a.setGoldlogVal(g, r), f.setStorage({
                                    key: g,
                                    data: {
                                        cna: r
                                    }
                                }), n.aplus_pubsub.publish("etag", r), n.aplus_pubsub.cachePubs("etag", r);
                            }
                        } catch (e) {
                            i().w(e);
                        }
                        r || (r = u), e(r);
                    }, function(e) {
                        i().w(e);
                    }));
                }, h = a.getGoldlogVal(g);
                h ? e(h) : f.getStorage({
                    key: g,
                    success: function(e) {
                        p(e);
                    },
                    fail: function(e) {
                        p(e);
                    }
                });
            },
            run: function(e, t) {
                var n = this, r = a.getGlobalValue("aplus"), o = r.getMetaInfo("aplus-etag-timeout"), s = 200, i = s;
                try {
                    i = parseInt(o), isNaN(i) && (i = s);
                } catch (e) {}
                if (this._syncEtag(function(e) {
                    n.options.context.etag && (n.options.context.etag.cna = e), i >= 200 && t(e);
                }), !(i < 200)) return i;
            }
        };
    };
}, function(e, t, n) {
    "use strict";
    var a = n(63);
    t.getUrl = function(e) {
        var t = a.getUrl(e && e.egUrl);
        if (0 !== t.indexOf("http")) {
            var n = "https:";
            /(\d+\.){3,}\d+/.test(t) && (n = "http:"), t = n + t;
        }
        return t;
    };
}, function(e, t, n) {
    "use strict";
    var a = n(64), r = n(65), o = n(2);
    e.exports = {
        tryToDecodeURIComponent: function(e, t) {
            var n = t || "";
            if (e) try {
                n = decodeURIComponent(e);
            } catch (e) {}
            return n;
        },
        parseSemicolonContent: function(e, t, n) {
            t = t || {};
            var r, o, s = e.split(";"), i = s.length;
            for (r = 0; r < i; r++) {
                o = s[r].split("=");
                var u = a.trim(o.slice(1).join("="));
                t[a.trim(o[0]) || ""] = n ? u : this.tryToDecodeURIComponent(u);
            }
            return t;
        },
        nodeListToArray: function(e) {
            var t, n;
            try {
                return t = [].slice.call(e);
            } catch (r) {
                t = [], n = e.length;
                for (var a = 0; a < n; a++) t.push(e[a]);
                return t;
            }
        },
        getLsCna: function(e, t) {
            if (r.set && r.test()) {
                var n = "", a = r.get(e);
                if (a) {
                    var o = a.split("_") || [];
                    n = t ? o.length > 1 && t === o[0] ? o[1] : "" : o.length > 1 ? o[1] : "";
                }
                return decodeURIComponent(n);
            }
            return "";
        },
        setLsCna: function(e, t, n) {
            n && r.set && r.test() && r.set(e, t + "_" + encodeURIComponent(n));
        },
        getUrl: function(e) {
            var t = o.getGlobalValue("aplus"), a = n(3), r = e || "//log.mmstat.com/eg.js";
            try {
                var s = t.getMetaInfo(a.APLUS_PV_DOMAIN), i = /[[a-z|\-|\_|0-9\.]+[a-z|\-|\_|0-9](:\d*)?/, u = s.match(i);
                u && u[0] && (r = "//" + u[0] + "/eg.js");
            } catch (e) {}
            return r;
        }
    };
}, function(e, t) {
    "use strict";
    function n(e) {
        return "string" == typeof e ? e.replace(/^\s+|\s+$/g, "") : "";
    }
    t.trim = n;
}, function(e, t) {
    "use strict";
    e.exports = {
        set: function(e, t) {
            try {
                return localStorage.setItem(e, t), !0;
            } catch (e) {
                return !1;
            }
        },
        get: function(e) {
            try {
                return localStorage.getItem(e);
            } catch (e) {
                return "";
            }
        },
        test: function() {
            var e = "grey_test_key";
            try {
                return localStorage.setItem(e, 1), localStorage.removeItem(e), !0;
            } catch (e) {
                return !1;
            }
        },
        remove: function(e) {
            localStorage.removeItem(e);
        }
    };
}, function(e, t, n) {
    "use strict";
    var a = n(2), r = n(3);
    e.exports = function() {
        return {
            getMetaInfo: function() {
                var e = a.getGoldlogVal("_$") || {}, t = e.meta_info;
                return t;
            },
            getAplusWaiting: function() {
                var e = this.getMetaInfo() || {};
                return e["aplus-waiting"];
            },
            run: function(e, t) {
                var n = this.options.config || {}, a = this.getAplusWaiting();
                if (a && n.is_auto) switch (a = this.getAplusWaiting() + "", this.options.context.when_to_sendpv = {
                    aplusWaiting: a
                }, a) {
                  case r._USER_ID:
                  case r._ANONY_ID:
                  case "MAN":
                    return "done";

                  case "1":
                    return this.options.context.when_to_sendpv.isWait = !0, setTimeout(function() {
                        t();
                    }, 6e3), 6e3;

                  default:
                    var o = 1 * a;
                    if (o + "" != "NaN") return this.options.context.when_to_sendpv.isWait = !0, setTimeout(function() {
                        t();
                    }, o), o;
                }
            }
        };
    };
}, function(e, t, n) {
    "use strict";
    var a = n(2), r = n(11), o = n(8), s = n(3), i = n(10);
    e.exports = function() {
        return {
            getMetaInfo: function(e) {
                var t = a.getGoldlogVal("_$") || {};
                return (t.meta_info || {})[e];
            },
            getHostUrl: function() {
                var e = this.getMetaInfo(s.APLUS_PV_DOMAIN);
                if (!i.checkDomain(e)) return "";
                var t = o.getLogDomain();
                if (!t) return r().tip_w("当前小程序框架未支持，请联系QT交付同学寻求帮助！！"), "";
                var n = [ "//", e, t ];
                return n.join("");
            },
            run: function() {
                this.options.context.where_to_send.method = "POST";
                var e = this.getHostUrl();
                if (!e) return "done";
                if (0 !== e.indexOf("//")) return r().w("上报域名无效: " + e), "done";
                var t = s.HTTPS;
                /(\d+\.){3,}\d+/.test(e) && (t = "http:"), e = t + e, this.options.context.where_to_send.url = e;
            }
        };
    };
}, function(e, t, n) {
    "use strict";
    var a = n(2), r = n(3), o = n(11), s = n(8), i = n(69), u = n(71), c = n(10), p = r.SPM_CNT, l = r.SPM_URL, f = r.SPM_PRE;
    e.exports = function() {
        return {
            getCommonParams: function() {
                var e = a.getGlobalValue(r.APLUS), t = this.options.context || {}, n = t.etag || {}, g = t.userdata || {}, d = a.getGoldlogVal("_$") || {}, h = d.spm || {}, _ = this.options.config || {}, v = e.getMetaInfo("platformType") || s.getPlatformType(), m = {
                    _dev_id: e.getMetaInfo("_dev_id"),
                    _anony_id: e.getMetaInfo(r._ANONY_ID),
                    _user_id: e.getMetaInfo(r._USER_ID),
                    _user_nick: e.getMetaInfo("_user_nick"),
                    _session_id: e.getMetaInfo("_session_id"),
                    uaid: e.getMetaInfo("uaid") + "" == "1" ? 1 : 0
                }, y = e._aplus_client || {}, b = e.globalConfig || {}, S = "-";
                try {
                    var P = getCurrentPages()[0];
                    S = P.route || P.is;
                } catch (e) {}
                var A = new Date().getTime() + S, I = y.model + y.networkType + _.title + n.cna, C = (b.isDecodeUrl ? "DC_" : "") + i.getLogId(A, I), T = c.getAppKey();
                T || o().w("please set appKey in aplus metaInfo before sendPV!");
                var E = Object.assign({}, {
                    appKey: T,
                    cache: C,
                    cna: n.cna,
                    etag: n,
                    pre: d.page_referrer || "-",
                    sdk_info: {
                        jsver: b.script_name,
                        lver: b.lver,
                        customSdkId: e.getMetaInfo("customSdkId") || "",
                        platformType: v.toLowerCase()
                    },
                    title: _.title || "",
                    url: S || "-",
                    client: y,
                    timeZone: u.getTimeZone(),
                    gmkey: g.gmkey || "",
                    method: this.options.context.where_to_send.method
                }, m), x = m;
                return h.spm_url && (x[l] = h.spm_url || ""), h.spm_pre && (x[f] = h.spm_pre || ""), 
                h.spm_cnt && (x[p] = h.spm_cnt || ""), x[r.PVID] = e.pvid || "", E.sessionArgs = e.getMetaInfo("aplus-session-args"), 
                E.globalArgs = e.getMetaInfo("aplus-global-args"), E.gokey = x, E;
            },
            getPvParams: function() {
                var e = a.getGlobalValue(r.APLUS), t = this.getCommonParams();
                return this.options.config.is_auto || (t.sdk_info.mansndlog = 1), Object.assign({}, t, {
                    event_code: r.PV_CODE,
                    logtype: "1",
                    logkey: "/vx.gif",
                    event_timestamp: e._$.send_pv_count > 0 ? new Date() : e.logConfig.pageLoadTime
                });
            },
            getHjljParams: function() {
                var e = this.options.context || {}, t = e.userdata || {}, n = {
                    event_code: r.EVENT_ID_MAP[t.gmkey] || t.gmkey,
                    logtype: "2",
                    logkey: t.logkey,
                    event_timestamp: new Date()
                };
                return Object.assign({}, this.getCommonParams(), n);
            },
            run: function() {
                var e = {};
                e = "PV" === this.options.config.recordType ? this.getPvParams() : this.getHjljParams(), 
                this.options.context.what_to_send.logdata = e;
            }
        };
    };
}, function(e, t, n) {
    "use strict";
    function a(e, t, n) {
        return e ? r.hash(encodeURIComponent(e)).substr(0, t) : n;
    }
    var r = n(70), o = function(e) {
        function t(e) {
            var t = "0123456789abcdefhijklmnopqrstuvwxyzABCDEFHIJKLMNOPQRSTUVWXYZ", n = "0123456789abcdefghijkmnopqrstuvwxyzABCDEFGHIJKMNOPQRSTUVWXYZ";
            return 1 == e ? t.substr(Math.floor(60 * Math.random()), 1) : 2 == e ? n.substr(Math.floor(60 * Math.random()), 1) : "0";
        }
        for (var n, a = "", r = "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ", o = !1; a.length < e; ) n = r.substr(Math.floor(62 * Math.random()), 1), 
        !o && a.length <= 2 && ("g" == n.toLowerCase() || "l" == n.toLowerCase()) && (0 === a.length && "g" == n.toLowerCase() ? Math.random() < .5 && (n = t(1), 
        o = !0) : 1 == a.length && "l" == n.toLowerCase() && "g" == a.charAt(0).toLowerCase() && (n = t(2), 
        o = !0)), a += n;
        return a;
    };
    t.getLogId = function(e, t) {
        var n = o(8), r = n.substr(0, 4), s = n.substr(0, 6);
        return [ a(e, 4, r), a(t, 4, r), s ].join("");
    };
}, function(e, t) {
    "use strict";
    t.hash = function(e, t) {
        var n, a, r = 1315423911, o = t || r;
        for (n = e.length - 1; n >= 0; n--) a = e.charCodeAt(n), o ^= (o << 5) + a + (o >> 2);
        var s = (2147483647 & o).toString(16);
        return s;
    };
}, function(e, t) {
    t.getTimeZone = function() {
        var e = -new Date().getTimezoneOffset() / 60, t = "+";
        e < 0 && (t = "-");
        var n = Math.abs(parseInt(e)), a = Math.abs(parseInt(e) - e), r = "00";
        return a > 0 && (r = 60 * a), "GMT" + t + (n > 9 ? n : "0" + n) + ":" + r;
    };
}, function(e, t, n) {
    "use strict";
    var a = n(3), r = n(2), o = n(8);
    e.exports = function() {
        return {
            run: function() {
                var e = o.isTB(), t = r.getGlobalValue(a.APLUS), n = this.options.context.what_to_send.logdata || {}, s = getCurrentPages(), i = s[s.length - 1] || {};
                i && !n.title && (n.title = i.route || ""), n.url = (!e && t.globalConfig.isAli ? "https://" : "") + (i.route || i.is || "-");
                var u = "-";
                if (s.length > 1) {
                    var c = s[s.length - 2] || {};
                    u = (!e && t.globalConfig.isAli ? "https://" : "") + (c.route || c.is || "-");
                }
                n.pre = u, n.sdk_info && (n.sdk_info.windmill = "1"), this.options.context.what_to_send.logdata = n;
            }
        };
    };
}, function(e, t, n) {
    "use strict";
    var a = n(32), r = n(18), o = n(2), s = n(3), i = n(8);
    e.exports = function() {
        return {
            getUserdata: function() {
                var e = o.getGlobalValue("aplus"), t = this.options.config || {}, n = {};
                t && !t.is_auto && t.gokey && ("string" == typeof t.gokey ? n = a.param2obj(t.gokey) : "object" == typeof t.gokey && (n = t.gokey));
                var s = function(e) {
                    r(e) ? e.forEach(function(e) {
                        n = Object.assign({}, n, e);
                    }) : n = Object.assign({}, n, e);
                };
                s(e.getMetaInfo("aplus-cpvdata"));
                var u = i.getCurrentPage(), c = u.route || u.is || "page", p = e.getMetaInfo("aplus-page-properties") || {}, l = p[c];
                "object" == typeof l && s(l);
                var f = this.options.context || {}, g = f.userdata || {};
                return s(g), n;
            },
            updatePre: function(e) {
                var t = this.options.config || {}, n = o.getGoldlogVal("_$") || {};
                return t && t.referrer && (n.page_referrer = t.referrer, e.pre = t.referrer), o.setGoldlogVal("_$", n), 
                e;
            },
            updateUrl: function(e) {
                var t = this.options.config || {};
                return t && t.pageUrl && (e.url = t.pageUrl), e;
            },
            updateSpmUrl: function(e) {
                var t = this.options.config || {}, n = t[s.SPM_URL] || t.spmUrl;
                return n && (e.gokey[s.SPM_URL] = n), e;
            },
            run: function() {
                var e = this.options.context.what_to_send.logdata, t = Object.assign({}, this.getUserdata(), e.userdata || {});
                e.gokey = Object.assign({}, e.gokey, t), e = this.updatePre(e), e = this.updateUrl(e), 
                e = this.updateSpmUrl(e), this.options.context.what_to_send.logdata = e, this.options.context.userdata = e.gokey;
            }
        };
    };
}, function(e, t, n) {
    "use strict";
    var a = n(2);
    e.exports = function() {
        return {
            run: function() {
                var e = a.getGoldlogVal("_$") || {}, t = e.send_pv_count || 0;
                e.send_pv_count = ++t, a.setGoldlogVal("_$", e);
            }
        };
    };
}, function(e, t, n) {
    "use strict";
    var a = n(32), r = n(18), o = n(2);
    e.exports = function() {
        return {
            getUserData: function() {
                var e = o.getGlobalValue("aplus"), t = this.options.context || {}, n = t.userdata || {}, s = t.what_to_send.logdata.gokey;
                s = Object.assign({}, s, a.param2obj(n.gokey)), s = Object.assign({}, s, a.param2obj(e.getMetaInfo("aplus-exinfo") || {}));
                var i = e.getMetaInfo("aplus-exdata");
                return r(i) ? i.forEach(function(e) {
                    s = Object.assign({}, s, e);
                }) : s = Object.assign({}, s, i || {}), s;
            },
            run: function() {
                var e = this.options.context.what_to_send.logdata, t = this.getUserData();
                "1010" === e.gmkey && (e.arg1 = t.duration || e.logkey), e.gokey = t, this.options.context.what_to_send.logdata = e;
            }
        };
    };
}, function(e, t, n) {
    "use strict";
    e.exports = function() {
        return {
            run: function() {
                n(77)(this.options.context.logConfig);
            }
        };
    };
}, function(e, t, n) {
    "use strict";
    var a = n(41), r = n(3), o = n(2);
    e.exports = function(e) {
        var t = o.getGlobalValue(r.APLUS);
        if (!t._aplus_api) {
            t._aplus_api = {
                status: r.COMPLETE
            };
            var s = n(78).run.create({
                logConfig: e
            });
            for (var i in s) t[i] = s[i];
            o.setGlobalValue(r.APLUS, t);
            var u = [ r.APLUS + "Ready", r.COMPLETE ];
            a.doPubMsg(u), a.doCachePubs(u);
        }
    };
}, function(e, t, n) {
    "use strict";
    var a = n(37), r = n(9), o = n(8), s = n(18), i = n(3), u = n(41), c = n(7), p = n(2), l = n(79), f = n(40), g = n(83), d = n(11), h = n(10), _ = n(29), v = function(e, t) {
        my && my.call && "function" == typeof t && my.call("handleLoggingAction", {
            type: "behavior",
            subType: e.subType
        }, function(n) {
            var a = {};
            a[e.spmType] = n[e.spmType], t(a);
        });
    }, m = a.extend({
        _send: function(e, t, n, a, r) {
            return e = h.can2https(e), "object" == typeof t && "POST" === n ? o.request(e, {
                method: n,
                data: t,
                dataType: "base64"
            }, a, r) : o.request(e + "?" + t, {
                method: n,
                dataType: "base64"
            }, a, r), e;
        },
        _requestVTConfig: function(e, t, n) {
            if (0 === e.indexOf("//")) {
                var a = i.HTTPS;
                /(\d+\.){3,}\d+/.test(e) && (a = "http:"), e = a + e;
            }
            o.request(e, {
                method: "GET"
            }, t, n);
        },
        _sendPV: function(e, t) {
            var n = p.getGlobalValue(i.APLUS);
            e = e || {}, e.pageName && n._setMetaInfo(i.APLUS + "-pagename", e.pageName);
            var a = new l();
            e.recordType = "PV", e.method || (e.method = "GET");
            var r = n.logConfig.pv;
            return a.run({
                plugins: r.plugins,
                context: c(r.context)
            }, {
                config: e,
                userdata: t || {},
                pubsubType: "pv",
                middlewareMessageKey: "mw_change_pv"
            }), !0;
        },
        _combineRecord: function(e, t, n, a) {
            var r = p.getGlobalValue(i.APLUS), o = "EXP";
            if (!r.globalConfig.isAli || t !== o && "CLK" !== t) console.warn("only support EXP or CLK log to combile record!"); else if (s(n)) {
                a || (a = "POST");
                var u = [], c = "true";
                n.forEach(function(e) {
                    u.push({
                        exargs: "object" == typeof e.exargs ? e.exargs : {},
                        scm: e.scm,
                        spm: e.spm,
                        aplusContentId: e.aplusContentId
                    }), "false" === e._aplus_sendtomy && "true" === c && (c = "false");
                });
                var l = [];
                l.push((t === o ? "expdata=" : "clkdata=") + JSON.stringify(u)), l.push(t === o ? "_is_auto_exp=1" : "_is_auto_clk=1"), 
                l.push("_eventType=custom"), l.push("_method=" + a), l.push("_pkgSize=" + n.length), 
                "false" === c && l.push("_aplus_sendtomy=false"), r.record(e, t, l.join("&"), a);
            } else console.warn("type of gokeys must be ArrayObject!");
        },
        _record: function(e, t, n, a, o) {
            var s = p.getGlobalValue(i.APLUS);
            e += "", e && 0 !== e.indexOf("/") && s.globalConfig.isAli && (e = "/" + e);
            var u = new l(), f = s.logConfig.hjlj;
            return u.run({
                plugins: f.plugins,
                context: c(f.context)
            }, {
                config: {
                    recordType: "COMMON_HJLJ",
                    method: a || "GET"
                },
                userdata: {
                    logkey: e,
                    gmkey: t,
                    gokey: n
                },
                pubsubType: "hjlj",
                middlewareMessageKey: "mw_change_hjlj"
            }, function() {
                r(o) && o();
            }), !0;
        },
        getPageSPM: function() {
            var e = p.getGlobalValue(i.APLUS), t = e._$ || {}, n = t.spm || {}, a = n.data || {};
            return [ a.a, a.b ];
        },
        _setPageSPM: function() {
            var e, t = {}, n = arguments;
            "object" == typeof n[0] ? (t = n[0], e = n[1]) : (t.spmCnt = [ n[0], n[1], "0", "0" ].join("."), 
            e = n[2]);
            var a;
            t.spmCnt || t.spmUrl || !f.getMetaInfo("pageConfig") ? (a = [ "setPageSPM", t ], 
            u.doPubMsg(a), u.doCachePubs(a)) : (a = [ "clearPageSPM" ], u.doPubMsg(a), u.doCachePubs(a));
            var r = "function" == typeof e ? e : function() {};
            r(a);
        },
        _setMetaInfo: function(e, t) {
            return f._setMetaInfo(e, t);
        },
        _updatePageProperties: function(e) {
            if ("object" == typeof e) {
                g() ? my.reportAnalytics("updatePageProperties", e) : "my" === o.getPlatformType() && my.call("reportData", {
                    spmDetail: e,
                    ignoreDefaultPageMonitor: !0
                });
                var t = o.getCurrentPage(), n = t.route || t.is || "page", a = {};
                a[n] = e, f.appendMetaInfo("aplus-page-properties", a);
            }
        },
        _updateNextPageProperties: function(e) {
            if (e || (e = {}), my) {
                var t = {
                    type: "updateNextProp",
                    eventId: -1,
                    eventid: -1,
                    name: "",
                    pageName: "",
                    comName: "",
                    arg1: "",
                    arg2: "",
                    arg3: "",
                    param: e,
                    params: e
                };
                my.callUserTrack ? my.callUserTrack("commitut", t) : my.reportAnalytics && my.reportAnalytics("enter", t);
            }
        },
        _appendMetaInfo: f.appendMetaInfo,
        getMetaInfo: function(e) {
            return f.getMetaInfo(e);
        },
        cloneDeep: c,
        _skipPage: function() {
            my && my.callUserTrack && my.callUserTrack("skipPage");
        },
        _pageAppear: function() {
            my && my.callUserTrack && this.isPageDisAppear && (this.isPageDisAppear = !1, this.isPageAppear = !0, 
            my.callUserTrack("pageAppear"));
        },
        _pageDisappear: function() {
            my && my.callUserTrack && this.isPageAppear && (this.isPageDisAppear = !0, this.isPageAppear = !1, 
            my.callUserTrack("pageDisappear"));
        },
        _updatePageUtparam: function(e) {
            e || (e = {}), my && my.callUserTrack && my.callUserTrack("updatePageUtparam", {
                utParamJson: JSON.stringify(e)
            });
        },
        _updateNextPageUtparam: function(e) {
            e || (e = {}), my && my.callUserTrack && my.callUserTrack("updateNextPageUtparam", {
                utParamJson: JSON.stringify(e)
            });
        },
        _updateSessionProperties: function(e) {
            my && my.call && "object" == typeof e && my.call("handleLoggingAction", {
                type: "behavior",
                subType: "updateSessionProperties",
                extData: e
            });
        },
        _getPageSpmUrl: function(e) {
            v({
                subType: "getPageSpmUrl",
                spmType: "spmUrl"
            }, e);
        },
        _getPageSpmPre: function(e) {
            v({
                subType: "getPageSpmPre",
                spmType: "spmPre"
            }, e);
        },
        _setPageName: function(e, t) {
            if (!e) return void d().w("setPageName failed:  pageName=" + e);
            var n = t || _.getCurrentPagePath(), a = c(f.getMetaInfo("pageConfig") || {});
            a[n] = e, f.appendMetaInfo("pageConfig", a);
        },
        getPageName: function(e) {
            return _.getPageCode(e);
        },
        _getElementSPM: function(e, t) {
            if (e) {
                var n = _.getPageCode() || "";
                if ("string" != typeof e) {
                    var a = e.dataset && e.dataset.trackerParams || "", r = h.jsonLikeStr2JSON(a);
                    return [ n, r.spmC, r.spmD ].join(".");
                }
                var s, i = o.getContext(), u = f.getMetaInfo("aplus-auto-clk") || [], c = f.getMetaInfo("aplus-auto-exp") || [];
                try {
                    var p;
                    for (p = 0; p < u.length; p++) {
                        var l = u[p];
                        if (l.cssSelector === e) {
                            s = [ n, l.spmC, l.spmD ].join(".");
                            break;
                        }
                    }
                    for (p = 0; p < c.length; p++) {
                        var g = c[p];
                        if (g.cssSelector === e) {
                            s = [ n, g.spmC, g.spmD ].join(".");
                            break;
                        }
                    }
                    var v = i.createSelectorQuery().selectAll(e);
                    "function" == typeof v.fields && v.fields({
                        dataset: !0,
                        id: !0
                    }, function(e) {
                        var n = [];
                        if (e && e.length > 0) {
                            for (var a = 1; a <= e.length; a++) n.push(s + "_" + a);
                            t && "function" == typeof t && t(n);
                        }
                    }).exec();
                } catch (e) {
                    d().w("该平台不支持dom元素查询, err = ", e);
                }
            }
        },
        _recordAppLink: function(e, t, n) {
            if (!e.targetAppKey) return d().w("send $$_app_link failed: targetAppKey is null"), 
            !1;
            var a = p.getGlobalValue(i.APLUS);
            return a._record("$$_app_link", "OTHER", e, t, n);
        }
    });
    t.run = m;
}, function(e, t, n) {
    "use strict";
    var a = n(16), r = n(2), o = n(9), s = n(41), i = n(80), u = n(3), c = n(81), p = n(82), l = function() {};
    l.prototype.run = function(e, t, n) {
        var l = new p();
        l.init({
            middleware: [],
            config: t.config,
            plugins: e.plugins
        });
        var f = l.run(), g = o(e.context) ? new e.context() : e.context;
        g.userdata = t.userdata, g.logger = i.logger;
        var d = {
            context: g,
            pubsub: r.getGoldlogVal("aplus_pubsub"),
            pubsubType: t && t.pubsubType
        }, h = new c();
        h.create(d), h.wrap(f, function() {
            d.context.status = u.COMPLETE, t && (t.middlewareMessageKey && s.doPubMsg([ t.middlewareMessageKey, d.context ]), 
            t.messageFnQueue && a(t.messageFnQueue, function(t) {
                t(r.getGlobalValue(u.APLUS), e);
            })), o(n) && n(d.context);
        })();
    }, e.exports = l;
}, function(e, t, n) {
    "use strict";
    var a = "[APLUS] -- ";
    t.logger = function(e) {
        e || (e = {});
        var t = e.level || "warn";
        console && console[t] && console[t](a + e.msg);
    }, t.debugLog = function(e) {
        var t = n(2).getGlobalValue("aplus");
        t && t.aplusDebug && this.logger(e);
    };
}, function(e, t, n) {
    "use strict";
    function a() {}
    var r = n(9), o = n(51), s = n(11);
    a.prototype.create = function(e) {
        for (var t in e) "undefined" == typeof this[t] && (this[t] = e[t]);
        return this;
    }, a.prototype.calledList = [], a.prototype.setCalledList = function(e) {
        o.indexof(this.calledList, e) === -1 && this.calledList.push(e);
    }, a.prototype.resetCalledList = function() {
        this.calledList = [];
    }, a.prototype.wrap = function(e, t) {
        var n = this, a = this.context || {}, i = a.compose || {}, u = i.maxTimeout || 1e4;
        return function(a) {
            var i, c = e.length, p = 0, l = 0, f = function(g, d) {
                if (p === c) return a = "done", n.resetCalledList(), r(t) && d !== a && t.call(n, a), 
                void clearTimeout(i);
                if (o.indexof(n.calledList, p) === -1) {
                    if (n.setCalledList && n.setCalledList(p), !(e && e[p] && r(e[p][0]))) return;
                    try {
                        a = e[p][0].call(n, a, function() {
                            p++, l = 1, f(p);
                        });
                    } catch (e) {
                        s().w(e);
                    }
                }
                var h = "number" == typeof a;
                if ("pause" === a || h) {
                    l = 0;
                    var _ = h ? a : u, v = e[p] ? e[p][1] : "";
                    i = setTimeout(function() {
                        0 === l && (s().w("jump the middleware about " + v + ", because waiting timeout maxTimeout = " + _), 
                        a = null, p++, f(p));
                    }, _);
                } else "done" === a ? (p = c, f(p, a)) : (p++, f(p));
            };
            return n.calledList && n.calledList.length > 0 && n.resetCalledList(), f(p);
        };
    }, e.exports = a;
}, function(e, t, n) {
    "use strict";
    var a = n(28), r = n(11);
    e.exports = function() {
        return {
            init: function(e) {
                this.opts = e, e && "object" == typeof e.middleware && e.middleware.length > 0 ? this.middleware = e.middleware : this.middleware = [], 
                this.plugins_name = [];
            },
            pubsubInfo: function(e, t) {
                try {
                    var n = e.pubsub;
                    n && n.publish("plugins_change_" + e.pubsubType, t);
                } catch (e) {
                    r().w(e);
                }
            },
            run: function(e) {
                e || (e = 0);
                var t = this, n = this.middleware, r = this.opts || {}, o = r.plugins;
                if (o && "object" == typeof o && o.length > 0) {
                    var s = o[e];
                    if (this.plugins_name.push(s.name), n.push([ function(e, n) {
                        t.pubsubInfo(this, s);
                        var o = new s.path();
                        return o.init || (o.init = function(e) {
                            this.options = e;
                        }), o.init({
                            context: this.context,
                            config: a(s.config || {}, r.config)
                        }), o.run(e, function(e) {
                            setTimeout(function() {
                                n(s, e);
                            }, 1);
                        });
                    }, s.name ]), e++, o[e]) return this.run(e);
                }
                return n;
            }
        };
    };
}, function(e, t) {
    function n() {
        try {
            var e = navigator ? navigator.userAgent || navigator.swuserAgent : "";
            return /Triver/g.test(e);
        } catch (e) {
            return !1;
        }
    }
    e.exports = n;
}, function(e, t, n) {
    "use strict";
    var a = n(85), r = n(2);
    e.exports = function() {
        return {
            run: function() {
                var e = this.options.context.aplus_config, t = e.globalConfig.APLUS_QUEUE, n = r.getContext(), o = n[t] || [], s = a.getFormatQueue(o, "metaQueue");
                n[t] = s.queue, a.processGoldlogQueue(s.formatQueue, this.options.config);
            }
        };
    };
}, function(e, t, n) {
    function a() {
        var e = u.getGoldlogVal("_$") || {}, t = e.meta_info;
        return t;
    }
    function r() {
        var e = a() || {}, t = e.uaid + "";
        return "1" !== t || e._anony_id ? e._hold || e["aplus-waiting"] : "BLOCK";
    }
    function o(e) {
        var t = r(), n = a() || {}, o = !0, s = e.arguments || [], i = s[0], u = s[1], c = "START";
        if ("_hold" === i && u === c) return c;
        if ("_anony_id" === i && u) return c;
        if (e && /sendPV|record|setPageSPM|setMetaInfo|appendMetaInfo$/.test(e.action)) switch (t) {
          case "BLOCK":
            n[t] || (_.push(e), o = !1);
        }
        return o;
    }
    function s(e) {
        g(d, e), g(h, e), g(_, e);
    }
    function i(e, t) {
        return t && f.openAPIs.indexOf(e) > -1 && (e = "_" + e), e;
    }
    var u = n(2), c = n(51), p = n(9), l = n(11), f = n(3), g = function(e, t) {
        function n() {
            if (e && c.isArray(e) && e.length) {
                for (var n = m(e).queue, a = {}, r = []; a = n.shift(); ) v(a, t, function(e) {
                    r.push(e);
                });
                r.length > 0 && setTimeout(function() {
                    for (;a = r.shift(); ) v(a, t);
                }, 100);
            }
        }
        try {
            n();
        } catch (e) {
            l().w(e);
        }
    };
    t.processGoldlogQueue = g;
    var d = [], h = [], _ = [];
    t.subscribeAndProcessQueue = function(e, t) {
        var n = u.getGlobalValue(e);
        n.push({
            action: f.SUBSCRIBE,
            arguments: [ f.SET_META_INFO, function(e, n) {
                e === f._USER_ID && n ? g(d, t) : e === f._ANONY_ID && n ? g(h, t) : "_hold" === e && "START" === n && s(t);
            } ]
        });
    };
    var v = function(e, t, n) {
        var a = !!t.isOpenApi, r = e ? e.action : "", f = e ? e.arguments : "", g = o(e);
        if (g) {
            var d = u.getContext();
            try {
                if (r && f && c.isArray(f)) {
                    var h, _ = r.split("."), v = d, m = d;
                    if (3 === _.length) v = d[_[0]][_[1]] || {}, h = i(_[2], a), m = v[h] ? v[h] : ""; else for (;_.length; ) if (h = i(_.shift(), a), 
                    m = v = v[h], !v) return void (p(n) && n(e));
                    p(m) && m.apply(v, f), "START" === g && s(t);
                }
            } catch (e) {
                l().w(e);
            }
        }
    };
    t.processTask = v;
    var m = function(e, t) {
        for (var n = {
            subscribeMwChangeQueue: [],
            subscribeMetaQueue: [],
            subscribeQueue: [],
            metaQueue: [],
            othersQueue: []
        }, a = [], r = {}; r = e.shift(); ) try {
            var o = r.action, s = r.arguments[0];
            /subscribe/.test(o) ? "setMetaInfo" === s ? n.subscribeMetaQueue.push(r) : s === f.MW_CHANGE_PV || s === f.MW_CHANGE_HJLJ ? n.subscribeMwChangeQueue.push(r) : n.subscribeQueue.push(r) : /MetaInfo/.test(o) ? n.metaQueue.push(r) : n.othersQueue.push(r);
        } catch (e) {
            l().w(e), n.othersQueue.push(r);
        }
        var i;
        return t && n[t] && (i = n[t], n[t] = []), a = n.subscribeMwChangeQueue.concat(n.metaQueue), 
        a = a.concat(n.subscribeQueue), a = a.concat(n.subscribeMetaQueue, n.othersQueue), 
        {
            queue: a,
            formatQueue: i
        };
    };
    t.getFormatQueue = m;
}, function(e, t, n) {
    "use strict";
    var a = n(37), r = n(2), o = n(85), s = a.extend({
        push: function(e) {
            this.length++, o.processTask(e, this.opts);
        }
    });
    e.exports = function() {
        return {
            processAplusQueue: function(e) {
                var t = this.options.config || {}, n = r.getGlobalValue(e);
                o.processGoldlogQueue(n, t), r.setGlobalValue(e, s.create({
                    opts: t,
                    startLength: n.length,
                    length: 0
                }));
            },
            run: function() {
                var e = this.options.context.aplus_config, t = e.globalConfig.APLUS_QUEUE;
                this.processAplusQueue(t), "aplus_queue" === t && this.processAplusQueue("goldlog_queue"), 
                o.subscribeAndProcessQueue(t, this.options.config);
            }
        };
    };
}, function(e, t, n) {
    "use strict";
    function a() {
        function e() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", t = s.getCurrentPage(), n = t.route || t.is;
            switch (e) {
              case "onPullDownRefresh":
                y.onPullDownRefresh += 1, _.push({
                    action: "aplus.record",
                    arguments: [ i.logkey || "$$_pull_down_refresh", "CLK", {
                        event: e,
                        pagename: l.getPageCode() || n,
                        count: y.onPullDownRefresh
                    } ]
                });
                break;

              case "onReachBottom":
                y.onReachBottom += 1, _.push({
                    action: "aplus.record",
                    arguments: [ a.logkey || "$$_reach_bottom", "CLK", {
                        event: e,
                        pagename: l.getPageCode() || n,
                        count: y.onReachBottom
                    } ]
                });
                break;

              case "onShareAppMessage":
                y.onShareAppMessage += 1, _.push({
                    action: "aplus.record",
                    arguments: [ g.logkey || "$$_share", "CLK", {
                        event: e,
                        pagename: l.getPageCode() || n,
                        count: y.onShareAppMessage,
                        share_type: 1
                    } ]
                });
                break;

              case "onShareTimeline":
                y.onShareTimeline += 1, _.push({
                    action: "aplus.record",
                    arguments: [ g.logkey || "$$_share", "CLK", {
                        event: e,
                        pagename: l.getPageCode() || n,
                        count: y.onShareTimeline,
                        share_type: 0
                    } ]
                });
                break;

              case "onPageShow":
                t.route && !v && (m = {
                    ts: Date.now(),
                    path: t.route,
                    page_name: t.route
                }, v = !0);
                break;

              case "onPageHide":
                if (v) {
                    var r = Date.now() - m.ts, u = s.getReferrerPage().route || s.getReferrerPage().is || "-", c = (l.getPageName() || {}).extraParams, p = Object.assign({}, c, {
                        duration: r,
                        path: m.path,
                        page_name: l.getPageCode() || m.page_name,
                        page_start: m.ts,
                        isMini: !0,
                        _page_auto_id: o.PAGE_END,
                        _page_auto_pv: !0,
                        referrer: u
                    });
                    h.sendPV({
                        is_auto: !0
                    }, p), m = null, v = !1;
                }
            }
        }
        function t() {
            a = h.getMetaInfo("rb_config"), i = h.getMetaInfo("pdr_config"), g = h.getMetaInfo("share_config");
        }
        function n(e, t) {
            if (e && t) try {
                var n = h.getMetaInfo("aplus-api-host"), a = /[[a-z|\-|\_|0-9\.]+[a-z|\-|\_|0-9](:\d*)?/, r = n.match(a);
                if (r && r[0]) {
                    var i = o.HTTPS;
                    /(\d+\.){3,}\d+/.test(r[0]) && (i = "http:");
                    var u = i + "//" + n + "/vt/loadTransferConfig?code=" + e + "&appInfoId=" + t;
                    s.request(u, {}, function(e) {
                        try {
                            var t = e.data && e.data.data && e.data.data.config || "", n = e.data && e.data.data && e.data.data.debugId || "";
                            n && h.appendMetaInfo("aplus-global-args", {
                                debugId: n
                            });
                            var a = new Date().getTime();
                            h._minicfg_load = new Date().getTime() - a, t && (h._aplus_vt_cfg = JSON.parse(t) || {}, 
                            p.vt2autoEvent());
                        } catch (e) {
                            f().w("拉取实时可视化埋点验证失败, 错误信息：" + e);
                        }
                    });
                }
            } catch (e) {}
        }
        var a, i, g, d = r.getContext(), h = r.getGlobalValue(o.APLUS), _ = r.getGlobalValue(o.APLUS_QUEUE), v = !1, m = null, y = {
            onPullDownRefresh: 0,
            onShareTimeline: 0,
            onReachBottom: 0,
            onShareAppMessage: 0,
            onClick: 0
        };
        _.push({
            action: o.SUBSCRIBE,
            arguments: [ "aplusReady", function(e) {
                "complete" === e && t();
            } ]
        }), h.aplus_pubsub.subscribe("onLoad", function(e) {
            if ("ready" === e.status) try {
                var t = l.getVTRealtimeCode();
                if (t) {
                    var a = h.getMetaInfo("appInfoId");
                    n(t, a);
                } else !!h.getMetaInfo("aplus-vt-cfg-url") && p.vt2autoEvent();
            } catch (e) {
                f().w("拉取实时可视化埋点验证信息失败， 错误原因：" + e);
            }
        }), h.aplus_pubsub.subscribe("onShow", function(t) {
            if ("ready" === t.status) {
                var n = "MAN" !== d.aplus.getMetaInfo("aplus-waiting");
                n && e("onPageShow");
            }
        }), h.aplus_pubsub.subscribe("onHide", function(t) {
            if ("ready" === t.status) {
                var n = "MAN" !== d.aplus.getMetaInfo("aplus-waiting");
                n && e("onPageHide");
            }
        }), h.aplus_pubsub.subscribe("onPullDownRefresh", function(t) {
            "ready" === t.status && e("onPullDownRefresh");
        }), h.aplus_pubsub.subscribe("onReachBottom", function(t) {
            "ready" === t.status && e("onReachBottom");
        }), h.aplus_pubsub.subscribe("onShareAppMessage", function(t) {
            "ready" === t.status && e("onShareAppMessage");
        }), h.aplus_pubsub.subscribe("onShareTimeline", function(t) {
            "ready" === t.status && e("onShareTimeline");
        }), h.getMetaInfo("aplus-vt-cfg-url") && u.pushIntoGoldlogQueue(o.SUBSCRIBE, [ c, function(e) {
            var t = e.pageConfig;
            t && t.enabled && (h._aplus_vt_cfg = t);
        } ]);
    }
    var r = n(2), o = n(3), s = n(8), i = n(88), u = n(58), c = "MiniVtConfigFormat", p = n(91), l = n(29), f = n(11);
    e.exports = function() {
        return {
            run: function() {
                var e = r.getGlobalValue("aplus");
                if (a(), !e._aplus_aleady_load_minivt) {
                    e._aplus_aleady_load_minivt = 1;
                    var t = i.create();
                    t.run();
                }
            }
        };
    };
}, function(e, t, n) {
    "use strict";
    var a = n(37), r = n(58), o = n(89), s = n(16), i = n(27), u = n(90), c = n(3), p = n(2), l = "MiniVtConfigBack", f = "MiniVtConfigFormat", g = c.PUBLISH;
    e.exports = a.extend(i.assign(u, {
        pathname: "",
        pageConfig: {},
        originSpm: {
            spmA: "",
            spmB: ""
        },
        updateCfgLs: function() {
            var e = this;
            setTimeout(function() {
                e.fetchFromCdn();
            }, 1e3);
        },
        fetchFromCdn: function() {
            var e = this, t = p.getGlobalValue("aplus"), n = t.getMetaInfo("aplus-vt-cfg-url");
            if (n) {
                var a = new Date().getTime();
                t.requestVTConfig(n, function(n) {
                    var o = n.data;
                    if (t._minicfg_load = new Date().getTime() - a, o) try {
                        t._aplus_vt_cfg = "object" == typeof o ? o : JSON.parse(o), t._aplus_vt_cfg.points && s(t._aplus_vt_cfg.points, function(e) {
                            e.selector = decodeURIComponent(e.selector);
                        }), e.setConfigIntoLs(t._aplus_vt_cfg);
                    } catch (e) {
                        t._aplus_vt_cfg = {
                            enabled: !1
                        };
                    }
                    r.pushIntoGoldlogQueue(g, [ l, {
                        pageConfig: t._aplus_vt_cfg,
                        enable: 0
                    } ]);
                }, function(e) {
                    t._aplus_vt_cfg && t._aplus_vt_cfg.enabled && r.pushIntoGoldlogQueue(g, [ l, {
                        pageConfig: t._aplus_vt_cfg,
                        enable: 0
                    } ]), o.catchException("getTrackerCfg", e, {
                        msg: n
                    });
                }, {
                    timeout: 5e3
                });
            }
        },
        getMiniVtData: function(e, t, n) {
            var a = p.getGlobalValue("aplus");
            if (a._minicfg_load = 0, e) {
                var o = this.fetchFromLS(e);
                if ("string" == typeof o) try {
                    o = JSON.parse(o);
                } catch (e) {
                    o = {};
                }
                o && o.enabled && (a._aplus_vt_cfg = o), n ? this.fetchFromCdn(e, t) : r.pushIntoGoldlogQueue(g, [ l, {
                    pageConfig: o,
                    enable: 0
                } ]);
            }
        },
        syncMiniVtData: function() {
            var e = this.getVtConfigPath();
            this.getMiniVtData(e, "", !0);
        },
        init: function() {
            var e = this, t = c.SUBSCRIBE;
            r.pushIntoGoldlogQueue(t, [ l, function(t) {
                t.enable || (e.pageConfig = t.pageConfig), r.pushIntoGoldlogQueue(g, [ f, {
                    pageConfig: e.pageConfig,
                    originSpm: e.originSpm
                } ]), !t.enable && e.setConfigIntoLs(e.pageConfig);
            } ]), e.syncMiniVtData();
        },
        run: function() {
            return this.init(), this;
        }
    }));
}, function(e, t, n) {
    "use strict";
    var a = n(58);
    t.catchException = function(e, t) {
        var n = e;
        "object" == typeof t && t.message && (n = n + "_" + t.message), a.pushIntoGoldlogQueue("aplus._aplus_cplugin_m.do_tracker_jserror", [ {
            message: n,
            error: JSON.stringify(t),
            filename: e
        } ]);
    };
}, function(e, t, n) {
    "use strict";
    var a = n(2), r = n(8), o = n(10);
    e.exports = {
        lsMinivtConfigKey: "APLUS_MINI_CONFIG",
        getMiniVtTplCdnPath: function() {
            var e = a.getGlobalValue("aplus"), t = e.getMetaInfo("aplus-track-config-id"), n = t && t.turnon, r = t && t.value;
            return "1" === n && r ? r : "";
        },
        getVtConfigPath: function() {
            var e, t = this.getMiniVtTplCdnPath(), n = [], a = o.getAppKey();
            return a && (e = a), e && (n = e.split(".")), 2 === n.length ? this.originSpm = {
                spmA: n[0],
                spmB: n[1]
            } : 1 === n.length && (this.originSpm.spmA = n[0]), t ? t : 2 === n.length ? n.join("_") : 1 === n.length ? n[0] : void 0;
        },
        fetchFromLS: function(e) {
            this.cdnpath || (this.cdnpath = e || this.getMiniVtTplCdnPath());
            var t = r.getContext();
            return decodeURIComponent(t.getStorageSync(this.lsMinivtConfigKey + "-" + e)) || {};
        },
        setConfigIntoLs: function(e) {
            this.cdnpath || (this.cdnpath = this.getVtConfigPath());
            var t = r.getContext();
            t.setStorageSync(this.lsMinivtConfigKey + "-" + this.cdnpath, encodeURIComponent(JSON.stringify(e)));
        }
    };
}, function(e, t, n) {
    "use strict";
    function a(e, t, n) {
        var a = [];
        if (!i(t)) return a;
        if (e && t && i(e) && i(t)) for (var r = 0; r < t.length; r++) e.some(function(e) {
            return e[n] === t[r][n];
        }) || a.push(t[r]);
        return a;
    }
    var r = n(8), o = n(2), s = n(16), i = n(18), u = o.getGlobalValue("aplus"), c = n(29);
    t.getCurrentPageVTCfg = function() {
        var e = u._aplus_vt_cfg;
        if (e) for (var t = c.getCurrentPagePath(), n = 0; n < e.pages.length; n++) {
            var a = e.pages[n];
            if (a.matchUrl === t) return a;
        }
    }, t.vt2autoEvent = function() {
        var e = u._aplus_vt_cfg;
        if (e) {
            var t = r.getCurrentPage(), n = t.route || t.is;
            s(e.pages, function(t) {
                if (u.setPageName({
                    pageName: t.spmB,
                    extraParams: t.extraParams
                }, t.matchUrl), t.matchUrl === n) {
                    var r = [], o = [];
                    s(e.points, function(e) {
                        t.spmB === e.spmB && ("exposure" === e.trackerType ? r.push({
                            cssSelector: e.selector,
                            logkey: e.logkey,
                            props: e.selectorType,
                            spmC: e.spmC,
                            spmD: e.spmD,
                            customArgs: e.customArgs,
                            _vt: t.template || t.stdId ? 2 : 1
                        }) : o.push({
                            cssSelector: e.selector,
                            logkey: e.logkey,
                            props: e.selectorType,
                            spmC: e.spmC,
                            spmD: e.spmD,
                            customArgs: e.customArgs,
                            _vt: t.template || t.stdId ? 2 : 1
                        }));
                    });
                    var i = u.getMetaInfo("aplus-auto-exp") || [], c = u.getMetaInfo("aplus-auto-clk") || [], p = a(i, r, "cssSelector"), l = a(c, o, "cssSelector");
                    p.length > 0 && u.appendMetaInfo("aplus-auto-exp", p), l.length > 0 && u.appendMetaInfo("aplus-auto-clk", l);
                }
            });
        }
    };
}, function(e, t, n) {
    "use strict";
    e.exports = function(e, t) {
        var a = n(2), r = n(41), o = n(11), s = n(16), i = n(8), u = n(93);
        i.initIsTB(), "object" == typeof e && (e.siteId && (t.globalConfig.siteId = e.siteId), 
        t.metaInfo = Object.assign({}, t.metaInfo, e.metaInfo));
        var c = "running", p = "complete", l = [ "aplusReady", c ];
        return r.doPubMsg(l), u.run({
            plugins: t.plugins,
            context: function() {
                var e = {
                    PAGE_LOAD_TIME: new Date()
                }, n = [];
                return s(t.plugins, function(t) {
                    e[t.name] = t.config, "aplus_log_inject" === t.name && t.config && t.config.plugins && (n = t.config.plugins.pv, 
                    s(n, function(t) {
                        e[t.name] = t.config;
                    }));
                }), Object.assign({}, e, {
                    aplus_config: t
                });
            }
        }, function() {
            o().w("APLUS INIT SUCCESS"), l[1] = p, r.doPubMsg(l);
        }), a.getContext();
    };
}, function(e, t, n) {
    "use strict";
    var a = n(79), r = n(9), o = n(41);
    t.run = function(e, t) {
        var n = new a();
        n.run({
            plugins: e.plugins,
            context: e.context
        }, {
            config: {},
            userdata: {},
            pubsubType: "aplusinit",
            messageFnQueue: [],
            middlewareMessageKey: "mw_change_aplusinit"
        }, function(e) {
            var n = [ "aplusInitContext", e ];
            o.doPubMsg(n), o.doCachePubs(n), r(t) && t(e);
        });
    };
} ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYXBsdXNfbWluaV9jbG91ZF91bS5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgYTZiZDk0ZmUyZmQ0M2QyOTE3NzUiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwbHVzX21pbmlfY2xvdWRfdW0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYl91L3V0aWxzL3V0aWxHb2xkbG9nLmpzIiwid2VicGFjazovLy8uL3NyYy9saWJfdS91dGlscy9hcGx1c1N0YXRpYy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBsdXNfbWluaV9jbG91ZF91bV9jb25maWcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnNfbWluaS9pbmplY3RfYXBwX3VtLmpzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW5zX21pbmkvdXRpbHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYl91L3V0aWxzL2Nsb25lRGVlcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliX3UvdXRpbHMvbWluaS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliX3UvdXRpbHMvaXNGdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliX3UvdXRpbHMvdXRpbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliX3UvdXRpbHMvdWxvZy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9saWJfdW0vdW1fc2Vzc2lvbl9tYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL2xpYl91bS9jYWNoZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9saWJfdW0vanNvblV0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvbGliX3VtL3V0aWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9saWJfdS91dGlscy9lYWNoLmpzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL2xpYl91bS9ldmVudE1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYl91L3V0aWxzL2lzQXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvbGliX3VtL3JlcXVlc3RRdWV1ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9saWJfdW0vdW1faGVhZGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL2xpYl91bS9ib2R5QnVpbGRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9saWJfdW0vcmVxdWVzdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9saWJfdW0vbWFuZ2xlX21pbmkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvbGliX3VtL2ltcHJpbnRNYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL2xpYl91bS9iYXNlNjQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvbGliX3VtL3F1ZXVlLmpzIiwid2VicGFjazovLy8uL3NyYy9saWJfdS91dGlscy91dGlsRGFzaC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliX3UvdXRpbHMvYXNzaWduLmpzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL2xpYl91bS9wYWdlTWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luc19taW5pL2luamVjdF9wYWdlX3VtLmpzIiwid2VicGFjazovLy8uL3NyYy9saWJfdS91dGlscy9lYWNoTWFwLmpzIiwid2VicGFjazovLy8uL3NyYy9saWJfdS91dGlscy9mb3JtYXQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnNfbWluaS9vcGVuX2FwaS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9hcGx1c19jbGllbnRfbWluaS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9saWJfbWVzc2FnZXIvcHVic3ViX21pbmkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYl91L2NvcmUvUHViU3ViLmpzIiwid2VicGFjazovLy8uL3NyYy9saWJfdS9jb3JlL0Jhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvYXBsdXNfbWV0YV9pbmplY3RfbWluaS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9saWJfbWV0YS9tYWluX21pbmkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvbGliX21ldGEvbWV0YUluZm9NaW5pLmpzIiwid2VicGFjazovLy8uL3NyYy9saWJfdS91dGlscy91dGlsUHVic3ViLmpzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW5zX21pbmkvYXV0b190cmFja2VyX2Nsay5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luc19taW5pL2xpYl9hdXRvX2Nsay9tYWluLmpzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW5zX21pbmkvbGliX2F1dG9fY2xrL2NvbGxlY3RfY2xrLmpzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW5zX21pbmkvdXRpbHMvd2F0Y2hUcmFja2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW5zX21pbmkvdXRpbHMvZ2V0SGFzaEtleS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luc19taW5pL2F1dG9fdHJhY2tlcl9leHAuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnNfbWluaS9saWJfYXV0b19leHAvbWFpbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luc19taW5pL2xpYl9hdXRvX2V4cC9jb2xsZWN0X2V4cC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luc193ZWIvbGliX2NvbW1vbi9jb25maWcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYl91L3V0aWxzL3V0aWxBcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliX3UvdXRpbHMvdXRpbE1ldGEuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYl91L3V0aWxzL3V0aWxBdHRyaWJ1dGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnNfbWluaS9taW5pX3NwbS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9hcGx1c19taW5pX3JlcG9ydF91bS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9saWJfY29ubmVjdGlvbi9tYWluX21pbmlfdW1faHR0cC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9saWJfY29ubmVjdGlvbi9tYWluX2Jhc2VfaHR0cC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliX3UvdXRpbHMvdXRpbEdRLmpzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL2xpYl91bS9ldmVudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9hcGx1c19sb2dfaW5qZWN0LmpzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL2xpYl9sb2cvbWlkZGxld2FyZS9jb21tb24vZXRhZ19taW5pLmpzIiwid2VicGFjazovLy8uL3NyYy9saWJfdS91dGlscy91dGlsRXRhZy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliX3UvdXRpbHMvdXRpbERhdGEuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYl91L3V0aWxzL3V0aWxUcmltLmpzIiwid2VicGFjazovLy8uL3NyYy9saWJfdS91dGlscy91dGlsU3RvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvbGliX2xvZy9taWRkbGV3YXJlL3B2L3doZW5fdG9fc2VuZHB2LmpzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL2xpYl9sb2cvbWlkZGxld2FyZS9jb21tb24vd2hlcmVfdG9fc2VuZF9taW5pX3VtLmpzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL2xpYl9sb2cvbWlkZGxld2FyZS9jb21tb24vd2hhdF90b19zZW5kX21pbmlfY2xvdWQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYl91L3V0aWxzL2xvZ0lkLmpzIiwid2VicGFjazovLy8uL3NyYy9saWJfdS91dGlscy91dGlsSGFzaC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9saWJfbG9nL21pZGRsZXdhcmUvY29tbW9uL3V0aWxQYXJhbXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvbGliX2xvZy9taWRkbGV3YXJlL2NvbW1vbi9taW5pYXBwX2RhdGEuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvbGliX2xvZy9taWRkbGV3YXJlL3B2L3doYXRfdG9fc2VuZHB2X3VzZXJkYXRhX21pbmkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvbGliX2xvZy9taWRkbGV3YXJlL3B2L2Nhbl90b19zZW5kcHZfbWluaS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9saWJfbG9nL21pZGRsZXdhcmUvaGpsai93aGF0X3RvX2hqbGpfdXNlcmRhdGFfbWluaS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9hcGx1c19hcGlfbWluaS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9saWJfYXBpL21haW5fbWluaS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9saWJfYXBpL2FwbHVzX21pbmkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYl91L2NvcmUvUmVkdWNlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliX3UvdXRpbHMvdXRpbExvZ2dlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliX3UvY29yZS9jb21wb3NlLmpzIiwid2VicGFjazovLy8uL3NyYy9saWJfdS9jb3JlL3BsdWdpbnNMb2FkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYl91L3V0aWxzL2lzVHJpdmVyLmpzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL2xpYl9xdWV1ZS9tZXRhX3F1ZXVlLmpzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL2xpYl9xdWV1ZS9hY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvbGliX3F1ZXVlL2FwbHVzX3F1ZXVlLmpzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW5zX21pbmkvYXV0b190cmFja2VyX3VtLmpzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW5zX21pbmkvbGliX21pbml2dC9mZXRjaENvbmZpZy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliX3UvdXRpbHMvdXRpbENhdGNoLmpzIiwid2VicGFjazovLy8uL3NyYy9saWJfdS91dGlscy9taW5pdnRTdG9yZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luc19taW5pL2xpYl9taW5pdnQvdXRpbFZULmpzIiwid2VicGFjazovLy8uL3NyYy9hcGx1c19taW5pX2Jhc2ljLmpzIiwid2VicGFjazovLy8uL3NyYy9saWJfdS9jb3JlL2FwbHVzaW5pdC5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwibW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJpZCIsImxvYWRlZCIsImNhbGwiLCJtIiwiYyIsInAiLCJpbml0R2xvYmFsIiwiYXBwQ29uZmlnIiwiYXBsdXNfY29uZmlnIiwiX2FwbHVzX2NvbnRleHQiLCJhcGx1c1N0YXRpYyIsIkFQTFVTIiwiQVBMVVNfUVVFVUUiLCJHT0xETE9HIiwiR09MRExPR19RVUVVRSIsImlzV2ViIiwid2luZG93IiwiZSIsImdldENvbnRleHQiLCJjb250ZXh0IiwidiIsImFwbHVzIiwiYXBsdXNfcXVldWUiLCJfYXBsdXNEZWZhdWx0VmFsdWUiLCJfYXBsdXNRdWV1ZURlZmF1bHRWYWx1ZSIsIl9nb2xkbG9nX3F1ZXVlIiwiZ29sZGxvZ19xdWV1ZSIsImNvbmNhdCIsImdvbGRsb2ciLCJnZXRHbG9iYWxWYWx1ZSIsImtleSIsImciLCJxIiwic2V0R2xvYmFsVmFsdWUiLCJ2YWx1ZSIsImdldEdvbGRsb2dWYWwiLCJzZXRHb2xkbG9nVmFsIiwidmFsIiwiZiIsImdldENsaWVudEluZm8iLCJNV19DSEFOR0UiLCJNRVRBX0lORk8iLCJBUFBFTkRfTUVUQV9JTkZPIiwiU0VUX01FVEFfSU5GTyIsIkhUVFAiLCJfcHVic3ViIiwiZGVmYXVsdENvZGUiLCJDTEsiLCJFWFAiLCJJTVBFWFAiLCJPVEhFUiIsIkFQUF9TSE9XIiwiQVBQX0hJREVfT1JfVU5MT0FEIiwiU0VTU0lPTl9JTlRFUlZBTCIsIlNIQVJFX0NBQ0hFX0lOVEVSVkFMIiwiRUtWUyIsIkVWRU5UX01BWF9DT1VOVCIsIk1FTU9SWV9NQVhfQ09VTlQiLCJFVkVOVF9TRU5EX0RFRkFVTFRfSU5URVJWQUwiLCJQQUdFX1NUQVJUIiwiUEFHRV9FTkQiLCJBUFBfU1RBUlQiLCJBUFBfRU5EIiwiVVNFUl9QUk9GSUxFX0tFWSIsIklNUFJJTlQiLCJJRF9UWVBFIiwiSlNCUklER0VfT05MWSIsIlBBR0VfQ09ORklHIiwiQVBMVVNfU0tJUF9BUFZfUlVMRVMiLCJBUExVU19QVl9ET01BSU4iLCJBUExVU19FS1ZfRE9NQUlOIiwiUEFHRV9FTlRFUiIsIkNVUlJFTlRfUEFHRV9DT05GSUciLCJfQU5PTllfSUQiLCJfVVNFUl9JRCIsIkRFRkFVTFRfQ09ERSIsIkVWRU5UX01BUCIsIjIxMDEiLCIyMjAxIiwiMjIwMiIsIjE5OTk5IiwiMTAyMyIsIjEwMTAiLCJFVkVOVF9JRF9NQVAiLCJTSE9XIiwiSF9PUl9VIiwiVU5TVUJTQ1JJQkUiLCJTVUJTQ1JJQkUiLCJQVUJMSVNIIiwiQ0FDSEVfUFVCUyIsIkFQTFVTX1VOSVZFUlNBTCIsIkNPTVBMRVRFIiwiUFZfQ09ERSIsIkVYUF9DT0RFIiwiQ0xLX0NPREUiLCJPVEhFUl9DT0RFIiwiU1BNX0NOVCIsIlNQTV9VUkwiLCJTUE1fUFJFIiwiTVdfQ0hBTkdFX1BWIiwiTVdfQ0hBTkdFX0hKTEoiLCJIVFRQUyIsIkFQTFVTX0FQUEVORF9NRVRBX0lORk8iLCJBUExVU19TRVRfTUVUQV9JTkZPIiwiUFZJRCIsIkFQTFVTX0xPR19QSVBFIiwib3BlbkFQSXMiLCJTRVNTSU9OX1BBVVNFX1RJTUUiLCJDVVJSRU5UX1NFU1NJT04iLCJNQVhfRVZFTlRJRF9MRU5HVEgiLCJNQVhfUFJPUEVSVFlfS0VZX0xFTkdUSCIsIk1BWF9QUk9QRVJUWV9LRVlTX0NPVU5UIiwiUkVRVUVTVFMiLCJTSEFSRVMiLCJBUExVU19TU1JDIiwiR0xPQkFMX1BST1BFUlRZIiwibWV0YUluZm8iLCJhcGx1cy1yaG9zdC12IiwiYXBsdXMtcmhvc3QtZyIsImFwbHVzLW1tc3RhdC10aW1lb3V0Iiwic2RrSWQiLCJnbG9iYWxDb25maWciLCJpc0FsaSIsImlzRGVjb2RlVXJsIiwiRVRBR19TVE9SQUdFX0tFWSIsInNjcmlwdF9uYW1lIiwiYXBsdXMtZ2xvYmFsZGF0YSIsImx2ZXIiLCJwbHVnaW5zIiwibmFtZSIsInBhdGgiLCJkZXBzIiwiY29uZmlnIiwicHYiLCJhcGx1c1dhaXRpbmciLCJsb2dkYXRhVG9VdCIsImhqbGoiLCJpc09wZW5BcGkiLCJnZXRHbG9iYWxBcmdzIiwicXVlcnkiLCJzY2VuZSIsImdsb2JhbF9hcmdzIiwibWluaWFwcERlYnVnSWQiLCJkZWJ1Z0lkIiwiayIsImluZGV4T2YiLCJzZXNzaW9uU3RhcnQiLCJvcHRpb25zIiwiY2FjaGUiLCJsb2FkIiwidWxvZyIsInciLCJuZXdPcHRpb25zIiwiZGVlcENsb25lIiwiY2xvbmVEZWVwIiwiaSIsInV0aWxEYXNoIiwiYXNzaWduIiwicmVxdWVzdFF1ZXVlIiwiaXNOZXdTZXNzaW9uIiwic2Vzc2lvbk1hbmFnZXIiLCJyZXN1bWUiLCJzZXNzaW9uSWQiLCJnZXRDdXJyZW50U2Vzc2lvbklkIiwiZXZlbnRNYW5hZ2VyIiwic2V0U2Vzc2lvbklkIiwiYWRkIiwidW1VdGlscyIsIkRhdGFUeXBlIiwiSEFMRl9TRVNTSU9OIiwic2VuZCIsInNlc3Npb25FbmQiLCJwYXVzZSIsIkNMT1NFX1NFU1NJT04iLCJzYXZlIiwiaW5qZWN0QXBwIiwiYXBwQmFrIiwiQXBwIiwiYWxyZWFkeVN0YXJ0ZWQiLCJsYW51Y2hlZCIsImN0eCIsInV0aWxHb2xkbG9nIiwibWluaSIsImZuIiwib25MYXVuY2giLCJpbml0SXNUQiIsInJlZmVycmVySW5mbyIsIkFQUF9MQVVOQ0hfVFlQRSIsInB1c2giLCJhY3Rpb24iLCJhcmd1bWVudHMiLCJxdWVyeURhdGEiLCJzcG0iLCJzcG1fb3JpZ24iLCJ0cmltIiwiZGVidWdJbmZvcyIsInNwbGl0IiwiYXBsdXNfd29ya19ubyIsImxlbmd0aCIsImFwbHVzX3RyYWNrX2RlYnVnX2lkIiwiYXBsdXNfZmxhZyIsIm9uU2hvdyIsIm9wdHMiLCJzdGFydF90eXBlIiwidXRpbHMiLCJvbkFwbHVzUmVhZHkiLCJwYWdlQ29kZSIsIlBhZ2VNYW5hZ2VyIiwiZ2V0UGFnZUNvZGUiLCJvbkFwcFNob3dUaW1lIiwiRGF0ZSIsImdldFRpbWUiLCJwYWdlX25hbWUiLCJ1cmwiLCJvbkhpZGUiLCJnZXRDdXJyZW50UGFnZVBhdGgiLCJkdXJhdGlvbiIsImVuZF90eXBlIiwic3RhcnRfdGltZSIsIm9uQXBwU2hvdyIsImlzRnVuY3Rpb24iLCJnZXRMYXVuY2hPcHRpb25zU3luYyIsIm9uQXBwSGlkZSIsInJ1biIsInJlc2V0Rm4iLCJ0IiwibiIsInJzIiwiYXBwbHkiLCJ0aGlzIiwicmV3cml0ZUZuIiwib2JqIiwibmV3Rm4iLCJvbGRGbiIsImNhbGxiYWNrIiwic3RhdHVzIiwic3RyIiwibmV3b2JqIiwiQXJyYXkiLCJpc0FycmF5IiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwiX2lzVGIiLCJyZXN1bHQiLCJVQSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInN3dXNlckFnZW50IiwidGVzdCIsImdldFBsYXRmb3JtVHlwZSIsImNhbklVc2UiLCJpc1RCIiwidXRpbCIsImdldEN1cnJlbnRQYWdlIiwicGFnZXMiLCJnZXRDdXJyZW50UGFnZXMiLCJnZXRSZWZlcnJlclBhZ2UiLCJyZXNldElzVEIiLCJkZCIsInBsYXRUeXBlIiwic2RrVHlwZSIsImxvZ0RvbWFpbiIsIm15IiwidGIiLCJ0dCIsInN3YW4iLCJ3eCIsImdldFNka1R5cGUiLCJnZXRMb2dEb21haW4iLCJIVFRQX1JFUVVFU1QiLCJSRVFVRVNUIiwiRk4iLCJyZXF1ZXN0Iiwic3VjY2Vzc0NhbGxiYWNrIiwiZmFpbHVyZUNhbGxiYWNrIiwibWV0aG9kTmFtZSIsInJlcXVlc3RNZXRob2ROYW1lIiwicmVxIiwiZGF0YVR5cGUiLCJ0aW1lb3V0IiwibWV0aG9kIiwiY2FuMmh0dHBzIiwibXNnIiwicmVxT3B0aW9ucyIsInN1Y2Nlc3MiLCJyZXMiLCJmYWlsIiwiZGF0YSIsIl9leHRJbmZvIiwiZ2V0TWV0YUluZm8iLCJvIiwiYXJyMnBhcmFtIiwiYXJyIiwiYSIsImxlbiIsInNfcGxhaW5fb2JqIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwiam9pbiIsIm1rUGxhaW5LZXkiLCJNYXRoIiwicmFuZG9tIiwibWtQbGFpbktleUZvckV4cGFyYW1zIiwia2V5X3ByZWZpeCIsIl9rZXkiLCJwYXJhbTJhcnIiLCJwYXJhbXMiLCJpdGVtIiwibCIsInNoaWZ0IiwiYXJyMm9iaiIsInJldCIsImpzb25MaWtlU3RyMkpTT04iLCJqc29uU3RyIiwicmVwbGFjZSIsImFycjEiLCJhcnIyIiwicHJvdG9jYWwiLCJnZXRBcHBLZXkiLCJjaGVja0VtcHR5T2JqIiwiT2JqZWN0Iiwia2V5cyIsImNoZWNrRG9tYWluIiwicmVnIiwiUmVnRXhwIiwibWF0Y2giLCJ0aXBfdyIsInJlcGVhdCIsImNoZWNrT3BlbmlkIiwib2QiLCJMT0dfUFJFRklYIiwiVUxvZyIsInNldERlYnVnIiwiZGVidWciLCJfZGVidWciLCJjb25zb2xlIiwiaW5mbyIsImVycm9yIiwid2FybiIsImxvZyIsImNoYXIiLCJfaW5zdGFuY2UiLCJpbml0IiwibmV3U2Vzc2lvbiIsIl9jdXJyZW50U2Vzc2lvbiIsImdldCIsImRhdGUiLCJfcmVzdW1lVGltZSIsImVuZF90aW1lIiwiX2NyZWF0ZU5ld1Nlc3Npb24iLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJfZW5kU2Vzc2lvbiIsImdldEN1cnJlbnRTZXNzaW9uIiwiY2xvbmVDdXJyZW50U2Vzc2lvbiIsIl9nZXRVbVBhcmFtcyIsImFwbHVzX3F1ZXJ5IiwicHJldk9wdGlvbnMiLCJsYXVuY2hPcHRpb25zIiwicmVmZXJyZXJBcHBJZCIsImFwcElkIiwiZ3AiLCJ0cyIsIm5vdyIsImdldFJhbmRvbVN0ciIsInN0YXRlX3MiLCJzZXQiLCJqc29uVXRpbCIsIkNhY2hlIiwiY2IiLCJfZGF0YSIsInJlbW92ZVN0b3JhZ2UiLCJfbmFtZSIsImdldFN0b3JhZ2UiLCJfbG9hZGVkIiwiZXJyTXNnIiwic2V0U3RvcmFnZSIsInN0cmluZ2Z5IiwicmVtb3ZlIiwiZ2V0QWxsIiwiY2xlYXIiLCJoYXMiLCJpc0xvYWRlZCIsImpzb24iLCJwYXJzZVRvQXJyYXkiLCJOdW1iZXIiLCJwb3MiLCJyb3VuZCIsInN0YXJ0c1dpdGgiLCJzZWFyY2hWYWwiLCJzdWJzdHIiLCJ0YXJnZXQiLCJ1bmRlZmluZWQiLCJUeXBlRXJyb3IiLCJvdXRwdXQiLCJpbmRleCIsInNvdXJjZSIsIm5leHRLZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNoZWNrRXZlbnQiLCJldmVudElkIiwicHJvcGVydGllcyIsInJlc2VydmVXb3JkcyIsInJlc2VydmVXb3JkTWFwIiwiZm9yRWFjaCIsIndvcmQiLCJjb3VudCIsImVhY2giLCJkZWxldGVJbmZvIiwiZ29rZXkiLCJFS1YiLCJFTlRFUl9QQUdFIiwiTEVBVkVfUEFHRSIsIkFjY2Vzc1R5cGUiLCJNT0JJTEVfTkVUV09SS18yRyIsIk1PQklMRV9ORVRXT1JLXzNHIiwiTU9CSUxFX05FVFdPUktfNEciLCJNT0JJTEVfTkVUV09SS19OT05FIiwiX2NhY2hlRXZlbnRzIiwiX21lbW9yeUV2ZW50cyIsImVrdnMiLCJfZ2V0Q2FjaGVFdmVudHNMZW5ndGgiLCJfYnVpbGRFa3ZzIiwibWVtb3J5RXZlbnRzIiwiZXZlbnRzIiwiX3Nlc3Npb25JZCIsImV2ZW50c01hcCIsImFkZEV2ZW50IiwiZXZlbnQiLCJ1bnNoaWZ0IiwiX25vU2Vzc2lvbkV2ZW50cyIsImdldEVrdnMiLCJ0b1N0cmluZyIsIkhlYWRlciIsImJ1aWxkQm9keSIsIlF1ZXVlIiwiTUFYX1FVRVVFX0NPVU5UIiwiX2VucXVldWVSZXF1ZXN0IiwiY2xpZW50IiwiX2FwbHVzX2NsaWVudCIsImhlYWRlciIsImdldE5ldEluZm8iLCJub0NhY2hlIiwiX3F1ZXVlIiwiZW5xdWV1ZSIsIl9zZW5kUXVldWUiLCJjb21wbGV0ZWRDYWxsYmFjayIsImZyb250IiwiZGVxdWV1ZSIsIl9mYWlsUmVxdWVzdHMiLCJfcHJvY2Vzc0ZhaWxSZXF1ZXN0cyIsIl9zdGFydFNlbmQiLCJfcnVubmluZyIsIlJlcXVlc3RRdWV1ZSIsIml0ZW1zIiwiYWNjZXNzIiwibmV0d29ya1R5cGUiLCJ0b0xvd2VyQ2FzZSIsImFjY2Vzc19zdWJ0eXBlIiwiZ2V0SGVhZGVySW5mbyIsImltcHJpbnQiLCJkZXZpY2VfdHlwZSIsInNka192ZXJzaW9uIiwiYXBwa2V5IiwiZGV2aWNlX2luZm8iLCJhcHBpZCIsImFwcF9lbnYiLCJhcHBFbnYiLCJhcHBfdmVyc2lvbiIsInN5c3RlbUluZm8iLCJzYWZlQXJlYSIsIm1vZGVsIiwicGxhdGZvcm0iLCJicmFuZCIsImJyYW5kTCIsInNka190eXBlIiwicGxhdGZvcm1fc2RrX3ZlcnNpb24iLCJTREtWZXJzaW9uIiwicGxhdGZvcm1fdmVyc2lvbiIsInBsYXRmb3JtVmVyc2lvbiIsInNjcmVlbldpZHRoIiwicGl4ZWxSYXRpbyIsImgiLCJzY3JlZW5IZWlnaHQiLCJyZXNvbHV0aW9uIiwicGl4ZWxfcmF0aW8iLCJvcyIsImZvbnRfc2l6ZV9zZXR0aW5nIiwiZm9udFNpemVTZXR0aW5nIiwiZGV2aWNlX21vZGVsIiwiZGV2aWNlX2JyYW5kIiwiZGV2aWNlX21hbnVmYWN0dXJlciIsImRldmljZV9tYW51aWQiLCJkZXZpY2VfbmFtZSIsIm9zX3ZlcnNpb24iLCJsYW5ndWFnZSIsIm5ldEluZm8iLCJfYnVpbGRIYWxmU2Vzc2lvbiIsInNlc3Npb24iLCJzdCIsImFuYWx5dGljcyIsInNlc3Npb25zIiwiX2J1aWxkQ2xvc2VTZXNzaW9uIiwiX2J1aWxkRWt2IiwiZ2V0VXJsIiwicmhvc3QiLCJzZGtSZXF1ZXN0Iiwic3JjU3VjY2VzcyIsInNyY0ZhaWwiLCJpc1RpbWVvdXQiLCJyZXNwIiwiY2xlYXJUaW1lb3V0IiwiaHR0cFJlcXVlc3QiLCJzZXRUaW1lb3V0IiwiTUFYX1JFUVVFU1RfVElNRU9VVCIsInNhdmVJbXByaW50IiwiaW1wcmludE1hbmFnZXIiLCJnZXRJbXBPYmoiLCJidWlsZEh0dHBIZWFkZXIiLCJoZWFkZXJUeXBlIiwiaXNNeSIsImhlYWRlcnMiLCJDb250ZW50LVR5cGUiLCJNc2ctVHlwZSIsIm1hbmdsZSIsImJhc2U2NCIsImZhaWxDYWxsYmFjayIsInBfaGVhZGVyIiwiYWxpcGF5X2lkIiwidW5pb25pZCIsInVzZXJJZCIsIm9wZW5pZCIsInVzZXJfbmljayIsImFjdGl2ZV91c2VyIiwicHVpZCIsInByb3ZpZGVyIiwidHJhY2VJZCIsIm1hbmdsZURhdGEiLCJyZXF1ZXN0RGF0YSIsImVuY29kZSIsInN0YXR1c0NvZGUiLCJjb2RlIiwiY29tcGxldGUiLCJfbWFuZ2xlSGVhZGVyIiwibWFwIiwiX21hbmdsZU9iaiIsImlkX3RyYWNraW5nIiwiaWRNYXAiLCJfbWFuZ2xlQW5hbHl0aWNzIiwicHJvcCIsImFuYWx5dGljc01hcCIsImhlYWRlck1hcCIsImlkX3R5cGUiLCJfaWQiLCJ0ZXN0VG9rZW4iLCJ1dWlkIiwiYW5vbnltb3VzaWQiLCJkZXZpY2VfaWQiLCJ1c2VyaWQiLCJJbXByaW50TWFuYWdlciIsIl9pbXByaW50IiwiZGVjb2RlIiwiZ2V0SXRlbSIsImltcG9iaiIsImI2NGNoYXJzIiwiYjY0dGFiIiwiYmluIiwiY2hhckF0IiwiZnJvbUNoYXJDb2RlIiwiU3RyaW5nIiwiY2JfdXRvYiIsImNjIiwiY2hhckNvZGVBdCIsInJlX3V0b2IiLCJ1dG9iIiwidSIsImNiX2VuY29kZSIsImNjYyIsInBhZGxlbiIsIm9yZCIsImNoYXJzIiwiYnRvYSIsImIiLCJfZW5jb2RlIiwidXJpc2FmZSIsIm0wIiwicmVfYnRvdSIsImNiX2J0b3UiLCJjY2NjIiwiY3AiLCJvZmZzZXQiLCJidG91IiwiY2JfZGVjb2RlIiwiYXRvYiIsIl9kZWNvZGUiLCJtYXhDb3VudCIsIl9tYXhDb3VudCIsIl9pdGVtcyIsInNpemUiLCJpc0VtcHR5IiwicHJpbnQiLCJtYWtlQ2FjaGVOdW0iLCJmbG9vciIsImlzU3RhcnRXaXRoIiwiczEiLCJzMiIsImlzRW5kV2l0aCIsImwxIiwibDIiLCJhbnkiLCJpc051bWJlciIsImlzTmFOIiwiaXNDb250YWluIiwiY29uc3RydWN0b3IiLCJnZXRVcmxQYXJhbXMiLCJyZWdleCIsImxvY2F0aW9uIiwiaHJlZiIsImV4ZWMiLCJpc0VtcHR5T2JqZWN0IiwidGFyZ2V0T2JqIiwiYXJnc09iaiIsInRvIiwibmV4dFNvdXJjZSIsImJ1aWxkUGF0aCIsInFzIiwicXNzIiwiY3VycmVudFBhdGgiLCJwYWdlT3B0aW9uTWFwIiwic2V0Q3VycmVudFBhdGgiLCJnZXRQYWdlUXVlcnkiLCJzZXRQYWdlUXVlcnkiLCJnZXRGdWxsUGF0aCIsImdldFBhZ2VOYW1lIiwibWV0YSIsInJlYWxQYXRoIiwicmVnUnVsZSIsInBhZ2VOYW1lIiwiZ2V0VlRSZWFsdGltZUNvZGUiLCJyZWdFeHAiLCJkZWNvZGVVUklDb21wb25lbnQiLCJnZXRVdG1QYXJhbXNPYmoiLCJlYWNoTWFwIiwiaGFuZGxlclNoYXJlQXBwTXNnIiwib3B0IiwicGFnZSIsInJvdXRlIiwiaXMiLCJsaW5rUGFybWFzIiwiZm9ybWF0Iiwib2JqMnBhcmFtIiwiJCRfc2hhcmVfdWlkIiwiX19FVEFHX19DTkFfX0lEX18iLCIkJF91dG1fbWVkaXVtIiwiYXBwZW5kUGFyYW1zIiwib25QdWxsRG93blJlZnJlc2giLCJvblJlYWNoQm90dG9tIiwidGhhdCIsIm9uUGFnZUxvYWQiLCJhcHBlbmRNZXRhSW5mbyIsIl9jdXJyZW50UGFnZSIsIm9uUGFnZVNob3ciLCJvblBhZ2VSZWFkeSIsIm9uUGFnZUhpZGUiLCJvblBhZ2VVbmxvYWQiLCJvbkFwbHVzQ2xrIiwib25BcGx1c1RvdWNoIiwicmV3cml0ZVNoYXJlIiwib25TaGFyZUFwcE1lc3NhZ2UiLCJvbGRPblNoYXJlQXBwTWVzc2FnZSIsInNoYXJlUmVzdWx0IiwicmV3cml0ZVNoYXJlVGltZWxpbmUiLCJvblNoYXJlVGltZWxpbmUiLCJvbGRPblNoYXJlVGltZWxpbmUiLCJpbmplY3RQYWdlIiwib2xkUGFnZSIsIlBhZ2UiLCJwYWdlT3B0aW9ucyIsImluamVjdENvbXBvbmVudCIsIm9sZENvbXBvbmVudCIsIkNvbXBvbmVudCIsIm1ldGhvZHMiLCJpbmplY3RNaWR3YXkiLCJtcEN0eCIsImsxIiwic2tpcEVuY29kZSIsImlzSW5QbGFuT2JqIiwiX3ZhbHVlIiwicGFyYW0yb2JqIiwiZnJhZ21lbnQiLCJzbGljZSIsImNvbW1UcmFuc2xhdGUiLCJfdiIsImVuY29kZUdva2V5VmFsdWUiLCJwdXNoUXVldWUiLCJhcmdzIiwiX3NlbGYiLCJfZ2V0TmV0d29ya1R5cGUiLCJnZXROZXR3b3JrVHlwZSIsIl9nZXRTeXN0ZW1JbmZvIiwiZW1wdHlPYmoiLCJzeXNJbmZvIiwiU1lTVEVNX0lORk8iLCJ2ZXJzaW9uIiwiZ2V0U3lzdGVtSW5mbyIsIl9nZXRBY2NvdW50SW5mb1N5bmMiLCJnZXRBY2NvdW50SW5mb1N5bmMiLCJhY2NvdW50SW5mbyIsIm1pbmlQcm9ncmFtIiwicGx1Z2luIiwiYXBwVmVyc2lvbiIsImVudlZlcnNpb24iLCJwbHVnaW5BcHBJZCIsInBsdWdpbkFwcFZlcnNpb24iLCJnZXRBcHBJZFN5bmMiLCJhcHBJbmZvIiwic3RhdGUiLCJ0b0xvY2FsZVVwcGVyQ2FzZSIsInN5c3RlbSIsImhvc3QiLCJlbnYiLCJQdWJTdWIiLCJhcGx1c19wdWJzdWIiLCJjcmVhdGUiLCJCYXNlIiwiZ2V0QXJncyIsIl9hcmdzIiwiaiIsImV4dGVuZCIsImNhbGxhYmxlIiwicHJvcHMiLCJpbnN0YW5jZSIsImhhbmRsZXJzIiwicHVicyIsInNldEhhbmRsZXJzIiwic3Vic2NyaWJlIiwiZVR5cGUiLCJ1bnN1YnNjcmliZSIsInMiLCJoX3N0ciIsInNfc3RyIiwic3BsaWNlIiwicHVibGlzaCIsImNhY2hlUHVicyIsIlN1YkJhc2UiLCJGIiwiZXJyIiwiXyQiLCJpc190ZXJtaW5hbCIsInNlbmRfcHZfY291bnQiLCJtZXRhX2luZm8iLCJxR2V0Iiwic2V0TWV0YUluZm8iLCJpc0ludGVybmF0aW9uYWwiLCJnZXRJbmZvIiwibGFzdF9pbmZvIiwidXRpbFB1YnN1YiIsIk9CSkVDVCIsIlNUUklORyIsImZsYWciLCJwcm9jZXNzT2JqZWN0Iiwib2xkX3ZhbHVlIiwibmV3X3ZhbHVlIiwidG9TZXRNZXRhSW5mbyIsInByb2Nlc3NBcnJheSIsInByb2Nlc3NPYmoiLCJfc2V0TWV0YUluZm8iLCJmcm9tIiwiX29sZFZhbHVlIiwicGFnZVByb3BlcnRpZXMiLCJfayIsInRtcF9wYXJzZSIsImFyZzEiLCJkZWZhdWx0TW9kZSIsIm1vZGUiLCJtZXRhTmFtZSIsIm1ldGFWYWx1ZSIsIm1zZ3MiLCJkb1B1Yk1zZyIsImRvQ2FjaGVQdWJzIiwiZ2V0UHVic3ViIiwicHVic3ViIiwiZG9TdWJNc2ciLCJjb2xsZWN0X2NsayIsImFwbHVzQ3R4IiwiY2xrX2NvbmZpZyIsImluaXRDbGsiLCJzcG1CIiwiY3NzU2VsZWN0b3IiLCJlbGVtZW50cyIsImNyZWF0ZVNlbGVjdG9yUXVlcnkiLCJzZWxlY3RBbGwiLCJmaWVsZHMiLCJkYXRhc2V0IiwicmVjdCIsInNjcm9sbE9mZnNldCIsIndhdGNoX2NsaWNrIiwiYm91bmRpbmdDbGllbnRSZWN0IiwiZ2V0RGF0YVNldCIsIl9hcGx1c19hdXRvX2V4cCIsIl9oYXNoTWFwIiwiaGFzaE1hcCIsImxvZ2tleSIsImVsZV9zIiwiZXhwQ29uZmlnIiwiaGFzaCIsImdldEhhc2hLZXkiLCJoYXNoX3ZhbHVlIiwid2F0Y2hUcmFja2VyIiwiY2xrSW5mbyIsImlzSW5BcmVhIiwiZWxlSW5mbyIsImNoYW5nZWRUb3VjaCIsImNoYW5nZWRUb3VjaGVzIiwiZGV0YWlsIiwieCIsImNsaWVudFgiLCJ5IiwiY2xpZW50WSIsIl90b3AiLCJ0b3AiLCJfYm90dG9tIiwiYm90dG9tIiwic2Nyb2xsVG9wIiwibGVmdCIsInJpZ2h0Iiwic3BtRGF0YSIsIl9zcG1EYXRhIiwidHJhY2tlclBhcmFtcyIsInNwbUMiLCJ0cmFja2VyIiwic3BtRCIsImQiLCJwdXNoRXZlbnQiLCJnZXRVc2VySW5mbyIsInVzZXJGbk5hbWUiLCJlbGVtZW50Iiwic2VsZWN0b3IiLCJ1c2VyRm4iLCJ1c2VySW5mbyIsImdldEZpeGVkTnVtYmVyIiwiX3Jlc3VsdCIsIl9udW0iLCJwYXJzZUZsb2F0IiwidG9GaXhlZCIsInJlY29yZEV4cE1hcFF1ZXVlIiwiREVGQVVMVF9QS0dfU0laRSIsIlBPU1QiLCJFdmVudEFycmF5IiwiYnVmZmVyIiwicGtnU2l6ZSIsImdva2V5cyIsImNvbWJpbmVSZWNvcmQiLCJnbWtleSIsImRhdGFrZXkiLCJfdyIsIndpZHRoIiwiX2giLCJoZWlnaHQiLCJfeCIsIl95IiwiX3JhdGUiLCJ2aWV3YWJpbGl0eVJhdGUiLCJpbnRlcnNlY3Rpb25SYXRpbyIsIl92aWV3YWJpbGl0eSIsIl92dCIsIl90cmFja2VyUGFyYW1zIiwidHJhY2tlcnBhcmFtcyIsImV4YXJncyIsImN1c3RvbUFyZ3MiLCJyZWNvcmQiLCJ3YXRjaFJlY29yZCIsImNmZyIsImNsZWFyUmVjb3JkIiwiZWxlbWVudEF0dHIiLCJoYXNoS2V5IiwicG9zaXRpb25TZWxlY3RvciIsImNvbGxlY3RfZXhwIiwiUEFHRV9EQVRBX01BUCIsIndhdGNoTWV0YUluZm8iLCJpc0ZpcnN0Iiwid2F0Y2hUeXBlIiwiaGFuZGxlck1ldGFJbmZvIiwibWV0YUtleSIsIl9jb25maWcyIiwiZ2V0QXV0b0V4cENvbmZpZyIsIl9jb25maWciLCJ3YXRjaF9leHBvc3VyZSIsImluaXRFeHAiLCJyZXNldEF1dG9FeHAiLCJfcGF0aCIsIl9jdXJyZW50RGF0YSIsImlzU3RhcnQiLCJpc0ZpcnN0VG91Y2giLCJvYnNlcnZlcnMiLCJ1dGlsQXJyYXkiLCJjb25mIiwicmVsb2FkQ3R4Iiwid2FpdCIsImhhc2hpbmciLCJzdWJqZWN0IiwidHlwZSIsImR1cCIsIm5ld09ic2VydmVyIiwiaW5pdE9ic2VydmVyIiwiY2hlY2tJc0luSGFzaE1hcCIsInVwZGF0ZUhhc2hNYXAiLCJhZGRPYnNlcnZlIiwiZW50cnkiLCJfaW5kZXgiLCJfZW50cnkiLCJleHBvc3VyZUhhbmRsZSIsImV4aXN0IiwidGhyZXNob2xkcyIsIkFVVE9fQVRfVklFV19SQVRFIiwiaW5pdGlhbFJhdGlvIiwiaXNNWSIsImNyZWF0ZUludGVyc2VjdGlvbk9ic2VydmVyIiwib2JzZXJ2ZUFsbCIsIm9ic2VydmVyIiwiY3NzIiwicmVsYXRpdmVUbyIsIm9ic2VydmUiLCJyZWxhdGl2ZVRvVmlld3BvcnQiLCJleHBvc3VyZVRpbWUiLCJleHBFbGVtZW50cyIsImNoZWNrU3RhcnQiLCJ0ZW1wcyIsIl9lbGVQb3MiLCJyZXNldCIsImRpc2Nvbm5lY3QiLCJnZXRNZXRhVmFsdWUiLCJ1dGlsTWV0YSIsImdldE1ldGFDbnQiLCJEQVRBX0FQTFVTX0FFX0tFWSIsIkRBVEFfQVBMVVNfQUNfS0VZIiwiREFUQV9BUExVU19TUE1fQU5DSE9SX0lEX0tFWSIsIkRBVEFfQVBMVVNfVlRfSVRFTV9JTkRFWF9LRVkiLCJMT09QX1RJTUUiLCJnZXREZWZhdWx0UmVxdWVzdENmZyIsImdldEF1dG9FeHBWaWV3UmF0ZSIsImRlZmF1bHRfdmFsdWUiLCJyYXRlIiwidmlzaWJsZV9yYXRlIiwiZ2V0QXV0b0V4cER1cmF0aW9uIiwidG1wX2R1cmF0aW9uIiwiZHVyYXRpb25fbiIsInBhcnNlSW50IiwiRVhQX0RVUkFUSU9OIiwiZ2V0QXV0b0NvbmZpZyIsImNvbmZpZ0tleSIsIm1ldGFPYmoiLCJhcGx1c0F1dG9FeHAiLCJjb25maWdzIiwidG1wX3RhZ19maWx0ZXIiLCJ0bXAiLCJ0YWciLCJmaWx0ZXIiLCJ3aG9sZVNlbGVjdG9yIiwiRXJyb3IiLCJ0YWdfZmlsdGVyIiwiZWxlbWVudFNlbGVjdG9yIiwiaW5kZXhvZiIsImdldEF1dG9FeHBVc2VyRm4iLCJhZUF1dG9Vc2VyRm4iLCJpc1Rocm90dGxlV2F0Y2hEb20iLCJnZXRBdXRvQ2xrQ29uZmlnIiwiZ2V0QXV0b0Nsa1VzZXJGbiIsImFjQXV0b1VzZXJGbiIsIml0ZW1NYXRjaCIsIm1hdGNoZWQiLCJzb21lIiwiZ2V0TWV0YVRhZ3MiLCJmb3JjZSIsIl9oZWFkX25vZGUiLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiX21ldGFfbm9kZXMiLCJhdHRyIiwiY29udGVudCIsIm1ldGFfbm9kZXMiLCJ1dGlsQXR0cmlidXRlIiwidHJ5VG9HZXRBdHRyaWJ1dGUiLCJnZXRPbmVQYWdlSW5mbyIsImlzb25lcGFnZSIsInVybHBhZ2VuYW1lIiwiaXNvbmVwYWdlX2RhdGEiLCJhcnJfY29udGVudCIsImF0dHJfbmFtZSIsImdldEF0dHJpYnV0ZSIsInRyeVRvU2V0QXR0cmlidXRlIiwiYXR0cl92YWx1ZSIsInNldEF0dHJpYnV0ZSIsInRyeVRvUmVtb3ZlQXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwicmVzZXRMYXN0UGFnZVNwbSIsInNwbV9jbnQiLCJsaXN0ZW4iLCJwYWdlSW5zdGFuY2UiLCJjdXJyZW50UGFnZVBhdGgiLCJjdXJyZW50IiwibWF0Y2hVcmwiLCJzZXRQYWdlU1BNIiwic3BtQSIsInNwbWFiIiwic3BtQ250Iiwic3BtYWJzdHIiLCJjdXJyZW50UGFnZSIsInByZVBhZ2UiLCJwcmVQcmVQYWdlIiwiY3VycmVudFBhZ2VTcG0iLCJwYWdlX3JlZmVycmVyIiwic3BtX3ByZSIsInNwbVByZSIsInNwbV91cmwiLCJzcG1VcmwiLCJNYWluIiwibWFpbiIsImhhbmRsZUV2ZW50IiwibWFpbl9iYXNlX2h0dHAiLCJoYW5kbGVyTWlkZGxld2FyZSIsInVzZXJFdmVudEFyZ3MiLCJ1c2VyZGF0YSIsImxvZ2RhdGEiLCJ3aGF0X3RvX3NlbmQiLCJldmVudF9hcmdzIiwic2RrQXJncyIsInJlZmVyX3BhZ2UiLCJzaGFyZV90eXBlIiwidGFyZ2V0QXBwS2V5IiwiY2xvbmVQIiwiY3VzcCIsImV2ZW50X2NvZGUiLCJwdmFyZ3MiLCJwYWdlX2lkIiwiciIsIl9wYWdlX2F1dG9fcHYiLCJpc19hdXRvIiwicmVmX3VybCIsInJlZmVycmVyIiwicHJlIiwiX3BhZ2VfYXV0b19pZCIsInBhZ2Vfc3RhcnQiLCJ3YXRjaExPRyIsInV0aWxHUSIsInN1YnNjcmliZUxvZ3MiLCJwdXNoSW50b0dvbGRsb2dRdWV1ZSIsIm9yaURhdGFzIiwiZ2V0TG9naWNTeW1ib2wiLCJuYW1lcyIsImFwbHVzXzEiLCJhcGx1c18yIiwicHJvcHNUeXBlIiwiZ2V0TG9nQ29uZmlnIiwibG9nQ29uZmlnIiwicGFnZUxvYWRUaW1lIiwiUEFHRV9MT0FEX1RJTUUiLCJ1dGlsRXRhZyIsIkVNUFRZX0NOQSIsIl9zeW5jRXRhZyIsImNoZWNrIiwiY25hIiwiZXRhZ1N0b3JhZ2VLZXkiLCJmZXRjaEV0YWdTdGF0dXMiLCJ0b1N5bmNFdGFnIiwiYXBsdXNfcmhvc3RfdiIsImVnVXJsIiwiZXRhZyIsImV0YWdLZXlWYWx1ZSIsImV0YWdzIiwicmVzMiIsIkNOQSIsImV0YWdUaW1lb3V0IiwiZGVmYXVsdFRpbWUiLCJ0aW1lIiwidXRpbERhdGEiLCJ1dGlsVHJpbSIsInV0aWxTdG9yZSIsInRyeVRvRGVjb2RlVVJJQ29tcG9uZW50IiwiZGVmYXVsdF92YWwiLCJwYXJzZVNlbWljb2xvbkNvbnRlbnQiLCJkaWN0IiwidW5kZWNvZGUiLCJhMiIsImFfbGVuIiwibm9kZUxpc3RUb0FycmF5Iiwibm9kZXMiLCJnZXRMc0NuYSIsIl9sc19jbmEiLCJfYXJyIiwic2V0THNDbmEiLCJ0b2RheSIsInJob3N0X3YiLCJjdXN0b21faG9zdCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJ0ZXN0S2V5IiwicmVtb3ZlSXRlbSIsImdldEFwbHVzV2FpdGluZyIsIndoZW5fdG9fc2VuZHB2IiwiaXNXYWl0IiwiZ2V0SG9zdFVybCIsIndoZXJlX3RvX3NlbmQiLCJsb2dJZCIsInV0aWxQYXJhbXMiLCJDTlQiLCJVUkwiLCJQUkUiLCJnZXRDb21tb25QYXJhbXMiLCJwbGF0Zm9ybVR5cGUiLCJfZGV2X2lkIiwiX2Fub255X2lkIiwiX3VzZXJfaWQiLCJfdXNlcl9uaWNrIiwiX3Nlc3Npb25faWQiLCJ1YWlkIiwibG9nSWRLZXkiLCJsb2dJZEtleTIiLCJ0aXRsZSIsImdldExvZ0lkIiwiYXBwS2V5IiwiY29tbW9uUGFyYW1zIiwic2RrX2luZm8iLCJqc3ZlciIsImN1c3RvbVNka0lkIiwidGltZVpvbmUiLCJnZXRUaW1lWm9uZSIsInB2aWQiLCJzZXNzaW9uQXJncyIsImdsb2JhbEFyZ3MiLCJnZXRQdlBhcmFtcyIsIm1hbnNuZGxvZyIsImxvZ3R5cGUiLCJldmVudF90aW1lc3RhbXAiLCJnZXRIamxqUGFyYW1zIiwiaGpsalBhcmFtcyIsInJlY29yZFR5cGUiLCJnZXRDaGFycyIsImRlZmF1bHRWYWwiLCJ1dGlsSGFzaCIsImdldFJhbmRvbUlkIiwiaGFuZGxlUFZJZCIsImNoYXJQb3MiLCJjaGFyc1dpdGhvdXRHIiwiY2hhcnNXaXRob3V0TCIsInJuZF9zdHJzIiwiaGFuZGxlZCIsInBhZ2VVcmwiLCJsb2dOYW1lIiwicmFuZG9tOENoYXJzIiwicmFuZG9tNENoYXJzIiwicmFuZG9tNkNoYXJzIiwiY2giLCJkZWZfdiIsIl90aW1lWm9uZSIsImdldFRpbWV6b25lT2Zmc2V0IiwiX2FuZCIsInpvbmUiLCJhYnMiLCJyZW1haW5kZXIiLCJyZW1haW5kZXJab25lIiwiaXNUQkVudiIsIndpbmRtaWxsIiwiZ2V0VXNlcmRhdGEiLCJjb21ib1VzZXJkYXRhIiwicGFnZVByb3BlcnR5IiwidXBkYXRlUHJlIiwidXBkYXRlVXJsIiwidXBkYXRlU3BtVXJsIiwiZ2V0VXNlckRhdGEiLCJleGRhdGEiLCJfYXBsdXNfYXBpIiwiYXBsdXNPYmoiLCJtc2dBcnIiLCJSZWR1Y2VyIiwiaXNUcml2ZXIiLCJfZ2V0UGFnZVNwbSIsInN1YlR5cGUiLCJzcG1UeXBlIiwiX3NlbmQiLCJfcmVxdWVzdFZUQ29uZmlnIiwiX3NlbmRQViIsInJlZHVjZXIiLCJwdWJzdWJUeXBlIiwibWlkZGxld2FyZU1lc3NhZ2VLZXkiLCJfY29tYmluZVJlY29yZCIsInNlbmR0b215Iiwic2NtIiwiYXBsdXNDb250ZW50SWQiLCJfYXBsdXNfc2VuZHRvbXkiLCJfZ29rZXlzIiwiX3JlY29yZCIsImdldFBhZ2VTUE0iLCJfc2V0UGFnZVNQTSIsIl91cGRhdGVQYWdlUHJvcGVydGllcyIsInJlcG9ydEFuYWx5dGljcyIsInNwbURldGFpbCIsImlnbm9yZURlZmF1bHRQYWdlTW9uaXRvciIsIl91cGRhdGVOZXh0UGFnZVByb3BlcnRpZXMiLCJldmVudGlkIiwiY29tTmFtZSIsImFyZzIiLCJhcmczIiwicGFyYW0iLCJjYWxsVXNlclRyYWNrIiwiX2FwcGVuZE1ldGFJbmZvIiwiX3NraXBQYWdlIiwiX3BhZ2VBcHBlYXIiLCJpc1BhZ2VEaXNBcHBlYXIiLCJpc1BhZ2VBcHBlYXIiLCJfcGFnZURpc2FwcGVhciIsIl91cGRhdGVQYWdlVXRwYXJhbSIsInV0UGFyYW1Kc29uIiwiX3VwZGF0ZU5leHRQYWdlVXRwYXJhbSIsIl91cGRhdGVTZXNzaW9uUHJvcGVydGllcyIsImV4dERhdGEiLCJfZ2V0UGFnZVNwbVVybCIsIl9nZXRQYWdlU3BtUHJlIiwiX3NldFBhZ2VOYW1lIiwiY3VyUGF0aCIsInBhZ2VNZXRhIiwiX2dldEVsZW1lbnRTUE0iLCJzcG1DRCIsInRhcmdldFNwbSIsImF1dG9fY2xrX21ldGFpbmZvIiwiYXV0b19leHBfbWV0YWluZm8iLCJjbGtfaW5mbyIsImV4cF9pbmZvIiwiX3JlY29yZEFwcExpbmsiLCJ1dGlsTG9nZ2VyIiwiQ29tcG9zZSIsInBsdWdpbnNMb2FkZXIiLCJDT05GSUciLCJwbCIsIm1pZGRsZXdhcmUiLCJsb2dnZXIiLCJhcHAiLCJjb21wb3NlIiwid3JhcCIsIm1lc3NhZ2VGblF1ZXVlIiwicHJlZml4IiwibGV2ZWwiLCJkZWJ1Z0xvZyIsImFwbHVzRGVidWciLCJjYWxsZWRMaXN0Iiwic2V0Q2FsbGVkTGlzdCIsInJlc2V0Q2FsbGVkTGlzdCIsIm13IiwibWF4VGltZW91dCIsInNsZWVwSGFuZGVyMSIsIl90aW1lX291dCIsIl9td19uYW1lIiwicGx1Z2luc19uYW1lIiwicHVic3ViSW5mbyIsInF1ZSIsImdldEZvcm1hdFF1ZXVlIiwicXVldWUiLCJwcm9jZXNzR29sZGxvZ1F1ZXVlIiwiZm9ybWF0UXVldWUiLCJnZXRBcGx1c0hvbGRUeXBlIiwiZmlsdGVyVGFzayIsInRhc2siLCJob2xkVHlwZSIsIlNUQVJUIiwiQVBMVVNfSE9MRF9RVUVVRSIsInByb2Nlc3NIb2xkR29sZGxvZ1F1ZXVlIiwiQVBMVVNfSE9MRF9VU0VSSURfUVVFVUUiLCJBUExVU19IT0xEX0FOT05ZX1FVRVVFIiwiZ2V0TWV0aG9kTmFtZSIsIlFVRVVFIiwiZGVsYXlUYXNrcyIsInByb2Nlc3NUYXNrIiwic3Vic2NyaWJlQW5kUHJvY2Vzc1F1ZXVlIiwicXVldWVOYW1lIiwiX2ZuIiwicXVldWVNYXAiLCJzdWJzY3JpYmVNd0NoYW5nZVF1ZXVlIiwic3Vic2NyaWJlTWV0YVF1ZXVlIiwic3Vic2NyaWJlUXVldWUiLCJtZXRhUXVldWUiLCJvdGhlcnNRdWV1ZSIsImFjIiwicHJvY2Vzc0FwbHVzUXVldWUiLCJzdGFydExlbmd0aCIsImF1dG9UcmFja2VyIiwiZXZlbnRIYW5kbGUiLCJldmVudE5hbWUiLCJwZHJfY29uZmlnIiwicGFnZW5hbWUiLCJyYl9jb25maWciLCJzaGFyZV9jb25maWciLCJfaGFzVHJhY2tlZCIsImV4dHJhUGFyYW1zIiwiaXNNaW5pIiwic2VuZFBWIiwiZ2V0Q29uZmlnIiwiZmV0Y2hWZXJpZnlDb25maWciLCJhcHBJbmZvSWQiLCJhcGlfaG9zdCIsInZlcmlmeV9ob3N0IiwidmVyaWZ5VXJsIiwiY2ZnRGF0YSIsIl9iZWdpbkxvYWQiLCJfbWluaWNmZ19sb2FkIiwiX2FwbHVzX3Z0X2NmZyIsInV0aWxWVCIsInZ0MmF1dG9FdmVudCIsIm9uQ2xpY2siLCJpc0F1dG8iLCJNSU5JX1ZUX0NPTkZJR19GT1JNQVQiLCJwYWdlQ29uZmlnIiwiZW5hYmxlZCIsIkZldGNoQ29uZmlnIiwiX2FwbHVzX2FsZWFkeV9sb2FkX21pbml2dCIsImZjIiwidXRpbENhdGNoIiwibWluaXZ0U3RvcmUiLCJNSU5JX1ZUX0NPTkZJR19CQUNLIiwiR09MRExPR19QVUJMSVNIIiwicGF0aG5hbWUiLCJvcmlnaW5TcG0iLCJ1cGRhdGVDZmdMcyIsImZldGNoRnJvbUNkbiIsInJlcXVlc3RWVENvbmZpZyIsInBvaW50cyIsInNldENvbmZpZ0ludG9McyIsImVuYWJsZSIsImNhdGNoRXhjZXB0aW9uIiwiZ2V0TWluaVZ0RGF0YSIsImNkbnBhdGgiLCJwcmVVcmwiLCJmcm9tQ0ROIiwidnRDb25maWciLCJmZXRjaEZyb21MUyIsInN5bmNNaW5pVnREYXRhIiwiZ2V0VnRDb25maWdQYXRoIiwiR09MRExPR19TVUJTQ1JJQkUiLCJmaWxlbmFtZSIsIm1lc3NhZ2UiLCJsc01pbml2dENvbmZpZ0tleSIsImdldE1pbmlWdFRwbENkblBhdGgiLCJhcGx1c1RyYWNrQ29uZmlnSWRJbmZvIiwidHVybm9uIiwic3BtSWQiLCJ0ZW1wbGF0ZVZhbCIsInNwbUFCIiwiZ2V0U3RvcmFnZVN5bmMiLCJzZXRTdG9yYWdlU3luYyIsImNvbXBsZW1lbnRBcnJheSIsIm9yaSIsImdldEN1cnJlbnRQYWdlVlRDZmciLCJ2dENmZyIsInZ0X2NmZyIsInBjIiwic2V0UGFnZU5hbWUiLCJhdXRvX2V4cF9hcnIiLCJhdXRvX2Nsa19hcnIiLCJ0cmFja2VyVHlwZSIsInNlbGVjdG9yVHlwZSIsInRlbXBsYXRlIiwic3RkSWQiLCJvcmlfYXV0b19leHBfYXJyIiwib3JpX2F1dG9fY2xrX2FyIiwidGFyZ2V0X2V4cF9hcnIiLCJ0YXJnZXRfY2xrX2FyciIsImFwbHVzaW5pdCIsInNpdGVJZCIsIlJVTk5JTkciLCJhcGx1c1N0YXR1cyIsImNvbmZpZ19wdl9jb250ZXh0IiwiUExVR0lOU19QViJdLCJtYXBwaW5ncyI6IjtBQUFBQSxPQUFPQyxVQUNFLFNBQVVDO0lDR25CLFNBQUFDLEVBQUFDO1FBR0EsSUFBQUMsRUFBQUQsSUFDQSxPQUFBQyxFQUFBRCxHQUFBSDtRQUdBLElBQUFELElBQUFLLEVBQUFEO1lBQ0FIO1lBQ0FLLElBQUFGO1lBQ0FHLFNBQUE7O1FBVUEsT0FOQUwsRUFBQUUsR0FBQUksS0FBQVIsRUFBQUMsU0FBQUQsS0FBQUMsU0FBQUUsSUFHQUgsRUFBQU8sVUFBQSxHQUdBUCxFQUFBQzs7SUF2QkEsSUFBQUk7SUFxQ0EsT0FUQUYsRUFBQU0sSUFBQVAsR0FHQUMsRUFBQU8sSUFBQUwsR0FHQUYsRUFBQVEsSUFBQSxJQUdBUixFQUFBO0lET00sU0FBVUgsR0FBUUMsR0FBU0U7SUFFaENILEVBQU9DLFVBQVVFLEVBQW9CO0dBS2hDLFNBQVVILEdBQVFDLEdBQVNFO0lFMUNqQztJQUNBQSxFQUFBLEdBQUFTLGNBQ0FaLEVBQUFDLFVBQUEsU0FBQVk7UUFDQSxJQUFBQyxJQUFBWCxFQUFBO1FBQ0EsT0FBQUEsRUFBQSxJQUFBVSxHQUFBQzs7R0Y0RE0sU0FBVWQsR0FBUUMsR0FBU0U7SUdqRWpDO0lBRUEsSUFRQVksR0FSQUMsSUFBQWIsRUFBQSxJQUVBYyxJQUFBRCxFQUFBQyxPQUNBQyxJQUFBRixFQUFBRSxhQUVBQyxJQUFBSCxFQUFBRyxTQUNBQyxJQUFBSixFQUFBSSxlQUdBQyxLQUFBO0lBQ0E7UUFDQU4sSUFBQU8sUUFDQUQsS0FBQTtNQUNDLE9BQUFFO1FBQ0RSOztJQUdBZCxFQUFBdUIsYUFBQTtRQUNBLE9BQUFUO09BR0FkLEVBQUFXLGFBQUEsU0FBQWE7UUFFQVYsSUFEQVUsSUFDQUE7WUFHQUMsR0FBQTtZQUNBQztZQUNBQzs7UUFHQSxJQUFBQyxHQUNBQztRQUNBLElBQUFULEdBQ0E7WUFDQVEsSUFBQWQsRUFBQVksVUFBQVosRUFBQVk7WUFDQSxJQUFBSSxJQUFBaEIsRUFBQWlCLGtCQUFBakIsRUFBQWlCO1lBQ0FGLElBQUFmLEVBQUFhLGdCQUFBYixFQUFBYSxtQkFDQUUsSUFBQUMsRUFBQUUsT0FBQUg7VUFDSyxPQUFBUCxXQUVMTSxJQUFBZCxFQUFBWSxPQUNBRyxJQUFBZixFQUFBYTtRQU1BLE9BSEFiLEVBQUFZLFFBQUFaLEVBQUFtQixVQUFBTCxHQUNBZCxFQUFBYSxjQUFBYixFQUFBaUIsZ0JBQUFGLEdBRUFmOztJQUdBLElBQUFvQixJQUFBLFNBQUFDO1FBQ0EsSUFBQUEsTUFBQW5CLEtBQUFtQixNQUFBakIsR0FBQTtZQUNBLElBQUFrQixJQUFBdEIsRUFBQUUsTUFBQUYsRUFBQUk7WUFJQSxPQUhBa0IsTUFDQUEsSUFBQXRCLEVBQUFFLEtBQUFGLEVBQUFJLFVBRUFrQjs7UUFFQSxJQUFBTCxJQUFBWixHQUNBUSxJQUFBVjtRQUNBLElBQUFrQixNQUFBUixLQUFBUSxNQUFBSixHQUFBO1lBQ0EsSUFBQU0sSUFBQXZCLEVBQUFhLE1BQUFiLEVBQUFpQjtZQUlBLE9BSEFNLE1BQ0FBLElBQUF2QixFQUFBYSxLQUFBYixFQUFBaUIsVUFFQU07OztJQUdBckMsRUFBQWtDLG9CQUVBbEMsRUFBQXNDLGlCQUFBLFNBQUFILEdBQUFJO1FBQ0F6QixFQUFBcUIsS0FBQUk7O0lBUUEsSUFBQUMsSUFBQSxTQUFBTDtRQUNBLElBQUFWO1FBQ0E7WUFDQSxJQUFBQyxJQUFBUSxFQUFBbEI7WUFDQVMsSUFBQUMsRUFBQVM7VUFDRyxPQUFBYjtZQUNIRyxJQUFBO1VBQ0c7WUFDSCxPQUFBQTs7O0lBR0F6QixFQUFBd0M7SUFPQSxJQUFBQyxJQUFBLFNBQUFOLEdBQUFPO1FBQ0EsSUFBQUMsS0FBQTtRQUNBO1lBQ0EsSUFBQWpCLElBQUFRLEVBQUFsQjtZQUNBbUIsTUFDQVQsRUFBQVMsS0FBQU8sR0FDQUMsS0FBQTtVQUVHLE9BQUFyQjtZQUNIcUIsS0FBQTtVQUNHO1lBQ0gsT0FBQUE7OztJQUdBM0MsRUFBQXlDLG1CQWlCQXpDLEVBQUE0QyxnQkFBQTtRQUNBLE9BQUFKLEVBQUE7O0dIa0ZNLFNBQVV6QyxHQUFRQztJSS9OeEIsSUFBQWdCLElBQUEsU0FDQUUsSUFBQSxXQUNBRCxJQUFBRCxJQUFBLFVBQ0FHLElBQUFELElBQUEsVUFDQTJCLElBQUEsYUFDQUMsSUFBQSxZQUNBQyxJQUFBLFdBQUFELEdBQ0FFLElBQUEsUUFBQUYsR0FDQUcsSUFBQSxRQUNBQyxJQUFBLFdBRUFDLElBQUEsU0FDQUMsSUFBQSxRQUNBQyxJQUFBLFFBQ0FDLElBQUEsUUFDQUMsSUFBQSxTQUNBQyxJQUFBLFFBQ0FDLElBQUEsUUFDQUMsSUFBQSxLQUNBQyxJQUFBLE1BQ0FDLElBQUEsUUFDQUMsSUFBQSxLQUNBQyxJQUFBLEdBQ0FDLElBQUEsS0FDQUMsSUFBQSxpQkFDQUMsSUFBQSxlQUNBQyxJQUFBLGdCQUNBQyxJQUFBLGNBQ0FDLElBQUEsc0JBQ0FDLElBQUEsV0FDQUMsSUFBQSxnQkFDQUMsSUFBQSx1QkFDQUMsSUFBQSxxQkFDQUMsSUFBQSx3QkFDQUMsSUFBQSxpQkFDQUMsSUFBQTtJQUNBNUUsRUFBQUM7UUFDQTRFLFlBQUE7UUFDQUMscUJBQUE7UUFDQUMsV0FBQTtRQUNBQyxVQUFBO1FBQ0FDLGNBQUE3QjtRQUNBSTtRQUNBMEI7WUFDQUMsUUFBQTtZQUNBQyxRQUFBO1lBQ0FDLFFBQUE7WUFDQUMsU0FBQWxDO1lBQ0FtQyxRQUFBO1lBQ0FDLFFBQUE7O1FBRUFDO1lBQ0FuQztZQUNBQztZQUNBRjtZQUNBRztZQUNBa0MsTUFBQWpDO1lBQ0FrQyxRQUFBakM7O1FBRUF6QztRQUNBRTtRQUNBeUUsYUFBQTNFLElBQUEsTUFBQUEsSUFBQWtDLElBQUE7UUFDQTBDLFdBQUE1RSxJQUFBLE1BQUFBLElBQUFrQyxJQUFBO1FBQ0EyQyxTQUFBN0UsSUFBQSxNQUFBQSxJQUFBa0MsSUFBQTtRQUNBNEMsWUFBQTlFLElBQUEsTUFBQUEsSUFBQWtDLElBQUE7UUFDQTZDLGlCQUFBL0UsSUFBQTtRQUNBQztRQUNBRTtRQUNBNkUsVUFBQTtRQUNBQyxTQUFBO1FBQ0FDLFVBQUE3QztRQUNBOEMsVUFBQS9DO1FBQ0FnRCxZQUFBN0M7UUFDQUgsS0FBQTtRQUNBQyxLQUFBO1FBRUFnRCxTQUFBO1FBQ0FDLFNBQUE7UUFDQUMsU0FBQTtRQUNBQyxjQUFBM0QsSUFBQTtRQUNBNEQsZ0JBQUE1RCxJQUFBO1FBQ0FJLFVBQUE7UUFDQXlELE9BQUE7UUFDQTNEO1FBQ0FDO1FBQ0EyRCx3QkFBQTNGLElBQUEsTUFBQStCO1FBQ0E2RCxxQkFBQTVGLElBQUEsTUFBQWdDO1FBQ0E2RCxNQUFBO1FBQ0FDLGdCQUFBO1FBQ0FDLFlBQ0Esd0ZBQ0EsK0NBQ0Esd0JBQ0EsNEJBQ0EscUJBQ0EseUJBQ0EsMkNBQ0EsNkRBQ0E7UUFFQXJEO1FBQ0FzRCxvQkFBQTtRQUNBM0MsU0FBQTtRQUNBNEMsaUJBQUE7UUFDQUMsb0JBQUE7UUFDQUMseUJBQUE7UUFDQUMseUJBQUE7UUFDQUMsVUFBQTtRQUNBQyxRQUFBO1FBQ0FDLFlBQUE7UUFDQTNEO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FUO1FBQ0FVO1FBQ0FDO1FBQ0FrRCxpQkFBQTtRQUVBakQ7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7O0dKaVBNLFNBQVU1RSxHQUFRQyxHQUFTRTtJS2pYakNILEVBQUFDO1FBQ0F5SDtZQUNBQyxpQkFBQTtZQUNBQyxpQkFBQTtZQUNBQyx3QkFBQTtZQUNBQyxPQUFBOztRQUVBQztZQUNBQyxRQUFBO1lBQ0FDLGNBQUE7WUFDQS9HLGFBQUE7WUFDQWdILGtCQUFBO1lBQ0FDLGFBQUE7WUFDQUM7WUFDQUMsTUFBQTs7UUFFQUM7WUFFQUMsTUFBQTtZQUNBQyxNQUFBckksRUFBQTs7WUFHQW9JLE1BQUE7WUFDQUMsTUFBQXJJLEVBQUE7O1lBR0FvSSxNQUFBO1lBQ0FDLE1BQUFySSxFQUFBOztZQUdBb0ksTUFBQTtZQUNBQyxNQUFBckksRUFBQTs7WUFHQW9JLE1BQUE7WUFDQUMsTUFBQXJJLEVBQUE7O1lBR0FvSSxNQUFBO1lBQ0FDLE1BQUFySSxFQUFBOztZQUdBb0ksTUFBQTtZQUNBQyxNQUFBckksRUFBQTtZQUNBc0ksUUFDQTs7WUFJQUYsTUFBQTtZQUNBQyxNQUFBckksRUFBQTtZQUNBc0ksUUFDQTs7WUFJQUYsTUFBQTtZQUNBQyxNQUFBckksRUFBQTs7WUFHQW9JLE1BQUE7WUFDQUMsTUFBQXJJLEVBQUE7O1lBR0FvSSxNQUFBO1lBQ0FDLE1BQUFySSxFQUFBO1lBQ0FzSSxRQUNBO1lBRUFDO2dCQUNBSjtvQkFDQUs7d0JBRUFKLE1BQUE7d0JBQ0FDLE1BQUFySSxFQUFBOzt3QkFHQW9JLE1BQUE7d0JBQ0FDLE1BQUFySSxFQUFBO3dCQUNBdUk7NEJBQ0FFLGNBQUE7Ozt3QkFJQUwsTUFBQTt3QkFDQUMsTUFBQXJJLEVBQUE7O3dCQUdBb0ksTUFBQTt3QkFDQUMsTUFBQXJJLEVBQUE7d0JBQ0F1STs0QkFDQUc7Ozt3QkFJQU4sTUFBQTt3QkFDQUMsTUFBQXJJLEVBQUE7O3dCQUdBb0ksTUFBQTt3QkFDQUMsTUFBQXJJLEVBQUE7d0JBQ0FzSSxRQUNBOzt3QkFJQUYsTUFBQTt3QkFDQUMsTUFBQXJJLEVBQUE7O29CQUdBMkk7d0JBRUFQLE1BQUE7d0JBQ0FDLE1BQUFySSxFQUFBOzt3QkFHQW9JLE1BQUE7d0JBQ0FDLE1BQUFySSxFQUFBOzt3QkFHQW9JLE1BQUE7d0JBQ0FDLE1BQUFySSxFQUFBO3dCQUNBc0k7O3dCQUdBRixNQUFBO3dCQUNBQyxNQUFBckksRUFBQTs7d0JBR0FvSSxNQUFBO3dCQUNBQyxNQUFBckksRUFBQTs7Ozs7WUFPQW9JLE1BQUE7WUFDQUMsTUFBQXJJLEVBQUE7WUFDQXNJLFFBQ0Esb0JBQ0E7O1lBSUFGLE1BQUE7WUFDQUMsTUFBQXJJLEVBQUE7WUFDQXVJO2dCQUNBSyxZQUFBOzs7WUFJQVIsTUFBQTtZQUNBQyxNQUFBckksRUFBQTs7WUFHQW9JLE1BQUE7WUFDQUMsTUFBQXJJLEVBQUE7WUFDQXVJO2dCQUNBSyxZQUFBOzs7WUFJQVIsTUFBQTtZQUNBQyxNQUFBckksRUFBQTtZQUNBc0ksUUFDQTs7O0dMMlhNLFNBQVV6SSxHQUFRQyxHQUFTRTtJTXZoQmpDO0lBb0JBLFNBQUE2SSxFQUFBQyxHQUFBQztRQUNBLElBQUFDO1FBQ0FELE1BQ0FDLEVBQUFELFlBRUFELE9BQUFHLG1CQUNBRCxFQUFBRSxVQUFBSixFQUFBRztRQUVBLFNBQUFFLEtBQUFMLEdBQ0EsbUJBQUFLLEtBQUEsTUFBQUEsRUFBQUMsUUFBQSxlQUNBSixFQUFBRyxLQUFBTCxFQUFBSztRQUdBLE9BQUFIOztJQUdBLFNBQUFLLEVBQUFDO1FBQ0FDLElBQUFDLEtBQUE7WUFDQUMsSUFBQUMsRUFBQTs7UUFHQSxJQUFBQyxRQUNBQyxJQUFBQyxFQUFBUDtRQUNBLFNBQUFRLEtBQUFGLEdBQ0EsbUJBQUFBLEVBQUFFLEtBQ0FILElBQUFJLEVBQUFDLE9BQUFKLEVBQUFFLElBQUFILEtBRUFDLEVBQUFFLE9BQ0FILEVBQUFHLEtBQUFGLEVBQUFFO1FBS0FHLElBQUFUO1FBQ0EsSUFBQVUsSUFBQUMsSUFBQUMsT0FBQVQsSUFDQVUsSUFBQUYsSUFBQUc7UUFDQUMsSUFBQUMsYUFBQUgsSUFDQUgsS0FDQUQsSUFBQVEsSUFBQUMsRUFBQUMsU0FBQUMsa0JBQXdEO1lBQ3hEbkIsSUFBQUMsRUFBQSx3QkFDQU8sSUFBQVk7OztJQUtBLFNBQUFDO1FBQ0FYLElBQUFZLFNBQ0FkLElBQUFZLEtBQUFILEVBQUFDLFNBQUFLLG1CQUF3RDtZQUN4RGYsSUFBQWdCLFFBQ0ExQixJQUFBMEIsUUFDQXhCLElBQUFDLEVBQUE7OztJQUlBLFNBQUF3QjtRQUVBLElBQUFDLElBQUFDLEtBQ0FDLEtBQUEsR0FDQUMsS0FBQSxHQUNBQyxJQUFBQyxFQUFBbkssY0FDQUMsSUFBQW1LLEVBQUFwSyxjQUNBcUs7WUFDQUMsVUFBQSxTQUFBckM7Z0JBQ0FtQyxFQUFBRztnQkFDQSxJQUFBOUMsSUFBQVEsTUFBQVIsWUFDQStDLElBQUF2QyxNQUFBdUM7Z0JBaUJBLElBUkFDLEtBQUEsR0FFQVAsRUFBQTlKLFlBQUFzSztvQkFDQUMsUUFBQTtvQkFDQUMsYUFBQSxzQkFBQWxDLEVBQUFDLE9BQUE2Qjt3QkFDQTlDLE9BQUFPLEVBQUFQLFNBQUE7O29CQUdBRCxHQUFBO29CQUNBLElBQUFvRDtvQkFRQSxJQVBBcEQsRUFBQXFELFFBQ0FaLEVBQUEvSixNQUFBNEssWUFBQXRELEVBQUFxRCxNQUdBN0MsRUFBQVAsVUFDQW1ELEVBQUFuRCxRQUFBTyxFQUFBUCxRQUVBRCxFQUFBRyxnQkFBQTt3QkFDQSxJQUFBQyxJQUFBSixFQUFBRyxlQUFBb0QsUUFDQUMsSUFBQXBELEVBQUFxRCxNQUFBO3dCQUNBTCxJQUFBbkMsRUFBQUMsT0FBQWtDOzRCQUNBTSxlQUFBRixFQUFBRyxTQUFBLElBQUFILEVBQUEsS0FBQXBEOzRCQUNBd0Qsc0JBQUF4RDs0QkFDQXlELFlBQUE7OztvQkFJQXBCLEVBQUE5SixZQUFBc0s7d0JBQ0FDLFFBQUE7d0JBQ0FDLGFBQUEsZ0JBQUFDO3dCQUVBWCxFQUFBOUosWUFBQXNLO3dCQUNBQyxRQUFBO3dCQUNBQyxhQUFBLGlCQUFBQzt3QkFFQVgsRUFBQTlKLFlBQUFzSzt3QkFDQUMsUUFBQTt3QkFDQUMsYUFBQSxxQkFBQXBELEVBQUFDLEdBQUFRLEVBQUFQOzs7O1lBSUE2RCxRQUFBLFNBQUFDO2dCQUVBZixLQUFBO2dCQUNBLElBRUFnQixHQUZBaEUsSUFBQStELE1BQUEvRCxZQUNBQyxJQUFBOEQsTUFBQTlELFFBQUE7Z0JBRUF3QyxFQUFBOUosWUFBQXNLO29CQUNBQyxRQUFBO29CQUNBQyxhQUFBLHFCQUFBcEQsRUFBQUMsR0FBQUM7b0JBRUFBLE1BQ0F3QyxFQUFBOUosWUFBQXNLO29CQUNBQyxRQUFBO29CQUNBQyxhQUFBO3dCQUNBbEQ7O29CQUdBd0MsRUFBQTlKLFlBQUFzSztvQkFDQUMsUUFBQTtvQkFDQUMsYUFBQTt3QkFDQWxEOztvQkFHQXdDLEVBQUE5SixZQUFBc0s7b0JBQ0FDLFFBQUE7b0JBQ0FDLGFBQUE7d0JBQ0FsRDs7cUJBSUEsTUFBQStDLElBQ0FnQixJQUFBLElBQ08sTUFBQWhCLElBQ1BnQixJQUFBLElBRUFyRCxJQUFBQyxFQUFBLG9EQUFBb0M7Z0JBS0FpQixFQUFBQyxhQUFBekIsRUFBQTlKLGFBQUFaLEVBQUE2RSxXQUFBO29CQUNBMkYsTUFDQUEsS0FBQSxHQUNBaEMsRUFBQXdEO29CQUdBLElBQUFqRixJQUFBMkQsRUFBQS9KLE1BQUFvRztvQkFDQSxLQUFBQSxFQUFBQyxPQUFBO3dCQUNBLElBQUFvRixJQUFBQyxFQUFBQzt3QkFDQTVCLEVBQUE2QixnQkFBQSxJQUFBQyxPQUFBQyxXQUNBL0IsRUFBQTlKLFlBQUFzSzs0QkFDQUMsUUFBQTs0QkFDQUMsYUFBQXBMLEVBQUFtRCxXQUFBO2dDQUVBOEk7Z0NBQ0FTLFdBQUFOLEtBQUFKLEVBQUF4RSxRQUFBO2dDQUNBbUYsS0FBQVgsRUFBQXhFLFFBQUE7Ozs7OztZQU1Bb0YsUUFBQTtnQkFDQVYsRUFBQUMsYUFBQXpCLEVBQUE5SixhQUFBWixFQUFBNkUsV0FBQTtvQkFDQSxJQUFBa0MsSUFBQTJELEVBQUEvSixNQUFBb0csb0JBQ0FxRixJQUFBQyxFQUFBQztvQkFDQSxLQUFBdkYsRUFBQUMsT0FBQTt3QkFDQSxJQUFBMkYsSUFBQU4sRUFBQVEsc0JBQ0FDLElBQUEsSUFBQU4sT0FBQUMsWUFBQS9CLEVBQUE2Qjt3QkFDQTdCLEVBQUE5SixZQUFBc0s7NEJBQ0FDLFFBQUE7NEJBQ0FDLGFBQUFwTCxFQUFBb0QsU0FBQTtnQ0FDQTBKO2dDQUNBQyxVQUFBO2dDQUNBTCxXQUFBTixLQUFBTyxLQUFBO2dDQUNBQSxVQUFBO2dDQUNBSyxZQUFBdEMsRUFBQTZCOzs7O29CQUlBL0IsS0FBQSxHQUNBUDtvQkFFQWdCLElBQUE7OztRQUlBVixNQUFBLFNBQUFoSztZQUNBLElBQUFtSyxJQUFBQyxFQUFBbks7WUFDQUQsRUFBQUksUUFBQStKLEdBQ0FKLEVBQUEvSjtXQUdBRSxFQUFBd00sVUFBQSxTQUFBMU07WUFFQSxLQUFBa0ssR0FBQTtnQkFFQSxJQUFBdUI7Z0JBRUFBLElBREFrQixFQUFBek0sRUFBQTBNLHdCQUNBMU0sRUFBQTBNLCtCQUVBNU0sR0FFQXNLLEVBQUFDLFNBQUFrQjtnQkFDQXZCLEtBQUE7O1lBR0FJLEVBQUFrQixPQUFBeEw7WUFHQUUsRUFBQTJNLFVBQUE7WUFFQXZDLEVBQUErQjs7O0lBclBBLElBQUFqQyxJQUFBeEwsRUFBQSxJQUNBK00sSUFBQS9NLEVBQUEsSUFDQWEsSUFBQWIsRUFBQSxJQUNBNkosSUFBQTdKLEVBQUEsSUFDQXlMLElBQUF6TCxFQUFBLElBQ0FtSyxJQUFBbkssRUFBQSxLQUNBdUssSUFBQXZLLEVBQUEsS0FDQWlLLElBQUFqSyxFQUFBLEtBQ0F1SixJQUFBdkosRUFBQSxLQUNBMEssSUFBQTFLLEVBQUEsS0FFQXlKLElBQUF6SixFQUFBLEtBQ0FrTixJQUFBbE4sRUFBQSxLQUNBK0osSUFBQS9KLEVBQUEsS0FDQStOLElBQUEvTixFQUFBLElBRUE4TCxJQUFBO0lBeU9Bak0sRUFBQUMsVUFBQTtRQUNBO1lBQ0FvTyxLQUFBO2tCQUNBLHVCQUFBOUUsZUFBQWdDLFFBQUEsS0FDQUY7Ozs7R04yaUJNLFNBQVVyTCxHQUFRQztJT3B6QnhCRCxFQUFBQztRQUNBcU8sU0FBQTtZQUNBLElBQUEvTSxJQUFBNkssVUFBQVEsU0FBQSxnQkFBQVIsVUFBQSxLQUFBQSxVQUFBLFNBQ0FtQyxJQUFBbkMsVUFBQVEsU0FBQSxnQkFBQVIsVUFBQSxLQUFBQSxVQUFBLFNBQ0FvQyxJQUFBcEMsVUFBQVEsU0FBQSxnQkFBQVIsVUFBQSxLQUFBQSxVQUFBLG9CQUNBbkMsSUFBQTFJLEVBQUFnTjtZQUNBaE4sRUFBQWdOLEtBQUE7Z0JBQ0EsSUFBQUUsSUFBQXhFLE9BQUF5RSxNQUFBQyxNQUFBdkM7Z0JBQ0EsT0FBQXFDLElBQ0FELEVBQUFoTyxLQUFBbU8sTUFBQUYsS0FHQUQsRUFBQUUsTUFBQUMsTUFBQXZDOzs7UUFLQXdDLFdBQUEsU0FBQUMsR0FBQXRHLEdBQUF1RztZQUNBLElBQUFDLElBQUFGLEVBQUF0RztZQUNBc0csRUFBQXRHLEtBQUEsU0FBQWhIO2dCQUNBdU4sRUFBQXRPLEtBQUFtTyxNQUFBcE4sSUFDQXdOLE9BQUF2TyxLQUFBbU8sTUFBQXBOOzs7UUFJQTRMLGNBQUEsU0FBQXZMLEdBQUFpRSxHQUFBbUo7WUFDQXBOLEVBQUFzSztnQkFDQUMsUUFBQXRHO2dCQUNBdUcsYUFBQSx1QkFBQTZDO29CQUNBLGVBQUFBLEtBQUEscUJBQUFELEtBQ0FBOzs7OztHUGcwQk0sU0FBVWhQLEdBQVFDO0lRMzFCeEIsU0FBQStKLEVBQUE2RTtRQUNBLElBQUFLLEdBQ0FDLElBQUFDLE1BQUFDLFFBQUFSO1FBQ0EsdUJBQUFBLEdBQUE7WUFFRyxJQUFBUyxhQUFBQyxPQUNITCxJQUFBSSxLQUFBRSxVQUFBWCxJQUNBTSxJQUFBRyxLQUFBQyxNQUFBTCxTQUVBLFNBQUFqRixLQUFBNEUsR0FDQU0sRUFBQWxGLEtBQUEsbUJBQUE0RSxFQUFBNUUsS0FBQUQsRUFBQTZFLEVBQUE1RSxNQUFBNEUsRUFBQTVFO1lBR0EsT0FBQWtGOzs7SUFFQW5QLEVBQUFDLFVBQUErSjtHUm8yQk0sU0FBVWhLLEdBQVFDLEdBQVNFO0lTNzJCakM7SUF3QkEsU0FBQTRMO1FBQ0Esd0JBQUEwRCxHQUNBLE9BQUFBO1FBRUEsSUFBQUMsS0FBQTtRQUNBO1lBQ0EsSUFBQUMsSUFBQUMsc0JBQUFDLGFBQUFELFVBQUFFLGNBQUE7WUFDQUosTUFBQSxVQUFBSyxLQUFBSixLQUNBLGNBQUFJLEtBQUFKLE1BQUEsb0JBQUFJLEtBQUFKLE1BQUEsZ0JBQUFJLEtBQUFKLFFBQ0FELEtBQUE7WUFFQSxjQUFBSyxLQUFBSixPQUNBRCxNQUFBLE9BQUFLLEtBQUFKLEtBR0EsbUJBQUFJLEtBQUFKLE9BQ0FELEtBQUE7WUFFQSxJQUFBaEUsSUFBQXNFLElBQUF0RTtZQUNBLHFCQUFBQSxFQUFBdUUsWUFDQVAsTUFBQWhFLEVBQUF1RSxRQUFBO1VBRUssT0FBQTFPO1FBRUwsT0FEQWtPLElBQUFDLEdBQ0FBOztJQUtBLFNBQUFRO1FBQ0EsMkJBQUFULE1BQ0FBLElBRUExRDs7SUF2REEsSUFBQW1DLElBQUEvTixFQUFBLElBQ0F3TCxJQUFBeEwsRUFBQSxJQUVBZ1EsSUFBQWhRLEVBQUEsS0FDQXlKLElBQUF6SixFQUFBO0lBRUFGLEVBQUFtUSxpQkFBQTtRQUNBLElBQUFDLElBQUFDO1FBQ0EsT0FBQUQsSUFBQXpELFNBQUE7T0FHQTNNLEVBQUFzUSxrQkFBQTtRQUNBLElBQUFGLElBQUFDO1FBQ0EsT0FBQUQsSUFBQXpELFNBQUE7O0lBR0EsSUFBQTZDO0lBRUF4UCxFQUFBdVEsWUFBQSxTQUFBaE87UUFDQWlOLElBQUFqTjtPQThCQXZDLEVBQUE4TDtJQVVBLElBQUFpRSxJQUFBO1FBQ0E7WUFDQTtnQkFDQXRFLEtBQUErRTtnQkFDQUMsVUFBQTtnQkFDQUMsU0FBQTtnQkFDQUMsV0FBQTs7VUFFRyxPQUFBclA7WUFDSDtnQkFDQTtvQkFDQW1LLEtBQUFtRjtvQkFDQUgsVUFBQUcsU0FBQUMsS0FBQTtvQkFDQUgsU0FBQUUsU0FBQUMsS0FBQTtvQkFDQUYsV0FBQTs7Y0FFSyxPQUFBclA7Z0JBQ0w7b0JBQ0E7d0JBQ0FtSyxLQUFBcUY7d0JBQ0FMLFVBQUE7d0JBQ0FDLFNBQUE7d0JBQ0FDLFdBQUE7O2tCQUVPLE9BQUFyUDtvQkFDUDt3QkFDQTs0QkFDQW1LLEtBQUFzRjs0QkFDQU4sVUFBQTs0QkFDQUMsU0FBQTs0QkFDQUMsV0FBQTs7c0JBRVMsT0FBQXJQO3dCQUNUOzRCQUNBO2dDQUNBbUssS0FBQXVGO2dDQUNBUCxVQUFBO2dDQUNBQyxTQUFBO2dDQUNBQyxXQUFBOzswQkFFVyxPQUFBclA7NEJBQ1g7Z0NBQ0FtSztnQ0FDQWdGLFVBQUE7Z0NBQ0FDLFNBQUE7Ozs7Ozs7O0lBUUExUSxFQUFBaVEsVUFDQWpRLEVBQUErUCxrQkFBQTtRQUNBLE9BQUFBLElBQUFVO09BRUF6USxFQUFBaVIsYUFBQTtRQUNBLE9BQUFsQixJQUFBVztPQUVBMVEsRUFBQXVCLGFBQUE7UUFDQSxPQUFBd08sSUFBQXRFO09BRUF6TCxFQUFBa1IsZUFBQTtRQUNBLE9BQUFuQixJQUFBWTs7SUFJQSxJQUFBUSxJQUFBLGVBQ0FDLElBQUEsV0FDQUMsSUFBQTtJQVlBclIsRUFBQXNSLFVBQUEsU0FBQTVELEdBQUFYLEdBQUF3RSxHQUFBQztRQUNBLElBQUEvRixJQUFBc0UsSUFBQXRFO1FBQ0FzQixNQUNBQSxTQUVBa0IsRUFBQXVELE9BQ0FBLElBQUFILElBRUFwRCxFQUFBc0QsT0FDQUEsSUFBQUY7UUFFQSxJQUFBSSxJQUFBMUUsRUFBQTJFLHFCQUFBTixHQUNBTyxJQUFBbEcsRUFBQWdHO1FBRUF4RCxFQUFBMEQsT0FDQUYsTUFBQUwsSUFDQUssSUFBQUwsSUFDS0ssTUFBQU4sTUFDTE0sSUFBQU4sSUFFQVEsSUFBQWxHLEVBQUFnRztRQUVBLElBQUFHLElBQUE3RSxFQUFBNkUsWUFBQSxRQUNBQyxJQUFBOUUsRUFBQThFLFdBQUEsS0FDQUMsSUFBQS9FLEVBQUErRSxVQUFBO1FBR0FwRSxJQUFBd0MsRUFBQTZCLFVBQUFyRTtRQVFBLElBQUFzRTtRQUNBLElBQUEvRCxFQUFBMEQsSUFBQTtZQUNBLElBQUFNO2dCQUNBdkU7Z0JBQ0FvRTtnQkFDQUY7Z0JBQ0FDO2dCQUNBSyxTQUFBLFNBQUFDO29CQUVBWixFQUFBWTs7Z0JBRUFDLE1BQUEsU0FBQUQ7b0JBQ0F4SSxJQUFBQyxFQUFBLGFBQUE4RCxJQUFBLHlCQUFBeUUsSUFFQVgsRUFBQVc7OztZQUdBLG1CQUFBcEYsRUFBQXNGLFFBQUEsV0FBQVAsTUFDQUcsRUFBQUksT0FBQXRGLEVBQUFzRixNQUNBSixFQUFBdkUsTUFBQXVFLEVBQUF2RSxJQUFBakIsTUFBQTtZQUVBLElBQUEvSyxJQUFBZ0ssRUFBQXhKLGVBQUEsVUFDQW9RLElBQUE1USxFQUFBNlEsWUFBQTtZQUNBLG1CQUFBRCxNQUNBTCxFQUFBSyxlQUVBWCxFQUFBTTtlQUVBdEksSUFBQUMsRUFBQSxtQkFBQTZILElBQUEsT0FFQUQsRUFBQVE7O0dUKzNCTSxTQUFValMsR0FBUUM7SVUva0N4QjtJQUVBRCxFQUFBQyxVQUFBLFNBQUF3UztRQUNBLDRCQUFBQTs7R1Y4bENNLFNBQVV6UyxHQUFRQyxHQUFTRTtJV2htQ2pDO0lBMkJBLFNBQUF1UyxFQUFBQztRQUNBLElBQ0FySixHQUNBNUgsR0FDQXVJLEdBSEEySSxRQUlBQyxJQUFBRixFQUFBL0Y7UUFFQSxLQUFBM0MsSUFBQSxHQUFhQSxJQUFBNEksR0FBUzVJLEtBQ3RCWCxJQUFBcUosRUFBQTFJLEdBQUEsSUFDQXZJLElBQUFpUixFQUFBMUksR0FBQSxJQUNBMkksRUFBQTFHLEtBQUEsTUFBQTVDLEVBQUFDLFFBQUF1SixLQUFBcFIsSUFBQTRILElBQUEsTUFBQXlKLG1CQUFBclI7UUFFQSxPQUFBa1IsRUFBQUksS0FBQTs7SUFsQ0EsSUFBQUYsSUFBQTtJQUNBN1MsRUFBQWdULGFBQUE7UUFDQSxPQUFBSCxJQUFBSSxLQUFBQztPQUVBbFQsRUFBQTZTLGlCQUdBN1MsRUFBQW1ULHdCQUFBLFNBQUFDO1FBQ0EsSUFBQUMsSUFBQUQsS0FBQVA7UUFDQSxPQUFBUSxJQUFBO09BMkJBclQsRUFBQXlTLGVBV0F6UyxFQUFBc1QsWUFBQSxTQUFBQztRQUtBLEtBSkEsSUFFQUMsR0FGQWIsSUFBQVksRUFBQTlHLE1BQUEsTUFDQXpDLElBQUEsR0FBQXlKLElBQUFkLEVBQUFoRyxRQUVBK0YsUUFDUTFJLElBQUF5SixHQUFPekosS0FDZndKLElBQUFiLEVBQUEzSSxHQUFBeUMsTUFBQTtRQUNBaUcsRUFBQXpHLE9BQUF1SCxFQUFBRSxTQUFBRixFQUFBVCxLQUFBO1FBR0EsT0FBQUw7T0FHQTFTLEVBQUEyVCxVQUFBLFNBQUFqQjtRQUNBLElBQ0FySixHQUNBNUgsR0FDQXVJLEdBSEE0SixRQUlBaEIsSUFBQUYsRUFBQS9GO1FBRUEsS0FBQTNDLElBQUEsR0FBYUEsSUFBQTRJLEdBQVM1SSxLQUN0QlgsSUFBQXFKLEVBQUExSSxHQUFBLElBQ0F2SSxJQUFBaVIsRUFBQTFJLEdBQUEsSUFDQTRKLEVBQUF2SyxLQUFBNUg7UUFFQSxPQUFBbVM7T0FHQTVULEVBQUE2VCxtQkFBQSxTQUFBQztRQUNBLEtBQUFBLEtBQUEsbUJBQUFBLEdBQ0E7UUFLQSxTQUhBN0UsSUFBQTZFLEVBQUFDLFFBQUEsWUFBa0MsS0FDbENDLElBQUEvRSxFQUFBeEMsTUFBQSxNQUNBd0gsUUFDQWpLLElBQUEsR0FBaUJBLElBQUFnSyxFQUFBckgsUUFBaUIzQyxLQUNsQ2lLLEVBQUFoSSxLQUFBK0gsRUFBQWhLLEdBQUF5QyxNQUFBO1FBRUEsSUFBQWdELElBQUFmLEtBQUFpRixRQUFBTTtRQUNBLE9BQUF4RTtPQUdBelAsRUFBQStSLFlBQUEsU0FBQXJFO1FBQ0EsVUFBQUEsRUFBQXBFLFFBQUE7WUFDQSxJQUFBNEssSUFBQTtZQUNBLGlCQUFvQnBFLEtBQUFwQyxPQUNwQndHLElBQUEsVUFFQXhHLElBQUF3RyxJQUFBeEc7O1FBRUEsT0FBQUE7T0FHQTFOLEVBQUFtVSxZQUFBO1FBQ0EsSUFBQXpTLElBQUF4QixFQUFBLEdBQUFnQyxlQUFBO1FBQ0EsT0FBQVIsRUFBQTZRLFlBQUEsYUFBQTdRLEVBQUE2USxZQUFBLFlBQUE3USxFQUFBNlEsWUFBQTtPQUdBdlMsRUFBQW9VLGdCQUFBLFNBQUEvQjtRQUNBLDBCQUFBQSxLQUFBLE1BQUFnQyxPQUFBQyxLQUFBakMsR0FBQTFGO09BTUEzTSxFQUFBdVUsY0FBQSxTQUFBN0c7UUFDQSxNQUFBOEcsSUFBQSxJQUFBQyxPQUFBO1FBQ0EsS0FBQS9HLFFBQUFnSCxNQUFBRixJQUFBO1lBQ0EsSUFBQTdLLElBQUF6SixFQUFBO1lBSUEsT0FIQXlKLElBQUFnTCxNQUFBaEwsSUFBQWlMLE9BQUEsT0FDQWpMLElBQUFnTCxNQUFBO1lBQ0FoTCxJQUFBZ0wsTUFBQWhMLElBQUFpTCxPQUFBLFFBQ0E7O1FBRUE7T0FHQTVVLEVBQUE2VSxjQUFBLFNBQUFDO1FBQ0EsS0FBQUEsR0FBQTtZQUNBLElBQUFuTCxJQUFBekosRUFBQTtZQU1BLE9BTEF5SixJQUFBZ0wsTUFBQWhMLElBQUFpTCxPQUFBLE9BQ0FqTCxJQUFBZ0wsTUFBQTtZQUNBaEwsSUFBQWdMLE1BQUE7WUFDQWhMLElBQUFnTCxNQUFBLDJEQUNBaEwsSUFBQWdMLE1BQUFoTCxJQUFBaUwsT0FBQTthQUNBOztRQUVBOztHWGluQ00sU0FBVTdVLEdBQVFDO0lZcHdDeEIsSUFBQStVLElBQUE7SUFFQWhWLEVBQUFDLFVBQUE7UUFJQSxTQUFBZ1Y7WUFDQXRHLEtBQUF1RyxXQUFBLFNBQUFDO2dCQUNBQyxJQUFBRDtlQUdBeEcsS0FBQTFFLElBQUE7Z0JBQ0E7b0JBQ0EsbUJBQUFtQyxVQUFBLE9BQ0FBLFVBQUEsS0FBQTRJLElBQUE1SSxVQUFBLEtBRUFpSixRQUFBQyxLQUFBNUcsTUFBQTJHLFNBQUFqSjtrQkFDTyxPQUFBN0s7ZUFLUG9OLEtBQUFwTixJQUFBO2dCQUNBLElBQUE2VCxHQUNBO29CQUNBLG1CQUFBaEosVUFBQSxPQUNBQSxVQUFBLEtBQUE0SSxJQUFBNUksVUFBQSxLQUVBaUosUUFBQUUsTUFBQTdHLE1BQUEyRyxTQUFBako7a0JBQ1MsT0FBQTdLO2VBTVRvTixLQUFBOUUsSUFBQTtnQkFDQTtvQkFDQSxtQkFBQXVDLFVBQUEsT0FDQUEsVUFBQSxLQUFBNEksSUFBQTVJLFVBQUEsS0FFQWlKLFFBQUFHLEtBQUE5RyxNQUFBMkcsU0FBQWpKO2tCQUNPLE9BQUE3SztlQUtQb04sS0FBQWpOLElBQUE7Z0JBQ0EsSUFBQTBULEdBQ0E7b0JBQ0EsbUJBQUFoSixVQUFBLE9BQ0FBLFVBQUEsS0FBQTRJLElBQUE1SSxVQUFBLEtBRUFpSixRQUFBSSxJQUFBL0csTUFBQTJHLFNBQUFqSjtrQkFDUyxPQUFBN0s7ZUFNVG9OLEtBQUFpRyxRQUFBLFNBQUEzQztnQkFDQTtvQkFDQW9ELFFBQUFJLElBQ0EsUUFBQVQsSUFBQS9DLEdBQ0E7a0JBRU8sT0FBQTFRO2VBS1BvTixLQUFBa0csU0FBQSxTQUFBYTtnQkFFQSxLQURBLElBQUF0RCxJQUFBc0QsR0FDQXRELEVBQUF4RixTQUFBLE1BQ0F3RixLQUFBc0Q7Z0JBRUEsT0FBQXREOzs7UUF4RUEsSUFBQXVELElBQUEsTUFDQVAsS0FBQTtRQTJFQTtZQUlBLE9BSEEsU0FBQU8sTUFDQUEsSUFBQSxJQUFBVixNQUVBVTs7O0daNndDTSxTQUFVM1YsR0FBUUMsR0FBU0U7SWFqMkNqQyxJQUFBdUosSUFBQXZKLEVBQUEsS0FDQXlKLElBQUF6SixFQUFBLEtBQ0FhLElBQUFiLEVBQUEsSUFDQXlMLElBQUF6TCxFQUFBLElBQ0E2SixJQUFBN0osRUFBQSxJQUNBK00sSUFBQS9NLEVBQUEsS0FDQXdMLElBQUF4TCxFQUFBO0lBRUFILEVBQUFDLFVBQUE7UUFLQSxTQUFBMlY7WUFDQTtnQkFDQXJMLFFBQUEsU0FBQWQ7b0JBQ0EsSUFBQW9NLEtBQUE7b0JBRUFDLE1BQ0FBLElBQUFwTSxJQUFBcU0sSUFBQS9VLEVBQUFrRztvQkFHQSxJQUFBOE8sSUFBQSxJQUFBeEk7b0JBV0EsT0FWQXlJLElBQUFELEVBQUF2SSxZQUNBcUksTUFDQUEsRUFBQUksWUFDQUQsSUFBQUgsRUFBQUksV0FBQWxWLEVBQUEyQyxvQkFDQWtTLEtBQUE7b0JBQ0FNLEVBQUExTSxJQUNBRyxJQUFBbEksRUFBQSxxQkFBQW9VLEVBQUF4VixJQUFBd1YsTUFFQWxNLElBQUFsSSxFQUFBLHlCQUFBb1UsRUFBQXhWLElBQUEwVixFQUFBSSxzQkFBQU47b0JBRUFEOztnQkFJQTNLLE9BQUE7b0JBQ0FtTDs7Z0JBSUE1TCxxQkFBQTtvQkFDQSxRQUFBcUwsU0FBcUN4Vjs7Z0JBR3JDZ1csbUJBQUE7b0JBQ0EsT0FBQVI7O2dCQUdBUyxxQkFBQTtvQkFDQSxPQUFBdk0sRUFBQThMOzs7O1FBS0EsU0FBQVUsRUFBQXZOO1lBQ0EsSUFBQXdOO1lBQ0EsU0FBQXhNLEtBQUFoQixHQUNBd04sRUFBQXhNLEtBQUFoQixFQUFBZ0I7WUFJQSxPQURBTCxJQUFBbEksRUFBQSxXQUFBdUgsSUFDQXdOOztRQUlBLFNBQUFOLEVBQUFyTTtZQUNBO2dCQUNBLElBQUE0TSxLQUFBWixTQUE4Q3JNLGVBRTlDa04sSUFBQXpKLEVBQUEvQyxXQUF5Q3FNLEVBQUExTSxFQUFBYjtnQkFDekMwTixFQUFBbk8sT0FBQXNCLEVBQUF0QixRQUFBa08sRUFBQWxPLE1BQ0FtTyxFQUFBek4sUUFBQVksRUFBQVosUUFDQTBDLEVBQUFvRSxvQkFBQSxNQUFBbEcsRUFBQVosUUFDQXdOLEVBQUF4TjtnQkFFQSxJQUFBOEMsSUFBQWxDLEVBQUFrQztnQkFDQUEsTUFDQTJLLEVBQUFDLGdCQUFBNUssRUFBQTZLLFFBR0FqTixJQUFBbEksRUFBQSxxQkFBQWlWO2dCQUNBLElBQUFoVixJQUFBZ0ssRUFBQXhKLGVBQUEsVUFDQTJVLElBQUFuVixFQUFBNlEsWUFBQSxtQkFDQXVFLElBQUF2SixLQUFBd0o7Z0JBQ0FsQjtvQkFDQXhWLElBQUE0TSxFQUFBK0osYUFBQSxNQUFBRjtvQkFDQS9JLFlBQUErSTtvQkFDQXROLFNBQUFrTjtvQkFDQU8sU0FBQTttQkFFQUosTUFDQWhCLEVBQUEsS0FBQWdCO2NBR0ssT0FBQXZWO2dCQUNMcUksSUFBQXJJLEVBQUEsa0JBQUFBOzs7UUFLQSxTQUFBOFU7WUFDQSxJQUFBUCxHQUFBO2dCQUNBLElBQUFFLElBQUEsSUFBQXhJO2dCQUNBc0ksRUFBQUksV0FBQUYsRUFBQXZJLFdBQ0EsbUJBQUFxSSxFQUFBaEksYUFDQWdJLEVBQUFoSSxXQUFBLElBRUFnSSxFQUFBaEksV0FBQWdJLEVBQUFJLFdBQUFEO2dCQUNBSCxFQUFBb0IsVUFBQSxHQUNBeE4sSUFBQXlOLElBQUFuVyxFQUFBa0csaUJBQUE0TyxJQUVBbE0sSUFBQWxJLEVBQUEsaUJBQUFvVSxFQUFBeFYsSUFBQTBWLEVBQUFJLHNCQUFBTjs7O1FBeEdBLElBQUFILElBQUEsTUFDQU0sSUFBQSxNQUNBSCxJQUFBO1FBMEdBO1lBSUEsT0FIQUgsTUFDQUEsSUFBQUMsTUFFQUQ7OztHYjAyQ00sU0FBVTNWLEdBQVFDLEdBQVNFO0ljbitDakMsSUFBQXlMLElBQUF6TCxFQUFBLElBQ0ErTixJQUFBL04sRUFBQSxJQUNBaVgsSUFBQWpYLEVBQUEsS0FDQXlKLElBQUF6SixFQUFBLEtBQ0FnUSxJQUFBaFEsRUFBQTtJQUVBSCxFQUFBQyxVQUFBO1FBTUEsU0FBQW9YO1lBQ0EsSUFBQTNMLElBQUFFLEVBQUFwSztZQUNBbU4sS0FBQWhGLE9BQUEsU0FBQTJOO2dCQUNBQyxLQTRCQTdMLEVBQUE4TDtvQkFDQXBWLEtBQUFxVjtvQkFFQXZKLEVBQUFvSixjQTlCQUcsSUFBQSxpQkFBQXRILEVBQUFpRSxlQUFBLElBQ0ExSSxFQUFBZ007b0JBQ0F0VixLQUFBcVY7b0JBQ0F0RixTQUFBLFNBQUFDO3dCQUVBbUYsSUFEQW5GLE9BQUFFLE9BQ0E4RSxFQUFBN0gsTUFBQTZDLEVBQUFFLGtCQUlBcUYsS0FBQSxHQUNBak0sRUFBQThMOzRCQUNBcFYsS0FBQXFWOzRCQUVBdkosRUFBQW9KOztvQkFFQWpGLE1BQUEsU0FBQTlRO3dCQUVBcUksSUFBQWxJLEVBQUErVixJQUFBLE9BQUFsVyxFQUFBcVcsU0FDQUwsUUFDQUksS0FBQSxHQUNBak0sRUFBQThMOzRCQUNBcFYsS0FBQXFWOzRCQUVBdkosRUFBQW9KOzs7ZUFXQTNJLEtBQUF2RCxPQUFBO2dCQUNBbU0sS0FDQTdMLEVBQUFtTTtvQkFDQXpWLEtBQUFxVjtvQkFDQW5GLE1BQUE4RSxFQUFBVSxTQUFBUDs7ZUFLQTVJLEtBQUF3SSxNQUFBLFNBQUEvVSxHQUFBSTtnQkFDQStVLE1BQ0FBLEVBQUFuVixLQUFBSTtlQUlBbU0sS0FBQW9ILE1BQUEsU0FBQTNUO2dCQUNBLFFBQUFtVixTQUF5Qm5WO2VBR3pCdU0sS0FBQW9KLFNBQUEsU0FBQTNWO2dCQUNBbVYsT0FBQW5WLGFBQ0FtVixFQUFBblY7ZUFJQXVNLEtBQUFxSixTQUFBO2dCQUNBLE9BQUFUO2VBR0E1SSxLQUFBc0osUUFBQTtnQkFDQVYsSUFBQTtlQUdBNUksS0FBQXVKLE1BQUEsU0FBQTlWO2dCQUNBLFNBQUF1TSxLQUFBb0gsSUFBQTNUO2VBR0F1TSxLQUFBd0osV0FBQTtnQkFDQSxPQUFBUjs7O1FBakZBLElBQUFoQyxJQUFBLE1BQ0E4QixJQUFBLElBQ0FGLElBQUEsTUFDQUksS0FBQTtRQWtGQTtZQUtBLE9BSkFoQyxNQUNBQSxJQUFBLElBQUEwQixNQUdBMUI7OztHZDIrQ00sU0FBVTNWLEdBQVFDO0llM2tEeEJBLEVBQUE2WCxXQUFBLFNBQUF4RjtRQUNBLElBQUFBLEdBQ0E7WUFDQSxPQUFBaEQsS0FBQUUsVUFBQThDO1VBQ0ssT0FBQS9RO1FBSUw7T0FHQXRCLEVBQUFzUCxRQUFBLFNBQUE2STtRQUNBLElBQUFBLEdBQ0E7WUFDQSxPQUFBOUksS0FBQUMsTUFBQTZJO1VBQ0ssT0FBQTdXO1FBSUw7T0FHQXRCLEVBQUFvWSxlQUFBLFNBQUFEO1FBQ0EsSUFBQUEsR0FDQTtZQUNBLE9BQUE5SSxLQUFBQyxNQUFBNkk7VUFDSyxPQUFBN1c7UUFJTDs7R2ZtbERNLFNBQVV2QixHQUFRQyxHQUFTRTtJZ0JsbkRqQ0YsRUFBQWdYLGVBQUEsU0FBQXBFO1FBR0EsU0FGQTNELElBQUEsSUFDQXlELE1BQUEsd1RBQ0ExSSxJQUFBLEdBQWlCQSxJQUFBcU8sT0FBQXpGLElBQWlCNUksS0FBQTtZQUNsQyxJQUFBc08sSUFBQXJGLEtBQUFzRixNQUFBdEYsS0FBQUMsWUFBQVIsRUFBQS9GLFNBQUE7WUFDQXNDLEtBQUF5RCxFQUFBNEY7O1FBRUEsT0FBQXJKO09BR0FqUCxFQUFBd1ksYUFBQSxTQUFBdkosR0FBQXdKO1FBQ0EsVUFBQXhKLE1BQUF3SixLQUFBLE1BQUFBLEVBQUE5TCxVQUFBOEwsRUFBQTlMLFNBQUFzQyxFQUFBdEMsV0FHQXNDLEVBQUF5SixPQUFBLEdBQUFELEVBQUE5TCxZQUFBOEw7T0FHQXpZLEVBQUFrSyxTQUFBLFNBQUF5TztRQUNBLElBQUFDLFdBQUFELEtBQUEsU0FBQUEsR0FDQSxVQUFBRSxVQUFBO1FBSUEsU0FEQUMsSUFBQXpFLE9BQUFzRSxJQUNBSSxJQUFBLEdBQXFCQSxJQUFBNU0sVUFBQVEsUUFBMEJvTSxLQUFBO1lBQy9DLElBQUFDLElBQUE3TSxVQUFBNE07WUFDQSxJQUFBQyxHQUNBLFNBQUFDLEtBQUFELEdBQ0EzRSxPQUFBNkUsVUFBQUMsZUFBQTVZLEtBQUF5WSxHQUFBQyxPQUNBSCxFQUFBRyxLQUFBRCxFQUFBQzs7UUFLQSxPQUFBSDtPQU9BOVksRUFBQW9aLGFBQUEsU0FBQUMsR0FBQUM7UUFDQSxJQUFBdlksSUFBQWIsRUFBQSxJQUNBeUosSUFBQXpKLEVBQUE7UUFDQSxLQUFBbVosS0FBQSxtQkFBQUEsR0FFQSxPQURBMVAsSUFBQXJJLEVBQUE7U0FDQTtRQUlBLElBQUFpWSxNQUFBLGNBQ0FDO1FBT0EsSUFMQUQsRUFBQUUsUUFBQSxTQUFBQztZQUNBRixFQUFBRSxLQUFBO1lBSUFGLEVBQUFILElBRUEsT0FEQTFQLElBQUFySSxFQUFBLHdCQUFBaVksRUFBQXhHLEtBQUEsUUFDQTtRQUdBLElBQUFzRyxFQUFBMU0sU0FBQTVMLEVBQUFtRyxvQkFFQSxPQURBeUMsSUFBQXJJLEVBQUEscURBQUFQLEVBQUFtRztTQUNBO1FBSUEsSUFBQW9TLE1BQ0EsbUJBQUFBLEtBQUFuSyxNQUFBQyxRQUFBa0ssT0FDQSxtQkFBQUEsR0FFQSxPQURBM1AsSUFBQXJJLEVBQUE7U0FDQTtRQUdBLHVCQUFBZ1ksR0FBQTtZQUNBLElBQUFLLElBQUE7WUFDQSxTQUFBeFgsS0FBQW1YLEdBQ0EsT0FBWUgsZUFBQTVZLEtBQUErWSxHQUFBblgsSUFBQTtnQkFDWixJQUFBQSxFQUFBd0ssU0FBQTVMLEVBQUFvRyx5QkFFQSxPQURBd0MsSUFBQXJJLEVBQUEseURBQUFQLEVBQUFvRztpQkFDQTtnQkFHQSxJQUFBd1MsS0FBQTVZLEVBQUFxRyx5QkFFQSxPQURBdUMsSUFBQXJJLEVBQUEsc0RBQUFQLEVBQUFxRztpQkFDQTtnQkFHQSxJQUFBb1MsRUFBQXJYLElBRUEsT0FEQXdILElBQUFySSxFQUFBLHdCQUFBaVksRUFBQXhHLEtBQUEsUUFDQTtnQkFHQTRHLEtBQUE7OztRQUtBOztJQUlBLElBQUFDLElBQUExWixFQUFBO0lBRUFGLEVBQUE2WixhQUFBLFNBQUFDLEdBQUFwSDtRQUlBLE9BSEFrSCxFQUFBbEgsR0FBQSxTQUFBalI7bUJBQ0FxWSxFQUFBclk7WUFFQXFZO09BR0E5WixFQUFBb1UsZ0JBQUEsU0FBQS9CO1FBQ0EsMEJBQUFBLEtBQUEsTUFBQWdDLE9BQUFDLEtBQUFqQyxHQUFBMUY7T0FPQTNNLEVBQUE2SztRQUNBQyxjQUFBO1FBQ0FJLGVBQUE7UUFDQTZPLEtBQUE7UUFDQUMsWUFBQTtRQUNBQyxZQUFBO09BR0FqYSxFQUFBa2E7UUFDQUMsbUJBQUE7UUFDQUMsbUJBQUE7UUFDQUMsbUJBQUE7UUFDQUMscUJBQUE7O0doQnluRE0sU0FBVXZhLEdBQVFDO0lpQnB2RHhCO0lBRUFELEVBQUFDLFVBQUEsU0FBQTBTLEdBQUE5RztRQUNBLElBQUE1QixHQUNBeUosSUFBQWYsRUFBQS9GO1FBQ0EsS0FBQTNDLElBQUEsR0FBYUEsSUFBQXlKLEdBQU96SixLQUFBO1lBQ3BCLElBQUF3RSxJQUFBNUMsRUFBQThHLEVBQUExSTtZQUNBLGdCQUFBd0UsR0FDQTs7O0dqQnN3RE0sU0FBVXpPLEdBQVFDLEdBQVNFO0lrQnZ4RGpDLElBQUF1SixJQUFBdkosRUFBQSxLQUNBeUosSUFBQXpKLEVBQUEsS0FDQWEsSUFBQWIsRUFBQSxJQUNBa1AsSUFBQWxQLEVBQUE7SUFFQUgsRUFBQUMsVUFBQTtRQVFBLFNBQUF1YTtZQUNBLElBQUFDLEVBQUE3TixRQUFBO2dCQUNBLElBQUE4TixJQUFBaFIsSUFBQXFNLElBQUEvVSxFQUFBNkM7Z0JBR0E4VyxFQUFBRCxLQUFBRCxFQUFBN04sVUFBQTVMLEVBQUE4QyxvQkFDQTRXLElBQUFFLEVBQUFGLEdBQUFELElBRUEvUSxJQUFBeU4sSUFBQW5XLEVBQUE2QyxNQUFBNlc7OztRQUtBLFNBQUFFLEVBQUFGLEdBQUFHO1lBQ0FIO1lBQ0EsSUFBQUksSUFBQUosRUFBQUs7WUFPQSxPQU5BMUwsRUFBQXlMLFFBQUFsTyxTQUNBOE4sRUFBQUssS0FBQUQsRUFBQTdZLE9BQUE0WSxLQUVBSCxFQUFBSyxRQUFBOVksT0FBQTRZLElBR0FIOztRQUdBLFNBQUFDLEVBQUFLO1lBQ0EsSUFBQW5JLElBQUE7WUFDQSxTQUFBelEsS0FBQTRZLEdBQ0EzTCxFQUFBMkwsRUFBQTVZLFFBQ0F5USxLQUFBbUksRUFBQTVZLEdBQUF3SztZQUdBLE9BQUFpRzs7UUFHQSxTQUFBK0M7WUFDQTtnQkFDQXFGLFVBQUEsU0FBQUM7b0JBQ0FBLE1BQ0FILEtBQ0FOLEVBQUFVLFFBQUFELElBRUFULEVBQUE3TixTQUFBNUwsRUFBQStDLHFCQUNBeVcsRUFBQU8sSUFDQU4sRUFBQTdOLFNBQUEsT0FHQWhELElBQUFDLEVBQUEsd0JBQUFrUjtvQkFFQUssRUFBQUQsUUFBQUQ7O2dCQUlBdlEsY0FBQSxTQUFBSDtvQkFJQSxJQUhBdVEsSUFBQXZRLEdBRUFaLElBQUFsSSxFQUFBLGtCQUFBcVosSUFDQTFMLEVBQUErTCxRQUFBeE8sVUFBQW1PLEdBQUE7d0JBQ0EsU0FBQTlRLElBQUEsR0FBeUJBLElBQUFtUixFQUFBeE8sUUFBNkIzQyxLQUN0RDBFLEtBQUFzTSxTQUFBRyxFQUFBblI7d0JBR0FtUixFQUFBeE8sU0FBQTs7O2dCQUlBeU8sU0FBQTtvQkFDQSxJQUFBWCxJQUFBaFIsSUFBQXFNLElBQUEvVSxFQUFBNkM7b0JBS0EsT0FIQTRXLE9BQUE3TixXQUNBOE4sSUFBQUUsRUFBQUYsR0FBQUQsS0FFQUM7O2dCQUdBekMsT0FBQTtvQkFDQXZPLElBQUFxTyxPQUFBL1csRUFBQTZDLE9BQ0E0VyxFQUFBN04sU0FBQSxHQUNBd08sRUFBQXhPLFNBQUE7Ozs7UUFyRkEsSUFBQStJLEdBQ0FvRixHQUNBTixRQUdBVztRQXFGQTtZQUlBLE9BSEF6RixNQUNBQSxJQUFBQyxNQUVBRDs7O0dsQit4RE0sU0FBVTNWLEdBQVFDO0ltQjEzRHhCO0lBRUFELEVBQUFDLFVBQUEsU0FBQXdTO1FBQ0EsT0FBQXJELE1BQUFDLFVBQ0FELE1BQUFDLFFBQUFvRCxLQUVBLFFBQUExQyxLQUFBdUUsT0FBQTZFLFVBQUFtQyxTQUFBOWEsS0FBQWlTOztHbkIyNERNLFNBQVV6UyxHQUFRQyxHQUFTRTtJb0IxNURqQyxJQUFBb2IsSUFBQXBiLEVBQUEsS0FDQXVKLElBQUF2SixFQUFBLEtBQ0FhLElBQUFiLEVBQUEsSUFDQXlKLElBQUF6SixFQUFBLEtBQ0FxYixJQUFBcmIsRUFBQSxLQUNBb1IsSUFBQXBSLEVBQUEsS0FDQXNiLElBQUF0YixFQUFBLEtBQ0ErTixJQUFBL04sRUFBQSxJQUNBK0osSUFBQS9KLEVBQUEsS0FDQTZKLElBQUE3SixFQUFBLElBQ0FnUSxJQUFBaFEsRUFBQSxLQUNBdWIsSUFBQSxJQUNBL1AsSUFBQXhMLEVBQUE7SUFDQUgsRUFBQUMsVUFBQTtRQU1BLFNBQUEwYixFQUFBOUosR0FBQXBJLEdBQUE2TjtZQUNBN047WUFDQSxJQUFBNkksSUFBQWtKLEVBQUEzSjtZQUNBLElBQUFTLEdBQUE7Z0JBQ0EsSUFBQTNHLElBQUF4TCxFQUFBLElBQ0F3QixJQUFBZ0ssRUFBQXhKLGVBQUFuQixFQUFBQyxRQUNBMmEsSUFBQWphLEVBQUFrYTtnQkFDQXZKLEVBQUF3SixTQUFBNVIsRUFBQUMsT0FBQW1JLEVBQUF3SixRQUFBUCxFQUFBUSxXQUFBSCxLQUNBdEosRUFBQTBKLFVBQUF2UyxFQUFBdVMsU0FDQUMsRUFBQUMsUUFBQTVKOztZQUVBcEUsRUFBQW9KOztRQUVBLFNBQUE2RSxFQUFBQztZQUNBLElBQUE5SixJQUFBMkosRUFBQUksU0FDQWxLLElBQUE7Z0JBQ0E4SixFQUFBSyxXQUNBSCxFQUFBQztlQUdBL0osSUFBQTtnQkFFQSxJQUFBb0IsSUFBQXdJLEVBQUFLO2dCQUNBN0ksUUFBQXVJLFdBQUFPLEVBQUFyUSxLQUFBdUgsSUFDQTBJLEVBQUFDOztZQUVBOUosSUFDQWYsRUFBQWUsR0FBQUgsR0FBQUUsTUFFQW1LLEtBQ0FKOztRQUlBLFNBQUFJO1lBRUFELEVBQUE3QyxRQUFBLFNBQUFqRztnQkFDQXdJLEVBQUFDLFFBQUF6STtnQkFFQThJLEVBQUEzUCxTQUFBOztRQUdBLFNBQUE2UCxFQUFBTDtZQUNBLElBQUFNLEdBRUEsWUFEQTlTLElBQUFsSSxFQUFBO1lBR0FnYixLQUFBO1lBR0EsSUFBQXBGLElBQUE7Z0JBQ0FvRixLQUFBLEdBQ0F4TyxFQUFBa087O1lBRUFELEVBQUE3RTs7UUFHQSxTQUFBcUY7WUFDQWhPLEtBQUEzRCxPQUFBLFNBQUE2RyxHQUFBcEksR0FBQTJTO2dCQUNBdkssSUFDQWxELEtBQUEvRCxJQUFBaUgsR0FBQXBJLEdBQUE7b0JBQ0FnVCxFQUFBTDtxQkFHQUssRUFBQUw7ZUFJQXpOLEtBQUEvRCxNQUFBLFNBQUFpSCxHQUFBcEksR0FBQTZOO2dCQUNBLElBQUEzVixJQUFBZ0ssRUFBQXhKLGVBQUFuQixFQUFBQztnQkFDQWtQLEVBQUEyRSxZQUFBblQsRUFBQTZRLFlBQUF4UixFQUFBK0QsZUFHQTRXLEVBQUE5SixHQUFBcEksR0FBQTZOO2VBR0EzSSxLQUFBaEYsT0FBQTtnQkFDQSxJQUFBaVQsSUFBQWxULElBQUFxTSxJQUFBL1UsRUFBQXNHO2dCQUNBc1YsT0FBQWhRLFVBQ0FnUSxFQUFBbEQsUUFBQSxTQUFBakc7b0JBQ0F3SSxFQUFBQyxRQUFBekk7b0JBR0EvSixJQUFBcU8sT0FBQS9XLEVBQUFzRztlQUdBcUgsS0FBQXZELE9BQUE7Z0JBQ0ExQixJQUFBeU4sSUFBQW5XLEVBQUFzRyxVQUFBMEMsRUFBQWlTLEVBQUFXLFdBQ0FYLEVBQUFoRTs7O1FBN0ZBLElBQUF0QyxJQUFBLE1BQ0ErRyxLQUFBLEdBQ0FILFFBQ0FOLElBQUEsSUFBQVIsRUFBQUM7UUE4RkE7WUFJQSxPQUhBL0YsTUFDQUEsSUFBQSxJQUFBZ0gsTUFFQWhIOzs7R3BCazZETSxTQUFVM1YsR0FBUUMsR0FBU0U7SXFCcmhFakMsSUFBQXlMLElBQUF6TCxFQUFBLElBQ0FhLElBQUFiLEVBQUEsSUFDQXVKLElBQUF2SixFQUFBLEtBQ0F3TCxJQUFBeEwsRUFBQSxJQUNBK00sSUFBQS9NLEVBQUEsS0FDQWdRLElBQUFoUSxFQUFBO0lBRUFGLEVBQUE4YixhQUFBLFNBQUFIO1FBQ0EsSUFBQWxNLFFBQ0FtTixJQUFBakIsRUFBQWtCO1FBTUEsUUFMQSxXQUFBRCxNQUNBQSxJQUFBLFlBR0FBLFVBQUFFLGdCQUFBO1VBRUEsS0FBQTdQLEVBQUFpTixXQUFBRztZQUNBNUssRUFBQXNOLGlCQUFBLE9BQ0F0TixFQUFBbU4sU0FBQTtZQUNBOztVQUNBLEtBQUEzUCxFQUFBaU4sV0FBQUU7WUFDQTNLLEVBQUFzTixpQkFBQSxRQUNBdE4sRUFBQW1OLFNBQUE7WUFDQTs7VUFDQSxLQUFBM1AsRUFBQWlOLFdBQUFDO1lBQ0ExSyxFQUFBc04saUJBQUEsUUFDQXROLEVBQUFtTixTQUFBO1lBQ0E7O1VBQ0E7WUFDQW5OLEVBQUFtTixtQkFDQW5OLEVBQUFzTjs7UUFJQSxPQUFBdE47T0FHQXpQLEVBQUFnZCxnQkFBQTtRQUNBLElBQUFuQixRQUNBbmEsSUFBQWdLLEVBQUF4SixlQUFBbkIsRUFBQUMsUUFFQThHLElBQUFwRyxFQUFBb0csb0JBQ0E2VCxJQUFBamEsRUFBQWthLHFCQUVBdkosSUFBQTVJLElBQUFxTSxJQUFBL1UsRUFBQXNEO1FBQ0FnTyxNQUNBd0osRUFBQW9CLFVBQUE1SyxJQUdBd0osRUFBQXFCLGNBQUEsU0FDQXJCLEVBQUFzQixjQUFBclYsRUFBQU0sTUFDQXlULEVBQUF1QixTQUFBbE4sRUFBQWlFO1FBQ0EwSCxFQUFBd0IsY0FBQSxJQUNBeEIsRUFBQXlCLFFBQUEzQixFQUFBL0UsT0FDQWlGLEVBQUEwQixVQUFBNUIsRUFBQTZCLFFBQ0EzQixFQUFBNEIsY0FBQS9iLEVBQUE2USxZQUFBO1FBRUEsSUFBQXJKLElBQUF4SCxFQUFBNlEsWUFBQTtRQUNBckosT0FBQUUsWUFDQXlTLEVBQUExUyxpQkFBQUQsRUFBQUU7UUFHQSxJQUFBc1UsSUFBQS9CO1FBQ0ErQixFQUFBQyxXQUFBRCxFQUFBQztRQUVBLElBQUFDLElBQUFGLEVBQUFFLFNBQUEsSUFDQUMsSUFBQUgsRUFBQUcsWUFBQSxJQUNBQyxJQUFBSixFQUFBSSxTQUFBLElBQ0FDLElBQUFELEVBQUFoQjtRQUVBakIsRUFBQW1DLFdBQUFyUyxFQUFBc0YsY0FDQTRLLEVBQUFnQyxXQUFBbFMsRUFBQW9FLG1CQUNBOEwsRUFBQW9DLHVCQUFBUCxFQUFBUTtRQUNBckMsRUFBQXNDLG1CQUFBVCxFQUFBVTtRQUVBLElBQUF4VSxJQUFBcUosS0FBQXNGLE1BQUFtRixFQUFBVyxjQUFBWCxFQUFBWSxhQUNBQyxJQUFBdEwsS0FBQXNGLE1BQUFtRixFQUFBYyxlQUFBZCxFQUFBWTtRQUNBekMsRUFBQTRDLGFBQUE3VSxJQUFBMlUsSUFBQTNVLElBQUEsTUFBQTJVLFFBQUEsTUFBQTNVLEdBRUFpUyxFQUFBNkMsY0FBQWhCLEVBQUFZO1FBQ0F6QyxFQUFBOEMsS0FBQWQsR0FDQWhDLEVBQUErQyxvQkFBQWxCLEVBQUFtQixpQkFDQWhELEVBQUFpRCxlQUFBbEIsR0FDQS9CLEVBQUFrRCxlQUFBakI7UUFFQWpDLEVBQUFtRCxzQkFBQWpCLEdBQ0FsQyxFQUFBb0QsZ0JBQUFyQixHQUNBL0IsRUFBQXFELGNBQUF0QixHQUNBL0IsRUFBQXNELGFBQUF6QixFQUFBeUI7UUFDQXRELEVBQUF1RCxXQUFBMUIsRUFBQTBCO1FBRUEsSUFBQUMsSUFBQTNRLEtBQUFvTixXQUFBSDtRQU1BLE9BTEFFLEVBQUFlLFNBQUF5QyxFQUFBekMsUUFDQXlDLEVBQUF0QyxtQkFDQWxCLEVBQUFrQixpQkFBQXNDLEVBQUF0QztRQUdBbEI7O0dyQjhoRU0sU0FBVTliLEdBQVFDLEdBQVNFO0lzQnhtRWpDLFNBQUFvZjtRQUNBLElBQUFqTixJQUFBLE1BQ0FrTixJQUFBbFYsSUFBQWlNO1FBWUEsT0FYQWlKLE1BQ0FsTjtZQUNBd0o7Z0JBQ0EyRCxJQUFBOztZQUVBQztnQkFDQUMsWUFBQUg7O1lBS0FsTjs7SUFHQSxTQUFBc047UUFDQSxJQUFBdE4sSUFBQSxNQUVBb04sUUFFQUYsSUFBQWxWLElBQUFpTTtRQUNBaUosTUFDQUUsRUFBQUMsYUFBQUg7UUFHQSxJQUFBOUUsSUFBQWhRLElBQUEyUTtRQVlBLE9BWEFYLE1BQ0FnRixFQUFBaEYsT0FBQTFRLEVBQUEwUSxJQUNBaFEsSUFBQXVOLFdBR0F5SCxFQUFBQyxZQUFBRCxFQUFBaEYsVUFDQXBJO1lBQ0FvTjtZQUlBcE47O0lBR0EsU0FBQXVOO1FBQ0EsSUFBQXZOLElBQUEsTUFFQW9JLElBQUFoUSxJQUFBMlE7UUFVQSxPQVRBWCxNQUNBcEk7WUFDQW9OO2dCQUNBaEYsTUFBQTFRLEVBQUEwUTs7V0FHQWhRLElBQUF1TixVQUdBM0Y7O0lBOUVBLElBQUFoSSxJQUFBbkssRUFBQSxLQUNBdUssSUFBQXZLLEVBQUEsS0FDQStNLElBQUEvTSxFQUFBLEtBQ0E2SixJQUFBN0osRUFBQTtJQUVBSCxFQUFBQyxVQUFBLFNBQUE0UjtRQUNBLElBQUFTLElBQUE7UUFDQSxRQUFBVDtVQUNBLEtBQUEzRSxFQUFBcEMsU0FBQUM7WUFDQXVILElBQUFpTjtZQUNBOztVQUNBLEtBQUFyUyxFQUFBcEMsU0FBQUs7WUFDQW1ILElBQUFzTjtZQUNBOztVQUNBLEtBQUExUyxFQUFBcEMsU0FBQWtQO1lBQ0ExSCxJQUFBdU47O1FBS0EsT0FBQXZOOztHdEJpc0VNLFNBQVV0UyxHQUFRQyxHQUFTRTtJdUJ6c0VqQyxTQUFBMmY7UUFDQSxJQUFBbmUsSUFBQWdLLEVBQUF4SixlQUFBbkIsRUFBQUMsUUFDQThlLElBQUFwZSxFQUFBNlEsWUFBQXhSLEVBQUEyRCxrQkFDQWlNLElBQUFoRixFQUFBdUY7UUFDQSxLQUFBNE8sTUFBQW5QLEdBS0EsT0FEQWhILElBQUFDLEVBQUE7UUFDQTtRQUVBLElBQUE4RCxNQUFBLE1BQUFvUyxHQUFBblAsSUFBQW9DLEtBQUEsS0FDQW1CLElBQUFuVCxFQUFBMkY7UUFLQSxPQUpBLGlCQUFrQm9KLEtBQUFwQyxPQUNsQndHLElBQUEsVUFFQXhHLElBQUF3RyxJQUFBeEc7O0lBOEVBLFNBQUFxUyxFQUFBdlc7UUFDQSxJQUFBaUMsSUFBQUUsRUFBQXBLLGNBQ0F5ZSxJQUFBeFcsRUFBQTBJLFNBQ0ErTixJQUFBelcsRUFBQTRJLE1BQ0E4TixLQUFBLEdBQ0FWLElBQUE7UUFFQWhXLEVBQUEwSSxVQUFBLFNBQUFpTztZQUNBRCxNQUNBVixLQUFBWSxhQUFBWixJQUNBdlIsRUFBQStSLFFBQUFHO1dBSUEzVyxFQUFBNEksT0FBQTtZQUNBOE4sTUFDQVYsS0FBQVksYUFBQVosSUFDQXZSLEVBQUFnUyxTQUFBOztRQUdBO1lBQ0F4VSxFQUFBNkYsUUFBQTlIO1VBQ0csT0FBQWxJO1lBQ0g7Z0JBQ0FrUCxTQUFBNlAsWUFBQTdXO2NBQ0ssT0FBQWxJO2dCQUNMcUksSUFBQUMsRUFBQSxZQUFBdEk7OztRQUlBa2UsSUFBQWMsV0FBQTtZQUNBZCxLQUFBWSxhQUFBWixJQUNBVSxLQUFBLEdBRUFqUyxFQUFBZ1MsUUFBQUM7V0FDRzFXLEVBQUFxSSxXQUFBME87O0lBSUgsU0FBQUMsRUFBQXZEO1FBQ0FBLE1BQ0F3RCxFQUFBdkosSUFBQStGLElBQ0F3RCxFQUFBdFYsUUFFQXhCLElBQUFsSSxFQUFBLGFBQUFnZixFQUFBQzs7SUFLQSxTQUFBQztRQUNBLElBQUFDLElBQUFqVixFQUFBc0YsZUFBQSxTQUNBNFAsS0FBQTtRQUNBO1lBQ0FqUSxPQUNBaVEsS0FBQTtVQUVHLE9BQUF2ZjtRQUVILE9BQUF1ZjtZQUVBQztnQkFDQUMsZ0JBQUFIO2dCQUNBSSxZQUFBSjs7O1lBS0EvRTtnQkFDQWtGLGdCQUFBSDtnQkFDQUksWUFBQUo7Ozs7SUEvS0EsSUFBQWpWLElBQUF6TCxFQUFBLElBQ0FvYixJQUFBcGIsRUFBQSxLQUNBK2dCLElBQUEvZ0IsRUFBQSxLQUNBdWdCLElBQUF2Z0IsRUFBQSxLQUNBeUosSUFBQXpKLEVBQUEsS0FDQWlYLElBQUFqWCxFQUFBLEtBQ0FnaEIsSUFBQWhoQixFQUFBLEtBQ0F3TCxJQUFBeEwsRUFBQSxJQUNBK00sSUFBQS9NLEVBQUEsS0FDQWEsSUFBQWIsRUFBQSxJQUNBK04sSUFBQS9OLEVBQUEsSUFzQkFxZ0IsSUFBQTtJQUVBeGdCLEVBQUFDLFVBQUEsU0FBQXFTLEdBQUFkLEdBQUE0UCxHQUFBaEY7UUFDQSxJQUFBemEsSUFBQWdLLEVBQUF4SixlQUFBbkIsRUFBQUMsUUFDQW9nQixJQUFBOUYsRUFBQTBCO1FBeUJBLElBcEJBLFNBQUFyUixFQUFBb0UscUJBQUEsYUFBQXBFLEVBQUFvRSxxQkFDQXFSLEVBQUE7UUFDQUEsRUFBQTtZQUNBQyxXQUFBM2YsRUFBQTZRLFlBQUF4UixFQUFBK0QsY0FBQTtZQUNBd2MsU0FBQTVmLEVBQUE2USxZQUFBO1lBQ0FnUCxRQUFBN2YsRUFBQTZRLFlBQUF4UixFQUFBZ0UsYUFBQTtjQUdBcWMsRUFBQSxvQkFDQUEsRUFBQTtZQUNBSSxRQUFBOWYsRUFBQTZRLFlBQUF4UixFQUFBK0QsY0FBQTtZQUNBd2MsU0FBQTVmLEVBQUE2USxZQUFBO1lBQ0FnUCxRQUFBN2YsRUFBQTZRLFlBQUF4UixFQUFBZ0UsYUFBQTtZQUlBMGIsRUFBQTNLLFVBQ0FzTCxFQUFBcmdCLEVBQUFzRCxXQUFBb2MsRUFBQTNLLFFBR0F6RCxFQUFBb04sV0FBQTtZQUNBLElBQUE4QixJQUFBN2YsRUFBQTZRLFlBQUF4UixFQUFBZ0UsV0FDQTBjLElBQUEvZixFQUFBNlEsWUFBQTtZQUNBRixFQUFBb04sVUFBQWlDO2dCQUNBQyxNQUFBSjtnQkFDQUssVUFBQUg7OztRQUlBcFAsRUFBQXdKLFNBQUE1TyxFQUFBL0MsT0FBQWtYLEdBQUEvTyxFQUFBd0o7WUFDQS9FLElBQUF2SixLQUFBd0o7WUFDQThLLFNBQUE1VSxFQUFBK0osYUFBQSxNQUFBekosS0FBQXdKLFFBQUE5SixFQUFBK0osYUFBQTs7UUFFQSxJQUFBOEssSUFBQWIsRUFBQTVPLElBQ0EwUCxJQUFBNUssRUFBQVUsU0FBQWlLLElBQ0FwVSxJQUFBbVMsS0FDQXBYO1lBQ0FpRjtZQUNBb0UsUUFBQTtZQUNBTyxNQUFBNk8sRUFBQWMsT0FBQUQ7WUFDQTdQLFNBQUEsU0FBQWlPO2dCQUNBLElBQUE4QixJQUFBOUIsRUFBQStCLFFBQUEvQixFQUFBblIsVUFBQW1SLEVBQUE4QjtnQkFDQSxRQUFBQSxLQUFBLFFBQUFBLEtBQ0F0WSxJQUFBSyxFQUFBLFlBQUFxSSxHQUFBMFAsSUFHQXZCLEdBQUFMLEVBQUE5TixZQUFvQzRLLFVBQ3BDaFAsRUFBQXNELFFBQUE0TyxPQUVBeFcsSUFBQUMsRUFBQSxZQUFBbVk7Z0JBQ0E5VCxFQUFBa1Q7O1lBR0EvTyxNQUFBLFNBQUE4TjtnQkFDQXZXLElBQUFDLEVBQUEsUUFBQW1ZLElBQ0E5VCxFQUFBa1Q7O1lBRUFnQixVQUFBO2dCQUNBbFUsRUFBQWtPOzs7UUFJQTRELEVBQUE5UyxFQUFBL0MsT0FBQXpCLEdBQUFrWTs7R3ZCMHlFTSxTQUFVNWdCLEdBQVFDO0l3QmgxRXhCLFNBQUFvaUIsRUFBQXZHLEdBQUF3RztRQUNBLElBQUE1UyxJQUFBNlMsRUFBQXpHLEdBQUF3RztRQU1BLE9BSkF4RyxPQUFBMEcsZ0JBQ0E5UyxFQUFBNFMsRUFBQUUsZUFBQSxpQkFBQUQsRUFBQXpHLEVBQUEwRyxhQUFBQztRQUdBL1M7O0lBR0EsU0FBQTZTLEVBQUExVCxHQUFBeVQ7UUFDQSxJQUFBNVM7UUFFQSxTQUFBdE4sS0FBQXlNLEdBQ0F5VCxFQUFBbGdCLEtBQ0FzTixFQUFBNFMsRUFBQWxnQixNQUFBeU0sRUFBQXpNLEtBRUFzTixFQUFBdE4sS0FBQXlNLEVBQUF6TTtRQUlBLE9BQUFzTjs7SUFHQSxTQUFBZ1QsRUFBQWhELEdBQUE0QztRQUNBLElBQUE1UztRQUVBLElBQUFnUSxHQUNBLFNBQUFpRCxLQUFBakQsR0FDQUEsRUFBQWlELE9BQ0FqVCxFQUFBNFMsRUFBQUssTUFBQWpELEVBQUFpRDtRQUtBLE9BQUFqVDs7SUFwR0EsSUFBQWtUO1FBQ0FqRCxVQUFBO1FBR0FqRixNQUFBO1FBQ0FpSCxhQUFBO09BR0FrQjtRQUNBNUUsVUFBQTtRQUNBcEIsUUFBQTtRQUNBRyxnQkFBQTtRQUNBK0IsY0FBQTtRQUNBTSxVQUFBO1FBQ0FsQyxhQUFBO1FBQ0E4QixxQkFBQTtRQUNBRSxhQUFBO1FBQ0FmLGtCQUFBO1FBQ0EwRSxTQUFBO1FBQ0FqRSxtQkFBQTtRQUNBTyxZQUFBO1FBQ0FGLGVBQUE7UUFDQWhCLHNCQUFBO1FBQ0FjLGNBQUE7UUFDQTNCLFFBQUE7UUFDQTBGLEtBQUE7UUFDQVAsYUFBQTtRQUNBdEYsU0FBQTtRQUNBRSxhQUFBO1FBQ0FzQixZQUFBO1FBQ0FzRSxXQUFBO1FBQ0E1WixnQkFBQTtRQVlBdVYsYUFBQTtPQUtBOEQ7UUFDQVEsTUFBQTtRQUNBMUIsU0FBQTtRQUNBRSxRQUFBO1FBQ0F5QixhQUFBO1FBQ0E1QixXQUFBO1FBQ0E2QixXQUFBO1FBQ0FDLFFBQUE7O0lBR0FwakIsRUFBQUMsVUFBQSxTQUFBcVM7UUFDQTtZQUNBa00sR0FBQTZELEVBQUEvUCxFQUFBd0osUUFBQStHO1lBQ0FqUSxHQUFBOFAsRUFBQXBRLEVBQUFvTixXQUFBa0Q7OztHeEIrN0VNLFNBQVU1aUIsR0FBUUMsR0FBU0U7SXlCdi9FakMsU0FBQWtqQjtRQUNBLElBQUFDLElBQUEsSUFDQS9VLElBQUFJO1FBQ0FBLEtBQUF3SSxNQUFBLFNBQUErRjtZQUNBb0csSUFBQXBHO1dBR0F2TyxLQUFBb0gsTUFBQTtZQUNBLE9BQUF1TjtXQUVBM1UsS0FBQWdTLFlBQUE7WUFDQSxPQUFBdkosRUFBQTdILE1BQUE0UixFQUFBb0MsT0FBQUQ7V0FFQTNVLEtBQUE2VSxVQUFBLFNBQUFqYjtZQUNBLElBQUFrYixJQUFBbFYsRUFBQW9TO1lBQ0EsT0FBQThDLE1BQUFsYixNQUFBO1dBR0FvRyxLQUFBaEYsT0FBQTtZQUNBMlosSUFBQTVaLElBQUFxTSxJQUFBL1UsRUFBQXNEO1dBR0FxSyxLQUFBdkQsT0FBQTtZQUNBa1ksS0FDQTVaLElBQUF5TixJQUFBblcsRUFBQXNELFNBQUFnZjs7O0lBN0JBLElBQUE1WixJQUFBdkosRUFBQSxLQUNBaVgsSUFBQWpYLEVBQUEsS0FDQWdoQixJQUFBaGhCLEVBQUEsS0FDQWEsSUFBQWIsRUFBQSxJQThCQXVnQixJQUFBLElBQUEyQztJQUVBcmpCLEVBQUFDLFVBQUF5Z0I7R3pCa2dGTSxTQUFVMWdCLEdBQVFDO0kwQnBpRnhCLElBQUF5akIsSUFBQSxvRUFDQUMsSUFBQSxTQUFBQztRQUVBLFNBREFyVixRQUNBdEUsSUFBQSxHQUFBeUosSUFBQWtRLEVBQUFoWCxRQUFpQzNDLElBQUF5SixHQUFPekosS0FBQXNFLEVBQUFxVixFQUFBQyxPQUFBNVo7UUFDeEMsT0FBQXNFO01BQ0NtVixJQUNESSxJQUFBQyxPQUFBRCxjQUNBRSxJQUFBLFNBQUF0akI7UUFDQSxJQUFBdWpCO1FBQ0EsT0FBQXZqQixFQUFBa00sU0FBQSxLQUNBcVgsSUFBQXZqQixFQUFBd2pCLFdBQUEsSUFDQUQsSUFBQSxNQUFBdmpCLElBQUF1akIsSUFBQSxPQUFBSCxFQUFBLE1BQUFHLE1BQUEsS0FBQUgsRUFBQSxXQUFBRyxLQUFBSCxFQUFBLE1BQUFHLE1BQUEsV0FBQUgsRUFBQSxNQUFBRyxNQUFBLFVBQUFILEVBQUEsV0FBQUcsT0FFQUEsSUFBQSxnQkFBQXZqQixFQUFBd2pCLFdBQUEsZUFBQXhqQixFQUFBd2pCLFdBQUE7UUFDQUosRUFBQSxNQUFBRyxNQUFBLFVBQUFILEVBQUEsTUFBQUcsTUFBQSxXQUFBSCxFQUFBLE1BQUFHLE1BQUEsVUFBQUgsRUFBQSxXQUFBRztPQUdBRSxJQUFBLGlEQUNBQyxJQUFBLFNBQUFDO1FBQ0EsT0FBQUEsRUFBQXJRLFFBQUFtUSxHQUFBSDtPQUVBTSxJQUFBLFNBQUFDO1FBQ0EsSUFBQUMsTUFBQSxVQUFBRCxFQUFBM1gsU0FBQSxJQUNBNlgsSUFBQUYsRUFBQUwsV0FBQSxZQUFBSyxFQUFBM1gsU0FBQSxJQUFBMlgsRUFBQUwsV0FBQSxnQkFBQUssRUFBQTNYLFNBQUEsSUFBQTJYLEVBQUFMLFdBQUEsU0FDQVEsTUFBQWhCLEVBQUFHLE9BQUFZLE1BQUEsS0FBQWYsRUFBQUcsT0FBQVksTUFBQSxVQUFBRCxLQUFBLFVBQUFkLEVBQUFHLE9BQUFZLE1BQUEsU0FBQUQsS0FBQSxVQUFBZCxFQUFBRyxPQUFBLEtBQUFZO1FBQ0EsT0FBQUMsRUFBQTFSLEtBQUE7T0FFQTJSLElBQUEsU0FBQUM7UUFDQSxPQUFBQSxFQUFBNVEsUUFBQSxnQkFBK0JzUTtPQUUvQk8sSUFBQSxTQUFBUjtRQUNBLE9BQUFNLEVBQUFQLEVBQUFDO09BRUFwQyxJQUFBLFNBQUFvQyxHQUFBUztRQUNBLE9BQUFBLElBQUFELEVBQUFkLE9BQUFNLElBQUFyUSxRQUFBLG1CQUFBK1E7WUFDQSxjQUFBQSxJQUFBO1dBQ0cvUSxRQUFBLGFBRkg2USxFQUFBZCxPQUFBTTtPQU9BVyxJQUFBLElBQUF0USxTQUFBLCtCQUFzRCxrQkFBaUIxQixLQUFBLFlBQ3ZFaVMsSUFBQSxTQUFBQztRQUNBLFFBQUFBLEVBQUF0WTtVQUNBO1lBQ0EsSUFBQXVZLEtBQUEsSUFBQUQsRUFBQWhCLFdBQUEsa0JBQUFnQixFQUFBaEIsV0FBQSxrQkFBQWdCLEVBQUFoQixXQUFBLGdCQUFBZ0IsRUFBQWhCLFdBQUEsSUFBQWtCLElBQUFELElBQUE7WUFDQSxPQUFBckIsR0FBQXNCLE1BQUEsZUFBQXRCLEdBQUEsT0FBQXNCLEtBQUE7O1VBQ0E7WUFDQSxPQUFBdEIsR0FBQSxLQUFBb0IsRUFBQWhCLFdBQUEsa0JBQUFnQixFQUFBaEIsV0FBQSxnQkFBQWdCLEVBQUFoQixXQUFBOztVQUNBO1lBQ0EsT0FBQUosR0FBQSxLQUFBb0IsRUFBQWhCLFdBQUEsZ0JBQUFnQixFQUFBaEIsV0FBQTs7T0FHQW1CLElBQUEsU0FBQVQ7UUFDQSxPQUFBQSxFQUFBNVEsUUFBQWdSLEdBQUFDO09BRUFLLElBQUEsU0FBQUo7UUFDQSxJQUFBclMsSUFBQXFTLEVBQUF0WSxRQUNBNFgsSUFBQTNSLElBQUEsR0FDQXJFLEtBQUFxRSxJQUFBLElBQUE4USxFQUFBdUIsRUFBQXJCLE9BQUEsa0JBQUFoUixJQUFBLElBQUE4USxFQUFBdUIsRUFBQXJCLE9BQUEsa0JBQUFoUixJQUFBLElBQUE4USxFQUFBdUIsRUFBQXJCLE9BQUEsaUJBQUFoUixJQUFBLElBQUE4USxFQUFBdUIsRUFBQXJCLE9BQUEsVUFDQWEsTUFBQVosRUFBQXRWLE1BQUEsS0FBQXNWLEVBQUF0VixNQUFBLFVBQUFzVixFQUFBLE1BQUF0VjtRQUVBLE9BREFrVyxFQUFBOVgsWUFBQSxhQUFBNFgsSUFDQUUsRUFBQTFSLEtBQUE7T0FFQXVTLElBQUEsU0FBQTNTO1FBQ0EsT0FBQUEsRUFBQW9CLFFBQUEsZ0JBQStCc1I7T0FFL0JFLElBQUEsU0FBQTVTO1FBQ0EsT0FBQXlTLEVBQUFFLEVBQUEzUztPQUVBMlEsSUFBQSxTQUFBM1E7UUFDQSxPQUFBNFMsRUFBQXpCLE9BQUFuUixHQUFBb0IsUUFBQSxrQkFBQStRO1lBQ0EsY0FBQUEsSUFBQTtXQUNHL1EsUUFBQTs7SUFHSC9ULEVBQUFnaUIsWUFDQWhpQixFQUFBc2pCO0cxQjJpRk0sU0FBVXZqQixHQUFRQyxHQUFTRTtJMkJ6bkZqQyxJQUFBeUosSUFBQXpKLEVBQUE7SUFFQUgsRUFBQUMsVUFBQSxTQUFBd2xCO1FBQ0EsSUFBQUMsSUFBQUQsR0FDQUU7UUFFQWhYLEtBQUF1TixVQUFBLFNBQUF6STtZQUNBLG1CQUFBaVMsS0FBQS9XLEtBQUFpWCxVQUFBRixLQUNBL1csS0FBQTJOLFdBR0FxSixFQUFBelosS0FBQXVIO1dBR0E5RSxLQUFBMk4sVUFBQTtZQUNBLE9BQUFxSixFQUFBaFM7V0FHQWhGLEtBQUEwTixRQUFBO1lBQ0EsT0FBQXNKLEVBQUE7V0FHQWhYLEtBQUFrWCxVQUFBO1lBQ0EsYUFBQUYsRUFBQS9ZO1dBR0ErQixLQUFBc0osUUFBQTtZQUNBME4sRUFBQS9ZLFNBQUE7V0FHQStCLEtBQUFpWCxPQUFBO1lBQ0EsT0FBQUQsRUFBQS9ZO1dBR0ErQixLQUFBaU8sUUFBQTtZQUNBLE9BQUErSTtXQUdBaFgsS0FBQW1YLFFBQUE7WUFDQWxjLElBQUFsSSxFQUFBLGNBQUFpa0IsRUFBQXJLOzs7RzNCaW9GTSxTQUFVdGIsR0FBUUMsR0FBU0U7STRCL3BGakM7SUFFQUYsRUFBQWtLLFNBQUFoSyxFQUFBLEtBU0FGLEVBQUE4bEIsZUFBQTtRQUNBLE9BQUE3UyxLQUFBOFMsTUFBQSxZQUFBOVMsS0FBQUMsVUFBQW1JLFNBQUE7T0FRQXJiLEVBQUFnbUIsY0FBQSxTQUFBQyxHQUFBQztRQUNBLGFBQUFELEVBQUEzYyxRQUFBNGM7T0FPQWxtQixFQUFBbW1CLFlBQUEsU0FBQUYsR0FBQUM7UUFDQSxJQUFBRSxJQUFBSCxFQUFBdFosUUFBQTBaLElBQUFILEVBQUF2WjtRQUNBLE9BQUF5WixLQUFBQyxLQUFBSixFQUFBM2MsUUFBQTRjLE1BQUFFLElBQUFDO09BR0FybUIsRUFBQXNtQixNQUFBLFNBQUE1VCxHQUFBOUc7UUFDQSxJQUFBNUIsR0FDQXlKLElBQUFmLEVBQUEvRjtRQUNBLEtBQUEzQyxJQUFBLEdBQWFBLElBQUF5SixHQUFPekosS0FDcEIsSUFBQTRCLEVBQUE4RyxFQUFBMUksS0FDQTtRQUdBO09BR0FoSyxFQUFBdW1CLFdBQUEsU0FBQTlrQjtRQUNBLDBCQUFBQTtPQUdBekIsRUFBQXdtQixRQUFBLFNBQUEva0I7UUFDQSxPQUFBK2tCLFFBQ0FBLE1BQUEva0IsS0FFQUE7T0FTQXpCLEVBQUF5bUIsWUFBQSxTQUFBUixHQUFBQztRQUNBLE9BQUFELEVBQUEzYyxRQUFBNGMsTUFBQTs7SUFNQSxJQUFBbmMsSUFBQSxTQUFBNkU7UUFDQSxJQUFBSyxHQUNBQyxJQUFBTixFQUFBOFgsZ0JBQUF2WDtRQUNBLHVCQUFBUCxHQUFBO1lBRUcsSUFBQVMsYUFBQUMsT0FDSEwsSUFBQUksS0FBQUUsVUFBQVgsSUFDQU0sSUFBQUcsS0FBQUMsTUFBQUwsU0FFQSxTQUFBakYsS0FBQTRFLEdBQ0FNLEVBQUFsRixLQUFBLG1CQUFBNEUsRUFBQTVFLEtBQUFELEVBQUE2RSxFQUFBNUUsTUFBQTRFLEVBQUE1RTtZQUdBLE9BQUFrRjs7O0lBR0FsUCxFQUFBK0o7SUFLQSxJQUFBNGMsSUFBQTtRQUtBLEtBSkEsSUFHQWpTLEdBSEFrUyxJQUFBLDBCQUNBbFosSUFBQXJNLE9BQUF3bEIsU0FBQUMsTUFDQXZULFFBRUFtQixJQUFBa1MsRUFBQUcsS0FBQXJaLE1BQ0E2RixFQUFBbUIsRUFBQSxNQUFBQSxFQUFBO1FBRUEsT0FBQW5COztJQUdBdlQsRUFBQTJtQjtJQUtBLElBQUFLLElBQUEsU0FBQXhVO1FBQ0EsS0FBQUEsR0FDQTtRQUVBLFNBQUFuSixLQUFBbUosR0FDQSxJQUFBNkIsT0FBQTZFLFVBQUFDLGVBQUE1WSxLQUFBaVMsR0FBQW5KLElBQ0E7UUFHQTs7SUFFQXJKLEVBQUFnbkI7RzVCOHFGTSxTQUFVam5CLEdBQVFDO0k2QnR5RnhCRCxFQUFBQyxVQUFBLFNBQUFpbkIsR0FBQUM7UUFFQSw0QkFBQTdTLE9BQUFuSyxTQUNBLFNBQUF5TztZQUVBLFNBREF3TyxJQUFBOVMsT0FBQXNFLElBQ0FJLElBQUEsR0FBeUJBLElBQUE1TSxVQUFBUSxRQUEwQm9NLEtBQUE7Z0JBQ25ELElBQUFxTyxJQUFBamIsVUFBQTRNO2dCQUNBLGFBQUFxTyxHQUNBLFNBQUFuTyxLQUFBbU8sR0FDQS9TLE9BQUE2RSxVQUFBQyxlQUFBNVksS0FBQTZtQixHQUFBbk8sT0FDQWtPLEVBQUFsTyxLQUFBbU8sRUFBQW5POztZQUtBLE9BQUFrTztVQUNLRixHQUFBQyxLQUVMN1MsT0FBQW5LLFdBQTJCK2MsR0FBQUM7O0c3Qm16RnJCLFNBQVVubkIsR0FBUUMsR0FBU0U7SThCcjBGakMsU0FBQW1uQixFQUFBOWUsR0FBQVM7UUFDQSxLQUFBVCxHQUNBO1FBRUEsSUFBQStlO1FBQ0EsU0FBQWpsQixLQUFBMkcsR0FDQXNlLEVBQUFyYixLQUFBNUosSUFBQSxNQUFBMkcsRUFBQTNHO1FBRUEsSUFBQWtsQixJQUFBRCxFQUFBdlUsS0FBQTtRQUNBLE9BQUF3VSxJQUFBaGYsSUFBQSxNQUFBZ2YsSUFBQWhmOztJQWRBLElBQUFtRCxJQUFBeEwsRUFBQSxJQUVBc25CLElBQUEsSUFDQUM7SUFjQXpuQixFQUFBNE4scUJBQUE7UUFDQSxPQUFBNFo7T0FHQXhuQixFQUFBMG5CLGlCQUFBLFNBQUFuZjtRQUNBQSxNQUNBaWYsSUFBQWpmO09BSUF2SSxFQUFBMm5CLGVBQUEsU0FBQXBmO1FBQ0EsSUFBQUEsR0FDQSxPQUFBa2YsRUFBQWxmO09BSUF2SSxFQUFBNG5CLGVBQUEsU0FBQXJmLEdBQUFTO1FBQ0FULE1BQ0FrZixFQUFBbGYsS0FBQVM7T0FJQWhKLEVBQUE2bkIsY0FBQSxTQUFBdGY7UUFDQSxPQUFBOGUsRUFBQUcsR0FBQUMsRUFBQWxmO09BR0F2SSxFQUFBOG5CLGNBQUEsU0FBQXZmO1FBQ0EsSUFBQTdHLElBQUFnSyxFQUFBeEosZUFBQSxVQUNBNmxCLElBQUFybUIsRUFBQTZRLFlBQUEsZUFDQXlWLElBQUF6ZixLQUFBaWY7UUFDQTtZQUVBLElBQUFPLEtBQUEsbUJBQUFBLEdBQ0EsU0FBQTVsQixLQUFBNGxCLEdBQUE7Z0JBQ0EsSUFBQTVsQixNQUFBNmxCLEdBQ0E7Z0JBQ1MsSUFBQUQsRUFBQTVsQixNQUFBNGxCLEVBQUE1bEIsR0FBQThsQixTQUFBO29CQUNURCxJQUFBRCxFQUFBNWxCLEdBQUE4bEIsUUFBQW5ZLEtBQUF2SCxLQUFBcEcsSUFBQTZsQjtvQkFDQTs7O1VBTUcsT0FBQTFtQjtRQUdILE9BQUF5bUIsRUFBQUM7T0FRQWhvQixFQUFBcU4sY0FBQSxTQUFBOUU7UUFDQSxRQUFBbUcsS0FBQW9aLFlBQUF2ZixVQUFzQzJmO09BR3RDbG9CLEVBQUFtb0Isb0JBQUE7UUFDQSxJQUFBWCxHQUFBO1lBQ0EsSUFBQXhlLElBQUF5ZSxFQUFBRCxVQUNBWSxJQUFBLFVBQ0FuZixJQUFBb2YsbUJBQUFyZixFQUFBQztZQUNBLE9BQUFBLEtBQUFtZixFQUFBdFksS0FBQTdHLFFBQUE4SyxRQUFBcVUsR0FBQTs7O0c5QmsxRk0sU0FBVXJvQixHQUFRQyxHQUFTRTtJK0J6NUZqQztJQVlBLFNBQUFvb0IsRUFBQWptQjtRQUNBLElBQUF1TTtRQUNBO1lBQ0EyWixFQUFBbG1CLEdBQUEsU0FBQWdILEdBQUE1SDtnQkFFQSxNQUFBNEgsRUFBQUMsUUFBQSxZQUNBc0YsRUFBQXZGLEtBQUE1SDs7VUFHRyxPQUFBSDtRQUNILE9BQUFzTjs7SUFHQSxTQUFBNFosRUFBQUMsR0FBQW5nQjtRQUNBLElBQUFtRCxJQUFBQyxFQUFBbkssY0FDQW1uQixJQUFBL2MsRUFBQXdFLGtCQUNBd1ksSUFBQUQsRUFBQUMsU0FBQUQsRUFBQUUsTUFBQSxJQUNBcGYsSUFBQWtmLEVBQUFsZixlQUNBcWYsSUFBQUMsRUFBQUMsVUFBQXZmLElBQUE7UUFFQXFmLE1BQ0FGLFFBQUEsTUFBQUUsSUFFQUosRUFBQXpmLFVBQ0F5ZixFQUFBemYsYUFFQXlmLEVBQUF6ZixNQUFBZ2dCLGVBQUF2ZCxFQUFBL0osTUFBQTZRLFlBQUEsZ0JBQUE5RyxFQUFBL0osTUFBQXVuQjtRQUNBUixFQUFBemYsTUFBQWtnQixnQkFBQSxHQUdBVCxFQUFBemYsUUFBQTRCLEVBQUFWLFdBQStCVixHQUFBaWYsRUFBQXpmO1FBQy9CLElBQUFULElBQUFrZ0IsRUFBQWxnQixRQUFBb2dCLEdBRUFRLElBQUEsa0JBQUFWLEVBQUF6ZixNQUFBZ2dCLGVBQUE7UUFZQSxPQVZBemdCLEVBQUFlLFFBQUEsWUFDQW1mLEVBQUFsZ0IsV0FBQSxNQUFBNGdCLElBRUFWLEVBQUFsZ0IsV0FBQSxNQUFBNGdCLEdBRUFWLEVBQUF6WixTQUFBO1FBQ0F2RCxFQUFBOUosWUFBQXNLO1lBQ0FDLFFBQUFuTCxFQUFBOEU7WUFDQXNHLGFBQUE3RCxHQUFBbWdCO1lBRUFBOztJQUdBLFNBQUFXO1FBQ0EsSUFBQTNkLElBQUFDLEVBQUFuSyxjQUNBa25CO1lBQ0F6WixRQUFBOztRQUVBdkQsRUFBQTlKLFlBQUFzSztZQUNBQyxRQUFBbkwsRUFBQThFO1lBQ0FzRyxhQUFBLHFCQUFBc2M7OztJQUlBLFNBQUFZO1FBQ0EsSUFBQTVkLElBQUFDLEVBQUFuSyxjQUNBK25CLElBQUE1YSxNQUNBK1o7WUFDQXpaLFFBQUE7WUFDQXhOLFNBQUE4bkI7O1FBRUE3ZCxFQUFBOUosWUFBQXNLO1lBQ0FDLFFBQUFuTCxFQUFBOEU7WUFDQXNHLGFBQUEsaUJBQUFzYzs7O0lBS0EsU0FBQWMsRUFBQXZnQjtRQUNBLElBQUF5QyxJQUFBQyxFQUFBbks7UUFDQTtZQUNBNkwsRUFBQXNhLGVBQUFoWixLQUFBaWEsUUFDQTNmLEtBQ0FvRSxFQUFBd2EsYUFBQWxaLEtBQUFpYSxPQUFBM2YsSUFFQVcsSUFBQUssRUFBQSxpQkFBQTBFLEtBQUFpYSxPQUFBM2Y7WUFDQSxJQUFBc2dCLElBQUE1YTtZQUNBekIsRUFBQUMsYUFBQXpCLEVBQUE5SixhQUFBWixFQUFBNkUsV0FBQTtnQkFFQTZGLEVBQUEvSixNQUFBOG5CLGVBQUF6b0IsRUFBQXlHLGlCQUFBOGdCLEVBQUF0ZixLQUNBeUMsRUFBQTlKLFlBQUFzSztvQkFDQUMsUUFBQW5MLEVBQUE4RTtvQkFDQXNHLGFBQUE7d0JBQ0E2QyxRQUFBO3dCQUNBeE4sU0FBQThuQjs7O2dCQUlBLElBQUFHLElBQUE5ZCxFQUFBd0U7Z0JBQ0FsRCxFQUFBb0IsUUFBQW9iLEdBQUEsb0JBQUFwWDtvQkFDQTVHLEVBQUE5SixZQUFBc0s7d0JBQ0FDLFFBQUFuTCxFQUFBOEU7d0JBQ0FzRyxhQUFBOzRCQUNBa0c7NEJBQ0E3USxTQUFBOG5COzs7OztVQUtHLE9BQUFob0I7WUFDSHFJLElBQUFDLEVBQUEsZ0JBQUF0STs7O0lBSUEsU0FBQW9vQjtRQUNBLElBQUFqZSxJQUFBQyxFQUFBbks7UUFDQTtZQUNBNkwsRUFBQXNhLGVBQUFoWixLQUFBaWEsUUFDQTFiLEVBQUFDLGFBQUF6QixFQUFBOUosYUFBQVosRUFBQTZFLFdBQUE7Z0JBQ0EsSUFBQTBqQixJQUFBNWE7Z0JBQ0FqRCxFQUFBOUosWUFBQXNLO29CQUNBQyxRQUFBbkwsRUFBQThFO29CQUNBc0csYUFBQTt3QkFDQTZDLFFBQUE7d0JBQ0F4TixTQUFBOG5COzs7O1VBSUcsT0FBQWhvQjtZQUNIcUksSUFBQUMsRUFBQSxnQkFBQXRJOzs7SUFJQSxTQUFBcW9CO1FBQ0EsSUFBQWxlLElBQUFDLEVBQUFuSztRQUNBO1lBQ0EsSUFBQStuQixJQUFBNWE7WUFDQWpELEVBQUE5SixZQUFBc0s7Z0JBQ0FDLFFBQUFuTCxFQUFBOEU7Z0JBQ0FzRyxhQUFBO29CQUNBNkMsUUFBQTtvQkFDQXhOLFNBQUE4bkI7OztVQUdHLE9BQUFob0I7WUFDSHFJLElBQUFDLEVBQUEsaUJBQUF0STs7O0lBSUEsU0FBQXNvQjtRQUNBLElBQUFuZSxJQUFBQyxFQUFBbks7UUFDQTtZQUNBa0ssRUFBQTlKLFlBQUFzSztnQkFDQUMsUUFBQW5MLEVBQUE4RTtnQkFDQXNHLGFBQUE7b0JBQ0E2QyxRQUFBOzs7VUFHRyxPQUFBMU47WUFDSHFJLElBQUFDLEVBQUEsZ0JBQUF0STs7O0lBSUEsU0FBQXVvQjtRQUNBLElBQUFwZSxJQUFBQyxFQUFBbks7UUFDQTtZQUNBa0ssRUFBQTlKLFlBQUFzSztnQkFDQUMsUUFBQW5MLEVBQUE4RTtnQkFDQXNHLGFBQUE7b0JBQ0E2QyxRQUFBOzs7VUFHRyxPQUFBMU47WUFDSHFJLElBQUFDLEVBQUEsa0JBQUF0STs7O0lBSUEsU0FBQXdvQixFQUFBeG9CO1FBQ0EsSUFBQW1LLElBQUFDLEVBQUFuSztRQUNBa0ssRUFBQTlKLFlBQUFzSztZQUNBQyxRQUFBbkwsRUFBQThFO1lBQ0FzRyxhQUFBO2dCQUNBNkMsUUFBQTtnQkFDQWlNLE9BQUEzWjtnQkFDQUUsU0FBQWtOOzs7O0lBTUEsU0FBQXFiLEVBQUF6b0I7UUFDQSxJQUFBbUssSUFBQUMsRUFBQW5LLGNBQ0ErbkIsSUFBQTVhO1FBQ0FqRCxFQUFBOUosWUFBQXNLO1lBQ0FDLFFBQUFuTCxFQUFBOEU7WUFDQXNHLGFBQUE7Z0JBQ0E2QyxRQUFBO2dCQUNBeE4sU0FBQThuQjtnQkFDQXJPLE9BQUEzWjs7OztJQUtBLFNBQUEwb0IsRUFBQXZCO1FBQ0EsSUFBQUEsRUFBQXdCLG1CQUFBO1lBQ0EsSUFBQUMsSUFBQXpCLEVBQUF3QjtZQUNBeEIsRUFBQXdCLG9CQUFBLFNBQUE5WDtnQkFDQSxJQUFBZ1ksSUFBQUQsRUFBQTNwQixLQUFBbU8sTUFBQXlEO2dCQUNBLE9BQUFxVyxFQUFBMkIsR0FBQTs7OztJQU1BLFNBQUFDLEVBQUEzQjtRQUNBLElBQUFBLEVBQUE0QixpQkFBQTtZQUNBLElBQUFDLElBQUE3QixFQUFBNEI7WUFDQTVCLEVBQUE0QixrQkFBQSxTQUFBbFk7Z0JBQ0EsSUFBQWdZLElBQUFHLEVBQUEvcEIsS0FBQW1PLE1BQUF5RDtnQkFDQSxPQUFBcVcsRUFBQTJCLEdBQUE7Ozs7SUFLQSxTQUFBSTtRQUNBO1lBQ0EsSUFBQUMsSUFBQUM7WUFDQUEsT0FBQSxTQUFBQztnQkFDQXpkLEVBQUEwQixVQUFBK2IsR0FBQSxVQUFBaEIsSUFDQXpjLEVBQUEwQixVQUFBK2IsR0FBQSxVQUFBZCxJQUNBM2MsRUFBQTBCLFVBQUErYixHQUFBLFlBQUFiO2dCQUNBNWMsRUFBQTBCLFVBQUErYixHQUFBLFVBQUFuQixJQUNBdGMsRUFBQTBCLFVBQUErYixHQUFBLFdBQUFmLElBQ0ExYyxFQUFBMEIsVUFBQStiLEdBQUEscUJBQUF0QjtnQkFDQW5jLEVBQUEwQixVQUFBK2IsR0FBQSxpQkFBQXJCLElBQ0FwYyxFQUFBMEIsVUFBQStiLEdBQUEsY0FBQVosSUFDQTdjLEVBQUEwQixVQUFBK2IsR0FBQSxnQkFBQVg7Z0JBQ0FDLEVBQUFVLElBQ0FOLEVBQUFNLElBQ0FGLEVBQUFFOztVQUVHLE9BQUFwcEI7WUFDSHFJLElBQUFDLEVBQUE7OztJQUlBLFNBQUErZ0I7UUFDQTtZQUNBLElBQUFDLElBQUFDO1lBQ0FBLFlBQUEsU0FBQXJoQjtnQkFDQTtvQkFDQUEsRUFBQXNoQixVQUFBdGhCLEVBQUFzaEI7b0JBQ0EsSUFBQUEsSUFBQXRoQixFQUFBc2hCO29CQUNBN2QsRUFBQTBCLFVBQUFtYyxHQUFBLFVBQUFwQixJQUNBemMsRUFBQTBCLFVBQUFtYyxHQUFBLFVBQUFsQixJQUNBM2MsRUFBQTBCLFVBQUFtYyxHQUFBLFlBQUFsQjtvQkFDQTNjLEVBQUEwQixVQUFBbWMsR0FBQSxVQUFBdkIsSUFDQVMsRUFBQWMsSUFDQUYsRUFBQXBoQjtrQkFDTyxPQUFBOEU7b0JBQ1BzYyxFQUFBcGhCOzs7VUFHRyxPQUFBbEk7WUFDSHFJLElBQUFDLEVBQUE7OztJQUtBLFNBQUFtaEIsRUFBQUMsR0FBQTFpQixHQUFBeUc7VUFDQSx1QkFBQXpGLGVBQUEwaEIsTUFBQSxJQUNBamMsTUFHQXBGLElBQUFDLEVBQUEsWUFBQXRCLElBQUE7O0lBdlJBLElBQUFvRCxJQUFBeEwsRUFBQSxJQUNBYSxJQUFBYixFQUFBLElBQ0ErTSxJQUFBL00sRUFBQSxJQUNBcW9CLElBQUFyb0IsRUFBQSxLQUNBMEssSUFBQTFLLEVBQUEsS0FDQTRvQixJQUFBNW9CLEVBQUEsS0FDQXlKLElBQUF6SixFQUFBLEtBQ0FrTixJQUFBbE4sRUFBQSxLQUNBeUwsSUFBQXpMLEVBQUE7SUFtUkFILEVBQUFDLFVBQUE7UUFDQTtZQUNBb08sS0FBQTtnQkFDQTJjLEVBQUFOLE1BQUEsUUFBQUYsSUFDQVEsRUFBQUYsV0FBQSxhQUFBRjs7OztHL0I2NkZNLFNBQVU1cUIsR0FBUUM7SWdDL3NHeEI7SUFFQUQsRUFBQUMsVUFBQSxTQUFBcWlCLEdBQUF0VDtRQUNBLElBQUFzRixpQkFBQUMsTUFHQSxTQUZBQSxJQUFBRCxPQUFBQyxLQUFBK04sSUFDQXpQLElBQUEwQixFQUFBM0gsUUFDQTNDLElBQUEsR0FBbUJBLElBQUE0SSxHQUFTNUksS0FBQTtZQUM1QixJQUFBaWhCLElBQUEzVyxFQUFBdEs7WUFDQStFLEVBQUFrYyxHQUFBNUksRUFBQTRJO2VBR0EsU0FBQTVoQixLQUFBZ1osR0FDQXRULEVBQUExRixHQUFBZ1osRUFBQWhaOztHaENrdUdNLFNBQVV0SixHQUFRQztJaUM5dUd4QjtJQXFFQSxTQUFBeVMsRUFBQUMsR0FBQXdZO1FBQ0EsSUFDQTdoQixHQUNBNUgsR0FDQXVJLEdBSEEySSxRQUlBQyxJQUFBRixFQUFBL0Y7UUFFQSxLQUFBM0MsSUFBQSxHQUFhQSxJQUFBNEksR0FBUzVJLEtBQUE7WUFDdEJYLElBQUFxSixFQUFBMUksR0FBQSxJQUNBdkksSUFBQWlSLEVBQUExSSxHQUFBO1lBQ0EsSUFBQW1oQixJQUFBLE1BQUE5aEIsRUFBQUMsUUFBQXVKLElBQ0F1WSxJQUFBRCxLQUFBRCxJQUFBenBCLElBQUFxUixtQkFBQXJSO1lBQ0FrUixFQUFBMUcsS0FBQWtmLElBQUFDLElBQUEvaEIsSUFBQSxNQUFBK2hCOztRQUVBLE9BQUF6WSxFQUFBSSxLQUFBOztJQS9FQS9TLEVBQUEyVCxVQUFBLFNBQUFqQjtRQUNBLElBQ0FySixHQUNBNUgsR0FDQXVJLEdBSEE0SixRQUlBaEIsSUFBQUYsRUFBQS9GO1FBRUEsS0FBQTNDLElBQUEsR0FBYUEsSUFBQTRJLEdBQVM1SSxLQUN0QlgsSUFBQXFKLEVBQUExSSxHQUFBLElBQ0F2SSxJQUFBaVIsRUFBQTFJLEdBQUEsSUFDQTRKLEVBQUF2SyxLQUFBNUg7UUFFQSxPQUFBbVM7T0FhQTVULEVBQUFxckIsWUFBQSxTQUFBOVg7UUFDQSx1QkFBQUEsR0FDQSxPQUFBQTtRQUVBQSxVQUFBO1FBSUEsU0FGQTNFLFFBQ0ErRCxJQUFBWSxFQUFBOUcsTUFBQSxNQUNBekMsSUFBQSxHQUFpQkEsSUFBQTJJLEVBQUFoRyxRQUFjM0MsS0FBQTtZQUMvQixJQUFBd0osSUFBQWIsRUFBQTNJLElBQ0ErTyxJQUFBdkYsRUFBQWxLLFFBQUEsTUFDQWdpQixJQUFBOVgsRUFBQS9HLE1BQUEsTUFDQW1HLElBQUFZLEVBQUE3RztZQUNBLFVBQUEyZSxFQUFBM2UsUUFDQWlDLEVBQUEwYyxFQUFBLE1BQUFBLEVBQUEsZUFDSyxJQUFBdlMsSUFBQTtnQkFDTCxJQUFBNVcsSUFBQXFSLEVBQUErWCxNQUFBLEdBQUF4UyxJQUNBeFcsSUFBQWlSLEVBQUErWCxNQUFBeFMsSUFBQSxHQUFBbkcsTUFBQTtnQkFDQWhFLEVBQUF6TSxLQUFBSTttQkFFQXFNLEVBQUEwYyxFQUFBOztRQUdBLE9BQUExYzs7SUFJQSxJQUFBaUUsSUFBQTtJQUNBN1MsRUFBQTZTLGlCQTRCQTdTLEVBQUF5UyxlQVVBelMsRUFBQStvQixZQUFBLFNBQUFuYSxHQUFBNGM7UUFDQSxJQUNBbmlCLEdBQ0E1SCxHQUNBZ3FCLEdBSEE5WTtRQUlBLEtBQUF0SixLQUFBdUYsR0FDQXZGLEtBQUF1RixFQUFBdUssZUFBQTlQLE9BQ0E1SCxJQUFBLEtBQUFtTixFQUFBdkYsSUFDQW9pQixJQUFBcGlCLElBQUEsTUFBQTVILEdBQ0ErcEIsSUFHQTdZLEVBQUExRyxLQUFBd2YsS0FGQTlZLEVBQUExRyxLQUFBLE1BQUE1QyxFQUFBQyxRQUFBdUosS0FBQXBSLElBQUFncUI7UUFLQSxPQUFBOVksRUFBQUksS0FBQTtPQUdBL1MsRUFBQTByQixtQkFBQSxTQUFBNVI7UUFZQSxPQUFBQTs7R2pDK3ZHTSxTQUFVL1osR0FBUUMsR0FBU0U7SWtDNTNHakM7SUFFQSxJQUFBd0wsSUFBQXhMLEVBQUEsSUFDQWEsSUFBQWIsRUFBQSxJQUNBMFosSUFBQTFaLEVBQUE7SUFHQUgsRUFBQUMsVUFBQTtRQUNBO1lBQ0EyckIsV0FBQSxTQUFBbGEsR0FBQW1hO2dCQUNBLElBQUFqcUIsSUFBQStKLEVBQUF4SixlQUFBO2dCQUNBUCxFQUFBc0s7b0JBQ0FDLFFBQUEsV0FBQXVGO29CQUNBdEYsV0FBQXlmOzs7WUFHQXhkLEtBQUE7Z0JBQ0EsSUFBQXlkLElBQUFuZCxNQUNBaE4sSUFBQWdLLEVBQUF4SixlQUFBbkIsRUFBQUM7Z0JBQ0E0WSxFQUFBN1ksRUFBQWdHLFVBQUEsU0FBQXRGO29CQUNBQyxFQUFBRCxLQUFBO3dCQUNBLElBQUFrYjt3QkFDQS9DLEVBQUF6TixXQUFBLFNBQUFxSDs0QkFDQW1KLEVBQUExUSxLQUFBdUg7O3dCQUVBLElBQUEvQixJQUFBLFlBQUFoUSxJQUFBLGtCQUFBQTt3QkFDQW9xQixFQUFBRixVQUFBbGEsR0FBQWtMOzs7Ozs7R2xDaTVHTSxTQUFVNWMsR0FBUUMsR0FBU0U7SW1DMTZHakM7SUFFQSxJQUFBeUwsSUFBQXpMLEVBQUEsSUFDQXdMLElBQUF4TCxFQUFBO0lBRUFILEVBQUFDLFVBQUE7UUFDQTtZQVFBOHJCLGlCQUFBLFNBQUEvYztnQkFDQSxJQUFBdEQsSUFBQUUsRUFBQXBLO2dCQUNBa0ssRUFBQXNnQixpQkFDQXRnQixFQUFBc2dCO29CQUNBN1osU0FBQSxTQUFBQzt3QkFDQXBELEVBQUFvRCxNQUFBMEssY0FBQTs7cUJBSUE5TixFQUFBOztZQVFBaWQsZ0JBQUEsU0FBQWpkO2dCQUNBLElBQUE4YyxJQUFBbmQsTUFDQXVkLFFBQ0FDLElBQUFMLEVBQUFNO2dCQUNBLElBQUFELE9BQUFFLFNBQ0FyZCxFQUFBOGMsRUFBQU0sbUJBRUE7b0JBQ0F4Z0IsRUFBQXBLLGFBQUE4cUI7d0JBQ0FsSyxVQUFBLFNBQUFoUTs0QkFDQUEsT0FBQWlhLFVBQ0FQLEVBQUFDLGdCQUFBLFNBQUF2ZDtnQ0FDQTRELEVBQUEwSyxjQUFBdE8sR0FDQXNkLEVBQUFNLGNBQUFoYSxHQUNBcEQsRUFBQW9EO2lDQUdBMFosRUFBQUMsZ0JBQUEsU0FBQXZkO2dDQUNBMGQsRUFBQXBQLGNBQUF0TyxHQUNBUSxFQUFBa2Q7Ozs7a0JBS1MsT0FBQTNxQjtvQkFDVHlOLEVBQUFrZDs7O1lBS0FLLHFCQUFBO2dCQUNBLElBQUFqWDtnQkFDQTtvQkFDQSxJQUFBNUosSUFBQUUsRUFBQXBLO29CQUNBLElBQUFrSyxFQUFBOGdCLHNCQUFBOWdCLEVBQUF1RSxRQUFBO3dCQUVBLElBQUF3YyxJQUFBL2dCLEVBQUE4Z0Isc0JBQ0FFLElBQUFELEVBQUFDLG1CQUNBQyxJQUFBRixFQUFBRTt3QkFDQXJYLEVBQUF1QixRQUFBNlYsRUFBQTdWLE9BQ0F2QixFQUFBc1gsYUFBQUYsRUFBQUwsV0FBQUssRUFBQUcsWUFDQXZYLEVBQUF3WCxjQUFBSCxFQUFBOVY7d0JBQ0F2QixFQUFBeVgsbUJBQUFKLEVBQUFOOzJCQUNTLElBQUEzZ0IsRUFBQXNoQixnQkFBQXRoQixFQUFBdUUsUUFBQTt3QkFDVCxJQUFBZ2QsSUFBQXZoQixFQUFBc2hCO3dCQUNBMVgsRUFBQXVCLFFBQUFvVyxFQUFBcFcsU0FBQTs7a0JBRU8sT0FBQXRWO2dCQUNQLE9BQUErVDs7WUFTQWpILEtBQUEsU0FBQTZlLEdBQUE1VjtnQkFDQSxJQUFBd1UsSUFBQW5kO2dCQXFCQSxPQW5CQUEsS0FBQXNkLGVBQUEsU0FBQTdaO29CQUVBQSxFQUFBdkMsWUFBQSxLQUNBdUMsRUFBQXdNLEtBQUF4TSxFQUFBMEwsV0FBQTFMLEVBQUEwTCxTQUFBcVAsc0JBQUEsSUFDQS9hLEVBQUFnTixhQUFBaE4sRUFBQWdiLFNBQUFoYixFQUFBZ2IsU0FBQTtvQkFDQWhiLEVBQUF5SyxTQUFBekssRUFBQTJMLFFBQUEzTCxFQUFBMkwsUUFBQTtvQkFDQSxJQUFBc1AsSUFBQTtvQkFDQWpiLEVBQUFpYixRQUFBLG1CQUFBamIsRUFBQWliLEtBQUFDLFFBQ0FELElBQUFqYixFQUFBaWIsS0FBQUMsTUFFQWxiLEVBQUFpYjtvQkFFQSxJQUFBWixJQUFBWCxFQUFBUyx1QkFDQTlkLElBQUE2RixPQUFBbkssV0FBaUNpSSxHQUFBcWEsSUFFakM5cUIsSUFBQWdLLEVBQUF4SixlQUFBO29CQUNBUixFQUFBa2EsZ0JBQUFwTixHQUNBNkk7b0JBRUE7Ozs7R25DODdHTSxTQUFVdFgsR0FBUUMsR0FBU0U7SW9DcmpIakMsSUFBQW90QixJQUFBcHRCLEVBQUEsS0FDQXdMLElBQUF4TCxFQUFBO0lBQ0FILEVBQUFDLFVBQUE7UUFDQTtZQUNBb08sS0FBQTtnQkFDQSxJQUFBMU0sSUFBQWdLLEVBQUF4SixlQUFBO2dCQUVBUixFQUFBNnJCLGlCQUlBN3JCLEVBQUE2ckIsZUFBQUQsRUFBQUU7Ozs7R3BDZ2tITSxTQUFVenRCLEdBQVFDLEdBQVNFO0lxQ25rSGpDO0lBRUEsSUFBQStOLElBQUEvTixFQUFBLElBQ0F1dEIsSUFBQXZ0QixFQUFBLEtBRUF3dEIsSUFBQSxTQUFBOUI7UUFHQSxTQUZBaFosSUFBQWdaLEVBQUFqZixRQUNBZ2hCLElBQUEsSUFBQXhlLE1BQUF5RCxJQUFBLElBQ0FnYixJQUFBLEdBQWlCQSxJQUFBaGIsR0FBU2diLEtBQzFCRCxFQUFBQyxJQUFBLEtBQUFoQyxFQUFBZ0M7UUFFQSxPQUFBRDtPQUdBTCxJQUFBRyxFQUFBSTtRQUlBQyxVQUFBLFNBQUFsaUI7WUFDQSxLQUFBcUMsRUFBQXJDLElBQUEsVUFBQWlOLFVBQUFqTixJQUFBO1lBQ0EsT0FBQUE7O1FBR0E0aEIsUUFBQSxTQUFBTztZQUNBLElBQUFDLElBQUEsSUFBQXRmO1lBRUEsU0FBQXBHLEtBQUF5bEIsR0FDQUMsRUFBQTFsQixLQUFBeWxCLEVBQUF6bEI7WUFLQSxPQUZBMGxCLEVBQUFDLGVBQ0FELEVBQUFFLFdBQ0FGOztRQUdBRyxhQUFBLFNBQUFGO1lBQ0F2ZixLQUFBdWY7O1FBU0FHLFdBQUEsU0FBQUMsR0FBQTlQO1lBRUE3UCxLQUFBb2YsU0FBQXZQO1lBRUEsSUFBQXNOLElBQUFuZCxNQUNBd2YsSUFBQXJDLEVBQUFxQyxZQUVBeGIsSUFBQXdiLEVBQUFHO1lBQ0EsSUFBQTNiLEdBQ0EsU0FBQTFJLElBQUEsR0FBcUJBLElBQUEwSSxFQUFBL0YsUUFBZ0IzQyxLQUFBO2dCQUNyQyxJQUFBMmpCLElBQUFqYixFQUFBMUk7Z0JBQ0F1VSxFQUFBOVAsTUFBQW9kLEdBQUE4Qjs7WUFHQSxJQUFBTSxJQUFBcEMsRUFBQW9DO1lBTUEsT0FMQUksS0FBQUosTUFDQUEsRUFBQUksVUFFQUosRUFBQUksR0FBQXBpQixLQUFBc1MsSUFDQXNOLEVBQUFzQyxZQUFBRixJQUNBcEM7O1FBU0F5QyxhQUFBLFNBQUFELEdBQUE5UDtZQUVBN1AsS0FBQW9mLFNBQUF2UDtZQUVBO2dCQUNBLElBQUFnUSxJQUFBN2YsS0FBQXVmLFNBQUFJO2dCQUNBLEtBQUFFLEdBQUEsT0FBQTdmO2dCQUVBLHVCQUFBNmYsT0FBQTVoQixTQUFBO29CQUNBLFNBQUEzQyxJQUFBLEdBQXNCQSxJQUFBdWtCLEVBQUE1aEIsUUFBYzNDLEtBQUE7d0JBQ3BDLElBQUF3a0IsSUFBQWpRLEVBQUFsRCxZQUNBb1QsSUFBQUYsRUFBQXZrQixHQUFBcVI7d0JBQ0FtVCxNQUFBQyxLQUNBRixFQUFBRyxPQUFBMWtCLEdBQUE7O29CQUdBMEUsS0FBQXVmLFNBQUFJLEtBQUFFOzhCQUVBN2YsS0FBQXVmLFNBQUFJO2NBRUssT0FBQS9zQjtZQUNMLE9BQUFvTjs7UUFPQWlnQixTQUFBLFNBQUFOO1lBRUEsSUFBQXpDLElBQUE4QixFQUFBdmhCLFlBQ0E4aEIsSUFBQXZmLEtBQUF1ZixnQkFFQXRJLElBQUFzSSxFQUFBSSxLQUFBSixFQUFBSSxHQUFBMWhCLFNBQUE7WUFDQSxJQUFBZ1osSUFBQSxHQUNBLFNBQUEzYixJQUFBLEdBQXFCQSxJQUFBMmIsR0FBVTNiLEtBQUE7Z0JBQy9CLElBQUE0QixJQUFBcWlCLEVBQUFJLEdBQUFya0I7Z0JBQ0FpRSxFQUFBckMsTUFDQUEsRUFBQTZDLE1BQUFDLE1BQUFrZDs7WUFLQSxPQUFBbGQ7O1FBR0FrZ0IsV0FBQSxTQUFBUDtZQUNBLElBQUFILElBQUF4ZixLQUFBd2YsWUFDQXRDLElBQUE4QixFQUFBdmhCO1lBQ0EraEIsRUFBQUcsT0FDQUgsRUFBQUcsVUFFQUgsRUFBQUcsR0FBQXBpQixLQUFBO2dCQUNBLE9BQUEyZjs7OztJQUtBN3JCLEVBQUFDLFVBQUFzdEI7R3JDbWxITSxTQUFVdnRCLEdBQVFDLEdBQVNFO0lzQ3Z0SGpDO0lBS0EsU0FBQXV0QjtJQUhBLElBQUF4ZixJQUFBL04sRUFBQTtJQU1BdXRCLEVBQUF2VSxVQUFBMlUsU0FBQSxlQUNBSixFQUFBdlUsVUFBQXNVLFNBQUEsZUFHQUMsRUFBQUksU0FBQSxTQUFBRTtRQUNBLE9BQUFyZixLQUFBd0ssVUFBQTJVLE9BQUF0dEIsS0FBQW1PLE1BQUFxZjtPQUdBTixFQUFBdlUsVUFBQXNVLFNBQUEsU0FBQU87UUFNQSxJQUFBQyxJQUFBLElBQUF0ZjtRQUVBLFNBQUFwRyxLQUFBeWxCLEdBQ0FDLEVBQUExbEIsS0FBQXlsQixFQUFBemxCO1FBRUEsT0FBQTBsQjtPQUdBUCxFQUFBdlUsVUFBQTJVLFNBQUEsU0FBQUU7UUFFQSxJQUFBYyxJQUFBO1FBQ0E7WUFNQTVnQixFQUFBb0csT0FBQW1aLFlBQ0FuWixPQUFBbVosU0FBQSxTQUFBaGI7Z0JBQ0EsU0FBQXNjO2dCQUVBLE9BREFBLEVBQUE1VixZQUFBMUcsR0FDQSxJQUFBc2M7Z0JBR0FELEVBQUEzVixZQUFBN0UsT0FBQW1aLE9BQUE5ZSxLQUFBd0s7WUFHQSxTQUFBNVEsS0FBQXlsQixHQUNBYyxFQUFBM1YsVUFBQTVRLEtBQUF5bEIsRUFBQXpsQjtZQUVBdW1CLEVBQUEzVixVQUFBd04sY0FBQW1JLEdBR0FBLEVBQUFoQixTQUFBZ0IsRUFBQTNWLFVBQUEyVSxRQUNBZ0IsRUFBQXJCLFNBQUFxQixFQUFBM1YsVUFBQXNVO1VBQ0csT0FBQXVCO1lBQ0gzWixtQkFBQUksSUFBQXVaO1VBQ0c7WUFDSCxPQUFBRjs7T0FJQTl1QixFQUFBQyxVQUFBeXRCO0d0Q3V1SE0sU0FBVTF0QixHQUFRQyxHQUFTRTtJdUN2eUhqQztJQUVBSCxFQUFBQyxVQUFBO1FBQ0E7WUFDQW9PLEtBQUE7Z0JBQ0FsTyxFQUFBLElBQUF3TyxLQUFBbEYsUUFBQWhJLFFBQUFYOzs7O0d2QzB6SE0sU0FBVWQsR0FBUUMsR0FBU0U7SXdDOXpIakM7SUFFQSxJQUFBd0wsSUFBQXhMLEVBQUEsSUFDQWEsSUFBQWIsRUFBQSxJQUNBdUgsSUFBQXZILEVBQUE7SUFFQUgsRUFBQUMsVUFBQSxTQUFBYTtRQUNBLElBQUFhLElBQUFnSyxFQUFBeEosZUFBQW5CLEVBQUFDLFFBQ0FndUIsSUFBQXR0QixFQUFBc3RCLEtBQUF0dEIsRUFBQXN0QjtRQUNBQSxFQUFBQyxlQUFBLEdBQ0FELEVBQUFFLGdCQUFBLEdBR0FGLEVBQUEzaUI7WUFDQWdHO1dBRUEyYyxFQUFBRyxZQUFBMW5CLEVBQUEybkIsY0FDQTF0QixFQUFBb0csZUFBQWpILEVBQUFpSDtRQUVBLFNBQUF1QixLQUFBeEksRUFBQTRHLFVBQ0FBLEVBQUE0bkIsWUFBQWhtQixHQUFBeEksRUFBQTRHLFNBQUE0QjtRQUVBM0gsRUFBQXN0QixRQUVBdHRCLEVBQUE0dEIsa0JBQUE7WUFDQTs7O0d4Q2kxSE0sU0FBVXZ2QixHQUFRQyxHQUFTRTtJeUMzMkhqQztJQWtCQSxTQUFBcXZCO1FBRUEsT0FEQUMsSUFBQW5hLFNBQ0FBOztJQUtBLFNBQUErWjtRQUNBLE9BQUFJLEtBQUFEOztJQVlBLFNBQUFGLEVBQUFobUIsR0FBQTVIO1FBS0EsT0FKQSt0QixNQUNBQSxTQUVBQSxFQUFBbm1CLEtBQUE1SCxJQUNBOztJQXhDQSxJQWNBK3RCLEdBZEFDLElBQUF2dkIsRUFBQSxLQUNBNG9CLElBQUE1b0IsRUFBQSxLQUNBd0wsSUFBQXhMLEVBQUEsSUFJQW1WLFFBRUFxYSxJQUFBLFVBQ0FDLElBQUE7SUFVQTN2QixFQUFBdXZCLGFBTUF2dkIsRUFBQW92QixVQWlCQXB2QixFQUFBcXZCO0lBVUEsSUFBQTljLElBQUEsU0FBQWxKO1FBSUEsT0FIQW1tQixNQUNBQSxTQUVBQSxFQUFBbm1CLE1BQUE7O0lBRUFySixFQUFBdVM7SUFVQSxJQUFBaVgsSUFBQSxTQUFBbmdCLEdBQUE1SDtRQUVBLElBQUE0SCxLQUFBNUgsR0FBQTtZQUVBLElBMkJBbXVCLEdBM0JBQyxJQUFBLFNBQUFDO2dCQUNBO29CQUNBLElBQUFDLFdBQUF0dUIsTUFBQWt1QixJQUFBdGdCLEtBQUFDLE1BQUE3TjtvQkFDQXV1QixFQUFBM21CLEdBQUFnTCxPQUFBbkssV0FBeUM0bEIsR0FBQUM7a0JBQ2xDLE9BQUF6dUI7ZUFHUDJ1QixJQUFBLFNBQUFIO2dCQUNBO29CQUNBLElBQUFDLFdBQUF0dUIsTUFBQWt1QixJQUFBdGdCLEtBQUFDLE1BQUE3TjtvQkFDQXV1QixFQUFBM21CLEdBQUF5bUIsRUFBQTl0QixPQUFBK3RCO2tCQUNPLE9BQUF6dUI7ZUFHUDR1QixJQUFBLFNBQUEzdEI7Z0JBQ0FBLEVBQUFta0IsZ0JBQUF2WCxRQUNBOGdCLEVBQUExdEIsS0FFQXN0QixFQUFBdHRCO2VBR0F5dEIsSUFBQSxTQUFBN3RCLEdBQUFJO2dCQUNBNHRCLEVBQUFodUIsR0FBQUk7b0JBQ0E2dEIsTUFBQTs7ZUFLQUMsSUFBQTlkLEVBQUFsSjtZQUtBLElBSkEsbUJBQUFBLE1BQ0EybUIsRUFBQTNtQixHQUFBZ0wsT0FBQW5LLFdBQXVDbW1CLEdBQUF2SCxFQUFBdUMsVUFBQTVwQixNQUN2Q211QixLQUFBO1lBRUEsNEJBQUF2bUIsR0FBQTtnQkFDQSxJQUFBaW5CLElBQUE3dUI7Z0JBQ0EsSUFBQTR1QixHQUNBLFNBQUFFLEtBQUFGLEdBQ0E1dUIsRUFBQTh1QixLQUNBRCxFQUFBQyxLQUFBbGMsT0FBQW5LLFdBQWlEbW1CLEVBQUFFLElBQUE5dUIsRUFBQTh1QixNQUVqREQsRUFBQUMsS0FBQUYsRUFBQUU7Z0JBSUFQLEVBQUEzbUIsR0FBQWluQixJQUNBVixLQUFBOztZQUVBLElBQUFTLEdBQ0EsV0FBQUEsTUFBQVgsR0FDQVEsRUFBQUcsSUFDQVQsS0FBQSxRQUVBO2dCQUNBLElBQUFZLElBQUFuaEIsS0FBQUMsTUFBQStnQjt1QkFDQUcsTUFBQWQsTUFDQVEsRUFBQU0sSUFDQVosS0FBQTtjQUVTLE9BQUF0dUI7WUFJVHN1QixLQUNBSSxFQUFBM21CLEdBQUE1SDs7O0lBSUF6QixFQUFBd3BCO0lBRUEsSUFBQTJHLElBQUEsU0FBQU0sR0FBQWx1QjtRQUNBLElBQUE4RyxHQUNBNUgsR0FDQWl2QixJQUFBLGFBQ0FDLElBQUFEO1FBU0EsSUFSQSxtQkFBQUQsS0FDQXBuQixJQUFBb25CLEVBQUFHLFVBQ0FudkIsSUFBQWd2QixFQUFBSSxXQUNBRixJQUFBRixFQUFBRSxRQUFBRCxNQUVBcm5CLElBQUFvbkI7UUFDQWh2QixJQUFBYyxJQUVBb3VCLE1BQUFELEdBWUEsT0FBQWxILEVBQUFuZ0IsR0FBQTVIO1FBWEEsSUFBQTR0QixFQUFBaG1CLEdBQUE1SCxJQUFBO1lBQ0EsSUFBQXV0QixJQUFBdGpCLEVBQUFsSixjQUFBO1lBQ0F3c0IsRUFBQUcsWUFBQUM7WUFDQSxJQUFBNWdCLElBQUE5QyxFQUFBakosY0FBQSxNQUFBdXNCLElBRUE4QixNQUFBLGVBQUF6bkIsR0FBQTVIO1lBR0EsT0FGQWd1QixFQUFBc0IsU0FBQUQsSUFDQXJCLEVBQUF1QixZQUFBRixJQUNBdGlCOzs7SUFNQXhPLEVBQUFtd0I7R3pDMDNITSxTQUFVcHdCLEdBQVFDLEdBQVNFO0kwQ3RpSWpDO0lBRUEsSUFBQXdMLElBQUF4TCxFQUFBLElBRUFtUixJQUFBLFlBRUE0ZixJQUFBO1FBQ0EsSUFBQXZ2QixJQUFBZ0ssRUFBQXhKLGVBQUEsVUFDQWd2QixJQUFBeHZCLEVBQUE2ckIsb0JBQ0FxQyxXQUFBc0IsRUFBQXZDLFlBQUF0ZDtRQUNBLE9BQUF1ZSxJQUFBc0IsSUFBQTs7SUFPQWx4QixFQUFBK3dCLFdBQUEsU0FBQW5GO1FBQ0EsSUFBQXNGLElBQUFEO1FBQ0FDLGNBQUF2QyxZQUFBdGQsS0FDQTZmLEVBQUF2QyxRQUFBbGdCLE1BQUF5aUIsR0FBQXRGO09BUUE1ckIsRUFBQWd4QixjQUFBLFNBQUFwRjtRQUNBLElBQUFzRixJQUFBRDtRQUNBQyxjQUFBdEMsY0FBQXZkLEtBQ0E2ZixFQUFBdEMsVUFBQW5nQixNQUFBeWlCLEdBQUF0RjtPQVNBNXJCLEVBQUFteEIsV0FBQSxTQUFBaHZCLEdBQUFrVjtRQUNBLElBQUE2WixJQUFBRDtRQUNBQyxjQUFBOUMsY0FBQS9jLEtBQ0E2ZixFQUFBOUMsVUFBQWpzQixHQUFBa1Y7O0cxQ3dqSU0sU0FBVXRYLEdBQVFDLEdBQVNFO0kyQ3ptSWpDO0lBRUFILEVBQUFDLFVBQUE7UUFDQTtZQUNBb08sS0FBQTtnQkFDQWxPLEVBQUE7Ozs7RzNDc25JTSxTQUFVSCxHQUFRQyxHQUFTRTtJNEM5bklqQztJQUVBLElBQUFreEIsSUFBQWx4QixFQUFBLEtBRUF3TCxJQUFBeEwsRUFBQSxJQUNBYSxJQUFBYixFQUFBLElBQ0FrUCxJQUFBbFAsRUFBQSxLQUNBNkosSUFBQTdKLEVBQUEsSUFDQStKLElBQUEvSixFQUFBLEtBQ0FrTixJQUFBbE4sRUFBQTtJQUVBSCxFQUFBQyxVQUFBO1FBRUEsSUFBQXF4QixJQUFBM2xCLEVBQUFuSyxjQUNBRyxJQUFBZ0ssRUFBQXhKLGVBQUEsVUFDQW92QixRQUVBQyxJQUFBLFNBQUE5STtZQUNBNkksSUFBQTV2QixFQUFBNlEsWUFBQTtZQUNBLElBQUFpZixJQUFBcGtCLEVBQUFDO1lBQ0ErQixFQUFBa2lCLE1BQ0FBLEVBQUE3WCxRQUFBLFNBQUFoUjtnQkFDQXdCLEVBQUErYixZQUFBdmQsRUFBQWdwQixhQUFBLFNBQ0FocEIsRUFBQWdwQixjQUFBLE1BQUFocEIsRUFBQWdwQixjQUVBaHBCLEVBQUErb0IsU0FDQS9vQixFQUFBK29CO2dCQUVBLElBQUFFLElBQUFqSixFQUFBam5CLFFBQUFtd0Isc0JBQUFDLFVBQUFucEIsRUFBQWdwQjtnQkFDQSxxQkFBQUMsRUFBQUcsU0FDQUgsRUFBQUc7b0JBQ0F4eEIsS0FBQTtvQkFDQXl4QixVQUFBO29CQUNBQyxPQUFBO29CQUNBQyxlQUFBO21CQUNXLFNBQUE3ZjtvQkFDWGlmLEVBQUFhLFlBQUF4SixFQUFBeE4sU0FBQXdOLEVBQUF0VyxLQUFBcEksRUFBQW9JLElBQUExSjttQkFDV3NlLFNBR1gySyxFQUFBUSxxQkFBQW5MLEtBQUEsU0FBQW5UO29CQUNBQSxPQUFBakgsU0FBQSxLQUFBaUgsRUFBQSxNQUNBd2QsRUFBQWEsWUFBQXhKLEVBQUF4TixPQUFBbFIsRUFBQTZKLEVBQUEsS0FBQW5MOzs7O1FBUUE0b0IsRUFBQTF2QixZQUFBc0s7WUFDQUMsUUFBQW5MLEVBQUE2RTtZQUNBdUcsYUFBQSx1QkFBQTZDO2dCQUNBLGVBQUFBLE1BQ0FzaUIsSUFBQTV2QixFQUFBNlEsWUFBQTs7WUFpQkE4ZSxFQUFBMXZCLFlBQUFzSztZQUNBQyxRQUFBbkwsRUFBQTZFO1lBQ0F1RyxhQUFBLHVCQUFBc2M7Z0JBQ0EsWUFBQUEsRUFBQXpaLFVBQ0F1aUIsRUFBQTlJOzs7O0c1QzhvSU0sU0FBVTFvQixHQUFRQyxHQUFTRTtJNkN4dElqQztJQVlBLFNBQUFpeUIsRUFBQTFwQixHQUFBc1E7UUFDQSxJQUFBcVosSUFBQTFtQixFQUFBbEosY0FBQSwwQkFDQTZ2QixJQUFBRCxFQUFBRTtRQUVBLFNBQUFDLEtBQUFGLEdBR0EsU0FGQUcsSUFBQUgsRUFBQUUsVUFFQXZvQixJQUFBLEdBQW1CQSxJQUFBd29CLEVBQUE3bEIsUUFBa0IzQyxLQUFBO1lBQ3JDLElBQUF2SSxJQUFBK3dCLEVBQUF4b0IsVUFDQXlvQixJQUFBaHhCLEVBQUFneEI7WUFFQSxJQUFBaHFCLEVBQUFncEIsZ0JBQUFnQixFQUFBaEIsYUFBQTtnQkFDQSxJQUFBaUIsSUFBQUM7b0JBQ0E1WjttQkFDUzBaO2dCQUVULElBQUFDLE1BQUFqeEIsRUFBQW14QixZQUNBLE9BQUE3b0IsRUFBQXRJLEVBQUFxd0I7Ozs7SUEzQkEsSUFBQS9uQixJQUFBN0osRUFBQSxJQUNBd0wsSUFBQXhMLEVBQUEsSUFDQTJ5QixJQUFBM3lCLEVBQUEsS0FDQXl5QixJQUFBenlCLEVBQUEsS0FDQWdRLElBQUFoUSxFQUFBO0lBK0JBRixFQUFBaXlCLGNBQUEsU0FBQWEsR0FBQXBCLEdBQUFqcEI7UUF1Q0EsU0FBQXNxQixFQUFBRCxHQUFBRTtZQUNBLElBQUFDO1lBQ0FILE1BQ0FBLEVBQUFJLGlCQUVBRCxJQUFBSCxFQUFBSSxlQUFBLEtBQ09KLEVBQUFLLFdBRVBGLElBQUFILEVBQUFLO1lBR0EsSUFBQUMsSUFBQUgsRUFBQUksV0FBQSxHQUNBQyxJQUFBTCxFQUFBTSxXQUFBLEdBRUFDLElBQUFSLEVBQUFTLEtBQ0FDLElBQUFWLEVBQUFXO1lBTUEsT0FMQVgsRUFBQVksY0FDQUosS0FBQVIsRUFBQVksV0FDQUYsS0FBQVYsRUFBQVksWUFHQVosRUFBQWEsT0FBQVQsU0FBQUosRUFBQWMsU0FBQU4sSUFBQUYsU0FBQUk7O1FBekRBLFNBRkFoeUIsSUFBQWdLLEVBQUF4SixlQUFBLFVBRUEwckIsSUFBQSxHQUFpQkEsSUFBQThELEVBQUEva0IsUUFBcUJpaEIsS0FBQTtZQUN0QyxJQUFBeEMsSUFBQXNHLEVBQUE5RDtZQUNBLElBQUFtRixFQUFBRCxHQUFBMUgsSUFBQTtnQkFDQSxJQUFBclMsSUFBQTZVLElBQUEsR0FDQWtFLElBQUExRyxFQUFBMEcsV0FBQUssRUFBQTFwQixHQUFBc1EsVUFDQWdiLFFBQ0FDLElBQUE5akIsRUFBQTJELGlCQUFBaWUsRUFBQW1DO2dCQUNBLElBQUF2eUIsRUFBQW9HLGFBQUFDLE9BQUE7b0JBRUEsSUFBQW1zQixJQUFBcEMsRUFBQXFDLFdBQUExckIsRUFBQWdwQixZQUFBMWQsUUFBQSx3Q0FBMEU7b0JBRzFFLElBRkFnZ0IsSUFBQXJ5QixFQUFBc3RCLEdBQUEzaUIsSUFBQWdHLFlBQ0EwaEIsRUFBQXR6QixJQUFBeXpCLEdBQ0FILEVBQUF0ekIsS0FBQSxRQUFBc3pCLEVBQUF0ekIsR0FBQTt3QkFDQSxJQUFBMnpCLElBQUEsTUFBQXJiO3dCQUNBZ2IsRUFBQU0sSUFBQUQ7O3VCQUdBTCxFQUFBcFAsSUFBQWxjLEVBQUErb0IsTUFFQS9vQixFQUFBeXJCLE9BQ0FILEVBQUF0ekIsSUFBQWdJLEVBQUF5ckIsT0FFQUgsRUFBQXR6QixJQUFBdXpCLEVBQUFFLE9BQUFwaEIsbUJBQUFraEIsRUFBQUUsUUFBQTtnQkFHQXpyQixFQUFBMnJCLE9BQ0FMLEVBQUFNLElBQUF0YixJQUFBdFEsRUFBQTJyQixPQUFBLE1BQUFyYixJQUFBdFEsRUFBQTJyQixPQUVBTCxFQUFBTSxJQUFBTCxFQUFBSSxPQUFBdGhCLG1CQUFBa2hCLEVBQUFJLFFBQUE7Z0JBSUF2QixFQUFBeUIsVUFBQSxPQUFBeEMsR0FBQXJwQixHQUFBMmlCLEdBQUEySTs7OztHN0MrdklNLFNBQVVoMEIsR0FBUUMsR0FBU0U7SThDcHpJakMsU0FBQXEwQixFQUFBQyxHQUFBQyxHQUFBQztRQUNBLElBQUFoekIsSUFBQWdLLEVBQUF4SixlQUFBLGdCQUNBcVEsSUFBQTdRLEVBQUE2UTtRQUNBLHlCQUFBQSxHQUFBO1lBQ0EsSUFBQW9pQixJQUFBcGlCLEVBQUFpaUIsSUFDQUk7WUFJQSxPQUhBLHFCQUFBRCxNQUNBQyxJQUFBRCxFQUFBRixJQUFBMXFCLEVBQUEwcUIsU0FBeURDLEtBRXpENUwsRUFBQXVDLFVBQUF1Sjs7UUFFQTs7SUFrQkEsU0FBQUMsRUFBQXR5QixHQUFBb0s7UUFDQSxJQUFBbW9CLElBQUE7UUFDQTtZQUNBLElBQUFDLElBQUEsSUFBQTFjLE9BQUE5VjtZQUNBdXlCLElBQUFFLFdBQUFELEVBQUFFLFFBQUF0b0I7VUFDRyxPQUFBckw7WUFDSHd6QixJQUFBdnlCOztRQUVBLE9BQUF1eUI7O0lBeERBLElBQUFwcEIsSUFBQXhMLEVBQUEsSUFDQTRvQixJQUFBNW9CLEVBQUEsS0FDQTZKLElBQUE3SixFQUFBLElBQ0FrUCxJQUFBbFAsRUFBQSxLQUNBdXRCLElBQUF2dEIsRUFBQSxLQUVBZzFCLFFBQ0FDLElBQUEsR0FDQUMsSUFBQSxRQUNBL3hCLElBQUEsT0EwQkFneUIsSUFBQTVILEVBQUFJO1FBQ0E1aEIsTUFBQSxTQUFBMUo7WUFDQSxJQUFBYixJQUFBZ0ssRUFBQXhKLGVBQUE7WUFFQSxLQURBd00sS0FBQTRtQixPQUFBcnBCLEtBQUExSixJQUNBbU0sS0FBQTRtQixPQUFBM29CLFVBQUErQixLQUFBNm1CLFdBQUE7Z0JBQ0EsSUFBQUMsSUFBQTltQixLQUFBNG1CLE9BQUE1RyxPQUFBLEdBQUFoZ0IsS0FBQTZtQjtnQkFDQUMsRUFBQTdvQixTQUFBLEtBQ0FqTCxFQUFBK3pCLGNBQUEvbUIsS0FBQTZqQixRQUFBbHZCLEdBQUFteUIsR0FBQTltQixLQUFBb0Q7Ozs7SUFpQkE5UixFQUFBczBCLFlBQUEsU0FBQW9CLEdBQUFyakIsR0FBQTVKLEdBQUFnc0IsR0FBQVY7UUFDQSxJQUFBcnlCLElBQUFnSyxFQUFBeEosZUFBQSxVQUNBNnJCLElBQUF0bEIsRUFBQXNsQixhQUNBeGEsUUFDQXVlO1FBRUEsSUFBQXpmLEdBQ0EsU0FBQXNqQixLQUFBdGpCLEdBQ0F5ZixFQUFBNkQsRUFBQTdZLGNBQUEvSSxRQUFBLGNBQUFBLFFBQUEsYUFBQTFCLEVBQUFzakI7UUFJQSxJQUFBNUgsS0FBQTNlLEVBQUEyZSxJQUNBLFNBQUEvakIsSUFBQSxHQUFtQkEsSUFBQStqQixFQUFBcGhCLFFBQWtCM0MsS0FBQTtZQUNyQyxJQUFBN0gsSUFBQTRyQixFQUFBL2pCLEdBQUE4UyxjQUFBL0ksUUFBQSxjQUFBQSxRQUFBO1lBQ0FSLEVBQUF3YSxFQUFBL2pCLE1BQUE4bkIsRUFBQTN2QjtlQUdBb1IsSUFBQWMsT0FBQW5LLFdBQTZCNG5CO1FBRzdCMkMsS0FBQWlCLE1BQUFyeUIsTUFDQWtRLElBQUFjLE9BQUFuSyxXQUE2QnFKO1lBQzdCcWlCLElBQUFmLEVBQUFKLEVBQUFvQixPQUFBO1lBQ0FDLElBQUFqQixFQUFBSixFQUFBc0IsUUFBQTtZQUNBQyxJQUFBbkIsRUFBQUosRUFBQXJCLEdBQUE7WUFDQTZDLElBQUFwQixFQUFBSixFQUFBbkIsR0FBQTtZQUVBNEMsT0FBQXJCLEVBQUFKLEVBQUEwQixtQkFBQTFCLEVBQUEyQixtQkFBQTtZQUNBQyxjQUFBO2FBR0E1dEIsRUFBQTZ0QixRQUNBL2lCLEVBQUEraUIsTUFBQTd0QixFQUFBNnRCO1FBRUEsSUFBQTlCLElBQUFrQixNQUFBcnlCLElBQUEsbURBQ0F1eEIsSUFBQUwsRUFBQUMsR0FBQUMsR0FBQWhzQixFQUFBZ3BCO1FBRUFtRCxFQUFBdm9CLFFBQ0EzSyxFQUFBb0csYUFBQUMsU0FBQWdzQixPQUFBcGhCLEtBQUFvaEIsRUFBQXBQLElBQ0FpUSxFQUFBdm9CLFFBQUEwbkIsRUFBQXBoQixHQUFBb2hCLEVBQUFwUCxHQUFBb1AsRUFBQXR6QixLQUFBLEtBQUFzekIsRUFBQU0sS0FBQSxNQUFBdGhCLEtBQUEsT0FFQTZoQixFQUFBdm9CLE1BQUEwbkIsT0FBQXBQLElBQUFvUCxJQUFBbmI7UUFJQSxJQUFBa0IsUUFFQW1hLElBQUE1aEIsRUFBQTRoQixpQkFBQTVoQixFQUFBO1FBQ0EsSUFBQTRoQixHQUNBO1lBQ0EsSUFBQXNDLElBQUFsbkIsS0FBQUMsTUFBQTJrQjtZQUNBMWdCLElBQUFjLE9BQUFuSyxPQUFBcUosR0FBQWdqQixXQUNBaGpCLEVBQUEwZ0Isc0JBQ0ExZ0IsRUFBQWlqQjtVQUNLLE9BQUFsMUI7UUFHTCxVQUFBbzBCLEtBQUFoMEIsRUFBQW9HLGFBQUFDLFNBQUFtdEIsRUFBQXpzQixFQUFBOHBCLFdBQ0F6WSxJQUFBekYsT0FBQW5LO1lBQ0F1c0IsUUFBQWxqQjtXQUNLcWhCLElBQ0xNLEVBQUF6c0IsRUFBQThwQixRQUFBdG1CLEtBQUE2TixPQUVBQSxJQUFBekYsT0FBQW5LLFdBQTRCcUosR0FBQXFoQixHQUFBbnNCLEVBQUFpdUIsYUFDNUJoMUIsRUFBQWkxQixPQUFBbHVCLEVBQUE4cEIsUUFBQW1ELEdBQUE1YixHQUFBc2I7T0FnQkFwMUIsRUFBQTQyQixjQUFBLFNBQUFudUI7UUFDQSxJQUFBL0csSUFBQWdLLEVBQUF4SixlQUFBO1FBRUFSLEVBQUFvRyxhQUFBQyxTQUFBVSxLQUNBQSxFQUFBZ1IsUUFBQSxTQUFBb2Q7WUFDQTNCLEVBQUEvYixlQUFBMGQsRUFBQXRFLFlBQ0EyQyxFQUFBMkIsRUFBQXRFLFVBQUE4QyxFQUFBN0g7Z0JBQ0E3Z0IsUUFBQTtnQkFDQTJvQjtnQkFDQS9DLFFBQUFzRSxFQUFBdEU7Z0JBQ0FnRCxTQUFBLG1CQUFBc0IsRUFBQXRCLFdBQUFzQixFQUFBdEIsV0FBQUo7Z0JBQ0FyakIsUUFBQStrQixFQUFBL2tCLFVBQUFzakI7OztPQVFBcDFCLEVBQUE4MkIsY0FBQTtRQUNBLElBQUFwMUIsSUFBQWdLLEVBQUF4SixlQUFBO1FBQ0EsSUFBQVIsRUFBQW9HLGFBQUFDLE9BQ0EsU0FBQXdxQixLQUFBMkMsR0FBQTtZQUNBLElBQUFNLElBQUFOLEVBQUEzQyxHQUFBK0M7WUFDQUUsRUFBQTdvQixTQUFBLE1BQ0FqTCxFQUFBK3pCLGNBQUFsRCxHQUFBbHZCLEdBQUFteUIsR0FBQUosSUFDQUYsRUFBQTNDLEdBQUErQzs7O0c5Q28xSU0sU0FBVXYxQixHQUFRQztJK0N0K0l4QkQsRUFBQUMsVUFBQSxTQUFBKzJCLEdBQUF0dUI7UUFDQSxJQUFBdXVCLE1BQ0F2dUIsRUFBQThwQixRQUNBOXBCLEVBQUFncEIsYUFDQWhwQixFQUFBd3VCO1FBV0EsT0FQQUYsRUFBQTEyQixNQUNBMjJCLEVBQUEvcUIsS0FBQThxQixFQUFBMTJCLEtBRUEwMkIsRUFBQWpGLFdBQ0FrRixFQUFBL3FCLEtBQUFvRCxLQUFBRSxVQUFBd25CLEVBQUFqRixXQUVBa0YsTUFBQWprQixLQUFBOztHL0NtZ0pNLFNBQVVoVCxHQUFRQyxHQUFTRTtJZ0RuaUpqQztJQUVBSCxFQUFBQyxVQUFBO1FBQ0E7WUFDQW9PLEtBQUE7Z0JBQ0FsTyxFQUFBOzs7O0doRGdqSk0sU0FBVUgsR0FBUUMsR0FBU0U7SWlEeGpKakM7SUFFQSxJQUFBd0wsSUFBQXhMLEVBQUEsSUFDQWczQixJQUFBaDNCLEVBQUEsS0FDQXVJLElBQUF2SSxFQUFBLEtBQ0FhLElBQUFiLEVBQUEsSUFDQXlMLElBQUF6TCxFQUFBLElBR0FpM0I7SUFFQXAzQixFQUFBQyxVQUFBO1FBZUEsU0FBQW8zQixFQUFBNTFCLEdBQUE2MUIsR0FBQUM7WUFDQSxJQUFBQyxJQUFBLFNBQUFDLEdBQUEzRztnQkFDQSx5QkFBQTJHLEdBQUE7b0JBQ0EsSUFBQUMsSUFBQWh2QixFQUFBaXZCLGlCQUFBN0c7b0JBQ0EsSUFBQXhoQixLQUFBRSxVQUFBa29CLE9BQUFwb0IsS0FBQUUsVUFBQW9vQixJQUNBO29CQUVBQSxJQUFBRixHQUVBNUcsS0FBQThHLE9BQUFockIsU0FBQSxLQUNBdXFCLEVBQUFVLGVBQUFwMkIsR0FBQW0yQixHQUFBTjs7O1lBSUE1ckIsRUFBQTlKLFlBQUFzSztnQkFDQUMsUUFBQW9yQjtnQkFDQW5yQixhQUFBLGVBQUFvckI7OztRQUlBLFNBQUFNLEVBQUFyMkIsR0FBQTYxQjtZQUNBTSxJQUFBajJCLEVBQUE2USxZQUFBLG1CQUVBK04sV0FBQTtnQkFDQTRXLEVBQUFVLGVBQUFwMkIsR0FBQW0yQixHQUFBTjtlQUNLOztRQXVCTCxTQUFBUyxFQUFBclA7WUFDQTtnQkFDQSxJQUFBZ0IsSUFBQTlkLEVBQUF3RSxrQkFDQTRuQixJQUFBdE8sRUFBQWQsU0FBQWMsRUFBQWIsSUFDQXRSLElBQUE2ZixFQUFBWSxJQUVBQyxJQUFBM29CLEtBQUFFLFVBQUFrWixFQUFBcFc7Z0JBQ0FpRixNQUFBMGdCLE1BQ0FiLEVBQUFZLEtBQUFDLEdBQ0FILEVBQUFwUCxFQUFBam5CLFNBQUE7Y0FFSyxPQUFBRjs7UUF6RUwsSUFBQW1LLElBQUFDLEVBQUFuSyxjQUNBMDJCLElBQUEsR0FDQUMsSUFBQSxHQUNBeDJCLElBQUFnSyxFQUFBeEosZUFBQTtRQUNBLEtBQUFSLEVBQUEwd0IsaUJBQUE7WUFHQTF3QixFQUFBMHdCO2dCQUNBRTs7WUFJQSxJQUFBcUY7WUE4QkFsc0IsRUFBQTlKLFlBQUFzSztnQkFDQUMsUUFBQW5MLEVBQUE2RTtnQkFDQXVHLGFBQUEsbUJBQUFzYztvQkFDQSxnQkFBQUEsRUFBQXpaLFFBQUE7d0JBQ0Fvb0IsRUFBQTNPLEVBQUFqbkIsU0FBQSxHQUFBVCxFQUFBNkUsWUFDQSxNQUFBcXlCLEtBQ0FKLEVBQUFwUCxFQUFBam5CLFNBQUEsSUFDQXkyQixJQUFBLEtBRUFKLEVBQUFwUCxFQUFBam5CLFNBQUE7d0JBRUE7NEJBQ0EsSUFBQWlvQixJQUFBOWQsRUFBQXdFLGtCQUNBNG5CLElBQUF0TyxFQUFBZCxTQUFBYyxFQUFBYjs0QkFDQXVPLEVBQUFZOzBCQUNTLE9BQUF6MkI7OztnQkFtQlRtSyxFQUFBOUosWUFBQXNLO2dCQUNBQyxRQUFBbkwsRUFBQTZFO2dCQUNBdUcsYUFBQSx5QkFBQXNjO29CQUNBLFlBQUFBLEVBQUF6WixXQUNBLE1BQUFrcEIsS0FDQUEsSUFBQSxHQUNBTCxFQUFBcFAsRUFBQWpuQixTQUFBLE1BRUFzMkIsRUFBQXJQOztnQkFLQWhkLEVBQUE5SixZQUFBc0s7Z0JBQ0FDLFFBQUFuTCxFQUFBNkU7Z0JBQ0F1RyxhQUFBLDhCQUFBc2M7b0JBQ0FuSSxXQUFBO3dCQUNBd1gsRUFBQXJQO3VCQUNPOztnQkFJUGhkLEVBQUE5SixZQUFBc0s7Z0JBQ0FDLFFBQUFuTCxFQUFBNkU7Z0JBQ0F1RyxhQUFBLG1CQUFBc2M7b0JBQ0EsWUFBQUEsRUFBQXpaLFdBQ0Ftb0IsUUFDQWMsSUFBQSxHQUNBQyxJQUFBLEdBQ0FkLEVBQUEzTyxFQUFBam5CLFNBQUEsR0FBQVQsRUFBQTRFLGNBQ0F1eEIsRUFBQWxmOztnQkFLQXZNLEVBQUE5SixZQUFBc0s7Z0JBQ0FDLFFBQUFuTCxFQUFBNkU7Z0JBQ0F1RyxhQUFBLHFCQUFBc2M7b0JBQ0EsWUFBQUEsRUFBQXpaLFdBQ0Ftb0IsUUFDQUQsRUFBQWxmOzs7OztHakRta0pNLFNBQVVqWSxHQUFRQyxHQUFTRTtJa0Rsc0pqQztJQUVBLElBT0F1TCxHQVBBQyxJQUFBeEwsRUFBQSxJQUNBeTNCLElBQUF6M0IsRUFBQSxLQUNBNkosSUFBQTdKLEVBQUEsSUFDQTJ5QixJQUFBM3lCLEVBQUEsS0FDQXl5QixJQUFBenlCLEVBQUEsS0FDQWk0QixRQUNBeHNCLElBQUF6TCxFQUFBLElBRUErSixJQUFBL0osRUFBQSxLQUNBZ1EsSUFBQWhRLEVBQUEsS0FDQWs0QixJQUFBbDRCLEVBQUEsS0FDQWtOLElBQUFsTixFQUFBO0lBR0FGLEVBQUE0M0IsaUJBQUEsU0FBQXAyQixHQUFBNjJCLEdBQUFoQixHQUFBaUI7UUFVQSxTQUFBQyxFQUFBNWU7WUFXQSxTQUFBNmUsRUFBQXpwQjtnQkFDQSxJQUFBMGlCLElBQUFnSCxFQUFBO2dCQUNBaEgsTUFBQXhuQixFQUFBK2IsWUFBQXlTLEVBQUEsYUFDQWhILElBQUEsTUFBQUE7Z0JBRUE7b0JBQ0EsSUFBQUMsSUFBQWptQixFQUFBa21CLHNCQUFBQyxVQUFBSDtvQkFDQSxxQkFBQUMsRUFBQUcsU0FDQUgsRUFBQUc7d0JBQ0FDLFVBQUE7d0JBQ0F6eEIsS0FBQTt1QkFDYSxTQUFBdVQ7d0JBQ2IsSUFBQUEsS0FBQXdrQixFQUFBaHBCLFFBQUF3RSxJQUFBOzRCQUNBLFNBQUE1SixJQUFBLEdBQStCQSxJQUFBNEosRUFBQWpILFFBQWdCM0MsS0FDL0M0SixFQUFBNUosR0FBQStPLFFBQUEsTUFBQS9PLElBQUE7NEJBRUErRTtnQ0FDQTJpQixVQUFBOWQ7Z0NBQ0E4a0IsTUFBQTs7O3VCQUdhM1IsU0FFYjNSLFFBQUFHLEtBQUE7a0JBb0JTLE9BQUF3WjtvQkFDVDNaLFFBQUFHLEtBQUEsc0JBQUF3Wjs7O1lBdERBLElBQUFwVixJQUFBMGUsRUFBQTFyQixRQUFBO2dCQUNBLElBQUFsRSxJQUFBNHZCLEVBQUExZTtnQkFDQWdmLElBQUEsR0FDQVIsRUFBQTFlLFFBQUEsU0FBQWdiO29CQUNBQSxFQUFBZ0UsUUFBQSxPQUFBaHdCLEVBQUFncEIsZUFDQWdELEVBQUFnRSxRQUFBLE9BQUFod0IsRUFBQXd1QixxQkFDQTBCLElBQUE7O2dCQUdBLElBQUFGLE1BQUFod0IsRUFBQWdwQixhQUFBaHBCLEVBQUF3dUI7Z0JBZ0RBdUIsRUFBQSxTQUFBenJCO29CQUdBLFNBREEya0IsSUFBQTNrQixFQUFBMmtCLGdCQUNBMW5CLElBQUEsR0FBdUJBLElBQUEwbkIsRUFBQS9rQixRQUFxQjNDLEtBQUE7d0JBQzVDLElBQUExSSxJQUFBb3dCLEVBQUExbkI7d0JBQ0EsVUFBQTJ1QixLQUFBLE1BQUF0QixHQUFBOzRCQUNBLElBQUF1QixJQUFBQyxFQUFBcjNCOzRCQUNBbzNCLEVBQUFILGFBQ0FOLEVBQUFsc0IsS0FBQTJzQixJQUNBdDNCLEVBQUF5WCxVQUFBK2YsRUFBQXgzQixHQUFBbUgsT0FDQXN3QixFQUFBejNCLEdBQUFtSCxJQUNBdXdCLEVBQUFKLEdBQUFud0IsR0FBQW5ILEVBQUF5WCxPQUFBLFNBQUFrZ0IsR0FBQXRCLEdBQUF1QjtnQ0FDQSxJQUFBQSxHQUFBO29DQUNBLElBQUFDLElBQUFwdkIsRUFBQWt2QjtvQ0FDQUUsRUFBQXBnQixRQUFBLEtBQUFtZ0I7b0NBQ0EsSUFBQXBILElBQUEvbkIsRUFBQW92QixFQUFBckg7b0NBQ0FpSDt3Q0FDQTE0QixJQUFBODRCLEVBQUE5NEI7d0NBQ0EwWSxPQUFBb2dCLEVBQUFwZ0I7d0NBQ0ErWTt1Q0FDbUI2RixJQUVuQnlCLEVBQUFELEdBQUFySCxHQUFBcnBCOzs7OztvQkFRQTh2QixJQUFBNWU7Ozs7UUFNQSxTQUFBbWYsRUFBQXJFLEdBQUFoc0I7WUFDQSxJQUFBaXFCLElBQUFDLEVBQUE4QixHQUFBaHNCLElBQ0FzUSxJQUFBMGIsRUFBQTFiO1lBUUEsT0FQQXNaLEVBQUE1cEIsRUFBQThwQixXQUNBRixFQUFBNXBCLEVBQUE4cEIsUUFBQTlZLFFBQUEsU0FBQWdiO2dCQUNBLElBQUFBLEVBQUE3QixlQUFBRixLQUFBK0IsRUFBQTFiLGFBQ0E7aUJBSUE7O1FBT0EsU0FBQWdnQixFQUFBejNCLEdBQUFtSDtZQUNBLElBQUFpcUIsSUFBQUMsRUFBQXJ4QixHQUFBbUg7WUFDQTtnQkFDQSxJQUFBc1EsSUFBQXpYLEVBQUF5WDtnQkFDQSxJQUFBc1osRUFBQTVwQixFQUFBOHBCLFNBQUE7b0JBQ0EsSUFBQThHLElBQUE7b0JBQ0FoSCxFQUFBNXBCLEVBQUE4cEIsUUFBQTlZLFFBQUEsU0FBQWdiO3dCQUNBQSxFQUFBN0IsZUFBQUYsTUFDQTJHLElBQUEsR0FDQS8zQixFQUFBakIsT0FBQW8wQixFQUFBcDBCLEtBQUFpQixFQUFBakIsS0FDQWlCLEVBQUF3d0IsWUFBQTJDLEVBQUEzQyxVQUFBeHdCLEVBQUF3d0I7d0JBQ0F4d0IsRUFBQTBOLFdBQUF5bEIsRUFBQXpsQixTQUFBMU4sRUFBQTBOO3dCQUdBcXFCLEtBQ0FoSCxFQUFBNXBCLEVBQUE4cEIsUUFBQXRtQjt3QkFDQTVMLElBQUFpQixFQUFBakI7d0JBQ0F1eUIsWUFBQUY7d0JBQ0ExakIsUUFBQTt3QkFDQXlqQixXQUFBaHFCO3dCQUNBcXBCLFNBQUF4d0IsRUFBQXd3Qjt3QkFDQS9ZOzt1QkFJQXNaLEVBQUE1cEIsRUFBQThwQjtvQkFDQWx5QixJQUFBaUIsRUFBQWpCO29CQUNBdXlCLFlBQUFGO29CQUNBMWpCLFFBQUE7b0JBQ0F5akIsV0FBQWhxQjtvQkFDQXFwQixTQUFBeHdCLEVBQUF3d0I7b0JBQ0EvWTs7Y0FHSyxPQUFBelg7Z0JBQ0w4VCxRQUFBSSxJQUFBLGNBQUFsVTs7O1FBSUEsU0FBQXUzQixFQUFBcjNCO1lBQ0EsSUFBQWdJO2dCQUNBOHZCLGNBQUEzQixFQUFBNEI7Z0JBQ0FDLGNBQUE7ZUFFQUMsS0FBQTtZQUNBO2dCQUNBN29CLE9BQ0E2b0IsS0FBQTtjQUVLLE9BQUFuNEI7WUFDTCxPQUFBbTRCLEtBR0Fqd0IsRUFBQW9vQixhQUFBLEdBQ0FubUIsRUFBQWl1QiwyQkFBQWx3QixPQUVBQSxFQUFBbXdCLGNBQUE7WUFDQWx1QixFQUFBaXVCLDJCQUFBbDRCLEdBQUFnSTs7UUFJQSxTQUFBd3ZCLEVBQUFZLEdBQUFueEIsR0FBQXNRLEdBQUFoSztZQUNBLElBQUE4cUIsSUFBQXB4QixFQUFBZ3BCO1lBQ0FvSSxNQUFBNXZCLEVBQUErYixZQUFBNlQsR0FBQSxTQUNBQSxJQUFBLE1BQUFBLElBRUFweEIsRUFBQXd1QixtQkFDQTJDLEVBQUFFLFdBQUFyeEIsRUFBQXd1QixrQkFBQThDLFFBQUFGLEdBQUEsU0FBQTFuQjtnQkFDQTtvQkFDQXBELEVBQUFvRCxHQUFBMUosR0FBQXNRO2tCQUNTLE9BQUF6WDtvQkFDVDhULFFBQUFJLElBQUEsa0JBQUFsVTs7aUJBSUFzNEIsRUFBQUkscUJBQUFELFFBQUFGLEdBQUEsU0FBQTFuQjtnQkFDQTtvQkFDQXBELEVBQUFvRCxHQUFBMUosR0FBQXNRO2tCQUNTLE9BQUF6WDtvQkFDVDhULFFBQUFJLElBQUEsa0JBQUFsVTs7OztRQU1BLFNBQUE4M0IsRUFBQUgsR0FBQW5ILEdBQUFycEI7WUFDQSxJQUFBL0csSUFBQWdLLEVBQUF4SixlQUFBLFVBQ0ErM0IsSUFBQSxJQUFBMXNCLE9BQUFDLFdBQ0Ewc0IsSUFBQUMsRUFBQUYsR0FBQWhCLEdBQUF4d0I7WUFFQSxJQUFBeXhCLE9BQUF2dEIsU0FBQTtnQkFDQSxJQUFBOG5CLElBQUF5RixFQUFBLElBRUFoRyxJQUFBcEMsRUFBQXFDLFdBQUExckIsRUFBQWdwQixZQUFBMWQsUUFBQSx3Q0FBd0UsS0FHeEVnZ0IsUUFDQUMsSUFBQTlqQixFQUFBMkQsaUJBQUFpZSxFQUFBbUMsNEJBQ0FpRixJQUFBekUsRUFBQTFiO2dCQUNBLElBQUFyWCxFQUFBb0csYUFBQUM7b0JBR0EsSUFGQWdzQixJQUFBaHFCLEVBQUFySSxFQUFBc3RCLEdBQUEzaUIsSUFBQWdHLGFBQ0EwaEIsRUFBQXR6QixJQUFBeXpCLEdBQ0FILEVBQUF0ekIsS0FBQSxRQUFBc3pCLEVBQUF0ekIsR0FBQTt3QkFDQSxJQUFBMnpCLElBQUEsTUFBQThFO3dCQUNBbkYsRUFBQU0sSUFBQUQ7O3VCQUdBaG5CLEVBQUFDLGtCQUNBMG1CLEVBQUFwUCxJQUFBdlgsRUFBQUMsZ0JBR0E1RSxFQUFBeXJCLE9BQ0FILEVBQUF0ekIsSUFBQWdJLEVBQUF5ckIsT0FFQUgsRUFBQXR6QixJQUFBdXpCLEVBQUFFLE9BQUFwaEIsbUJBQUFraEIsRUFBQUUsUUFBQTtnQkFHQXpyQixFQUFBMnJCLE9BQ0FMLEVBQUFNLElBQUE2RSxJQUFBendCLEVBQUEyckIsT0FBQSxNQUFBOEUsSUFBQXp3QixFQUFBMnJCLE9BRUFMLEVBQUFNLElBQUFMLEVBQUFJLE9BQUF0aEIsbUJBQUFraEIsRUFBQUksUUFBQTtnQkFJQXZCLEVBQUF5QixVQUFBLE9BQUF4QyxHQUFBcnBCLEdBQUE0TCxPQUFBbkssV0FBcUUrdUI7b0JBQ3JFN0YsR0FBQXFCLEVBQUFyQjtvQkFDQUUsR0FBQW1CLEVBQUFuQjtvQkFDQXVDLE9BQUFwQixFQUFBb0I7b0JBQ0FFLFFBQUF0QixFQUFBc0I7b0JBQ0FuRCxZQUFBNkIsRUFBQTdCO29CQUNPbUI7OztRQUlQLFNBQUFvRyxFQUFBRixHQUFBaEIsR0FBQXh3QjtZQUVBLElBQUEycEIsSUFBQTFtQixFQUFBbEosY0FBQSwwQkFDQTZ2QixJQUFBRCxFQUFBRSxlQUNBOEg7WUFDQSxTQUFBN0gsS0FBQUYsR0FFQSxTQURBRyxJQUFBSCxFQUFBRSxVQUNBdm9CLElBQUEsR0FBcUJBLElBQUF3b0IsRUFBQTdsQixRQUFrQjNDLEtBQUE7Z0JBR3ZDLElBQUEwb0IsSUFBQUMsRUFBQXNHLEdBQUF4d0IsSUFDQWhILElBQUErd0IsRUFBQXhvQjtnQkFDQSxVQUFBdkksRUFBQXVOLFVBQUF2TixFQUFBZ3hCLGFBQUFDLE1BQUFqeEIsRUFBQW14QixZQUFBO29CQUNBLElBQUF5SCxJQUFBcEIsRUFBQS9HO29CQUNBbUksRUFBQXhFLFNBQUF3RSxFQUFBdEUsV0FDQXQwQixFQUFBcXdCLFVBQUFtSCxFQUFBbkgsU0FDQXJ3QixFQUFBMnhCLElBQUFpSCxFQUFBeEcsTUFDQXB5QixFQUFBNnhCLElBQUErRyxFQUFBNUcsS0FDQWh5QixFQUFBbzBCLFFBQUF3RSxFQUFBeEU7b0JBQ0FwMEIsRUFBQXMwQixTQUFBc0UsRUFBQXRFLFFBQ0F0MEIsRUFBQWtrQixPQUFBMFUsRUFBQXhFLFFBQUF3RSxFQUFBdEUsUUFDQWtELEVBQUE3QyxxQkFBQXVCLEVBQUE0QixzQkFDQTkzQixFQUFBdzRCO29CQUNBeDRCLEVBQUF1TixTQUFBLEdBQ0FvckIsRUFBQW51QixLQUFBeEs7OztZQU1BLE9BQUEyNEI7O1FBNVJBM3VCLE1BQUE2c0IsTUFDQTdzQixJQUFBRSxFQUFBcEs7UUFFQSxJQUVBbzNCLEdBRkF2RyxJQUFBMW1CLEVBQUFsSixjQUFBLDBCQUNBNnZCLElBQUFELEVBQUFFO1FBR0FPLEVBQUErRCxZQUFBeUIsSUE4RkFFLEVBQUE7T0EyTEF2NEIsRUFBQXM2QixRQUFBLGVBRUF0NkIsRUFBQWdZLFFBQUE7UUFFQTZhLEVBQUFpRTtRQUNBLFNBQUE5c0IsSUFBQSxHQUFpQkEsSUFBQW11QixFQUFBeHJCLFFBQXNCM0MsS0FDdkNtdUIsRUFBQW51QixHQUFBdXdCO1FBRUFwQztRQUNBLElBQUEvRixJQUFBMW1CLEVBQUFsSixjQUFBLDBCQUNBNnZCLElBQUFELEVBQUFFO1FBQ0EsU0FBQUMsS0FBQUYsVUFDQUEsRUFBQUU7O0dsRDRzSk0sU0FBVXh5QixHQUFRQyxHQUFTRTtJbURqZ0tqQztJQXFCQSxTQUFBczZCLEVBQUFyNEI7UUFDQSxPQUFBVCxlQUFBNlEsY0FDQTdRLE1BQUE2USxZQUFBcFEsS0FFQXM0QixFQUFBQyxXQUFBdjRCOztJQXZCQSxJQUFBaTJCLElBQUFsNEIsRUFBQSxLQUNBdTZCLElBQUF2NkIsRUFBQSxLQUVBeUosSUFBQXpKLEVBQUE7SUFDQUYsRUFBQTI2QixvQkFBQSxpQkFDQTM2QixFQUFBNDZCLG9CQUFBLGtCQUNBNTZCLEVBQUE2NkIsK0JBQUE7SUFDQTc2QixFQUFBODZCLCtCQUFBLHFCQUdBOTZCLEVBQUErNkIsWUFBQSxLQUVBLzZCLEVBQUFnN0IsdUJBQUE7UUFDQTtZQUNBbHBCLFFBQUE7WUFDQXlqQixTQUFBOzs7SUFhQSxJQUFBMEYsSUFBQSxTQUFBQztRQUNBLElBQUFDLElBQUFEO1FBQ0E7WUFDQSxJQUFBRSxJQUFBWixFQUFBO1lBQ0FZLE1BQ0FELElBQUFuRyxXQUFBb0csS0FFQUQsS0FBQSxNQUNBQSxJQUFBRDtVQUVHLE9BQUE1NUI7WUFDSDY1QixJQUFBRDtVQUNHO1lBQ0gsT0FBQUM7OztJQUdBbjdCLEVBQUF1NUIsb0JBQUEwQixFQUFBO0lBU0EsSUFBQUksSUFBQSxTQUFBSDtRQUNBLElBQUFydEIsSUFBQXF0QjtRQUNBO1lBQ0EsSUFBQUksSUFBQWQsRUFBQSw0QkFDQWUsSUFBQUMsU0FBQUY7WUFDQUMsSUFBQSxnQkFDQTF0QixJQUFBMHRCO1VBRUcsT0FBQWo2QixNQUNBO1lBQ0gsT0FBQXVNOzs7SUFHQTdOLEVBQUF5N0IsZUFBQUosRUFBQTtJQThCQSxJQUFBSyxJQUFBLFNBQUFDLEdBQUFDO1FBQ0EsSUFHQUMsR0FIQUMsUUFFQUM7UUFFQTtZQUNBRixJQUFBRCxLQUFBcEIsRUFBQW1CO1lBQ0EsSUFBQXZCO1lBQ0EsSUFBQXlCLEtBQUEsbUJBQUFBLEdBQ0E7Z0JBQ0F6QixJQUFBL3FCLEtBQUFDLE1BQUF1c0I7Y0FDTyxPQUFBdjZCO2dCQUNQODRCLElBQUEvcUIsS0FBQUMsTUFBQXVzQixFQUFBOW5CLFFBQUE7bUJBRUssbUJBQUE4bkIsT0FBQW5WLGdCQUFBdlgsVUFDTGlyQixJQUFBeUI7WUFFQSxJQUFBekIsT0FBQTFULGdCQUFBdlgsT0FDQSxTQUFBbkYsSUFBQSxHQUFxQkEsSUFBQW93QixFQUFBenRCLFFBQWtCM0MsS0FBQTtnQkFDdkMsSUFBQWd5QixJQUFBNUIsRUFBQXB3QixVQUNBdW9CLElBQUF5SixFQUFBekosVUFBQSxJQUNBMEosSUFBQUQsRUFBQUMsTUFBQUQsRUFBQUMsTUFBQSxJQUNBQyxJQUFBRixFQUFBRSxRQUNBekssSUFBQXVLLEVBQUF2SyxhQUNBMEssSUFBQTFLLEtBQUF3SyxLQUFBQztnQkFDQSxLQUFBM0osTUFBQTRKLEdBQ0EsVUFBQUMsTUFBQSxVQUFBVCxJQUFBLG9CQUFBdHNCLEtBQUFFLFVBQUF5c0I7Z0JBTUFFLElBQUEsbUJBQUFBLE1BQUF6dkIsTUFBQTtnQkFDQSxJQUFBNHZCLElBQUFKO2dCQVdBLElBVkFDLEVBQUF2dkIsVUFBQSxJQUNBMHZCLEtBQUEsTUFBQUgsRUFBQXhvQixVQUFBLE9BQUEyVSxtQkFBQTZULEVBQUFucEIsS0FBQSxjQUNTLEtBQUFtcEIsRUFBQXZ2QixVQUFBdXZCLEVBQUEsT0FDVEcsS0FBQSxNQUFBaFUsbUJBQUE2VCxFQUFBO2dCQUVBekssTUFDQTRLLEtBQUE1SyxJQUdBdUssRUFBQU0sa0JBQUFELEdBQ0FqRSxFQUFBbUUsUUFBQVIsR0FBQU0sTUFBQSxHQUNBLFVBQUFELE1BQUEsVUFBQVQsSUFBQSwyQ0FBQVUsSUFBQTtnQkFHQU4sRUFBQTl2QixLQUFBb3dCLElBQ0FQLEVBQUE3dkIsS0FBQSt2Qjs7VUFHRyxPQUFBak47WUFFSHBsQixJQUFBQyxFQUFBbWxCO1VBSUc7WUFDSCxPQUFBK007OztJQU9BOTdCLEVBQUEwM0IsbUJBQUEsU0FBQWtFO1FBQ0EsT0FBQUYsRUFBQSxrQkFBQUU7T0FLQTU3QixFQUFBdzhCLG1CQUFBO1FBQ0EsSUFBQUMsSUFBQWpDLEVBQUE7UUFDQSxJQUFBaUMsR0FBQTtZQUNBLElBQUE3d0IsSUFBQXZLLE9BQUFvN0I7WUFDQSx5QkFBQTd3QixHQUNBLE9BQUFBOztRQUdBO09BSUE1TCxFQUFBMDhCLHFCQUFBO1FBQ0EsSUFBQWx1QixLQUFBO1FBQ0E7WUFDQUEsSUFBQSxlQUFBZ3NCLEVBQUE7VUFDRyxPQUFBbDVCO1FBRUgsT0FBQWtOO09BS0F4TyxFQUFBMjhCLG1CQUFBLFNBQUFmO1FBQ0EsT0FBQUYsRUFBQSxrQkFBQUU7T0FLQTU3QixFQUFBNDhCLG1CQUFBO1FBQ0EsSUFBQUMsSUFBQXJDLEVBQUE7UUFDQSxJQUFBcUMsR0FBQTtZQUNBLElBQUFqeEIsSUFBQXZLLE9BQUF3N0I7WUFDQSx5QkFBQWp4QixHQUNBLE9BQUFBOztRQUdBOztHbkRraEtNLFNBQVU3TCxHQUFRQztJb0RqdUt4QjtJQVFBQSxFQUFBdThCLFVBQUEsU0FBQTdwQixHQUFBYztRQUNBLElBQUF1RixLQUFBO1FBQ0E7WUFDQUEsSUFBQXJHLEVBQUFwSixRQUFBa0s7VUFDRyxPQUFBbFM7WUFDSCxTQUFBc3NCLElBQUEsR0FBbUJBLElBQUFsYixFQUFBL0YsUUFBZ0JpaEIsS0FDbkNsYixFQUFBa2IsT0FBQXBhLE1BQ0F1RixJQUFBNlU7VUFHRztZQUNILE9BQUE3VTs7T0FJQS9ZLEVBQUE4OEIsWUFBQSxTQUFBcHFCLEdBQUFjO1FBQ0EsSUFBQXVwQixLQUFBO1FBQ0E7WUFDQSxLQUFBcnVCLEtBQUFVLFFBQUFzRCxJQUNBLE9BQUFxcUI7WUFFQUEsSUFBQXJxQixFQUFBc3FCLEtBQUEsU0FBQXpPO2dCQUNBLE9BQUFBLE9BQUE1aEIsU0FBQSxLQUFBNkcsRUFBQWxLLFFBQUFpbEIsUUFBQTs7VUFFRyxPQUFBanRCO1lBQ0gsU0FBQXNzQixJQUFBLEdBQW1CQSxJQUFBbGIsRUFBQS9GLFFBQWdCaWhCLEtBQ25DLElBQUFwYSxFQUFBbEssUUFBQW9KLEVBQUFrYixTQUFBO2dCQUNBbVAsS0FBQTtnQkFDQTs7O1FBSUEsT0FBQUE7T0FHQS84QixFQUFBb1AsVUFBQSxTQUFBb0Q7UUFDQSxPQUFBckQsTUFBQUMsVUFDQUQsTUFBQUMsUUFBQW9ELEtBRUEsUUFBQTFDLEtBQUF1RSxPQUFBNkUsVUFBQW1DLFNBQUE5YSxLQUFBaVM7O0dwRG12S00sU0FBVXpTLEdBQVFDLEdBQVNFO0lxRGx5S2pDO0lBVUEsU0FBQSs4QixFQUFBQztRQUdBLE9BRkFDLFNBQUFDLFNBQUFDLHFCQUFBLFlBRUFDLE1BQUFKLElBQ0FJLElBR0FILElBQUFHLElBQUFILEVBQUFFLHFCQUFBOztJQVFBLFNBQUEzQyxFQUFBcHlCLEdBQUFpMUI7UUFDQSxJQUFBdnpCLEdBQ0ErZCxHQUdBeVYsR0FGQUMsSUFBQVIsS0FDQXhwQixJQUFBZ3FCLEVBQUE5d0I7UUFHQSxLQUFBM0MsSUFBQSxHQUFhQSxJQUFBeUosR0FBT3pKLEtBQ3BCK2QsSUFBQTBWLEVBQUF6ekIsSUFDQTB6QixFQUFBQyxrQkFBQTVWLEdBQUEsWUFBQXpmLE1BQ0FrMUIsSUFBQUUsRUFBQUMsa0JBQUE1VixHQUFBd1YsS0FBQTtRQUlBLE9BQUFDLEtBQUE7O0lBWUEsU0FBQUksRUFBQW4yQjtRQUNBLElBQUFtSDtZQUNBaXZCLFdBQUE7WUFDQUMsYUFBQTtXQUVBM08sSUFBQTFuQixFQUFBMm5CO1FBQ0EsSUFBQUQsT0FBQWhXLGVBQUEsbUJBQ0F2SyxFQUFBaXZCLFlBQUExTyxFQUFBNE8sZUFBQUY7UUFDQWp2QixFQUFBa3ZCLGNBQUEzTyxFQUFBNE8sZUFBQUQsa0JBQ0c7WUFDSCxJQUFBTixJQUFBOUMsRUFBQSxzQkFDQXNELElBQUFSLEVBQUEvd0IsTUFBQTtZQUNBbUMsRUFBQWl2QixZQUFBRyxFQUFBLElBQ0FwdkIsRUFBQWt2QixjQUFBRSxFQUFBLEtBQUFBLEVBQUE7O1FBRUEsT0FBQXB2Qjs7SUFoRUEsSUFBQXV1QixHQUNBRyxHQUVBSSxJQUFBeDlCLEVBQUE7SUFjQUYsRUFBQWk5QixpQkFzQkFqOUIsRUFBQTA2QixnQkEyQkExNkIsRUFBQTQ5QjtHckRrektNLFNBQVU3OUIsR0FBUUM7SXNEdjNLeEI7SUFFQUEsRUFBQTI5QixvQkFBQSxTQUFBbEosR0FBQXdKO1FBQ0EsT0FBQXhKLE9BQUF5SixlQUFBekosRUFBQXlKLGFBQUFELE1BQUE7O0lBR0EsSUFBQUUsSUFBQSxTQUFBMUosR0FBQXdKLEdBQUFHO1FBQ0EsSUFBQTNKLE9BQUE0SixjQUNBO1lBQ0E1SixFQUFBNEosYUFBQUosR0FBQUc7VUFDSyxPQUFBOThCOztJQUlMdEIsRUFBQW0rQix1QkFFQW4rQixFQUFBcytCLHVCQUFBLFNBQUE3SixHQUFBd0o7UUFDQSxJQUFBeEosT0FBQThKLGlCQUNBO1lBQ0E5SixFQUFBOEosZ0JBQUFOO1VBQ0ssT0FBQTM4QjtZQUNMNjhCLEVBQUExSixHQUFBd0osR0FBQTs7O0d0RHk0S00sU0FBVWwrQixHQUFRQyxHQUFTRTtJdUQ5NUtqQyxJQUFBd0wsSUFBQXhMLEVBQUEsSUFDQWtQLElBQUFsUCxFQUFBLEtBQ0FhLElBQUFiLEVBQUEsSUFDQXlMLElBQUF6TCxFQUFBLElBQ0F5SixJQUFBekosRUFBQTtJQUVBSCxFQUFBQyxVQUFBO1FBQ0E7WUFDQXcrQixrQkFBQTtnQkFDQSxJQUFBOThCLElBQUFnSyxFQUFBeEosZUFBQW5CLEVBQUFDLFlBQ0FxTCxJQUFBM0ssRUFBQXN0QixHQUFBM2lCO2dCQUNBQSxFQUFBb3lCLFVBQUE7O1lBRUFDLFFBQUE7Z0JBQ0EsSUFBQTdTLElBQUFuZCxNQUNBL00sSUFBQStKLEVBQUF4SixlQUFBbkIsRUFBQUU7Z0JBQ0FVLEVBQUFzSztvQkFDQUMsUUFBQW5MLEVBQUE2RTtvQkFDQXVHLGFBQUEsbUJBQUFzYzt3QkFDQSxnQkFBQUEsRUFBQXpaLFFBQUE7NEJBQ0EsSUFBQXROLElBQUFnSyxFQUFBeEosZUFBQW5CLEVBQUFDLFlBQ0FvUCxJQUFBMU8sRUFBQTZRLFlBQUEsVUFDQW9zQixJQUFBaHpCLEVBQUF3RSxrQkFDQXl1QixJQUFBRCxFQUFBaFcsU0FBQWdXLEVBQUEvVjs0QkFDQSxJQUFBeFosRUFBQWdCLElBQ0EsU0FBQXBHLElBQUEsR0FBNkJBLElBQUFvRyxFQUFBekQsUUFBa0IzQyxLQUFBO2dDQUMvQyxJQUFBNjBCLElBQUF6dUIsRUFBQXBHO2dDQUNBLElBQUE2MEIsRUFBQUMsYUFBQUYsR0FBQTtvQ0FDQWw5QixFQUFBcTlCLFdBQUFGLEVBQUFHLE1BQUFILEVBQUFyTjtvQ0FDQTs7Ozs7b0JBT0E3dkIsRUFBQXNLO29CQUNBQyxRQUFBbkwsRUFBQTZFO29CQUNBdUcsYUFBQTt3QkFDQTBmLEVBQUEyUzs7b0JBV0E3OEIsRUFBQXNLO29CQUNBQyxRQUFBbkwsRUFBQTZFO29CQUNBdUcsYUFBQSx1QkFBQWtHO3dCQUNBOzRCQUNBLElBQUEzUSxJQUFBZ0ssRUFBQXhKLGVBQUFuQixFQUFBQyxZQUNBcUwsSUFBQTNLLEVBQUFzdEIsR0FBQTNpQixXQUVBK0QsSUFBQUMseUJBQ0E0dUIsSUFBQTVzQixFQUFBNnNCLFNBQUE3c0IsRUFBQTZzQixPQUFBenlCLE1BQUEsU0FBQUosRUFBQWdHLEtBQUFNLEtBQUEsS0FBQXRHLEVBQUFnRyxLQUFBc1MsS0FBQTs0QkFDQSxNQUFBc2EsRUFBQXR5QixXQUNBc3lCLE1BQUFqOUIsU0FBQTs0QkFFQSxJQUFBbTlCLElBQUFGLEVBQUFsc0IsS0FBQSxNQUVBcXNCLElBQUFodkIsSUFBQXpELFNBQUEsSUFDQTB5QixJQUFBanZCLElBQUF6RCxTQUFBLFVBQ0EyeUIsSUFBQWx2QixJQUFBekQsU0FBQTs0QkFFQXlELEVBQUF6RCxTQUFBLEtBQUF5eUIsTUFDQWh2QixJQUFBekQsU0FBQSxHQUFBTixNQUFBOHlCOzRCQUdBLElBQUFJLElBQUFsekIsRUFBQWdHLFFBQUFoRyxFQUFBZ0csS0FBQU0sTUFBQXRHLEVBQUFnRyxLQUFBTSxHQUFBdEcsRUFBQWdHLEtBQUFzUyxHQUFBdFksRUFBQWdHLEtBQUE1UixLQUFBLEtBQUE0TCxFQUFBZ0csS0FBQWdpQixLQUFBLE1BQUF0aEIsS0FBQTs0QkFDQTFHLEVBQUFnRyxLQUFBTSxJQUFBc3NCLEVBQUEsVUFBQUEsRUFBQSxVQUNBNXlCLEVBQUFnRyxLQUFBc1MsSUFBQXNhLEVBQUEsVUFBQUEsRUFBQSxVQUNBNXlCLEVBQUFnRyxLQUFBNVIsSUFBQTs0QkFDQTRMLEVBQUFnRyxLQUFBZ2lCLElBQUEsS0FDQWhvQixFQUFBbXpCLGdCQUFBcHZCLEVBQUF6RCxTQUFBLEtBQUF5eUIsTUFBQXpXLFNBQUF5VyxFQUFBeFcsS0FBQSxJQUNBdmMsRUFBQW95QixVQUFBVTs0QkFHQSxJQUFBN3lCLElBQUE1SyxFQUFBNEssYUFBQUQsRUFBQUM7NEJBQ0FELEVBQUFvekIsVUFBQXB0QixFQUFBcXRCLFVBQUFyekIsRUFBQXN6QixXQUFBTCxFQUFBanpCLE9BQUEsSUFDQUEsRUFBQXN6QixVQUFBdHRCLEVBQUF1dEIsVUFBQUwsS0FBQUYsRUFBQWh6QixPQUFBQyxLQUFBOzRCQUNBNUssRUFBQXN0QixHQUFBM2lCOzBCQUNXLE9BQUEvSzs0QkFFWHFJLElBQUFDLEVBQUEsdUNBQUF0STs7Ozs7WUFPQThNLEtBQUE7Z0JBQ0FNLEtBQUFnd0I7Ozs7R3ZEZzdLTSxTQUFVMytCLEdBQVFDLEdBQVNFO0l3RDlnTGpDSCxFQUFBQyxVQUFBO1FBQ0E7WUFDQW9PLEtBQUE7Z0JBQ0EsSUFBQXl4QixJQUFBMy9CLEVBQUEsS0FDQTQvQixJQUFBRCxFQUFBclM7Z0JBQ0FzUyxFQUFBMXhCLElBQUFNLEtBQUFsRjs7OztHeERnaUxNLFNBQVV6SixHQUFRQyxHQUFTRTtJeURyaUxqQztJQWVBLFNBQUE2L0IsRUFBQTEvQixHQUFBbUo7UUFHQSxJQUZBRyxJQUFBbEksRUFBQSxXQUFBcEIsR0FBQW1KLElBRUF5RCxFQUFBbU0sV0FBQS9ZLEdBQUFtSixJQUFBO1lBQ0EsSUFBQXlSLElBQUEvYSxFQUFBLElBQUFHLEdBQUFtSjtZQUNBaUIsSUFBQXVRLFNBQUFDLElBRUE5USxJQUFBWSxLQUFBa0MsRUFBQXBDLFNBQUFrUDtnQkFBNkNnQyxVQUFBO2VBQWlCO2dCQUM5RHBTLElBQUFLLEVBQUEsd0JBQUEzSixHQUFBNGE7Ozs7SUFyQkEsSUFBQStrQixJQUFBOS9CLEVBQUEsS0FDQXVLLElBQUF2SyxFQUFBLEtBQ0FpSyxJQUFBakssRUFBQSxLQUNBK00sSUFBQS9NLEVBQUEsS0FDQXlKLElBQUF6SixFQUFBLEtBQ0E2SixJQUFBN0osRUFBQSxJQUNBK0osSUFBQS9KLEVBQUEsS0FDQXdMLElBQUF4TCxFQUFBLElBRUF5TCxJQUFBekwsRUFBQSxJQUNBYSxJQUFBYixFQUFBLElBQ0FrTixJQUFBbE4sRUFBQTtJQWVBSCxFQUFBQyxVQUFBZ2dDLEVBQUFuUztRQUVBb1MsbUJBQUEsU0FBQTV0QjtZQUNBLElBQUEzUSxJQUFBZ0ssRUFBQXhKLGVBQUE7WUFDQXlILElBQUFzTCxXQUFBdlQsRUFBQTZRLFlBQUE7WUFDQSxJQUFBMnRCLEdBQUFwbUIsR0FLQXJNLEdBSkE4a0IsSUFBQWxnQixPQUFBOHRCLFlBQUE5dEIsRUFBQTh0QixTQUFBNU4sUUFDQW1ELElBQUFyakIsT0FBQTh0QixZQUFBOXRCLEVBQUE4dEIsU0FBQXpLLE9BQ0EwSyxJQUFBL3RCLE9BQUFndUIsZ0JBQUFodUIsRUFBQWd1QixhQUFBRCxXQUFBL3RCLEVBQUFndUIsYUFBQUQsZUFDQXZwQixJQUFBblYsRUFBQTZRLFlBQUE7WUFFQSxjQUFBbWpCLEtBQUEsVUFBQUEsS0FBQSxZQUFBQSxLQUFBbkQsTUFBQXh4QixFQUFBbUQsYUFBQXF1QixNQUFBeHhCLEVBQUFvRCxTQUFBO2dCQUNBKzdCLElBQUFuMkIsRUFBQXNJLE9BQUE4dEIsWUFBQTl0QixFQUFBOHRCLFNBQUFybUIsY0FDQUEsSUFBQXNtQixFQUFBdG1CO2dCQUNBLElBQUF3bUIsR0FDQUM7Z0JBQ0EsZUFBQWhPLE1BQ0FnTyxFQUFBQyxhQUFBSixFQUFBMXlCLEtBQ0E2eUIsRUFBQUUsYUFBQVAsRUFBQU8sYUFHQTNtQixFQUFBN1EsVUFDQXMzQixFQUFBdDNCLFFBQUEwQyxFQUFBb0Usb0JBQUEsTUFBQStKLEVBQUE3UTtnQkFJQTZRLEVBQUE0bUIsaUJBQ0FILEVBQUFHLGVBQUFSLEVBQUFRLHFCQUNBUixFQUFBUSxlQUdBanpCLElBQUF5eUIsRUFBQSxvQkFBQUEsRUFBQXp5QixhQUFBeXlCLEVBQUE3ekIsT0FBQTZ6QixFQUFBN3pCLElBQUFzWSxLQUFBampCLEVBQUFvbUIsaUJBQUFzWSxFQUFBMXlCLE9BQUE7Z0JBQ0E2eUIsRUFBQTl5QixlQUVBOHlCLEVBQUE3eUIsTUFBQTB5QixFQUFBMXlCLE9BQUEsTUFDQXd5QixFQUFBenlCLGFBQUF5eUIsRUFBQSw2QkFDQUEsRUFBQXp5Qjt1QkFDQXl5QixFQUFBLG1CQUdBajJCLEVBQUErYyxjQUFBblEsT0FDQTBwQixFQUFBMXBCLFNBR0FxcEIsRUFBQTd6QixRQUNBazBCLEVBQUEsZUFBQXp0QixtQkFBQXJGLElBQUF5eUIsRUFBQTd6QixJQUFBNUwsR0FBQXkvQixFQUFBN3pCLElBQUFnb0IsSUFBQTZILE9BQUEsU0FBQXo2QjtvQkFDQSxTQUFBQTttQkFDU3NSLEtBQUEsYUFDVG10QixFQUFBN3pCO2dCQUdBLElBQUFzMEIsSUFBQTUyQixFQUFBbTJCO2dCQUNBLFNBQUE3MkIsS0FBQXMzQixHQUNBLG1CQUFBdDNCLEtBQUE0RCxFQUFBdUwsV0FBQW5QLEdBQUEsU0FDQWszQixFQUFBbDNCLEtBQUFzM0IsRUFBQXQzQixXQUNBNjJCLEVBQUE3MkI7Z0JBSUFpM0IsSUFEQS9OLE1BQUF4eEIsRUFBQW1ELGFBQUFxdUIsTUFBQXh4QixFQUFBb0QsVUFDQThGLEVBQUFDLE9BQUFxMkIsR0FBQUwsS0FFQWoyQixFQUFBQyxPQUFBcTJCO29CQUErQ0ssTUFBQVY7b0JBRS9DSCxFQUFBeE4sR0FBQStOO21CQUNLLGVBQUFGLEVBQUFTLFlBQUE7Z0JBQ0wsSUFBQUMsUUFDQUMsSUFBQWhnQyxFQUFBaUQ7Z0JBQ0E4VixJQUFBL1AsRUFBQXEyQixFQUFBdG1CLGNBRUFyTSxJQUFBcU0sRUFBQXJNLGFBQUEvTCxFQUFBb21CLGlCQUFBMWEsRUFBQUMsWUFBQSt5QixFQUFBMXlCLFFBQUEweUIsRUFBQTF5QixPQUFBO2dCQUNBb3pCLEVBQUFFLElBQUFaLEVBQUEzUCxRQUFBMlAsRUFBQTdOLFVBQUEsS0FDQXVPLEVBQUFyekIsZUFDQXFNLEVBQUFtbkIsaUJBQ0FILEVBQUFJLFVBQUE7Z0JBQ0FKLEVBQUFwekIsTUFBQW9NLEVBQUF2UixRQUFBLEtBQ0F1NEIsRUFBQUssVUFBQXJuQixFQUFBc25CLGlCQUNBdG5CLEVBQUFtbkIsc0JBQ0FubkIsRUFBQXNuQjt1QkFDQXRuQixFQUFBdlIsYUFDQXVSLEVBQUFyTSxjQUVBcXpCLEVBQUFJLFVBQUEsR0FDQUosRUFBQXB6QixNQUFBMHlCLEVBQUExeUIsT0FBQSxLQUNBb3pCLEVBQUFLLFVBQUFmLEVBQUFpQjtnQkFHQXZuQixFQUFBak0sYUFDQWl6QixFQUFBanpCLFdBQUFpTSxFQUFBak0saUJBQ0FpTSxFQUFBak0sV0FHQTVELEVBQUErYyxjQUFBblEsT0FDQWlxQixFQUFBanFCO2dCQUdBaUQsRUFBQTdRLFVBQ0E2M0IsRUFBQTczQixRQUFBMEMsRUFBQW9FLG9CQUFBLE1BQUErSixFQUFBN1EsUUFFQTZRLElBQUE3TSxFQUFBNE0sV0FBQUMsS0FBQTtnQkFDQWduQixFQUFBLGFBQUFodUIsbUJBQUFyRixJQUNBcU0sRUFBQXduQixrQkFDQVAsSUFBQWpuQixFQUFBd25CLHNCQUNBeG5CLEVBQUF3bkI7Z0JBR0F4bkIsRUFBQXluQixlQUNBVCxFQUFBUyxhQUFBem5CLEVBQUF5bkIsbUJBQ0F6bkIsRUFBQXluQixhQU9BeEIsRUFBQWdCLEdBQUE5MkIsRUFBQUMsT0FBQTQyQjtvQkFBb0RGLE1BQUE5bUI7Ozs7UUFNcEQxTCxLQUFBO1lBQ0FNLEtBQUE4eUI7OztHekR1akxNLFNBQVV6aEMsR0FBUUMsR0FBU0U7STBEN3NMakM7SUFFQSxJQUFBdXRCLElBQUF2dEIsRUFBQSxLQUVBdWhDLElBQUF2aEMsRUFBQSxLQUNBYSxJQUFBYixFQUFBO0lBSUFILEVBQUFDLFVBQUF5dEIsRUFBQUk7UUFFQTZULGVBQUEsU0FBQXgxQixHQUFBNkM7WUFDQTB5QixFQUFBRSxxQkFBQTVnQyxFQUFBNkUsYUFBQXNHLEdBQUEsU0FBQTAxQjtnQkFDQUEsRUFBQTV5QixXQUFBak8sRUFBQWlGLFlBQ0ErSSxFQUFBNnlCOzs7UUFLQUMsZ0JBQUE7WUFDQSxpQkFBQW56QixLQUFBb2EsU0FBQTs7UUFPQW1YLG1CQUFBO1FBR0F1QixVQUFBO1lBQ0EsSUFBQTNWLElBQUFuZDtZQUdBbWQsRUFBQTZWLGNBQUEzZ0MsRUFBQXlGLGNBQUEsU0FBQTZMO2dCQUNBd1osRUFBQW9VLGtCQUFBNXRCLEdBQUE7Z0JBSUF3WixFQUFBNlYsY0FBQTNnQyxFQUFBMEYsZ0JBQUEsU0FBQTRMO2dCQUNBd1osRUFBQW9VLGtCQUFBNXRCLEdBQUF0UixFQUFBQzs7O1FBSUFvTixLQUFBO1lBQ0FNLEtBQUE4eUI7OztHMUQ4dExNLFNBQVV6aEMsR0FBUUMsR0FBU0U7STJEMXdMakM7SUFFQSxJQUFBd0wsSUFBQXhMLEVBQUE7SUFFQUYsRUFBQTJoQyx1QkFBQSxTQUFBejFCLEdBQUEwZjtRQUNBLElBQUFqcUIsSUFBQStKLEVBQUF4SixlQUFBLGdCQUNBUixJQUFBZ0ssRUFBQXhKLGVBQUEsVUFDQTQvQixJQUFBNTFCLEVBQUFPLE1BQUEsTUFDQXMxQixJQUFBcmdDLEVBQUFvZ0MsRUFBQSxLQUNBRSxJQUFBRCxNQUFBRCxFQUFBO1FBRUFwZ0MsS0FBQSxNQUFBb2dDLEVBQUFuMUIsVUFBQW8xQixJQUNBQSxFQUFBdHpCLE1BQUEvTSxHQUFBa3FCLEtBQ0csTUFBQWtXLEVBQUFuMUIsVUFBQXExQixJQUNIQSxFQUFBdnpCLE1BQUFzekIsR0FBQW5XLEtBRUFqcUIsRUFBQXNLO1lBQ0FDO1lBQ0FDLFdBQUF5Zjs7O0czRDZ4TE0sU0FBVTdyQixHQUFRQyxHQUFTRTtJNERoekxqQyxJQUFBd0wsSUFBQXhMLEVBQUEsSUFDQStKLElBQUEvSixFQUFBO0lBRUFILEVBQUFDLFVBQUEsU0FBQUssR0FBQWlaO1FBQ0EsdUJBQUFqWixHQUNBO1FBRUEsSUFBQTRhLElBQUE1RyxPQUFBbVosT0FBQTtRQUNBdlMsRUFBQTVhLFFBQ0FpWixPQUFBeEMsT0FDQW1FLEVBQUFuRSxLQUFBdkosS0FBQXdKO1FBRUEsSUFBQWtyQixXQUFBM29CO1FBQ0EsaUJBQUEyb0IsR0FDQSxTQUFBOS9CLEtBQUFtWCxRQUNZSCxlQUFBNVksS0FBQStZLEdBQUFuWCxPQUNaOFksRUFBQTlZLEtBQUFtWCxFQUFBblg7UUFJQSxJQUFBVCxJQUFBZ0ssRUFBQXhKLGVBQUEsVUFDQTJVLElBQUFuVixFQUFBNlEsWUFBQTtRQUlBLE9BSEF0SSxFQUFBK2MsY0FBQW5RLE9BQ0FvRSxFQUFBLEtBQUFwRSxJQUVBb0U7O0c1RCt6TE0sU0FBVWxiLEdBQVFDLEdBQVNFO0k2RHYxTGpDO0lBRUEsSUFBQTBaLElBQUExWixFQUFBO0lBRUFILEVBQUFDLFVBQUE7UUFDQTtZQUNBa2lDLGNBQUE7Z0JBQ0EsSUFBQUMsUUFDQTk1QixJQUFBcUcsS0FBQWxGLFFBQUFmLE9BQUFKO2dCQUVBLFNBQUFnQixLQUFBaEIsR0FDQTg1QixFQUFBOTRCO29CQUNBaEIsV0FBQWdCO29CQUNBN0g7bUJBRUFvWSxFQUFBdlIsRUFBQWdCLElBQUEsU0FBQTVIO29CQUNBMGdDLEVBQUE5NEIsR0FBQTdILFFBQUFDLEVBQUE2RyxRQUFBN0csRUFBQWdIOztnQkFHQSxPQUFBMDVCOztZQUdBL3pCLEtBQUE7Z0JBQ0FNLEtBQUFsRixRQUFBaEksUUFBQTJnQyxZQUFBenpCLEtBQUF3ekIsZ0JBQ0F4ekIsS0FBQWxGLFFBQUFoSSxRQUFBMmdDLFVBQUFDLGVBQUExekIsS0FBQWxGLFFBQUFoSSxRQUFBNmdDOzs7O0c3RDAyTE0sU0FBVXRpQyxHQUFRQyxHQUFTRTtJOERoNExqQztJQUVBLElBQUF3TCxJQUFBeEwsRUFBQSxJQUNBeUwsSUFBQXpMLEVBQUEsSUFDQWEsSUFBQWIsRUFBQSxJQUNBb2lDLElBQUFwaUMsRUFBQSxLQUNBeUosSUFBQXpKLEVBQUEsS0FDQXFpQyxJQUFBO0lBRUF4aUMsRUFBQUMsVUFBQTtRQUNBO1lBQ0F3aUMsV0FBQSxTQUFBenpCO2dCQUNBLElBb0JBckIsR0FwQkFoTSxJQUFBZ0ssRUFBQXhKLGVBQUFuQixFQUFBQyxRQUNBNnFCLElBQUFuZCxNQUNBK3pCLElBQUEsU0FBQWp3QjtvQkFDQSxJQUFBa3dCLElBQUFsd0IsT0FBQUgsT0FBQUcsRUFBQUgsS0FBQXF3QixNQUFBO29CQUNBQSxLQVVBaDNCLEVBQUFqSixjQUFBa2dDLEdBQUFELElBQ0EzekIsRUFBQTJ6QixNQVZBLFFBQUFoaEMsRUFBQWtoQyxrQkFFQWxoQyxFQUFBNnJCLGFBQUFhLFVBQUEsaUJBQUE3ckI7d0JBQ0F3TSxFQUFBeE07eUJBR0FzZ0M7bUJBUUFDLElBQUFwaEMsRUFBQTZRLFlBQUF4UixFQUFBMkQ7Z0JBR0FvK0IsTUFDQXAxQixJQUFBNDBCLEVBQUF6aUI7b0JBQ0FrakIsUUFBQUQsRUFBQXg1QixRQUFBLHNCQUFBdzVCLFNBQUE7b0JBRUFqWCxFQUFBcmlCLFFBQUFoSSxRQUFBd2hDLFNBQ0FuWCxFQUFBcmlCLFFBQUFoSSxRQUFBd2hDLEtBQUFELFFBQUFyMUI7Z0JBR0EsSUFBQWpDLElBQUFFLEVBQUFwSyxjQUNBb2hDLElBQUFqaEMsRUFBQW9HLGFBQUFHLGtCQUNBNDZCLElBQUE7b0JBQ0FuMUIsTUFDQWhNLEVBQUFraEMsa0JBQUEsS0FDQWozQixFQUFBMkYsUUFBQTVEO3dCQUNBa0UsVUFBQTt3QkFDQUYsbUJBQUE7dUJBQ1csU0FBQVM7d0JBQ1h6USxFQUFBa2hDLGtCQUFBO3dCQUNBLElBQUFJLElBQUE7d0JBQ0E7NEJBQ0EsSUFBQTN3QixJQUFBRixFQUFBRSxRQUFBLElBQ0FLLElBQUFMLEVBQUE1RixNQUFBOzRCQUNBLElBQUFpRyxFQUFBL0YsU0FBQTtnQ0FDQSxJQUFBczJCLElBQUF2d0IsRUFBQSxJQUNBd3dCLElBQUFELEVBQUF4MkIsTUFBQTtnQ0FDQXUyQixJQUFBRSxFQUFBLFVBQ0FGLE1BQUFqdkIsUUFBQSxZQUNBckksRUFBQWpKLGNBQUFrZ0MsR0FBQUssSUFDQXYzQixFQUFBbU07b0NBQ0F6VixLQUFBd2dDO29DQUNBdHdCO3dDQUNBcXdCLEtBQUFNOztvQ0FLQXRoQyxFQUFBNnJCLGFBQUFvQixRQUFBLFFBQUFxVSxJQUNBdGhDLEVBQUE2ckIsYUFBQXFCLFVBQUEsUUFBQW9VOzswQkFFYSxPQUFBMWhDOzRCQUNicUksSUFBQUMsRUFBQXRJOzt3QkFFQTBoQyxNQUNBQSxJQUFBVCxJQUVBeHpCLEVBQUFpMEI7dUJBQ1csU0FBQUc7d0JBQ1h4NUIsSUFBQUMsRUFBQXU1Qjs7bUJBSUFDLElBQUExM0IsRUFBQWxKLGNBQUFtZ0M7Z0JBQ0FTLElBQ0FyMEIsRUFBQXEwQixLQUVBMzNCLEVBQUFnTTtvQkFDQXRWLEtBQUF3Z0M7b0JBQ0F6d0IsU0FBQSxTQUFBQzt3QkFDQXN3QixFQUFBdHdCOztvQkFFQUMsTUFBQSxTQUFBRDt3QkFDQXN3QixFQUFBdHdCOzs7O1lBY0EvRCxLQUFBLFNBQUE2ZSxHQUFBNVY7Z0JBQ0EsSUFBQXdVLElBQUFuZCxNQUVBaE4sSUFBQWdLLEVBQUF4SixlQUFBLFVBQ0FtaEMsSUFBQTNoQyxFQUFBNlEsWUFBQSx1QkFDQSt3QixJQUFBLEtBQ0FDLElBQUFEO2dCQUNBO29CQUNBQyxJQUFBL0gsU0FBQTZILElBQ0E3YyxNQUFBK2MsT0FDQUEsSUFBQUQ7a0JBRU8sT0FBQWhpQztnQkFZUCxJQVRBb04sS0FBQTh6QixVQUFBLFNBQUFFO29CQUNBN1csRUFBQXJpQixRQUFBaEksUUFBQXdoQyxTQUNBblgsRUFBQXJpQixRQUFBaEksUUFBQXdoQyxLQUFBTixVQUVBYSxLQUFBLE9BQ0Fsc0IsRUFBQXFyQjtzQkFJQWEsSUFBQSxNQUdBLE9BQUFBOzs7O0c5RHE1TE0sU0FBVXhqQyxHQUFRQyxHQUFTRTtJK0QvaE1qQztJQUVBLElBQUFzakMsSUFBQXRqQyxFQUFBO0lBeUJBRixFQUFBNmYsU0FBQSxTQUFBbWpCO1FBQ0EsSUFBQXQxQixJQUFBODFCLEVBQUEzakIsT0FBQW1qQixPQUFBRDtRQUdBLFVBQUFyMUIsRUFBQXBFLFFBQUE7WUFDQSxJQUFBNEssSUFBQTtZQUNBLGlCQUFvQnBFLEtBQUFwQyxPQUNwQndHLElBQUEsVUFFQXhHLElBQUF3RyxJQUFBeEc7O1FBRUEsT0FBQUE7O0cvRCtpTU0sU0FBVTNOLEdBQVFDLEdBQVNFO0lnRXJsTWpDO0lBRUEsSUFBQXVqQyxJQUFBdmpDLEVBQUEsS0FDQXdqQyxJQUFBeGpDLEVBQUEsS0FDQXdMLElBQUF4TCxFQUFBO0lBRUFILEVBQUFDO1FBQ0EyakMseUJBQUEsU0FBQWpoQyxHQUFBa2hDO1lBQ0EsSUFBQW5pQyxJQUFBbWlDLEtBQUE7WUFDQSxJQUFBbGhDLEdBQ0E7Z0JBQ0FqQixJQUFBNG1CLG1CQUFBM2xCO2NBQ08sT0FBQXBCO1lBR1AsT0FBQUc7O1FBU0FvaUMsdUJBQUEsU0FBQXRWLEdBQUF1VixHQUFBQztZQUNBRDtZQUNBLElBQ0FsVyxHQUVBb1csR0FIQXJ4QixJQUFBNGIsRUFBQTloQixNQUFBLE1BRUF3M0IsSUFBQXR4QixFQUFBaEc7WUFHQSxLQUFBaWhCLElBQUEsR0FBZUEsSUFBQXFXLEdBQVdyVyxLQUFBO2dCQUMxQm9XLElBQUFyeEIsRUFBQWliLEdBQUFuaEIsTUFBQTtnQkFDQSxJQUFBMmUsSUFBQXFZLEVBQUFsM0IsS0FBQXkzQixFQUFBelksTUFBQSxHQUFBeFksS0FBQTtnQkFDQSt3QixFQUFBTCxFQUFBbDNCLEtBQUF5M0IsRUFBQSxhQUFBRCxJQUFBM1ksSUFBQTFjLEtBQUFpMUIsd0JBQUF2WTs7WUFHQSxPQUFBMFk7O1FBUUFJLGlCQUFBLFNBQUFDO1lBQ0EsSUFBQXp4QixHQUNBL0Y7WUFFQTtnQkFHQSxPQURBK0YsT0FBQTZZLE1BQUFockIsS0FBQTRqQztjQUVLLE9BQUFwVjtnQkFFTHJjLFFBQ0EvRixJQUFBdzNCLEVBQUF4M0I7Z0JBRUEsU0FBQTNDLElBQUEsR0FBcUJBLElBQUEyQyxHQUFZM0MsS0FDakMwSSxFQUFBekcsS0FBQWs0QixFQUFBbjZCO2dCQUdBLE9BQUEwSTs7O1FBSUEweEIsVUFBQSxTQUFBbjhCLEdBQUE4TjtZQUNBLElBQUEydEIsRUFBQXhzQixPQUFBd3NCLEVBQUE1ekIsUUFBQTtnQkFDQSxJQUFBdTBCLElBQUEsSUFDQWpaLElBQUFzWSxFQUFBNXRCLElBQUE3TjtnQkFDQSxJQUFBbWpCLEdBQUE7b0JBQ0EsSUFBQWtaLElBQUFsWixFQUFBM2UsTUFBQTtvQkFFQTQzQixJQURBdHVCLElBQ0F1dUIsRUFBQTMzQixTQUFBLEtBQUFvSixNQUFBdXVCLEVBQUEsS0FBQUEsRUFBQSxVQUVBQSxFQUFBMzNCLFNBQUEsSUFBQTIzQixFQUFBOztnQkFHQSxPQUFBamMsbUJBQUFnYzs7WUFFQTs7UUFLQUUsVUFBQSxTQUFBdDhCLEdBQUF1OEIsR0FBQTlCO1lBQ0FBLEtBQUFnQixFQUFBeHNCLE9BQUF3c0IsRUFBQTV6QixVQUNBNHpCLEVBQUF4c0IsSUFBQWpQLEdBQUF1OEIsSUFBQSxNQUFBMXhCLG1CQUFBNHZCOztRQUlBN2lCLFFBQUEsU0FBQW5TO1lBQ0EsSUFBQWhNLElBQUFnSyxFQUFBeEosZUFBQSxVQUNBbkIsSUFBQWIsRUFBQSxJQUNBNmlDLElBQUFyMUIsS0FBQTtZQUNBO2dCQUNBLElBQUErMkIsSUFBQS9pQyxFQUFBNlEsWUFBQXhSLEVBQUEyRCxrQkFDQThQLElBQUEsNkNBQ0Frd0IsSUFBQUQsRUFBQS92QixNQUFBRjtnQkFDQWt3QixPQUFBLE9BRUEzQixJQUFBLE9BQUEyQixFQUFBO2NBRUssT0FBQXBqQztZQUVMLE9BQUF5aEM7OztHaEV1bU1NLFNBQVVoakMsR0FBUUM7SWlFaHRNeEI7SUFNQSxTQUFBdU0sRUFBQWdpQjtRQUNBLDBCQUFBQSxNQUFBeGEsUUFBQTs7SUFFQS9ULEVBQUF1TTtHakVndU1NLFNBQVV4TSxHQUFRQztJa0V6dU14QjtJQUVBRCxFQUFBQztRQUNBa1gsS0FBQSxTQUFBN04sR0FBQTVIO1lBQ0E7Z0JBRUEsT0FEQWtqQyxhQUFBQyxRQUFBdjdCLEdBQUE1SCxLQUNBO2NBQ0ssT0FBQUg7Z0JBQ0w7OztRQUlBd1UsS0FBQSxTQUFBek07WUFDQTtnQkFDQSxPQUFBczdCLGFBQUFwaEIsUUFBQWxhO2NBQ0ssT0FBQS9IO2dCQUNMOzs7UUFHQXdPLE1BQUE7WUFDQSxJQUFBKzBCLElBQUE7WUFDQTtnQkFHQSxPQUZBRixhQUFBQyxRQUFBQyxHQUFBLElBQ0FGLGFBQUFHLFdBQUFELEtBQ0E7Y0FDSyxPQUFBdmpDO2dCQUNMOzs7UUFHQXdXLFFBQUEsU0FBQXpPO1lBQ0FzN0IsYUFBQUcsV0FBQXo3Qjs7O0dsRTJ2TU0sU0FBVXRKLEdBQVFDLEdBQVNFO0ltRWp4TWpDO0lBRUEsSUFBQXdMLElBQUF4TCxFQUFBLElBQ0FhLElBQUFiLEVBQUE7SUFDQUgsRUFBQUMsVUFBQTtRQUNBO1lBT0F1UyxhQUFBO2dCQUNBLElBQUF5YyxJQUFBdGpCLEVBQUFsSixjQUFBLGFBQ0Eyc0IsSUFBQUgsRUFBQUc7Z0JBQ0EsT0FBQUE7O1lBR0E0VixpQkFBQTtnQkFDQSxJQUFBNVYsSUFBQXpnQixLQUFBNkQ7Z0JBQ0EsT0FBQTRjLEVBQUE7O1lBY0EvZ0IsS0FBQSxTQUFBNmUsR0FBQTVWO2dCQUNBLElBQUE1TyxJQUFBaUcsS0FBQWxGLFFBQUFmLGNBQ0FFLElBQUErRixLQUFBcTJCO2dCQUNBLElBQUFwOEIsS0FBQUYsRUFBQXk0QixTQUtBLFFBSkF2NEIsSUFBQStGLEtBQUFxMkIsb0JBQUEsSUFDQXIyQixLQUFBbEYsUUFBQWhJLFFBQUF3akM7b0JBQ0FyOEI7bUJBRUFBO2tCQUNBLEtBQUE1SCxFQUFBZ0U7a0JBQ0EsS0FBQWhFLEVBQUErRDtrQkFDQTtvQkFDQTs7a0JBQ0E7b0JBS0EsT0FKQTRKLEtBQUFsRixRQUFBaEksUUFBQXdqQyxlQUFBQyxVQUFBLEdBQ0Eza0IsV0FBQTt3QkFDQWpKO3VCQUNXLE1BQ1g7O2tCQUNBO29CQUNBLElBQUE5SSxJQUFBLElBQUE1RjtvQkFDQSxJQUFBNEYsSUFBQSxhQUtBLE9BSkFHLEtBQUFsRixRQUFBaEksUUFBQXdqQyxlQUFBQyxVQUFBLEdBQ0Eza0IsV0FBQTt3QkFDQWpKO3VCQUNhOUksSUFDYkE7Ozs7O0duRWd6TU0sU0FBVXhPLEdBQVFDLEdBQVNFO0lvRXIzTWpDO0lBRUEsSUFBQXdMLElBQUF4TCxFQUFBLElBRUF5SixJQUFBekosRUFBQSxLQUNBeUwsSUFBQXpMLEVBQUEsSUFDQWEsSUFBQWIsRUFBQSxJQUNBZ1EsSUFBQWhRLEVBQUE7SUFFQUgsRUFBQUMsVUFBQTtRQUNBO1lBSUF1UyxhQUFBLFNBQUFwUTtnQkFDQSxJQUFBNnNCLElBQUF0akIsRUFBQWxKLGNBQUE7Z0JBQ0EsUUFBQXdzQixFQUFBRyxpQkFBZ0NodEI7O1lBR2hDK2lDLFlBQUE7Z0JBQ0EsSUFBQXBsQixJQUFBcFIsS0FBQTZELFlBQUF4UixFQUFBMkQ7Z0JBQ0EsS0FBQXdMLEVBQUFxRSxZQUFBdUwsSUFDQTtnQkFHQSxJQUFBblAsSUFBQWhGLEVBQUF1RjtnQkFDQSxLQUFBUCxHQUVBLE9BREFoSCxJQUFBZ0wsTUFBQSwrQkFDQTtnQkFFQSxJQUFBakgsTUFBQSxNQUFBb1MsR0FBQW5QO2dCQUNBLE9BQUFqRCxFQUFBcUYsS0FBQTs7WUFJQTNFLEtBQUE7Z0JBQ0FNLEtBQUFsRixRQUFBaEksUUFBQTJqQyxjQUFBcnpCLFNBQUE7Z0JBQ0EsSUFBQXBFLElBQUFnQixLQUFBdzJCO2dCQUNBLEtBQUF4M0IsR0FDQTtnQkFHQSxVQUFBQSxFQUFBcEUsUUFBQSxPQVdBLE9BSkFLLElBQUFDLEVBQUEsYUFBQThELElBSUE7Z0JBVkEsSUFBQXdHLElBQUFuVCxFQUFBMkY7Z0JBQ0EsaUJBQXdCb0osS0FBQXBDLE9BQ3hCd0csSUFBQSxVQUVBeEcsSUFBQXdHLElBQUF4RyxHQVFBZ0IsS0FBQWxGLFFBQUFoSSxRQUFBMmpDLGNBQUF6M0I7Ozs7R3BFdTRNTSxTQUFVM04sR0FBUUMsR0FBU0U7SXFFMTdNakM7SUFFQSxJQUFBd0wsSUFBQXhMLEVBQUEsSUFDQWEsSUFBQWIsRUFBQSxJQUVBeUosSUFBQXpKLEVBQUEsS0FDQXlMLElBQUF6TCxFQUFBLElBQ0FrbEMsSUFBQWxsQyxFQUFBLEtBQ0FtbEMsSUFBQW5sQyxFQUFBLEtBQ0FnUSxJQUFBaFEsRUFBQSxLQUNBb2xDLElBQUF2a0MsRUFBQXNGLFNBQ0FrL0IsSUFBQXhrQyxFQUFBdUYsU0FDQWsvQixJQUFBemtDLEVBQUF3RjtJQUVBeEcsRUFBQUMsVUFBQTtRQUNBO1lBQ0F5bEMsaUJBQUE7Z0JBQ0EsSUFBQS9qQyxJQUFBZ0ssRUFBQXhKLGVBQUFuQixFQUFBQyxRQUNBUSxJQUFBa04sS0FBQWxGLFFBQUFoSSxlQUNBd2hDLElBQUF4aEMsRUFBQXdoQyxZQUNBN0MsSUFBQTMrQixFQUFBMitCLGdCQUNBblIsSUFBQXRqQixFQUFBbEosY0FBQSxhQUNBNkosSUFBQTJpQixFQUFBM2lCLFdBQ0E1RCxJQUFBaUcsS0FBQWxGLFFBQUFmLGNBQ0FpOUIsSUFBQWhrQyxFQUFBNlEsWUFBQSxtQkFBQTVHLEVBQUFvRSxtQkFFQTZrQjtvQkFDQStRLFNBQUFqa0MsRUFBQTZRLFlBQUE7b0JBQ0FxekIsV0FBQWxrQyxFQUFBNlEsWUFBQXhSLEVBQUErRDtvQkFDQStnQyxVQUFBbmtDLEVBQUE2USxZQUFBeFIsRUFBQWdFO29CQUNBK2dDLFlBQUFwa0MsRUFBQTZRLFlBQUE7b0JBQ0F3ekIsYUFBQXJrQyxFQUFBNlEsWUFBQTtvQkFDQXl6QixNQUFBdGtDLEVBQUE2USxZQUFBO21CQUdBb0osSUFBQWphLEVBQUFrYSxxQkFDQTlULElBQUFwRyxFQUFBb0csb0JBRUE0RixJQUFBO2dCQUNBO29CQUNBLElBQUFpeEIsSUFBQXR1QixrQkFBQTtvQkFDQTNDLElBQUFpeEIsRUFBQWhXLFNBQUFnVyxFQUFBL1Y7a0JBQ08sT0FBQXRuQjtnQkFFUCxJQUFBMmtDLElBQUEsSUFBQTE0QixPQUFBQyxZQUFBRSxHQUNBdzRCLElBQUF2cUIsRUFBQWlDLFFBQUFqQyxFQUFBa0IsY0FBQXBVLEVBQUEwOUIsUUFBQW5ELEVBQUFOLEtBQ0FqNUIsS0FBQTNCLEVBQUFFLGNBQUEsY0FBQW85QixFQUFBZ0IsU0FBQUgsR0FBQUMsSUFFQUcsSUFBQW4yQixFQUFBaUU7Z0JBQ0FreUIsS0FDQTE4QixJQUFBQyxFQUFBO2dCQUVBLElBQUEwOEIsSUFBQWp5QixPQUFBbks7b0JBQ0FtOEI7b0JBQ0E1OEI7b0JBQ0FpNUIsS0FBQU0sRUFBQU47b0JBQ0FNO29CQUNBM0IsS0FBQXJTLEVBQUF3USxpQkFBQTtvQkFDQStHO3dCQUNBQyxPQUFBMStCLEVBQUFJO3dCQUNBRSxNQUFBTixFQUFBTTt3QkFDQXErQixhQUFBL2tDLEVBQUE2USxZQUFBO3dCQUNBbXpCLGdCQUFBNW9COztvQkFFQXFwQixPQUFBMTlCLEVBQUEwOUIsU0FBQTtvQkFDQXo0QixVQUFBO29CQUNBaU87b0JBQ0ErcUIsVUFBQXJCLEVBQUFzQjtvQkFDQWpSLE9BQUF5SyxFQUFBekssU0FBQTtvQkFDQTVqQixRQUFBcEQsS0FBQWxGLFFBQUFoSSxRQUFBMmpDLGNBQUFyekI7bUJBQ084aUIsSUFFUDlhLElBQUE4YTtnQkFpQkEsT0FmQXZvQixFQUFBc3pCLFlBQ0E3bEIsRUFBQXlyQixLQUFBbDVCLEVBQUFzekIsV0FBQSxLQUVBdHpCLEVBQUFvekIsWUFDQTNsQixFQUFBMHJCLEtBQUFuNUIsRUFBQW96QixXQUFBO2dCQUdBcHpCLEVBQUFveUIsWUFDQTNrQixFQUFBd3JCLEtBQUFqNUIsRUFBQW95QixXQUFBLEtBRUEza0IsRUFBQS9ZLEVBQUE4RixRQUFBbkYsRUFBQWtsQyxRQUFBLElBQ0FOLEVBQUFPLGNBQUFubEMsRUFBQTZRLFlBQUE7Z0JBQ0ErekIsRUFBQVEsYUFBQXBsQyxFQUFBNlEsWUFBQSxzQkFFQSt6QixFQUFBeHNCLFdBQ0F3c0I7O1lBSUFTLGFBQUE7Z0JBQ0EsSUFBQXJsQyxJQUFBZ0ssRUFBQXhKLGVBQUFuQixFQUFBQyxRQUNBc2xDLElBQUE1M0IsS0FBQSsyQjtnQkFJQSxPQUhBLzJCLEtBQUFsRixRQUFBZixPQUFBeTRCLFlBQ0FvRixFQUFBQyxTQUFBUyxZQUFBLElBRUEzeUIsT0FBQW5LLFdBQTZCbzhCO29CQUM3QnpGLFlBQUE5L0IsRUFBQWtGO29CQUNBZ2hDLFNBQUE7b0JBQ0ExVSxRQUFBO29CQUNBMlUsaUJBQUF4bEMsRUFBQXN0QixHQUFBRSxnQkFBQSxRQUFBM2hCLFNBQUE3TCxFQUFBeWdDLFVBQUFDOzs7WUFJQStFLGVBQUE7Z0JBRUEsSUFBQTFtQyxJQUFBaU8sS0FBQWxGLFFBQUFoSSxlQUNBMitCLElBQUExL0IsRUFBQTAvQixnQkFFQWlIO29CQUNBdkcsWUFBQTkvQixFQUFBeUUsYUFBQTI2QixFQUFBekssVUFBQXlLLEVBQUF6SztvQkFDQXVSLFNBQUE7b0JBQ0ExVSxRQUFBNE4sRUFBQTVOO29CQUNBMlUsaUJBQUEsSUFBQTM1Qjs7Z0JBSUEsT0FBQThHLE9BQUFuSyxXQUE2QndFLEtBQUErMkIsbUJBQUEyQjs7WUFlN0JoNUIsS0FBQTtnQkFDQSxJQUFBbUY7Z0JBRUFBLElBREEsU0FBQTdFLEtBQUFsRixRQUFBZixPQUFBNCtCLGFBQ0EzNEIsS0FBQXE0QixnQkFFQXI0QixLQUFBeTRCO2dCQUVBejRCLEtBQUFsRixRQUFBaEksUUFBQTYrQixhQUFBRCxVQUFBN3NCOzs7O0dyRWk5TU0sU0FBVXhULEdBQVFDLEdBQVNFO0lzRWxtTmpDO0lBaURBLFNBQUFvbkMsRUFBQTFiLEdBQUFqRyxHQUFBNGhCO1FBQ0EsT0FBQTNiLElBQ0E0YixFQUFBOVUsS0FBQTVmLG1CQUFBOFksSUFBQWxULE9BQUEsR0FBQWlOLEtBRUE0aEI7O0lBbkRBLElBQUFDLElBQUF0bkMsRUFBQSxLQUVBdW5DLElBQUEsU0FBQTloQjtRQWNBLFNBQUEraEIsRUFBQUM7WUFDQSxJQUFBQyxJQUFBLGdFQUNBQyxJQUFBO1lBRUEsWUFBQUYsSUFDQUMsRUFBQWx2QixPQUFBekYsS0FBQThTLE1BQUEsS0FBQTlTLEtBQUFDLFdBQUEsS0FDSyxLQUFBeTBCLElBQ0xFLEVBQUFudkIsT0FBQXpGLEtBQUE4UyxNQUFBLEtBQUE5UyxLQUFBQyxXQUFBLEtBRUE7O1FBR0EsS0FyQkEsSUFHQXVDLEdBSEFxeUIsSUFBQSxJQUNBcmpCLElBQUEsa0VBQ0FzakIsS0FBQSxHQW1CQUQsRUFBQW43QixTQUFBZ1osS0FDQWxRLElBQUFnUCxFQUFBL0wsT0FBQXpGLEtBQUE4UyxNQUFBLEtBQUE5UyxLQUFBQyxXQUFBO1NBRUE2MEIsS0FBQUQsRUFBQW43QixVQUFBLGFBQUE4SSxFQUFBcUgsaUJBQUEsT0FBQXJILEVBQUFxSCxtQkFDQSxNQUFBZ3JCLEVBQUFuN0IsVUFBQSxPQUFBOEksRUFBQXFILGdCQUNBN0osS0FBQUMsV0FBQSxPQUNBdUMsSUFBQWl5QixFQUFBO1FBQ0FLLEtBQUEsS0FFTyxLQUFBRCxFQUFBbjdCLFVBQUEsT0FBQThJLEVBQUFxSCxpQkFBQSxPQUFBZ3JCLEVBQUFsa0IsT0FBQSxHQUFBOUcsa0JBQ1BySCxJQUFBaXlCLEVBQUE7UUFDQUssS0FBQSxLQUdBRCxLQUFBcnlCO1FBRUEsT0FBQXF5Qjs7SUFXQTluQyxFQUFBb21DLFdBQUEsU0FBQTRCLEdBQUFDO1FBQ0EsSUFBQUMsSUFBQVQsRUFBQSxJQUNBVSxJQUFBRCxFQUFBeHZCLE9BQUEsT0FDQTB2QixJQUFBRixFQUFBeHZCLE9BQUE7UUFDQSxTQUNBNHVCLEVBQUFVLEdBQUEsR0FBQUcsSUFDQWIsRUFBQVcsR0FBQSxHQUFBRSxJQUNBQyxJQUNBcjFCLEtBQUE7O0d0RW1uTk0sU0FBVWhULEdBQVFDO0l1RXByTnhCO0lBR0FBLEVBQUEweUIsT0FBQSxTQUFBempCLEdBQUFzZjtRQUNBLElBQ0F2a0IsR0FBQXErQixHQURBQyxJQUFBLFlBQ0E1VixJQUFBbkUsS0FBQStaO1FBQ0EsS0FBQXQrQixJQUFBaUYsRUFBQXRDLFNBQUEsR0FBMEIzQyxLQUFBLEdBQVFBLEtBQ2xDcStCLElBQUFwNUIsRUFBQWdWLFdBQUFqYSxJQUNBMG9CLFdBQUEsS0FBQTJWLEtBQUEzVixLQUFBO1FBRUEsSUFBQWxrQixLQUFBLGFBQUFra0IsR0FBQXJYLFNBQUE7UUFDQSxPQUFBN007O0d2RXFzTk0sU0FBVXpPLEdBQVFDO0l3RXR0TnhCQSxFQUFBMm1DLGNBQUE7UUFDQSxJQUFBNEIsS0FBQSxJQUFBaDdCLE9BQUFpN0Isc0JBQUEsSUFDQUMsSUFBQTtRQUNBRixJQUFBLE1BQ0FFLElBQUE7UUFFQSxJQUFBQyxJQUFBejFCLEtBQUEwMUIsSUFBQW5OLFNBQUErTSxLQUNBSyxJQUFBMzFCLEtBQUEwMUIsSUFBQW5OLFNBQUErTSxTQUNBTSxJQUFBO1FBSUEsT0FIQUQsSUFBQSxNQUNBQyxJQUFBLEtBQUFELElBRUEsUUFBQUgsS0FBQUMsSUFBQSxJQUFBQSxJQUFBLE1BQUFBLEtBQUEsTUFBQUc7O0d4RWl1Tk0sU0FBVTlvQyxHQUFRQyxHQUFTRTtJeUVwdU5qQztJQUVBLElBQUFhLElBQUFiLEVBQUEsSUFDQXdMLElBQUF4TCxFQUFBLElBQ0F5TCxJQUFBekwsRUFBQTtJQUVBSCxFQUFBQyxVQUFBO1FBQ0E7WUFhQW9PLEtBQUE7Z0JBQ0EsSUFBQTA2QixJQUFBbjlCLEVBQUFzRSxRQUNBdk8sSUFBQWdLLEVBQUF4SixlQUFBbkIsRUFBQUMsUUFDQW8vQixJQUFBMXhCLEtBQUFsRixRQUFBaEksUUFBQTYrQixhQUFBRCxlQUNBaHdCLElBQUFDLG1CQUNBK3VCLElBQUFodkIsSUFBQXpELFNBQUE7Z0JBQ0F5eUIsTUFBQWdCLEVBQUErRixVQUNBL0YsRUFBQStGLFFBQUEvRyxFQUFBelcsU0FBQSxLQUVBeVgsRUFBQTF5QixRQUFBbzdCLEtBQUFwbkMsRUFBQW9HLGFBQUFDLFFBQUEsb0JBQUFxM0IsRUFBQXpXLFNBQUF5VyxFQUFBeFcsTUFBQTtnQkFFQSxJQUFBeVksSUFBQTtnQkFDQSxJQUFBanhCLEVBQUF6RCxTQUFBO29CQUNBLElBQUEweUIsSUFBQWp2QixJQUFBekQsU0FBQTtvQkFDQTAwQixNQUFBeUgsS0FBQXBuQyxFQUFBb0csYUFBQUMsUUFBQSxvQkFBQXMzQixFQUFBMVcsU0FBQTBXLEVBQUF6VyxNQUFBOztnQkFFQXdYLEVBQUFpQixTQUNBakIsRUFBQW1HLGFBQ0FuRyxFQUFBbUcsU0FBQXdDLFdBQUEsTUFHQXI2QixLQUFBbEYsUUFBQWhJLFFBQUE2K0IsYUFBQUQ7Ozs7R3pFMnZOTSxTQUFVcmdDLEdBQVFDLEdBQVNFO0kwRXB5TmpDO0lBRUEsSUFBQTRvQixJQUFBNW9CLEVBQUEsS0FDQWtQLElBQUFsUCxFQUFBLEtBQ0F3TCxJQUFBeEwsRUFBQSxJQUNBYSxJQUFBYixFQUFBLElBQ0F5TCxJQUFBekwsRUFBQTtJQUdBSCxFQUFBQyxVQUFBO1FBQ0E7WUFzQkFncEMsYUFBQTtnQkFDQSxJQUFBdG5DLElBQUFnSyxFQUFBeEosZUFBQSxVQUNBdUcsSUFBQWlHLEtBQUFsRixRQUFBZixjQUNBNHJCO2dCQUVBNXJCLFFBQUF5NEIsV0FDQXo0QixFQUFBcVIsVUFDQSxtQkFBQXJSLEVBQUFxUixRQUNBdWEsSUFBQXZMLEVBQUF1QyxVQUFBNWlCLEVBQUFxUixTQUNXLG1CQUFBclIsRUFBQXFSLFVBQ1h1YSxJQUFBNXJCLEVBQUFxUjtnQkFLQSxJQUFBbXZCLElBQUEsU0FBQTN4QjtvQkFDQWxJLEVBQUFrSSxLQUNBQSxFQUFBbUMsUUFBQSxTQUFBakc7d0JBQ0E2Z0IsSUFBQWhnQixPQUFBbkssV0FBZ0NtcUIsR0FBQTdnQjt5QkFHaEM2Z0IsSUFBQWhnQixPQUFBbkssV0FBOEJtcUIsR0FBQS9jOztnQkFHOUIyeEIsRUFBQXZuQyxFQUFBNlEsWUFBQTtnQkFFQSxJQUFBNnNCLElBQUF6ekIsRUFBQXdFLGtCQUNBK1gsSUFBQWtYLEVBQUF6VyxTQUFBeVcsRUFBQXhXLE1BQUEsUUFDQTBILElBQUE1dUIsRUFBQTZRLFlBQUEsZ0NBQ0EyMkIsSUFBQTVZLEVBQUFwSTtnQkFDQSxtQkFBQWdoQixLQUNBRCxFQUFBQztnQkFHQSxJQUFBMW5DLElBQUFrTixLQUFBbEYsUUFBQWhJLGVBQ0EyK0IsSUFBQTMrQixFQUFBMitCO2dCQUdBLE9BRkE4SSxFQUFBOUksSUFFQTlMOztZQU1BOFUsV0FBQSxTQUFBOTJCO2dCQUNBLElBQUE1SixJQUFBaUcsS0FBQWxGLFFBQUFmLGNBQ0F1bUIsSUFBQXRqQixFQUFBbEosY0FBQTtnQkFNQSxPQUxBaUcsT0FBQTI0QixhQUNBcFMsRUFBQXdRLGdCQUFBLzJCLEVBQUEyNEIsVUFDQS91QixFQUFBZ3ZCLE1BQUE1NEIsRUFBQTI0QixXQUVBMTFCLEVBQUFqSixjQUFBLE1BQUF1c0I7Z0JBQ0EzYzs7WUFLQSsyQixXQUFBLFNBQUEvMkI7Z0JBQ0EsSUFBQTVKLElBQUFpRyxLQUFBbEYsUUFBQWY7Z0JBSUEsT0FIQUEsT0FBQXUvQixZQUNBMzFCLEVBQUEzRSxNQUFBakYsRUFBQXUvQixVQUVBMzFCOztZQUtBZzNCLGNBQUEsU0FBQWgzQjtnQkFDQSxJQUFBNUosSUFBQWlHLEtBQUFsRixRQUFBZixjQUNBbTNCLElBQUFuM0IsRUFBQTFILEVBQUF1RixZQUFBbUMsRUFBQW0zQjtnQkFJQSxPQUhBQSxNQUNBdnRCLEVBQUF5SCxNQUFBL1ksRUFBQXVGLFdBQUFzNUIsSUFFQXZ0Qjs7WUFTQWpFLEtBQUE7Z0JBQ0EsSUFBQWltQixJQUFBM2xCLEtBQUFsRixRQUFBaEksUUFBQTYrQixhQUFBRCxTQUNBRCxJQUFBOXJCLE9BQUFuSyxXQUFxQ3dFLEtBQUFzNkIsZUFBQTNVLEVBQUE4TDtnQkFDckM5TCxFQUFBdmEsUUFBQXpGLE9BQUFuSyxXQUFnQ21xQixFQUFBdmEsT0FBQXFtQixJQUNoQzlMLElBQUEzbEIsS0FBQXk2QixVQUFBOVUsSUFDQUEsSUFBQTNsQixLQUFBMDZCLFVBQUEvVTtnQkFDQUEsSUFBQTNsQixLQUFBMjZCLGFBQUFoVixJQUNBM2xCLEtBQUFsRixRQUFBaEksUUFBQTYrQixhQUFBRCxVQUFBL0wsR0FDQTNsQixLQUFBbEYsUUFBQWhJLFFBQUEyK0IsV0FBQTlMLEVBQUF2YTs7OztHMUUyek5NLFNBQVUvWixHQUFRQyxHQUFTRTtJMkV0N05qQztJQUVBLElBQUF3TCxJQUFBeEwsRUFBQTtJQUVBSCxFQUFBQyxVQUFBO1FBQ0E7WUFRQW9PLEtBQUE7Z0JBQ0EsSUFBQTRnQixJQUFBdGpCLEVBQUFsSixjQUFBLGFBQ0FtWCxJQUFBcVYsRUFBQUUsaUJBQUE7Z0JBQ0FGLEVBQUFFLGtCQUFBdlYsR0FDQWpPLEVBQUFqSixjQUFBLE1BQUF1c0I7Ozs7RzNFNDhOTSxTQUFVanZCLEdBQVFDLEdBQVNFO0k0RTU5TmpDO0lBRUEsSUFBQTRvQixJQUFBNW9CLEVBQUEsS0FDQWtQLElBQUFsUCxFQUFBLEtBRUF3TCxJQUFBeEwsRUFBQTtJQUlBSCxFQUFBQyxVQUFBO1FBQ0E7WUFVQXNwQyxhQUFBO2dCQUNBLElBQUE1bkMsSUFBQWdLLEVBQUF4SixlQUFBLFVBQ0F6QixJQUFBaU8sS0FBQWxGLFFBQUFoSSxlQUNBMitCLElBQUExL0IsRUFBQTAvQixnQkFDQXJtQixJQUFBclosRUFBQTQvQixhQUFBRCxRQUFBdG1CO2dCQUNBQSxJQUFBekYsT0FBQW5LLFdBQThCNFAsR0FBQWdQLEVBQUF1QyxVQUFBOFUsRUFBQXJtQixTQUM5QkEsSUFBQXpGLE9BQUFuSyxXQUE4QjRQLEdBQUFnUCxFQUFBdUMsVUFBQTNwQixFQUFBNlEsWUFBQTtnQkFDOUIsSUFBQWczQixJQUFBN25DLEVBQUE2USxZQUFBO2dCQVFBLE9BUEFuRCxFQUFBbTZCLEtBQ0FBLEVBQUE5dkIsUUFBQSxTQUFBakc7b0JBQ0FzRyxJQUFBekYsT0FBQW5LLFdBQWtDNFAsR0FBQXRHO3FCQUdsQ3NHLElBQUF6RixPQUFBbkssV0FBZ0M0UCxHQUFBeXZCLFVBRWhDenZCOztZQVVBMUwsS0FBQTtnQkFDQSxJQUFBZ3lCLElBQUExeEIsS0FBQWxGLFFBQUFoSSxRQUFBNitCLGFBQUFELFNBQ0F0bUIsSUFBQXBMLEtBQUE0NkI7Z0JBRUEsV0FBQWxKLEVBQUExSyxVQUNBMEssRUFBQTNQLE9BQUEzVyxFQUFBak0sWUFBQXV5QixFQUFBN04sU0FFQTZOLEVBQUF0bUIsV0FDQXBMLEtBQUFsRixRQUFBaEksUUFBQTYrQixhQUFBRDs7OztHNUVtL05NLFNBQVVyZ0MsR0FBUUMsR0FBU0U7STZFMWlPakM7SUFFQUgsRUFBQUMsVUFBQTtRQUNBO1lBQ0FvTyxLQUFBO2dCQUNBbE8sRUFBQSxJQUFBd08sS0FBQWxGLFFBQUFoSSxRQUFBMmdDOzs7O0c3RThqT00sU0FBVXBpQyxHQUFRQyxHQUFTRTtJOEVua09qQztJQUVBLElBQUF1dkIsSUFBQXZ2QixFQUFBLEtBQ0FhLElBQUFiLEVBQUEsSUFDQXdMLElBQUF4TCxFQUFBO0lBY0FILEVBQUFDLFVBQUEsU0FBQW1pQztRQUNBLElBQUF6Z0MsSUFBQWdLLEVBQUF4SixlQUFBbkIsRUFBQUM7UUFDQSxLQUFBVSxFQUFBOG5DLFlBQUE7WUFHQTluQyxFQUFBOG5DO2dCQUNBeDZCLFFBQUFqTyxFQUFBaUY7O1lBSUEsSUFBQXlqQyxJQUFBdnBDLEVBQUEsSUFBQWtPLElBQUFvZjtnQkFDQTJVOztZQUVBLFNBQUE5NEIsS0FBQW9nQyxHQUNBL25DLEVBQUEySCxLQUFBb2dDLEVBQUFwZ0M7WUFFQXFDLEVBQUFwSixlQUFBdkIsRUFBQUMsT0FBQVU7WUFDQSxJQUFBZ29DLE1BQUEzb0MsRUFBQUMsUUFBQSxTQUFBRCxFQUFBaUY7WUFDQXlwQixFQUFBc0IsU0FBQTJZLElBQ0FqYSxFQUFBdUIsWUFBQTBZOzs7RzlFcWxPTSxTQUFVM3BDLEdBQVFDLEdBQVNFO0krRTNuT2pDO0lBRUEsSUFBQXV0QixJQUFBdnRCLEVBQUEsS0FDQStOLElBQUEvTixFQUFBLElBQ0F5TCxJQUFBekwsRUFBQSxJQUNBa1AsSUFBQWxQLEVBQUEsS0FDQWEsSUFBQWIsRUFBQSxJQUNBdXZCLElBQUF2dkIsRUFBQSxLQUNBNkosSUFBQTdKLEVBQUEsSUFDQXdMLElBQUF4TCxFQUFBLElBQ0F5cEMsSUFBQXpwQyxFQUFBLEtBQ0F1SCxJQUFBdkgsRUFBQSxLQUNBMHBDLElBQUExcEMsRUFBQSxLQUVBeUosSUFBQXpKLEVBQUEsS0FDQWdRLElBQUFoUSxFQUFBLEtBQ0FrTixJQUFBbE4sRUFBQSxLQUdBMnBDLElBQUEsU0FBQTk4QixHQUFBZ0M7UUFDQTZCLFNBQUFyUSxRQUFBLHFCQUFBd08sS0FDQTZCLEdBQUFyUSxLQUFBO1lBQ0FtNEIsTUFBQTtZQUNBb1IsU0FBQS84QixFQUFBKzhCO1dBQ0ssU0FBQTMzQjtZQUNMLElBQUEzRDtZQUNBQSxFQUFBekIsRUFBQWc5QixXQUFBNTNCLEVBQUFwRixFQUFBZzlCLFVBQ0FoN0IsRUFBQVA7O09BS0FKLElBQUFxZixFQUFBSTtRQVVBbWMsT0FBQSxTQUFBdDhCLEdBQUEyRSxHQUFBUCxHQUFBUCxHQUFBQztZQWVBLE9BZEE5RCxJQUFBd0MsRUFBQTZCLFVBQUFyRSxJQUNBLG1CQUFBMkUsS0FBQSxXQUFBUCxJQUNBbkcsRUFBQTJGLFFBQUE1RDtnQkFDQW9FO2dCQUNBTztnQkFDQVQsVUFBQTtlQUNPTCxHQUFBQyxLQUVQN0YsRUFBQTJGLFFBQUE1RCxJQUFBLE1BQUEyRTtnQkFDQVA7Z0JBQ0FGLFVBQUE7ZUFDT0wsR0FBQUMsSUFHUDlEOztRQVFBdThCLGtCQUFBLFNBQUF2OEIsR0FBQTZELEdBQUFDO1lBQ0EsVUFBQTlELEVBQUFwRSxRQUFBO2dCQUVBLElBQUE0SyxJQUFBblQsRUFBQTJGO2dCQUNBLGlCQUFzQm9KLEtBQUFwQyxPQUN0QndHLElBQUEsVUFFQXhHLElBQUF3RyxJQUFBeEc7O1lBRUEvQixFQUFBMkYsUUFBQTVEO2dCQUF1Qm9FLFFBQUE7ZUFBZ0JQLEdBQUFDOztRQWlCdkMwNEIsU0FBQSxTQUFBemhDLEdBQUEwM0I7WUFDQSxJQUFBeitCLElBQUFnSyxFQUFBeEosZUFBQW5CLEVBQUFDO1lBQ0F5SCxhQUVBQSxFQUFBeWYsWUFDQXhtQixFQUFBeXVCLGFBQUFwdkIsRUFBQUMsUUFBQSxhQUFBeUgsRUFBQXlmO1lBR0EsSUFBQWlpQixJQUFBLElBQUFSO1lBQ0FsaEMsRUFBQTQrQixhQUFBLE1BQ0E1K0IsRUFBQXFKLFdBQ0FySixFQUFBcUosU0FBQTtZQUdBLElBQUFwSixJQUFBaEgsRUFBQXlnQyxVQUFBejVCO1lBV0EsT0FWQXloQyxFQUFBLzdCO2dCQUNBL0YsU0FBQUssRUFBQUw7Z0JBQ0E3RyxTQUFBdUksRUFBQXJCLEVBQUFsSDs7Z0JBRUFpSDtnQkFDQTAzQjtnQkFDQWlLLFlBQUE7Z0JBRUFDLHNCQUFBO2lCQUVBOztRQTZCQUMsZ0JBQUEsU0FBQS9YLEdBQUFtRCxHQUFBRixHQUFBMWpCO1lBQ0EsSUFBQXBRLElBQUFnSyxFQUFBeEosZUFBQW5CLEVBQUFDLFFBQ0FxQyxJQUFBO1lBQ0EsS0FBQTNCLEVBQUFvRyxhQUFBQyxTQUFBMnRCLE1BQUFyeUIsS0FBQSxVQUFBcXlCLEdBZ0NBdGdCLFFBQUFHLEtBQUEsd0RBL0JBLElBQUFuRyxFQUFBb21CLElBQUE7Z0JBQ0ExakIsTUFDQUEsSUFBQTtnQkFFQSxJQUFBcXVCLFFBQ0FvSyxJQUFBO2dCQUNBL1UsRUFBQS9iLFFBQUEsU0FBQWhZO29CQUNBMCtCLEVBQUFsMEI7d0JBQ0F3cUIsUUFBQSxtQkFBQWgxQixFQUFBZzFCLFNBQUFoMUIsRUFBQWcxQjt3QkFDQStULEtBQUEvb0MsRUFBQStvQzt3QkFDQW4rQixLQUFBNUssRUFBQTRLO3dCQUNBbytCLGdCQUFBaHBDLEVBQUFncEM7d0JBRUEsWUFBQWhwQyxFQUFBaXBDLG1CQUFBLFdBQUFILE1BQ0FBLElBQUE7O2dCQUdBLElBQUFJO2dCQUNBQSxFQUFBMStCLE1BQUF5cEIsTUFBQXJ5QixJQUFBLDJCQUFBZ00sS0FBQUUsVUFBQTR3QixLQUNBd0ssRUFBQTErQixLQUFBeXBCLE1BQUFyeUIsSUFBQTtnQkFDQXNuQyxFQUFBMStCLEtBQUEsc0JBQ0EwK0IsRUFBQTErQixLQUFBLGFBQUE2RixJQUNBNjRCLEVBQUExK0IsS0FBQSxjQUFBdXBCLEVBQUE3b0I7Z0JBQ0EsWUFBQTQ5QixLQUNBSSxFQUFBMStCLEtBQUEsMEJBRUF2SyxFQUFBaTFCLE9BQUFwRSxHQUFBbUQsR0FBQWlWLEVBQUE1M0IsS0FBQSxNQUFBakI7bUJBRUFzRCxRQUFBRyxLQUFBOztRQWVBcTFCLFNBQUEsU0FBQXJZLEdBQUFtRCxHQUFBNWIsR0FBQWhJLEdBQUF1RjtZQUNBLElBQUEzVixJQUFBZ0ssRUFBQXhKLGVBQUFuQixFQUFBQztZQUNBdXhCLEtBQUEsSUFDQUEsS0FBQSxNQUFBQSxFQUFBanBCLFFBQUEsUUFBQTVILEVBQUFvRyxhQUFBQyxVQUNBd3FCLElBQUEsTUFBQUE7WUFFQSxJQUFBNFgsSUFBQSxJQUFBUixLQUNBOWdDLElBQUFuSCxFQUFBeWdDLFVBQUF0NUI7WUFzQkEsT0FyQkFzaEMsRUFBQS83QjtnQkFDQS9GLFNBQUFRLEVBQUFSO2dCQUNBN0csU0FBQXVJLEVBQUFsQixFQUFBckg7O2dCQUVBaUg7b0JBQ0E0K0IsWUFBQTtvQkFDQXYxQixhQUFBOztnQkFFQXF1QjtvQkFDQTVOO29CQUNBbUQ7b0JBQ0E1Yjs7Z0JBRUFzd0IsWUFBQTtnQkFFQUMsc0JBQUE7ZUFDSztnQkFDTHA4QixFQUFBb0osTUFDQUE7aUJBR0E7O1FBR0F3ekIsWUFBQTtZQUNBLElBQUFucEMsSUFBQWdLLEVBQUF4SixlQUFBbkIsRUFBQUMsUUFDQWd1QixJQUFBdHRCLEVBQUFzdEIsVUFDQTNpQixJQUFBMmlCLEVBQUEzaUIsV0FDQWdHLElBQUFoRyxFQUFBZ0c7WUFDQSxTQUFBQSxFQUFBTSxHQUFBTixFQUFBc1M7O1FBVUFtbUIsYUFBQTtZQUNBLElBRUF6ekIsR0FGQXpJLFFBQ0FnZCxJQUFBemY7WUFFQSxtQkFBQXlmLEVBQUEsTUFDQWhkLElBQUFnZCxFQUFBLElBQ0F2VSxJQUFBdVUsRUFBQSxPQUVBaGQsRUFBQXN3QixXQUFBdFQsRUFBQSxJQUFBQSxFQUFBLGVBQUE3WSxLQUFBO1lBQ0FzRSxJQUFBdVUsRUFBQTtZQUVBLElBQUFrRjtZQUNBbGlCLEVBQUFzd0IsVUFBQXR3QixFQUFBZ3hCLFdBQUFuNEIsRUFBQThLLFlBQUEsaUJBWUF1ZSxNQUFBLGNBQUFsaUI7WUFDQTZnQixFQUFBc0IsU0FBQUQsSUFDQXJCLEVBQUF1QixZQUFBRixPQWJBQSxNQUFBLGtCQUNBckIsRUFBQXNCLFNBQUFELElBQ0FyQixFQUFBdUIsWUFBQUY7WUFhQSxJQUFBL2hCLElBQUEscUJBQUFzSSxRQUFBO1lBQ0F0SSxFQUFBK2hCOztRQVlBWCxjQUFBLFNBQUFNLEdBQUFsdUI7WUFDQSxPQUFBa0YsRUFBQTBvQixhQUFBTSxHQUFBbHVCOztRQVFBd29DLHVCQUFBLFNBQUF4M0I7WUFDQSx1QkFBQUEsR0FBQTtnQkFFQXEyQixNQUNBaDVCLEdBQUFvNkIsZ0JBQUEsd0JBQUF6M0IsS0FDTyxTQUFBNUgsRUFBQW9FLHFCQUNQYSxHQUFBclEsS0FBQTtvQkFDQTBxQyxXQUFBMTNCO29CQUNBMjNCLDJCQUFBOztnQkFJQSxJQUFBOUwsSUFBQXp6QixFQUFBd0Usa0JBQ0ErWCxJQUFBa1gsRUFBQXpXLFNBQUF5VyxFQUFBeFcsTUFBQSxRQUNBdlc7Z0JBQ0FBLEVBQUE2VixLQUFBM1UsR0FDQTlMLEVBQUEraEIsZUFBQSx5QkFBQW5YOzs7UUFNQTg0QiwyQkFBQSxTQUFBNTNCO1lBSUEsSUFIQUEsTUFDQUEsU0FFQTNDLElBQUE7Z0JBQ0EsSUFBQXlCO29CQUNBcW1CLE1BQUE7b0JBQ0FyZixVQUFBO29CQUNBK3hCLFVBQUE7b0JBQ0E5aUMsTUFBQTtvQkFDQTRmLFVBQUE7b0JBQ0FtakIsU0FBQTtvQkFDQTVhLE1BQUE7b0JBQ0E2YSxNQUFBO29CQUNBQyxNQUFBO29CQUNBQyxPQUFBajRCO29CQUNBQTs7Z0JBRUEzQyxHQUFBNjZCLGdCQUNBNzZCLEdBQUE2NkIsY0FBQSxZQUFBcDVCLEtBQ096QixHQUFBbzZCLG1CQUNQcDZCLEdBQUFvNkIsZ0JBQUEsU0FBQTM0Qjs7O1FBYUFxNUIsaUJBQUFqa0MsRUFBQStoQjtRQU9BalgsYUFBQSxTQUFBbEo7WUFDQSxPQUFBNUIsRUFBQThLLFlBQUFsSjs7UUFJQVU7UUFNQTRoQyxXQUFBO1lBRUEvNkIsU0FBQTY2QixpQkFDQTc2QixHQUFBNjZCLGNBQUE7O1FBUUFHLGFBQUE7WUFDQWg3QixTQUFBNjZCLGlCQUFBLzhCLEtBQUFtOUIsb0JBQ0FuOUIsS0FBQW05QixtQkFBQSxHQUNBbjlCLEtBQUFvOUIsZ0JBQUE7WUFDQWw3QixHQUFBNjZCLGNBQUE7O1FBUUFNLGdCQUFBO1lBQ0FuN0IsU0FBQTY2QixpQkFBQS84QixLQUFBbzlCLGlCQUNBcDlCLEtBQUFtOUIsbUJBQUEsR0FDQW45QixLQUFBbzlCLGdCQUFBO1lBQ0FsN0IsR0FBQTY2QixjQUFBOztRQUdBTyxvQkFBQSxTQUFBejRCO1lBQ0FBLE1BQ0FBLFNBRUEzQyxTQUFBNjZCLGlCQUNBNzZCLEdBQUE2NkIsY0FBQTtnQkFDQVEsYUFBQTU4QixLQUFBRSxVQUFBZ0U7OztRQUtBMjRCLHdCQUFBLFNBQUEzNEI7WUFDQUEsTUFDQUEsU0FFQTNDLFNBQUE2NkIsaUJBQ0E3NkIsR0FBQTY2QixjQUFBO2dCQUNBUSxhQUFBNThCLEtBQUFFLFVBQUFnRTs7O1FBVUE0NEIsMEJBQUEsU0FBQTd5QjtZQUlBMUksU0FBQXJRLFFBQUEsbUJBQUErWSxLQUNBMUksR0FBQXJRLEtBQUE7Z0JBQ0FtNEIsTUFBQTtnQkFDQW9SLFNBQUE7Z0JBQ0FzQyxTQUFBOXlCOzs7UUFRQSt5QixnQkFBQSxTQUFBdDlCO1lBQ0E4NkI7Z0JBQ0FDLFNBQUE7Z0JBQ0FDLFNBQUE7ZUFDS2g3Qjs7UUFPTHU5QixnQkFBQSxTQUFBdjlCO1lBQ0E4NkI7Z0JBQ0FDLFNBQUE7Z0JBQ0FDLFNBQUE7ZUFDS2g3Qjs7UUFNTHc5QixjQUFBLFNBQUFya0IsR0FBQTNmO1lBQ0EsS0FBQTJmLEdBS0EsWUFKQXZlLElBQUFDLEVBQUEsbUNBQUFzZTtZQU1BLElBQUFza0IsSUFBQWprQyxLQUFBNkUsRUFBQVEsc0JBRUE2K0IsSUFBQTFpQyxFQUFBdEMsRUFBQThLLFlBQUE7WUFDQWs2QixFQUFBRCxLQUFBdGtCLEdBQ0F6Z0IsRUFBQStoQixlQUFBLGNBQUFpakI7O1FBTUEza0IsYUFBQSxTQUFBdmY7WUFDQSxPQUFBNkUsRUFBQUMsWUFBQTlFOztRQU1BbWtDLGdCQUFBLFNBQUEvekIsR0FBQTVKO1lBQ0EsSUFBQTRKLEdBQUE7Z0JBSUEsSUFBQTZZLElBQUFwa0IsRUFBQUMsaUJBQUE7Z0JBRUEsdUJBQUFzTCxHQUFBO29CQUNBLElBQUFzYixJQUFBdGIsRUFBQW1aLFdBQUFuWixFQUFBbVosUUFBQW1DLGlCQUFBLElBQ0EwWSxJQUFBejhCLEVBQUEyRCxpQkFBQW9nQjtvQkFDQSxTQUFBekMsR0FBQW1iLEVBQUF6WSxNQUFBeVksRUFBQXZZLE9BQUFyaEIsS0FBQTs7Z0JBRUEsSUFHQTY1QixHQUhBbmhDLElBQUFFLEVBQUFwSyxjQUNBc3JDLElBQUFwbEMsRUFBQThLLFlBQUEseUJBQ0F1NkIsSUFBQXJsQyxFQUFBOEssWUFBQTtnQkFFQTtvQkFDQSxJQUFBdkk7b0JBRUEsS0FBQUEsSUFBQSxHQUFrQkEsSUFBQTZpQyxFQUFBbGdDLFFBQThCM0MsS0FBQTt3QkFDaEQsSUFBQStpQyxJQUFBRixFQUFBN2lDO3dCQUNBLElBQUEraUMsRUFBQXRiLGdCQUFBOVksR0FBQTs0QkFDQWkwQixNQUFBcGIsR0FBQXViLEVBQUE3WSxNQUFBNlksRUFBQTNZLE9BQUFyaEIsS0FBQTs0QkFDQTs7O29CQUlBLEtBQUEvSSxJQUFBLEdBQWtCQSxJQUFBOGlDLEVBQUFuZ0MsUUFBOEIzQyxLQUFBO3dCQUNoRCxJQUFBZ2pDLElBQUFGLEVBQUE5aUM7d0JBQ0EsSUFBQWdqQyxFQUFBdmIsZ0JBQUE5WSxHQUFBOzRCQUNBaTBCLE1BQUFwYixHQUFBd2IsRUFBQTlZLE1BQUE4WSxFQUFBNVksT0FBQXJoQixLQUFBOzRCQUNBOzs7b0JBSUEsSUFBQTJlLElBQUFqbUIsRUFBQWttQixzQkFBQUMsVUFBQWpaO29CQUNBLHFCQUFBK1ksRUFBQUcsVUFDQUgsRUFBQUc7d0JBQ0FDLFVBQUE7d0JBQ0F6eEIsS0FBQTt1QkFDVyxTQUFBdVQ7d0JBQ1gsSUFBQW5FO3dCQUNBLElBQUFtRSxPQUFBakgsU0FBQTs0QkFDQSxTQUFBM0MsSUFBQSxHQUE2QkEsS0FBQTRKLEVBQUFqSCxRQUFpQjNDLEtBQzlDeUYsRUFBQXhELEtBQUEyZ0MsSUFBQSxNQUFBNWlDOzRCQUVBK0UsS0FBQSxxQkFBQUEsS0FDQUEsRUFBQVU7O3VCQUdXc1g7a0JBRUosT0FBQXpSO29CQUNQM0wsSUFBQUMsRUFBQSx5QkFBQTBMOzs7O1FBU0EyM0IsZ0JBQUEsU0FBQW56QixHQUFBaEksR0FBQXVGO1lBQ0EsS0FBQXlDLEVBQUE0bUIsY0FFQSxPQURBLzJCLElBQUFDLEVBQUE7YUFDQTtZQUVBLElBQUFsSSxJQUFBZ0ssRUFBQXhKLGVBQUFuQixFQUFBQztZQUNBLE9BQUFVLEVBQUFrcEMsUUFBQSx3QkFBQTl3QixHQUFBaEksR0FBQXVGOzs7SUFJQXJYLEVBQUFvTztHL0Uyb09NLFNBQVVyTyxHQUFRQyxHQUFTRTtJZ0ZyclBqQztJQUVBLElBQUEwWixJQUFBMVosRUFBQSxLQUNBd0wsSUFBQXhMLEVBQUEsSUFDQStOLElBQUEvTixFQUFBLElBQ0F1dkIsSUFBQXZ2QixFQUFBLEtBQ0FndEMsSUFBQWh0QyxFQUFBLEtBQ0FhLElBQUFiLEVBQUEsSUFDQWl0QyxJQUFBanRDLEVBQUEsS0FDQWt0QyxJQUFBbHRDLEVBQUEsS0FxQkF5cEMsSUFBQTtJQWdCQUEsRUFBQXp3QixVQUFBOUssTUFBQSxTQUFBaS9CLEdBQUF0Z0MsR0FBQWdDO1FBRUEsSUFBQXUrQixJQUFBLElBQUFGO1FBQ0FFLEVBQUEzM0I7WUFDQTQzQjtZQUNBOWtDLFFBQUFzRSxFQUFBdEU7WUFDQUosU0FBQWdsQyxFQUFBaGxDOztRQUVBLElBQUFrbEMsSUFBQUQsRUFBQWwvQixPQUdBNU0sSUFBQXlNLEVBQUFvL0IsRUFBQTdyQyxXQUFBLElBQUE2ckMsRUFBQTdyQyxZQUFBNnJDLEVBQUE3ckM7UUFDQUEsRUFBQTIrQixXQUFBcHpCLEVBQUFvekIsVUFDQTMrQixFQUFBZ3NDLFNBQUFOLEVBQUFNO1FBRUEsSUFBQUM7WUFDQWpzQztZQUNBMHZCLFFBQUF4bEIsRUFBQWxKLGNBQUE7WUFDQTRuQyxZQUFBcjlCLE9BQUFxOUI7V0FHQXNELElBQUEsSUFBQVA7UUFDQU8sRUFBQWxnQixPQUFBaWdCLElBRUFDLEVBQUFDLEtBQUFKLEdBQUE7WUFDQUUsRUFBQWpzQyxRQUFBd04sU0FBQWpPLEVBQUFpRixVQUNBK0csTUFDQUEsRUFBQXM5Qix3QkFDQTVhLEVBQUFzQixXQUFBaGtCLEVBQUFzOUIsc0JBQUFvRCxFQUFBanNDO1lBRUF1TCxFQUFBNmdDLGtCQUNBaDBCLEVBQUE3TSxFQUFBNmdDLGdCQUFBLFNBQUFoaUM7Z0JBQ0FBLEVBQUFGLEVBQUF4SixlQUFBbkIsRUFBQUMsUUFBQXFzQztpQkFJQXAvQixFQUFBYyxNQUNBQSxFQUFBMCtCLEVBQUFqc0M7O09BS0F6QixFQUFBQyxVQUFBMnBDO0doRnFzUE0sU0FBVTVwQyxHQUFRQyxHQUFTRTtJaUY3eFBqQztJQVFBLElBQUEydEMsSUFBQTtJQUNBN3RDLEVBQUF3dEMsU0FBQSxTQUFBaDdCO1FBQ0FBLE1BQ0FBO1FBRUEsSUFBQXM3QixJQUFBdDdCLEVBQUFzN0IsU0FBQTtRQUNBMTRCLG1CQUFBMDRCLE1BQUExNEIsUUFBQTA0QixHQUFBRCxJQUFBcjdCLEVBQUFSO09BR0FoUyxFQUFBK3RDLFdBQUEsU0FBQXY3QjtRQUNBLElBQUE5USxJQUFBeEIsRUFBQSxHQUFBZ0MsZUFBQTtRQUNBUixPQUFBc3NDLGNBQ0F0L0IsS0FBQTgrQixPQUFBaDdCOztHakY4eVBNLFNBQVV6UyxHQUFRQyxHQUFTRTtJa0ZsMFBqQztJQU9BLFNBQUF3dEM7SUFMQSxJQUFBei9CLElBQUEvTixFQUFBLElBQ0FrNEIsSUFBQWw0QixFQUFBLEtBRUF5SixJQUFBekosRUFBQTtJQUlBd3RDLEVBQUF4MEIsVUFBQXNVLFNBQUEsU0FBQU87UUFNQSxTQUFBemxCLEtBQUF5bEIsR0FDQSxzQkFBQXJmLEtBQUFwRyxPQUNBb0csS0FBQXBHLEtBQUF5bEIsRUFBQXpsQjtRQUdBLE9BQUFvRztPQUdBZy9CLEVBQUF4MEIsVUFBQSswQixpQkFFQVAsRUFBQXgwQixVQUFBZzFCLGdCQUFBLFNBQUFsa0M7UUFDQW91QixFQUFBbUUsUUFBQTd0QixLQUFBdS9CLFlBQUFqa0MsUUFBQSxLQUNBMEUsS0FBQXUvQixXQUFBaGlDLEtBQUFqQztPQUlBMGpDLEVBQUF4MEIsVUFBQWkxQixrQkFBQTtRQUNBei9CLEtBQUF1L0I7T0FHQVAsRUFBQXgwQixVQUFBeTBCLE9BQUEsU0FBQVMsR0FBQXIvQjtRQUNBLElBQUF2TixJQUFBa04sTUFDQWpELElBQUFpRCxLQUFBbE4sZUFDQWtzQyxJQUFBamlDLEVBQUFpaUMsZUFDQVcsSUFBQVgsRUFBQVcsY0FBQTtRQUVBLGdCQUFBcGhCO1lBQ0EsSUFHQXFoQixHQUhBM29CLElBQUF5b0IsRUFBQXpoQyxRQUNBM0MsSUFBQSxHQUNBNGpCLElBQUEsR0FFQXhmLElBQUEsU0FBQTJLLEdBQUEvSjtnQkFHQSxJQUFBaEYsTUFBQTJiLEdBUUEsT0FQQXNILElBQUEsUUFDQXpyQixFQUFBMnNDLG1CQUVBbGdDLEVBQUFjLE1BQUFDLE1BQUFpZSxLQUNBbGUsRUFBQXhPLEtBQUFpQixHQUFBeXJCO3FCQUVBN00sYUFBQWt1QjtnQkFLQSxJQUFBbFcsRUFBQW1FLFFBQUEvNkIsRUFBQXlzQyxZQUFBamtDLFFBQUE7b0JBRUEsSUFEQXhJLEVBQUEwc0MsaUJBQUExc0MsRUFBQTBzQyxjQUFBbGtDLE1BQ0Fva0MsT0FBQXBrQyxNQUFBaUUsRUFBQW1nQyxFQUFBcGtDLEdBQUEsTUFrQkE7b0JBakJBO3dCQUtBaWpCLElBQUFtaEIsRUFBQXBrQyxHQUFBLEdBQUF6SixLQUFBaUIsR0FBQXlyQixHQUFBOzRCQUNBampCLEtBQ0E0akIsSUFBQSxHQUNBeGYsRUFBQXBFOztzQkFFVyxPQUFBMUk7d0JBQ1hxSSxJQUFBQyxFQUFBdEk7OztnQkFVQSxJQUFBaWxCLElBQUEsbUJBQUEwRztnQkFDQSxnQkFBQUEsS0FBQTFHLEdBQUE7b0JBQ0FxSCxJQUFBO29CQUVBLElBQUEyZ0IsSUFBQWhvQixJQUFBMEcsSUFBQW9oQixHQUNBRyxJQUFBSixFQUFBcGtDLEtBQUFva0MsRUFBQXBrQyxHQUFBO29CQUNBc2tDLElBQUFodUIsV0FBQTt3QkFDQSxNQUFBc04sTUFDQWprQixJQUFBQyxFQUFBLCtCQUFBNGtDLElBQUEsNENBQUFEO3dCQUlBdGhCLElBQUEsTUFDQWpqQixLQUNBb0UsRUFBQXBFO3VCQUVTdWtDO3VCQUNGLFdBQUF0aEIsS0FFUGpqQixJQUFBMmIsR0FDQXZYLEVBQUFwRSxHQUFBaWpCLE9BR0FqakIsS0FDQW9FLEVBQUFwRTs7WUFNQSxPQUhBeEksRUFBQXlzQyxjQUFBenNDLEVBQUF5c0MsV0FBQXRoQyxTQUFBLEtBQ0FuTCxFQUFBMnNDLG1CQUVBLy9CLEVBQUFwRTs7T0FJQWpLLEVBQUFDLFVBQUEwdEM7R2xGaTFQTSxTQUFVM3RDLEdBQVFDLEdBQVNFO0ltRng4UGpDO0lBRUEsSUFBQWdLLElBQUFoSyxFQUFBLEtBRUF5SixJQUFBekosRUFBQTtJQUVBSCxFQUFBQyxVQUFBO1FBQ0E7WUFRQTJWLE1BQUEsU0FBQTVJO2dCQUNBMkIsS0FBQTNCLFVBQ0FBLEtBQUEsbUJBQUFBLEVBQUF3Z0MsY0FBQXhnQyxFQUFBd2dDLFdBQUE1Z0MsU0FBQSxJQUNBK0IsS0FBQTYrQixhQUFBeGdDLEVBQUF3Z0MsYUFFQTcrQixLQUFBNitCO2dCQUVBNytCLEtBQUErL0I7O1lBV0FDLFlBQUEsU0FBQWpqQyxHQUFBMmlDO2dCQUNBO29CQUNBLElBQUFsZCxJQUFBemxCLEVBQUF5bEI7b0JBQ0FBLEtBQ0FBLEVBQUF2QyxRQUFBLG9CQUFBbGpCLEVBQUEyK0IsWUFBQWdFO2tCQUVPLE9BQUE5c0M7b0JBQ1BxSSxJQUFBQyxFQUFBdEk7OztZQU9BOE0sS0FBQSxTQUFBMks7Z0JBQ0FBLFVBQUE7Z0JBQ0EsSUFBQThTLElBQUFuZCxNQUNBNitCLElBQUE3K0IsS0FBQTYrQixZQUNBeGdDLElBQUEyQixLQUFBM0IsWUFDQTFFLElBQUEwRSxFQUFBMUU7Z0JBQ0EsSUFBQUEsS0FBQSxtQkFBQUEsT0FBQXNFLFNBQUE7b0JBQ0EsSUFBQStmLElBQUFya0IsRUFBQTBRO29CQTJCQSxJQTFCQXJLLEtBQUErL0IsYUFBQXhpQyxLQUFBeWdCLEVBQUFwa0IsT0FDQWlsQyxFQUFBdGhDLE9BQUEsU0FBQWdoQixHQUFBNVY7d0JBQ0F3VSxFQUFBNmlCLFdBQUFoZ0MsTUFBQWdlO3dCQUVBLElBQUFsc0IsSUFBQSxJQUFBa3NCLEVBQUFua0I7d0JBYUEsT0FWQS9ILEVBQUFtVixTQUNBblYsRUFBQW1WLE9BQUEsU0FBQW5NOzRCQUNBa0YsS0FBQWxGOzRCQUlBaEosRUFBQW1WOzRCQUNBblUsU0FBQWtOLEtBQUFsTjs0QkFDQWlILFFBQUF5QixFQUFBd2lCLEVBQUFqa0IsY0FBOENzRSxFQUFBdEU7NEJBRTlDakksRUFBQTROLElBQUE2ZSxHQUFBLFNBQUFqYjs0QkFFQXNPLFdBQUE7Z0NBQ0FqSixFQUFBcVYsR0FBQTFhOytCQUNhOzt1QkFFSjBhLEVBQUFwa0IsU0FFVHlRLEtBQ0ExUSxFQUFBMFEsSUFDQSxPQUFBckssS0FBQU4sSUFBQTJLOztnQkFHQSxPQUFBdzBCOzs7O0duRjA5UE0sU0FBVXh0QyxHQUFRQztJb0Z4alF4QixTQUFBNHBDO1FBQ0E7WUFDQSxJQUFBbDZCLElBQUFDLHNCQUFBQyxhQUFBRCxVQUFBRSxjQUFBO1lBQ0EsaUJBQUFDLEtBQUFKO1VBQ0csT0FBQXBPO1lBQ0g7OztJQUlBdkIsRUFBQUMsVUFBQTRwQztHcEZna1FNLFNBQVU3cEMsR0FBUUMsR0FBU0U7SXFGL2pRakM7SUFFQSxJQUFBZ00sSUFBQWhNLEVBQUEsS0FDQXdMLElBQUF4TCxFQUFBO0lBRUFILEVBQUFDLFVBQUE7UUFDQTtZQUNBb08sS0FBQTtnQkFDQSxJQUFBdk4sSUFBQTZOLEtBQUFsRixRQUFBaEksUUFBQVgsY0FDQUksSUFBQUosRUFBQWlILGFBQUE3RyxhQUVBTyxJQUFBa0ssRUFBQW5LLGNBQ0FvdEMsSUFBQW50QyxFQUFBUCxVQUNBdU4sSUFBQXRDLEVBQUEwaUMsZUFBQUQsR0FBQTtnQkFDQW50QyxFQUFBUCxLQUFBdU4sRUFBQXFnQyxPQUNBM2lDLEVBQUE0aUMsb0JBQUF0Z0MsRUFBQXVnQyxhQUFBcmdDLEtBQUFsRixRQUFBZjs7OztHckZtbFFNLFNBQVUxSSxHQUFRQyxHQUFTRTtJc0YvalFqQyxTQUFBcVM7UUFDQSxJQUFBeWMsSUFBQXRqQixFQUFBbEosY0FBQSxhQUNBMnNCLElBQUFILEVBQUFHO1FBQ0EsT0FBQUE7O0lBR0EsU0FBQTZmO1FBQ0EsSUFBQTdmLElBQUE1YyxXQUNBeXpCLElBQUE3VyxFQUFBNlcsT0FBQTtRQUNBLGVBQUFBLEtBQUE3VyxFQUFBeVcsWUFHQXpXLEVBQUEsU0FBQUEsRUFBQSxtQkFGQTs7SUFTQSxTQUFBOGYsRUFBQUM7UUFDQSxJQUFBQyxJQUFBSCxLQUVBN2YsSUFBQTVjLFdBQ0FxZCxLQUFBLEdBSUFoRSxJQUFBc2pCLEVBQUEvaUMsaUJBQ0FxckIsSUFBQTVMLEVBQUEsSUFDQWlGLElBQUFqRixFQUFBLElBQ0F3akIsSUFBQTtRQUNBLGdCQUFBNVgsS0FBQTNHLE1BQUF1ZSxHQUNBLE9BQUFBO1FBRUEsb0JBQUE1WCxLQUFBM0csR0FDQSxPQUFBdWU7UUFFQSxJQUFBRixLQUFBLHVEQUFBcC9CLEtBQUFvL0IsRUFBQWhqQyxTQUNBLFFBQUFpakM7VUFDQTtZQUNBaGdCLEVBQUFnZ0IsT0FDQUUsRUFBQXBqQyxLQUFBaWpDLElBQ0F0ZixLQUFBOztRQU9BLE9BQUFBOztJQUtBLFNBQUEwZixFQUFBdmlDO1FBR0EraEMsRUFBQVMsR0FBQXhpQyxJQUNBK2hDLEVBQUFVLEdBQUF6aUMsSUFDQStoQyxFQUFBTyxHQUFBdGlDOztJQTBCQSxTQUFBMGlDLEVBQUF0dEMsR0FBQTJHO1FBSUEsT0FIQUEsS0FBQS9ILEVBQUFnRyxTQUFBdUMsUUFBQW5ILE1BQUEsTUFDQUEsSUFBQSxNQUFBQSxJQUVBQTs7SUFySUEsSUFBQXVKLElBQUF4TCxFQUFBLElBQ0FrNEIsSUFBQWw0QixFQUFBLEtBQ0ErTixJQUFBL04sRUFBQSxJQUVBeUosSUFBQXpKLEVBQUEsS0FDQWEsSUFBQWIsRUFBQSxJQVFBNHVDLElBQUEsU0FBQVksR0FBQTNpQztRQUNBLFNBQUFwSztZQUNBLElBQUErc0MsS0FBQXRYLEVBQUFocEIsUUFBQXNnQyxRQUFBL2lDLFFBQUE7Z0JBS0EsS0FIQSxJQUFBZ2lDLElBQUFDLEVBQUFjLEdBQUFiLE9BQ0FLLFFBQ0FTLFFBQ0FULElBQUFQLEVBQUFqN0IsV0FDQWs4QixFQUFBVixHQUFBbmlDLEdBQUEsU0FBQXVCO29CQUNBcWhDLEVBQUExakMsS0FBQXFDOztnQkFHQXFoQyxFQUFBaGpDLFNBQUEsS0FDQTJULFdBQUE7b0JBQ0EsTUFBQTR1QixJQUFBUyxFQUFBajhCLFdBQ0FrOEIsRUFBQVYsR0FBQW5pQzttQkFFTzs7O1FBR1A7WUFDQXBLO1VBQ0csT0FBQXJCO1lBQ0hxSSxJQUFBQyxFQUFBdEk7OztJQU1BdEIsRUFBQTh1QztJQWlCQSxJQUFBUyxRQUNBQyxRQUNBSDtJQW9EQXJ2QyxFQUFBNnZDLDJCQUFBLFNBQUFDLEdBQUEvaUM7UUFDQSxJQUFBNGhDLElBQUFqakMsRUFBQXhKLGVBQUE0dEM7UUFDQW5CLEVBQUExaUM7WUFDQUMsUUFBQW5MLEVBQUE2RTtZQUNBdUcsYUFBQXBMLEVBQUFpQyxlQUFBLFNBQUFiLEdBQUFJO2dCQUNBSixNQUFBcEIsRUFBQWdFLFlBQUF4QyxJQUNBdXNDLEVBQUFTLEdBQUF4aUMsS0FDTzVLLE1BQUFwQixFQUFBK0QsYUFBQXZDLElBQ1B1c0MsRUFBQVUsR0FBQXppQyxLQUNPLFlBQUE1SyxLQUFBLFlBQUFJLEtBQ1Arc0MsRUFBQXZpQzs7OztJQW1CQSxJQUFBNmlDLElBQUEsU0FBQVYsR0FBQW5pQyxHQUFBZ0M7UUFDQSxJQUFBakcsTUFBQWlFLEVBQUFqRSxXQUNBb0QsSUFBQWdqQyxNQUFBaGpDLFNBQUEsSUFDQTBmLElBQUFzakIsTUFBQS9pQyxZQUFBLElBRUFzRCxJQUFBdy9CLEVBQUFDO1FBQ0EsSUFBQXovQixHQUFBO1lBR0EsSUFBQWpPLElBQUFrSyxFQUFBbks7WUFDQTtnQkFDQSxJQUFBMkssS0FBQTBmLEtBQUF3TSxFQUFBaHBCLFFBQUF3YyxJQUFBO29CQUNBLElBR0FuYSxHQUhBa0IsSUFBQXpHLEVBQUFPLE1BQUEsTUFDQW1DLElBQUFwTixHQUNBdXVDLElBQUF2dUM7b0JBRUEsVUFBQW1SLEVBQUFoRyxRQUNBaUMsSUFBQXBOLEVBQUFtUixFQUFBLElBQUFBLEVBQUEsV0FDQWxCLElBQUFnK0IsRUFBQTk4QixFQUFBLElBQUE3SixJQUNBaW5DLElBQUFuaEMsRUFBQTZDLEtBQUE3QyxFQUFBNkMsS0FBQSxTQUVBLE1BQUFrQixFQUFBaEcsVUFHQSxJQUZBOEUsSUFBQWcrQixFQUFBOThCLEVBQUFlLFNBQUE1SztvQkFDQWluQyxJQUFBbmhDLE1BQUE2QyxLQUNBN0MsR0FJQSxhQUhBWCxFQUFBYyxNQUNBQSxFQUFBbWdDO29CQU1BamhDLEVBQUE4aEMsTUFDQUEsRUFBQXRoQyxNQUFBRyxHQUFBZ2QsSUFFQSxZQUFBbmMsS0FDQTYvQixFQUFBdmlDOztjQUdHLE9BQUF6TDtnQkFDSHFJLElBQUFDLEVBQUF0STs7OztJQU1BdEIsRUFBQTR2QztJQUVBLElBQUFoQixJQUFBLFNBQUFDLEdBQUFuVztRQVdBLEtBVkEsSUFBQXNYO1lBQ0FDO1lBQ0FDO1lBQ0FDO1lBQ0FDO1lBQ0FDO1dBR0FodUMsUUFDQTZzQyxRQUNBQSxJQUFBTCxFQUFBbjdCLFdBQ0E7WUFDQSxJQUFBNDhCLElBQUFwQixFQUFBaGpDLFFBQ0EvSixJQUFBK3NDLEVBQUEvaUMsVUFBQTtZQUNBLFlBQUEyRCxLQUFBd2dDLEtBQ0Esa0JBQUFudUMsSUFDQTZ0QyxFQUFBRSxtQkFBQWprQyxLQUFBaWpDLEtBQ1Mvc0MsTUFBQXBCLEVBQUF5RixnQkFBQXJFLE1BQUFwQixFQUFBMEYsaUJBQ1R1cEMsRUFBQUMsdUJBQUFoa0MsS0FBQWlqQyxLQUVBYyxFQUFBRyxlQUFBbGtDLEtBQUFpakMsS0FFTyxXQUFBcC9CLEtBQUF3Z0MsS0FDUE4sRUFBQUksVUFBQW5rQyxLQUFBaWpDLEtBRUFjLEVBQUFLLFlBQUFwa0MsS0FBQWlqQztVQUVLLE9BQUE1dEM7WUFDTHFJLElBQUFDLEVBQUF0SSxJQUlBMHVDLEVBQUFLLFlBQUFwa0MsS0FBQWlqQzs7UUFHQSxJQUFBSDtRQVFBLE9BUEFyVyxLQUFBc1gsRUFBQXRYLE9BQ0FxVyxJQUFBaUIsRUFBQXRYLElBQ0FzWCxFQUFBdFgsVUFFQXIyQixJQUFBMnRDLEVBQUFDLHVCQUFBanVDLE9BQUFndUMsRUFBQUk7UUFDQS90QyxNQUFBTCxPQUFBZ3VDLEVBQUFHLGlCQUNBOXRDLE1BQUFMLE9BQUFndUMsRUFBQUUsb0JBQUFGLEVBQUFLOztZQUVBeEIsT0FBQXhzQztZQUNBMHNDOzs7SUFHQS91QyxFQUFBNHVDO0d0Rm1uUU0sU0FBVTd1QyxHQUFRQyxHQUFTRTtJdUZ6MVFqQztJQUVBLElBQUF1dEIsSUFBQXZ0QixFQUFBLEtBQ0F3TCxJQUFBeEwsRUFBQSxJQUNBZ00sSUFBQWhNLEVBQUEsS0FFQXNiLElBQUFpUyxFQUFBSTtRQUNBNWhCLE1BQUEsU0FBQWlqQztZQUNBeGdDLEtBQUEvQixVQUNBVCxFQUFBMGpDLFlBQUFWLEdBQUF4Z0MsS0FBQTNCOzs7SUFJQWhOLEVBQUFDLFVBQUE7UUFDQTtZQUNBdXdDLG1CQUFBLFNBQUFUO2dCQUNBLElBQUEvaUMsSUFBQTJCLEtBQUFsRixRQUFBZixjQUNBa21DLElBQUFqakMsRUFBQXhKLGVBQUE0dEM7Z0JBQ0E1akMsRUFBQTRpQyxvQkFBQUgsR0FBQTVoQyxJQUNBckIsRUFBQXBKLGVBQUF3dEMsR0FBQXQwQixFQUFBZ1M7b0JBQ0F6Z0I7b0JBQ0F5akMsYUFBQTdCLEVBQUFoaUM7b0JBQ0FBLFFBQUE7OztZQU9BeUIsS0FBQTtnQkFDQSxJQUFBdk4sSUFBQTZOLEtBQUFsRixRQUFBaEksUUFBQVgsY0FDQUksSUFBQUosRUFBQWlILGFBQUE3RztnQkFFQXlOLEtBQUE2aEMsa0JBQUF0dkMsSUFFQSxrQkFBQUEsS0FDQXlOLEtBQUE2aEMsa0JBQUE7Z0JBRUFya0MsRUFBQTJqQyx5QkFBQTV1QyxHQUFBeU4sS0FBQWxGLFFBQUFmOzs7O0d2RjYyUU0sU0FBVTFJLEdBQVFDLEdBQVNFO0l3Rm41UWpDO0lBWUEsU0FBQXV3QztRQWdCQSxTQUFBQztZQUNBLElBQUFDLElBQUF4a0MsVUFBQVEsU0FBQSxnQkFBQVIsVUFBQSxLQUFBQSxVQUFBLFNBQ0F3eUIsSUFBQWh6QixFQUFBd0Usa0JBQ0FpdkIsSUFBQVQsRUFBQWhXLFNBQUFnVyxFQUFBL1Y7WUFHQSxRQUFBK25CO2NBQ0E7Z0JBQ0FoM0IsRUFBQXlQLHFCQUFBLEdBQ0F6bkIsRUFBQXNLO29CQUNBQyxRQUFBO29CQUNBQyxhQUFBeWtDLEVBQUFyZSxVQUFBO3dCQUNBdFgsT0FBQTAxQjt3QkFDQUUsVUFBQXpqQyxFQUFBQyxpQkFBQSt4Qjt3QkFDQXpsQixTQUFBeVA7OztnQkFHQTs7Y0FDQTtnQkFDQXpQLEVBQUEwUCxpQkFBQSxHQUNBMW5CLEVBQUFzSztvQkFDQUMsUUFBQTtvQkFDQUMsYUFBQTJrQyxFQUFBdmUsVUFBQTt3QkFDQXRYLE9BQUEwMUI7d0JBQ0FFLFVBQUF6akMsRUFBQUMsaUJBQUEreEI7d0JBQ0F6bEIsU0FBQTBQOzs7Z0JBR0E7O2NBQ0E7Z0JBQ0ExUCxFQUFBc1EscUJBQUEsR0FDQXRvQixFQUFBc0s7b0JBQ0FDLFFBQUE7b0JBQ0FDLGFBQUE0a0MsRUFBQXhlLFVBQUE7d0JBQ0F0WCxPQUFBMDFCO3dCQUNBRSxVQUFBempDLEVBQUFDLGlCQUFBK3hCO3dCQUNBemxCLFNBQUFzUTt3QkFDQXdXLFlBQUE7OztnQkFHQTs7Y0FDQTtnQkFDQTltQixFQUFBMFEsbUJBQUEsR0FDQTFvQixFQUFBc0s7b0JBQ0FDLFFBQUE7b0JBQ0FDLGFBQUE0a0MsRUFBQXhlLFVBQUE7d0JBQ0F0WCxPQUFBMDFCO3dCQUNBRSxVQUFBempDLEVBQUFDLGlCQUFBK3hCO3dCQUNBemxCLFNBQUEwUTt3QkFDQW9XLFlBQUE7OztnQkFHQTs7Y0FDQTtnQkFDQTlCLEVBQUFoVyxVQUFBcW9CLE1BQ0F2bkI7b0JBQ0EzUyxJQUFBdkosS0FBQXdKO29CQUNBeE8sTUFBQW8yQixFQUFBaFc7b0JBQ0FsYixXQUFBa3hCLEVBQUFoVzttQkFFQXFvQixLQUFBO2dCQUVBOztjQUNBO2dCQUNBLElBQUFBLEdBQUE7b0JBQ0EsSUFBQW5qQyxJQUFBTixLQUFBd0osUUFBQTBTLEVBQUEzUyxJQUVBc3FCLElBQUF6MUIsRUFBQTJFLGtCQUFBcVksU0FBQWhkLEVBQUEyRSxrQkFBQXNZLE1BQUEsS0FDQXFvQixLQUFBN2pDLEVBQUEwYSxxQkFBMERtcEIsYUFDMURuUSxJQUFBenNCLE9BQUFuSyxXQUFxQyttQzt3QkFDckNwakM7d0JBQ0F0RixNQUFBa2hCLEVBQUFsaEI7d0JBQ0FrRixXQUFBTCxFQUFBQyxpQkFBQW9jLEVBQUFoYzt3QkFDQTh6QixZQUFBOVgsRUFBQTNTO3dCQUNBbzZCLFNBQUE7d0JBQ0E1UCxlQUFBdmdDLEVBQUFrRDt3QkFDQWc5QixnQkFBQTt3QkFDQUc7O29CQUVBMS9CLEVBQUF5dkM7d0JBQXNCalEsVUFBQTt1QkFBZ0JKLElBQ3RDclgsSUFBQSxNQUNBdW5CLEtBQUE7Ozs7UUFRQSxTQUFBSTtZQUNBTixJQUFBcHZDLEVBQUE2USxZQUFBLGNBQ0FxK0IsSUFBQWx2QyxFQUFBNlEsWUFBQSxlQUNBdytCLElBQUFydkMsRUFBQTZRLFlBQUE7O1FBR0EsU0FBQTgrQixFQUFBbnZCLEdBQUFvdkI7WUFDQSxJQUFBcHZCLEtBQUFvdkIsR0FJQTtnQkFDQSxJQUFBQyxJQUFBN3ZDLEVBQUE2USxZQUFBLG1CQUNBaUMsSUFBQSw2Q0FDQWc5QixJQUFBRCxFQUFBNzhCLE1BQUFGO2dCQUVBLElBQUFnOUIsT0FBQTtvQkFDQSxJQUFBdDlCLElBQUFuVCxFQUFBMkY7b0JBQ0EsaUJBQXdCb0osS0FBQTBoQyxFQUFBLFFBQ3hCdDlCLElBQUE7b0JBRUEsSUFBQXU5QixJQUFBdjlCLElBQUEsT0FBQXE5QixJQUFBLGlDQUFBcnZCLElBQUEsZ0JBQUFvdkI7b0JBQ0EzbEMsRUFBQTJGLFFBQUFtZ0MsT0FBa0MsU0FBQXR4Qjt3QkFDbEM7NEJBQ0EsSUFBQXV4QixJQUFBdnhCLEVBQUE5TixRQUFBOE4sRUFBQTlOLGFBQUE4TixFQUFBOU4sVUFBQTVKLFVBQUEsSUFDQVcsSUFBQStXLEVBQUE5TixRQUFBOE4sRUFBQTlOLGFBQUE4TixFQUFBOU4sVUFBQWpKLFdBQUE7NEJBQ0FBLEtBQ0ExSCxFQUFBOG5CLGVBQUE7Z0NBQ0FwZ0I7OzRCQUdBLElBQUF1b0MsSUFBQSxJQUFBcGtDLE9BQUFDOzRCQUNBOUwsRUFBQWt3QyxnQkFBQSxJQUFBcmtDLE9BQUFDLFlBQUFta0MsR0FDQUQsTUFDQWh3QyxFQUFBbXdDLGdCQUFBeGlDLEtBQUFDLE1BQUFvaUM7NEJBQ0FJLEVBQUFDOzBCQUVXLE9BQUF6d0M7NEJBQ1hxSSxJQUFBQyxFQUFBLHlCQUFBdEk7Ozs7Y0FRSyxPQUFBZ1U7O1FBdEpMLElBQUF3N0IsR0FBQUYsR0FBQUcsR0FFQXRsQyxJQUFBQyxFQUFBbkssY0FDQUcsSUFBQWdLLEVBQUF4SixlQUFBbkIsRUFBQUMsUUFDQVcsSUFBQStKLEVBQUF4SixlQUFBbkIsRUFBQUUsY0FDQSt2QyxLQUFBLEdBQ0F2bkIsSUFBQSxNQUNBOVA7WUFDQXlQLG1CQUFBO1lBQ0FpQixpQkFBQTtZQUNBaEIsZUFBQTtZQUNBWSxtQkFBQTtZQUNBK25CLFNBQUE7O1FBK0lBcndDLEVBQUFzSztZQUNBQyxRQUFBbkwsRUFBQTZFO1lBQ0F1RyxhQUFBLHVCQUFBNkM7Z0JBQ0EsZUFBQUEsS0FDQW9pQzs7WUFLQTF2QyxFQUFBNnJCLGFBQUFhLFVBQUEsbUJBQUEzRjtZQUNBLGdCQUFBQSxFQUFBelosUUFDQTtnQkFDQSxJQUFBa1QsSUFBQTlVLEVBQUErYTtnQkFDQSxJQUFBakcsR0FBQTtvQkFDQSxJQUFBb3ZCLElBQUE1dkMsRUFBQTZRLFlBQUE7b0JBQ0E4K0IsRUFBQW52QixHQUFBb3ZCO3lCQUVBNXZDLEVBQUE2USxZQUFBLHVCQUFBdS9CLEVBQUFDO2NBRU8sT0FBQXp3QztnQkFDUHFJLElBQUFDLEVBQUEsMkJBQUF0STs7WUFTQUksRUFBQTZyQixhQUFBYSxVQUFBLG1CQUFBM0Y7WUFDQSxnQkFBQUEsRUFBQXpaLFFBQUE7Z0JBQ0EsSUFBQWlqQyxJQUFBLFVBQUF4bUMsRUFBQS9KLE1BQUE2USxZQUFBO2dCQUNBMC9CLEtBQUF2QixFQUFBOztZQUlBaHZDLEVBQUE2ckIsYUFBQWEsVUFBQSxtQkFBQTNGO1lBQ0EsZ0JBQUFBLEVBQUF6WixRQUFBO2dCQUNBLElBQUFpakMsSUFBQSxVQUFBeG1DLEVBQUEvSixNQUFBNlEsWUFBQTtnQkFDQTAvQixLQUFBdkIsRUFBQTs7WUFJQWh2QyxFQUFBNnJCLGFBQUFhLFVBQUEsOEJBQUEzRjtZQUNBLFlBQUFBLEVBQUF6WixVQUNBMGhDLEVBQUE7WUFJQWh2QyxFQUFBNnJCLGFBQUFhLFVBQUEsMEJBQUEzRjtZQUNBLFlBQUFBLEVBQUF6WixVQUNBMGhDLEVBQUE7WUFJQWh2QyxFQUFBNnJCLGFBQUFhLFVBQUEsOEJBQUEzRjtZQUNBLFlBQUFBLEVBQUF6WixVQUNBMGhDLEVBQUE7WUFJQWh2QyxFQUFBNnJCLGFBQUFhLFVBQUEsNEJBQUEzRjtZQUNBLFlBQUFBLEVBQUF6WixVQUNBMGhDLEVBQUE7WUFJQWh2QyxFQUFBNlEsWUFBQSx1QkFDQWt2QixFQUFBRSxxQkFBQTVnQyxFQUFBNkUsYUFBQXNzQyxHQUFBLFNBQUExb0M7WUFDQSxJQUFBMm9DLElBQUEzb0MsRUFBQTJvQztZQUNBQSxPQUFBQyxZQUNBMXdDLEVBQUFtd0MsZ0JBQUFNOzs7SUE3T0EsSUFBQXptQyxJQUFBeEwsRUFBQSxJQUNBYSxJQUFBYixFQUFBLElBQ0F5TCxJQUFBekwsRUFBQSxJQUNBbXlDLElBQUFueUMsRUFBQSxLQUNBdWhDLElBQUF2aEMsRUFBQSxLQUNBZ3lDLElBQUEsc0JBQ0FKLElBQUE1eEMsRUFBQSxLQUNBa04sSUFBQWxOLEVBQUEsS0FDQXlKLElBQUF6SixFQUFBO0lBMk9BSCxFQUFBQyxVQUFBO1FBQ0E7WUFDQW9PLEtBQUE7Z0JBQ0EsSUFBQTFNLElBQUFnSyxFQUFBeEosZUFBQTtnQkFFQSxJQURBdXVDLE1BQ0EvdUMsRUFBQTR3QywyQkFBQTtvQkFDQTV3QyxFQUFBNHdDLDRCQUFBO29CQUNBLElBQUFDLElBQUFGLEVBQUE3a0I7b0JBQ0Era0IsRUFBQW5rQzs7Ozs7R3hGdzZRTSxTQUFVck8sR0FBUUMsR0FBU0U7SXlGdnFSakM7SUFFQSxJQUFBdXRCLElBQUF2dEIsRUFBQSxLQUNBdWhDLElBQUF2aEMsRUFBQSxLQUNBc3lDLElBQUF0eUMsRUFBQSxLQUNBMFosSUFBQTFaLEVBQUEsS0FDQStKLElBQUEvSixFQUFBLEtBQ0F1eUMsSUFBQXZ5QyxFQUFBLEtBRUFhLElBQUFiLEVBQUEsSUFDQXdMLElBQUF4TCxFQUFBLElBRUF3eUMsSUFBQSxvQkFDQVIsSUFBQSxzQkFFQVMsSUFBQTV4QyxFQUFBOEU7SUFjQTlGLEVBQUFDLFVBQUF5dEIsRUFBQUksT0FBQTVqQixFQUFBQyxPQUFBdW9DO1FBRUFHLFVBQUE7UUFFQVQ7UUFFQVU7WUFDQTdULE1BQUE7WUFDQXhOLE1BQUE7O1FBR0FzaEIsYUFBQTtZQUNBLElBQUFqbkIsSUFBQW5kO1lBQ0E0UixXQUFBO2dCQUNBdUwsRUFBQWtuQjtlQUNLOztRQUdMQSxjQUFBO1lBQ0EsSUFBQWxuQixJQUFBbmQsTUFDQWhOLElBQUFnSyxFQUFBeEosZUFBQSxVQUNBcUcsSUFBQTdHLEVBQUE2USxZQUFBO1lBQ0EsSUFBQWhLLEdBQUE7Z0JBQ0EsSUFBQW9wQyxJQUFBLElBQUFwa0MsT0FBQUM7Z0JBQ0E5TCxFQUFBc3hDLGdCQUFBenFDLEdBQUEsU0FBQTRYO29CQUNBLElBQUF1eEIsSUFBQXZ4QixFQUFBOU47b0JBRUEsSUFEQTNRLEVBQUFrd0MsZ0JBQUEsSUFBQXJrQyxPQUFBQyxZQUFBbWtDLEdBQ0FELEdBQ0E7d0JBQ0Fod0MsRUFBQW13QyxnQkFBQSxtQkFBQUgsUUFBQXJpQyxLQUFBQyxNQUFBb2lDLElBQ0Fod0MsRUFBQW13QyxjQUFBb0IsVUFDQXI1QixFQUFBbFksRUFBQW13QyxjQUFBb0IsUUFBQSxTQUFBeHhDOzRCQUNBQSxFQUFBaXpCLFdBQUFyTSxtQkFBQTVtQixFQUFBaXpCOzRCQUdBN0ksRUFBQXFuQixnQkFBQXh4QyxFQUFBbXdDO3NCQUNTLE9BQUF2d0M7d0JBQ1RJLEVBQUFtd0M7NEJBQ0FPLFVBQUE7OztvQkFJQTNRLEVBQUFFLHFCQUFBZ1IsS0FBQUQ7d0JBQTBFUCxZQUFBendDLEVBQUFtd0M7d0JBQUFzQixRQUFBOzttQkFDckUsU0FBQTc5QjtvQkFDTDVULEVBQUFtd0MsaUJBQUFud0MsRUFBQW13QyxjQUFBTyxXQUNBM1EsRUFBQUUscUJBQUFnUixLQUFBRDt3QkFBNEVQLFlBQUF6d0MsRUFBQW13Qzt3QkFBQXNCLFFBQUE7MEJBRTVFWCxFQUFBWSxlQUFBLGlCQUFBOTlCO3dCQUNBdEQsS0FBQXpKOzs7b0JBR0FzSixTQUFBOzs7O1FBSUF3aEMsZUFBQSxTQUFBQyxHQUFBQyxHQUFBQztZQUNBLElBQUE5eEMsSUFBQWdLLEVBQUF4SixlQUFBO1lBRUEsSUFEQVIsRUFBQWt3QyxnQkFBQSxHQUNBMEIsR0FBQTtnQkFDQSxJQUFBRyxJQUFBL2tDLEtBQUFnbEMsWUFBQUo7Z0JBQ0EsdUJBQUFHLEdBQ0E7b0JBQ0FBLElBQUFwa0MsS0FBQUMsTUFBQW1rQztrQkFDUyxPQUFBbnlDO29CQUNUbXlDOztnQkFJQUEsT0FBQXJCLFlBQ0Exd0MsRUFBQW13QyxnQkFBQTRCLElBRUFELElBR0E5a0MsS0FBQXFrQyxhQUFBTyxHQUFBQyxLQUZBOVIsRUFBQUUscUJBQUFnUixLQUFBRDtvQkFBNEVQLFlBQUFzQjtvQkFBQU4sUUFBQTs7OztRQVE1RVEsZ0JBQUE7WUFFQSxJQUFBTCxJQUFBNWtDLEtBQUFrbEM7WUFDQWxsQyxLQUFBMmtDLGNBQUFDLEdBQUE7O1FBR0EzOUIsTUFBQTtZQUNBLElBQUFrVyxJQUFBbmQsTUFFQW1sQyxJQUFBOXlDLEVBQUE2RTtZQUVBNjdCLEVBQUFFLHFCQUFBa1MsS0FBQW5CLEdBQUEsU0FBQTlRO2dCQUNBQSxFQUFBdVIsV0FDQXRuQixFQUFBc21CLGFBQUF2USxFQUFBdVEsYUFHQTFRLEVBQUFFLHFCQUFBZ1IsS0FBQVQ7b0JBQ0FDLFlBQUF0bUIsRUFBQXNtQjtvQkFDQVUsV0FBQWhuQixFQUFBZ25CO3VCQUVBalIsRUFBQXVSLFVBQUF0bkIsRUFBQXFuQixnQkFBQXJuQixFQUFBc21CO2tCQUVBdG1CLEVBQUE4bkI7O1FBR0F2bEMsS0FBQTtZQUVBLE9BREFNLEtBQUFpSCxRQUNBakg7OztHekZ3clJNLFNBQVUzTyxHQUFRQyxHQUFTRTtJMEYvelJqQztJQUVBLElBQUF1aEMsSUFBQXZoQyxFQUFBO0lBRUFGLEVBQUFvekMsaUJBQUEsU0FBQVUsR0FBQXgrQjtRQUNBLElBQUF5K0IsSUFBQUQ7UUFDQSxtQkFBQXgrQixPQUFBeStCLFlBQ0FBLFFBQUEsTUFBQXorQixFQUFBeStCLFVBRUF0UyxFQUFBRSxxQkFBQTtZQUNBb1M7WUFDQXorQixPQUFBakcsS0FBQUUsVUFBQStGO1lBQ0F3K0I7OztHMUZnMVJNLFNBQVUvekMsR0FBUUMsR0FBU0U7STJGMzFSakM7SUFFQSxJQUFBd0wsSUFBQXhMLEVBQUEsSUFFQXlMLElBQUF6TCxFQUFBLElBQ0FnUSxJQUFBaFEsRUFBQTtJQUNBSCxFQUFBQztRQUNBZzBDLG1CQUFBO1FBV0FDLHFCQUFBO1lBQ0EsSUFBQXZ5QyxJQUFBZ0ssRUFBQXhKLGVBQUEsVUFDQWd5QyxJQUFBeHlDLEVBQUE2USxZQUFBLDBCQUNBNGhDLElBQUFELE9BQUFDLFFBQ0E1eEMsSUFBQTJ4QyxPQUFBM3hDO1lBQ0EsZUFBQTR4QyxLQUFBNXhDLElBQ0FBLElBRUE7O1FBR0FxeEMsaUJBQUE7WUFDQSxJQUVBUSxHQUZBQyxJQUFBM2xDLEtBQUF1bEMsdUJBQ0FLLFFBRUFsM0IsSUFBQWxOLEVBQUFpRTtZQWtCQSxPQWpCQWlKLE1BQ0FnM0IsSUFBQWgzQixJQUdBZzNCLE1BQ0FFLElBQUFGLEVBQUEzbkMsTUFBQSxPQUdBLE1BQUE2bkMsRUFBQTNuQyxTQUNBK0IsS0FBQW1rQztnQkFDQTdULE1BQUFzVixFQUFBO2dCQUNBOWlCLE1BQUE4aUIsRUFBQTtnQkFFSyxNQUFBQSxFQUFBM25DLFdBQ0wrQixLQUFBbWtDLFVBQUE3VCxPQUFBc1YsRUFBQSxLQUdBRCxJQUNBQSxJQUVBLE1BQUFDLEVBQUEzbkMsU0FDQTJuQyxFQUFBdmhDLEtBQUEsT0FDSyxNQUFBdWhDLEVBQUEzbkMsU0FDTDJuQyxFQUFBLEtBREs7O1FBS0xaLGFBQUEsU0FBQUo7WUFDQTVrQyxLQUFBNGtDLFlBQ0E1a0MsS0FBQTRrQyxlQUFBNWtDLEtBQUF1bEM7WUFFQSxJQUFBeG9DLElBQUFFLEVBQUFwSztZQUNBLE9BQUE4bUIsbUJBQUE1YyxFQUFBOG9DLGVBQUE3bEMsS0FBQXNsQyxvQkFBQSxNQUFBVjs7UUFHQUosaUJBQUEsU0FBQXpxQztZQUNBaUcsS0FBQTRrQyxZQUNBNWtDLEtBQUE0a0MsVUFBQTVrQyxLQUFBa2xDO1lBRUEsSUFBQW5vQyxJQUFBRSxFQUFBcEs7WUFDQWtLLEVBQUErb0MsZUFBQTlsQyxLQUFBc2xDLG9CQUFBLE1BQUF0bEMsS0FBQTRrQyxTQUFBeGdDLG1CQUFBekQsS0FBQUUsVUFBQTlHOzs7RzNGKzJSTSxTQUFVMUksR0FBUUMsR0FBU0U7STRGejdSakM7SUEyQkEsU0FBQXUwQyxFQUFBQyxHQUFBLzdCLEdBQUF4VztRQUNBLElBQUFzTjtRQUNBLEtBQUFMLEVBQUF1SixJQUNBLE9BQUFsSjtRQUVBLElBQUFpbEMsS0FBQS83QixLQUFBdkosRUFBQXNsQyxNQUFBdGxDLEVBQUF1SixJQUNBLFNBQUEzTyxJQUFBLEdBQW1CQSxJQUFBMk8sRUFBQWhNLFFBQW1CM0MsS0FDdEMwcUMsRUFBQTFYLEtBQUEsU0FBQXJxQjtZQUNBLE9BQUFBLEVBQUF4USxPQUFBd1csRUFBQTNPLEdBQUE3SDtjQUVBc04sRUFBQXhELEtBQUEwTSxFQUFBM087UUFJQSxPQUFBeUY7O0lBeENBLElBQUE5RCxJQUFBekwsRUFBQSxJQUNBd0wsSUFBQXhMLEVBQUEsSUFDQTBaLElBQUExWixFQUFBLEtBQ0FrUCxJQUFBbFAsRUFBQSxLQUNBd0IsSUFBQWdLLEVBQUF4SixlQUFBLFVBQ0FrTCxJQUFBbE4sRUFBQTtJQUVBRixFQUFBMjBDLHNCQUFBO1FBQ0EsSUFBQUMsSUFBQWx6QyxFQUFBbXdDO1FBQ0EsSUFBQStDLEdBS0EsU0FGQXJzQyxJQUFBNkUsRUFBQVEsc0JBRUE1RCxJQUFBLEdBQWlCQSxJQUFBNHFDLEVBQUF4a0MsTUFBQXpELFFBQXdCM0MsS0FBQTtZQUN6QyxJQUFBbW9DLElBQUF5QyxFQUFBeGtDLE1BQUFwRztZQUNBLElBQUFtb0MsRUFBQXJULGFBQUF2MkIsR0FDQSxPQUFBNHBDOztPQTBCQW55QyxFQUFBK3hDLGVBQUE7UUFDQSxJQUFBOEMsSUFBQW56QyxFQUFBbXdDO1FBQ0EsSUFBQWdELEdBQUE7WUFDQSxJQUFBbFcsSUFBQWh6QixFQUFBd0Usa0JBQ0FpdkIsSUFBQVQsRUFBQWhXLFNBQUFnVyxFQUFBL1Y7WUFDQWhQLEVBQUFpN0IsRUFBQXprQyxPQUFBLFNBQUEwa0M7Z0JBRUEsSUFEQXB6QyxFQUFBcXpDO29CQUF1QjdzQixVQUFBNHNCLEVBQUF0akI7b0JBQUF5ZixhQUFBNkQsRUFBQTdEO21CQUFpRDZELEVBQUFoVyxXQUN4RWdXLEVBQUFoVyxhQUFBTSxHQUFBO29CQUNBLElBQUE0VixRQUFBQztvQkFDQXI3QixFQUFBaTdCLEVBQUE1QixRQUFBLFNBQUF2eUM7d0JBQ0FvMEMsRUFBQXRqQixTQUFBOXdCLEVBQUE4d0IsU0FDQSxlQUFBOXdCLEVBQUF3MEMsY0FDQUYsRUFBQS9vQzs0QkFDQXdsQixhQUFBL3dCLEVBQUFnMEI7NEJBQ0FuQyxRQUFBN3hCLEVBQUE2eEI7NEJBQ0F4RSxPQUFBcnRCLEVBQUF5MEM7NEJBQ0FqaEIsTUFBQXh6QixFQUFBd3pCOzRCQUNBRSxNQUFBMXpCLEVBQUEwekI7NEJBQ0FzQyxZQUFBaDJCLEVBQUFnMkI7NEJBQ0FKLEtBQUF3ZSxFQUFBTSxZQUFBTixFQUFBTyxRQUFBOzZCQUdBSixFQUFBaHBDOzRCQUNBd2xCLGFBQUEvd0IsRUFBQWcwQjs0QkFDQW5DLFFBQUE3eEIsRUFBQTZ4Qjs0QkFDQXhFLE9BQUFydEIsRUFBQXkwQzs0QkFDQWpoQixNQUFBeHpCLEVBQUF3ekI7NEJBQ0FFLE1BQUExekIsRUFBQTB6Qjs0QkFDQXNDLFlBQUFoMkIsRUFBQWcyQjs0QkFDQUosS0FBQXdlLEVBQUFNLFlBQUFOLEVBQUFPLFFBQUE7OztvQkFLQSxJQUFBQyxJQUFBNXpDLEVBQUE2USxZQUFBLHlCQUNBZ2pDLElBQUE3ekMsRUFBQTZRLFlBQUEseUJBQ0FpakMsSUFBQWYsRUFBQWEsR0FBQU4sR0FBQSxnQkFDQVMsSUFBQWhCLEVBQUFjLEdBQUFOLEdBQUE7b0JBQ0FPLEVBQUE3b0MsU0FBQSxLQUNBakwsRUFBQThuQixlQUFBLGtCQUFBZ3NCLElBR0FDLEVBQUE5b0MsU0FBQSxLQUNBakwsRUFBQThuQixlQUFBLGtCQUFBaXNCOzs7OztHNUYrOFJNLFNBQVUxMUMsR0FBUUMsR0FBU0U7STZGdGlTakM7SUFFQUgsRUFBQUMsVUFBQSxTQUFBWSxHQUFBQztRQUNBLElBQUE2SyxJQUFBeEwsRUFBQSxJQUdBdXZCLElBQUF2dkIsRUFBQSxLQUVBeUosSUFBQXpKLEVBQUEsS0FDQTBaLElBQUExWixFQUFBLEtBQ0F5TCxJQUFBekwsRUFBQSxJQUNBdzFDLElBQUF4MUMsRUFBQTtRQUNBeUwsRUFBQUcsWUFFQSxtQkFBQWxMLE1BQ0FBLEVBQUErMEMsV0FDQTkwQyxFQUFBaUgsYUFBQTZ0QyxTQUFBLzBDLEVBQUErMEM7UUFFQTkwQyxFQUFBNEcsV0FBQTRNLE9BQUFuSyxXQUE0Q3JKLEVBQUE0RyxVQUFBN0csRUFBQTZHO1FBRzVDLElBQUFtdUMsSUFBQSxXQUNBNXZDLElBQUEsWUFDQTZ2QyxNQUFBLGNBQUFEO1FBZ0NBLE9BOUJBbm1CLEVBQUFzQixTQUFBOGtCLElBRUFILEVBQUF0bkM7WUFDQS9GLFNBQUF4SCxFQUFBd0g7WUFDQTdHLFNBQUE7Z0JBQ0EsSUFBQXMwQztvQkFDQXpULGdCQUFBLElBQUE5MEI7bUJBRUF3b0M7Z0JBVUEsT0FUQW44QixFQUFBL1ksRUFBQXdILFNBQUEsU0FBQTVHO29CQUNBcTBDLEVBQUFyMEMsRUFBQTZHLFFBQUE3RyxFQUFBZ0gsUUFDQSx1QkFBQWhILEVBQUE2RyxRQUFBN0csRUFBQWdILFVBQUFoSCxFQUFBZ0gsT0FBQUosWUFDQTB0QyxJQUFBdDBDLEVBQUFnSCxPQUFBSixRQUFBSztvQkFDQWtSLEVBQUFtOEIsR0FBQSxTQUFBdDBDO3dCQUNBcTBDLEVBQUFyMEMsRUFBQTZHLFFBQUE3RyxFQUFBZ0g7O29CQUlBNEwsT0FBQW5LLFdBQTZCNHJDO29CQUM3QmoxQzs7O1dBR0c7WUFDSDhJLElBQUFDLEVBQUEsdUJBRUFpc0MsRUFBQSxLQUFBN3ZDLEdBQ0F5cEIsRUFBQXNCLFNBQUE4a0I7WUFJQW5xQyxFQUFBbks7O0c3RnlqU00sU0FBVXhCLEdBQVFDLEdBQVNFO0k4RmpuU2pDO0lBRUEsSUFBQXlwQyxJQUFBenBDLEVBQUEsS0FDQStOLElBQUEvTixFQUFBLElBQ0F1dkIsSUFBQXZ2QixFQUFBO0lBWUFGLEVBQUFvTyxNQUFBLFNBQUFyQixHQUFBZ0M7UUFDQSxJQUFBbzdCLElBQUEsSUFBQVI7UUFDQVEsRUFBQS83QjtZQUNBL0YsU0FBQTBFLEVBQUExRTtZQUNBN0csU0FBQXVMLEVBQUF2TDs7WUFFQWlIO1lBQ0EwM0I7WUFDQWlLLFlBQUE7WUFDQXdEO1lBQ0F2RCxzQkFBQTtXQUNHLFNBQUE1K0I7WUFDSCxJQUFBcWxCLE1BQUEsb0JBQUFybEI7WUFDQWdrQixFQUFBc0IsU0FBQUQsSUFDQXJCLEVBQUF1QixZQUFBRixJQUNBN2lCLEVBQUFjLE1BQ0FBLEVBQUF0RCIsImZpbGUiOiJhcGx1c19taW5pX2Nsb3VkX3VtLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPVxuLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG5cbi8qKiovIH0pLFxuLyogMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIGlzdGFuYnVsIGlnbm9yZSBmaWxlICovXG5cdC8qKlxuXHQgKiBhcGx1c19taW5pX2Nsb3VkLmpzXG5cdCAqIOS6keS4iuWwj+eoi+W6j+aooeWdl+WMlueahGFwbHVzSnPlhaXlj6Ncblx0ICpcblx0ICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuXHQgKlxuXHQgKiBBdXRob3JzOlxuXHQgKiAgIOm+mempuSA8Y2hlbmdwaW5nLnJjcEBhbGliYWJhLWluYy5jb20+XG5cdCAqL1xuXHQndXNlIHN0cmljdCc7XG5cdF9fd2VicGFja19yZXF1aXJlX18oMikuaW5pdEdsb2JhbCgpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcHBDb25maWcpIHtcblx0ICB2YXIgYXBsdXNfY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTsgXG5cdCAgcmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oOTIpKGFwcENvbmZpZyxhcGx1c19jb25maWcpO1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiBwcm9qZWN0IC0gZmlsZXBhdGhcblx0ICog5pON5L2cYXBsdXPnmoTlt6Xlhbfnsbtcblx0ICpcblx0ICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuXHQgKlxuXHQgKiBBdXRob3JzOlxuXHQgKiAgIOiwi+WjqyA8cWluZ2xpYW5nLmhxbEBhbGliYWJhLWluYy5jb20+XG5cdCAqL1xuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgYXBsdXNTdGF0aWMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIEFQTFVTID0gYXBsdXNTdGF0aWMuQVBMVVM7XG5cdHZhciBBUExVU19RVUVVRSA9IGFwbHVzU3RhdGljLkFQTFVTX1FVRVVFO1xuXHRcblx0dmFyIEdPTERMT0cgPSBhcGx1c1N0YXRpYy5HT0xETE9HO1xuXHR2YXIgR09MRExPR19RVUVVRSA9IGFwbHVzU3RhdGljLkdPTERMT0dfUVVFVUU7XG5cdFxuXHR2YXIgX2FwbHVzX2NvbnRleHQ7XG5cdHZhciBpc1dlYiA9IGZhbHNlO1xuXHR0cnkge1xuXHQgIF9hcGx1c19jb250ZXh0ID0gd2luZG93O1xuXHQgIGlzV2ViID0gdHJ1ZTtcblx0fSBjYXRjaCAoZSkge1xuXHQgIF9hcGx1c19jb250ZXh0ID0ge307XG5cdH1cblx0XG5cdGV4cG9ydHMuZ2V0Q29udGV4dCA9IGZ1bmN0aW9uICgpIHtcblx0ICByZXR1cm4gX2FwbHVzX2NvbnRleHQ7XG5cdH07XG5cdFxuXHRleHBvcnRzLmluaXRHbG9iYWwgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuXHQgIGlmIChjb250ZXh0KSB7XG5cdCAgICBfYXBsdXNfY29udGV4dCA9IGNvbnRleHQ7XG5cdCAgfSBlbHNlIHtcblx0ICAgIF9hcGx1c19jb250ZXh0ID0ge1xuXHQgICAgICB2OiAxLFxuXHQgICAgICBhcGx1czoge30sXG5cdCAgICAgIGFwbHVzX3F1ZXVlOiBbXVxuXHQgICAgfTtcblx0ICB9XG5cdCAgdmFyIF9hcGx1c0RlZmF1bHRWYWx1ZTtcblx0ICB2YXIgX2FwbHVzUXVldWVEZWZhdWx0VmFsdWU7XG5cdCAgaWYgKGlzV2ViKSB7XG5cdCAgICB0cnkge1xuXHQgICAgICBfYXBsdXNEZWZhdWx0VmFsdWUgPSAoX2FwbHVzX2NvbnRleHQuYXBsdXMgfHwgKF9hcGx1c19jb250ZXh0LmFwbHVzID0ge30pKTtcblx0ICAgICAgdmFyIF9nb2xkbG9nX3F1ZXVlID0gKF9hcGx1c19jb250ZXh0LmdvbGRsb2dfcXVldWUgfHwgKF9hcGx1c19jb250ZXh0LmdvbGRsb2dfcXVldWUgPSBbXSkpO1xuXHQgICAgICBfYXBsdXNRdWV1ZURlZmF1bHRWYWx1ZSA9IChfYXBsdXNfY29udGV4dC5hcGx1c19xdWV1ZSB8fCAoX2FwbHVzX2NvbnRleHQuYXBsdXNfcXVldWUgPSBbXSkpO1xuXHQgICAgICBfYXBsdXNRdWV1ZURlZmF1bHRWYWx1ZSA9IF9nb2xkbG9nX3F1ZXVlLmNvbmNhdChfYXBsdXNRdWV1ZURlZmF1bHRWYWx1ZSk7ICBcblx0ICAgIH0gY2F0Y2ggKGUpIHt9XG5cdCAgfSBlbHNlIHtcblx0ICAgIF9hcGx1c0RlZmF1bHRWYWx1ZSA9IF9hcGx1c19jb250ZXh0LmFwbHVzO1xuXHQgICAgX2FwbHVzUXVldWVEZWZhdWx0VmFsdWUgPSBfYXBsdXNfY29udGV4dC5hcGx1c19xdWV1ZTtcblx0ICB9XG5cdCAgXG5cdCAgX2FwbHVzX2NvbnRleHQuYXBsdXMgPSBfYXBsdXNfY29udGV4dC5nb2xkbG9nID0gX2FwbHVzRGVmYXVsdFZhbHVlO1xuXHQgIF9hcGx1c19jb250ZXh0LmFwbHVzX3F1ZXVlID0gX2FwbHVzX2NvbnRleHQuZ29sZGxvZ19xdWV1ZSA9IF9hcGx1c1F1ZXVlRGVmYXVsdFZhbHVlO1xuXHQgIFxuXHQgIHJldHVybiBfYXBsdXNfY29udGV4dDtcblx0fTtcblx0XG5cdHZhciBnZXRHbG9iYWxWYWx1ZSA9IGZ1bmN0aW9uIChrZXkpIHtcblx0ICBpZiAoa2V5ID09PSBBUExVUyB8fCBrZXkgPT09IEdPTERMT0cpIHtcblx0ICAgIHZhciBnID0gX2FwbHVzX2NvbnRleHRbQVBMVVNdIHx8IF9hcGx1c19jb250ZXh0W0dPTERMT0ddO1xuXHQgICAgaWYgKCFnKSB7XG5cdCAgICAgIGcgPSBfYXBsdXNfY29udGV4dFtBUExVU10gPSBfYXBsdXNfY29udGV4dFtHT0xETE9HXSA9IHt9O1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGc7XG5cdCAgfVxuXHQgIHZhciBnb2xkbG9nX3F1ZXVlID0gR09MRExPR19RVUVVRTtcblx0ICB2YXIgYXBsdXNfcXVldWUgPSBBUExVU19RVUVVRTtcblx0ICBpZiAoa2V5ID09PSBhcGx1c19xdWV1ZSB8fCBrZXkgPT09IGdvbGRsb2dfcXVldWUpIHtcblx0ICAgIHZhciBxID0gX2FwbHVzX2NvbnRleHRbYXBsdXNfcXVldWVdIHx8IF9hcGx1c19jb250ZXh0W2dvbGRsb2dfcXVldWVdO1xuXHQgICAgaWYgKCFxKSB7XG5cdCAgICAgIHEgPSBfYXBsdXNfY29udGV4dFthcGx1c19xdWV1ZV0gPSBfYXBsdXNfY29udGV4dFtnb2xkbG9nX3F1ZXVlXSA9IFtdO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHE7XG5cdCAgfVxuXHR9O1xuXHRleHBvcnRzLmdldEdsb2JhbFZhbHVlID0gZ2V0R2xvYmFsVmFsdWU7XG5cdFxuXHRleHBvcnRzLnNldEdsb2JhbFZhbHVlID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcblx0ICBfYXBsdXNfY29udGV4dFtrZXldID0gdmFsdWU7XG5cdH07XG5cdFxuXHQvKipcblx0ICog6I635Y+WYXBsdXPlhoXpg6jlj5jph49cblx0ICogQHBhcmFtcyBbU3RyaW5nXSBrZXlcblx0ICogQHJldHVybiBbT2JqZWN0fFN0cmluZ3xOdW1iZXJ8Qm9vbGVhbl1cblx0ICovXG5cdHZhciBnZXRHb2xkbG9nVmFsID0gZnVuY3Rpb24oa2V5KSB7XG5cdCAgdmFyIHY7XG5cdCAgdHJ5IHtcblx0ICAgIHZhciBhcGx1cyA9IGdldEdsb2JhbFZhbHVlKEFQTFVTKTtcblx0ICAgIHYgPSBhcGx1c1trZXldO1xuXHQgIH0gY2F0Y2ggKGUpIHtcblx0ICAgIHYgPSAnJztcblx0ICB9IGZpbmFsbHkge1xuXHQgICAgcmV0dXJuIHY7XG5cdCAgfVxuXHR9O1xuXHRleHBvcnRzLmdldEdvbGRsb2dWYWwgPSBnZXRHb2xkbG9nVmFsO1xuXHQvKipcblx0ICog6K6+572uYXBsdXPlhoXpg6jlj5jph49cblx0ICogQHBhcmFtcyBbU3RyaW5nXSBrZXlcblx0ICogQHBhcmFtcyBbT2JqZWN0fFN0cmluZ3xOdW1iZXJ8Qm9vbGVhbl0gdmFsXG5cdCAqIEByZXR1cm4gW0Jvb2xlYW5dXG5cdCAqL1xuXHR2YXIgc2V0R29sZGxvZ1ZhbCA9IGZ1bmN0aW9uKGtleSwgdmFsKSB7XG5cdCAgdmFyIGYgPSBmYWxzZTtcblx0ICB0cnkge1xuXHQgICAgdmFyIGFwbHVzID0gZ2V0R2xvYmFsVmFsdWUoQVBMVVMpO1xuXHQgICAgaWYgKGtleSkge1xuXHQgICAgICBhcGx1c1trZXldID0gdmFsO1xuXHQgICAgICBmID0gdHJ1ZTtcblx0ICAgIH1cblx0ICB9IGNhdGNoIChlKSB7XG5cdCAgICBmID0gZmFsc2U7XG5cdCAgfSBmaW5hbGx5IHtcblx0ICAgIHJldHVybiBmO1xuXHQgIH1cblx0fTtcblx0ZXhwb3J0cy5zZXRHb2xkbG9nVmFsID0gc2V0R29sZGxvZ1ZhbDtcblx0XG5cdC8qKlxuXHQgKiDojrflj5ZjbGllbnRJbmZvKOa1j+iniOWZqOOAgeiuvuWkh+etieS/oeaBrylcblx0ICogQHJldHVybiB7T2JqZWN0fVxuXHQgKiAgIHZlcnNpb246IDIsXG5cdCAqICAgdWFfaW5mbzoge1xuXHQgKiAgICAgYjogXCJjaHJvbWU1OFwiXG5cdCAqICAgICBpc206IFwibWFjXCJcblx0ICogICAgIG14OiBcIjM2MGVlXCJcblx0ICogICAgIG86IFwibWFjXCJcblx0ICogICAgIHA6IDFcblx0ICogICAgIHM6IFwiMTkyMHgxMDgwXCJcblx0ICogICAgIHc6IFwid2Via2l0XCJcblx0ICogICB9XG5cdCAqIH1cblx0ICovXG5cdGV4cG9ydHMuZ2V0Q2xpZW50SW5mbyA9IGZ1bmN0aW9uKCkge1xuXHQgIHJldHVybiBnZXRHb2xkbG9nVmFsKCdfYXBsdXNfY2xpZW50JykgfHwge307XG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0dmFyIEFQTFVTID0gJ2FwbHVzJztcblx0dmFyIEdPTERMT0cgPSAnZ29sZGxvZyc7XG5cdHZhciBBUExVU19RVUVVRSA9IEFQTFVTICsgJ19xdWV1ZSc7XG5cdHZhciBHT0xETE9HX1FVRVVFID0gR09MRExPRyArICdfcXVldWUnO1xuXHR2YXIgTVdfQ0hBTkdFID0gJ213X2NoYW5nZSc7XG5cdHZhciBNRVRBX0lORk8gPSAnTWV0YUluZm8nO1xuXHR2YXIgQVBQRU5EX01FVEFfSU5GTyA9ICdhcHBlbmQnICsgTUVUQV9JTkZPO1xuXHR2YXIgU0VUX01FVEFfSU5GTyA9ICdzZXQnICsgTUVUQV9JTkZPO1xuXHR2YXIgSFRUUCA9ICdodHRwJztcblx0dmFyIF9wdWJzdWIgPSAnX3B1YnN1Yic7XG5cdFxuXHR2YXIgZGVmYXVsdENvZGUgPSAnb3RoZXInO1xuXHR2YXIgQ0xLID0gJzIxMDEnO1xuXHR2YXIgRVhQID0gJzIyMDEnO1xuXHR2YXIgSU1QRVhQID0gJzIyMDInO1xuXHR2YXIgT1RIRVIgPSAnMTk5OTknO1xuXHR2YXIgQVBQX1NIT1cgPSAnMTAyMyc7XG5cdHZhciBBUFBfSElERV9PUl9VTkxPQUQgPSAnMTAxMCc7IFxuXHR2YXIgU0VTU0lPTl9JTlRFUlZBTCA9IDMwMDAwOyAvLyBzZXNzaW9uSWTov4fmnJ/ml7bpl7QgMzDnp5Jcblx0dmFyIFNIQVJFX0NBQ0hFX0lOVEVSVkFMID0gMTAwMCAqIDYwICogMzA7XG5cdHZhciBFS1ZTID0gJ2VrdnMnO1xuXHR2YXIgRVZFTlRfTUFYX0NPVU5UID0gMTAwMDA7IC8vIOacrOWcsOacgOWkmuWtmOWCqOi/meS5iOWkmmVrduaVsOaNrlxuXHR2YXIgTUVNT1JZX01BWF9DT1VOVCA9IDE7IC8vIOWGheWtmOS4reWtmOWCqOeahOacgOWkp+aVsOaNruaVsOmHj++8jOi2hei/h+WImee8k+WtmOWIsOacrOWcsFxuXHR2YXIgRVZFTlRfU0VORF9ERUZBVUxUX0lOVEVSVkFMID0gMzAwMDsgLy8gZWt26buY6K6k5Y+R6YCB6Ze06ZqU5pe26Ze0OiAz56eSXG5cdHZhciBQQUdFX1NUQVJUID0gJyQkX3BhZ2Vfc3RhcnQnO1xuXHR2YXIgUEFHRV9FTkQgPSAnJCRfcGFnZV9lbmQnO1xuXHR2YXIgQVBQX1NUQVJUID0gJyQkX2FwcF9zdGFydCc7XG5cdHZhciBBUFBfRU5EID0gJyQkX2FwcF9lbmQnO1xuXHR2YXIgVVNFUl9QUk9GSUxFX0tFWSA9ICdhcGx1c191c2VyX3Byb2ZpbGUnO1xuXHR2YXIgSU1QUklOVCA9ICdpbXByaW50Jztcblx0dmFyIElEX1RZUEUgPSAnYXBsdXMtaWR0eXBlJztcblx0dmFyIEpTQlJJREdFX09OTFkgPSAnYXBsdXMtanNicmlkZ2Utb25seSc7XG5cdHZhciBQQUdFX0NPTkZJRyA9ICdhcGx1cy1wYWdlLWNvbmZpZyc7IFxuXHR2YXIgQVBMVVNfU0tJUF9BUFZfUlVMRVMgPSAnYXBsdXMtc2tpcC1hcHYtcnVsZXMnO1xuXHR2YXIgQVBMVVNfUFZfRE9NQUlOID0gJ2FwbHVzLXJob3N0LXYnO1xuXHR2YXIgQVBMVVNfRUtWX0RPTUFJTiA9ICdhcGx1cy1yaG9zdC1nJztcblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdCAgUEFHRV9FTlRFUjogJ1BBR0VfRU5URVInLFxuXHQgIENVUlJFTlRfUEFHRV9DT05GSUc6ICdDVVJSRU5UX1BBR0VfQ09ORklHJyxcblx0ICBfQU5PTllfSUQ6ICdfYW5vbnlfaWQnLFxuXHQgIF9VU0VSX0lEOiAnX3VzZXJfaWQnLFxuXHQgIERFRkFVTFRfQ09ERTogZGVmYXVsdENvZGUsXG5cdCAgT1RIRVI6IE9USEVSLFxuXHQgIEVWRU5UX01BUDoge1xuXHQgICAgJzIxMDEnOiAnY2xpY2snLFxuXHQgICAgJzIyMDEnOiAnZXhwb3N1cmUnLFxuXHQgICAgJzIyMDInOiAnZXhwb3N1cmUnLFxuXHQgICAgJzE5OTk5JzogZGVmYXVsdENvZGUsXG5cdCAgICAnMTAyMyc6ICdhcHBfc2hvdycsXG5cdCAgICAnMTAxMCc6ICdhcHBfaGlkZV9vcl91bmxvYWQnXG5cdCAgfSxcblx0ICBFVkVOVF9JRF9NQVA6IHtcblx0ICAgICdFWFAnOiBFWFAsXG5cdCAgICAnSU1QRVhQJzogSU1QRVhQLFxuXHQgICAgJ0NMSyc6IENMSyxcblx0ICAgICdPVEhFUic6IE9USEVSLFxuXHQgICAgJ1NIT1cnOiBBUFBfU0hPVyxcblx0ICAgICdIX09SX1UnOiBBUFBfSElERV9PUl9VTkxPQURcblx0ICB9LFxuXHQgIEFQTFVTOiBBUExVUyxcblx0ICBHT0xETE9HOiBHT0xETE9HLFxuXHQgIFVOU1VCU0NSSUJFOiBBUExVUyArICcuJyArIEFQTFVTICsgX3B1YnN1YiArICcudW5zdWJzY3JpYmUnLFxuXHQgIFNVQlNDUklCRTogQVBMVVMgKyAnLicgKyBBUExVUyArIF9wdWJzdWIgKyAnLnN1YnNjcmliZScsXG5cdCAgUFVCTElTSDogQVBMVVMgKyAnLicgKyBBUExVUyArIF9wdWJzdWIgKyAnLnB1Ymxpc2gnLFxuXHQgIENBQ0hFX1BVQlM6IEFQTFVTICsgJy4nICsgQVBMVVMgKyBfcHVic3ViICsgJy5jYWNoZVB1YnMnLFxuXHQgIEFQTFVTX1VOSVZFUlNBTDogQVBMVVMgKyAnX3VuaXZlcnNhbCcsXG5cdCAgQVBMVVNfUVVFVUU6IEFQTFVTX1FVRVVFLFxuXHQgIEdPTERMT0dfUVVFVUU6IEdPTERMT0dfUVVFVUUsXG5cdCAgQ09NUExFVEU6ICdjb21wbGV0ZScsXG5cdCAgUFZfQ09ERTogJzIwMDEnLFxuXHQgIEVYUF9DT0RFOiBFWFAsXG5cdCAgQ0xLX0NPREU6IENMSyxcblx0ICBPVEhFUl9DT0RFOiBPVEhFUixcblx0ICBDTEs6ICdDTEsnLFxuXHQgIEVYUDogJ0VYUCcsXG5cdCAgLy8gT1RIRVI6ICdPVEhFUicsXG5cdCAgU1BNX0NOVDogJ3NwbS1jbnQnLFxuXHQgIFNQTV9VUkw6ICdzcG0tdXJsJyxcblx0ICBTUE1fUFJFOiAnc3BtLXByZScsXG5cdCAgTVdfQ0hBTkdFX1BWOiBNV19DSEFOR0UgKyAnX3B2Jyxcblx0ICBNV19DSEFOR0VfSEpMSjogTVdfQ0hBTkdFICsgJ19oamxqJyxcblx0ICBIVFRQOiBIVFRQICsgJzonLFxuXHQgIEhUVFBTOiAnaHR0cHM6Jyxcblx0ICBBUFBFTkRfTUVUQV9JTkZPOiBBUFBFTkRfTUVUQV9JTkZPLFxuXHQgIFNFVF9NRVRBX0lORk86IFNFVF9NRVRBX0lORk8sXG5cdCAgQVBMVVNfQVBQRU5EX01FVEFfSU5GTzogQVBMVVMgKyAnLicgKyBBUFBFTkRfTUVUQV9JTkZPLFxuXHQgIEFQTFVTX1NFVF9NRVRBX0lORk86IEFQTFVTICsgJy4nICsgU0VUX01FVEFfSU5GTyxcblx0ICBQVklEOidwdmlkJyxcblx0ICBBUExVU19MT0dfUElQRTonYXBsdXMtbG9nLXBpcGUnLFxuXHQgIG9wZW5BUElzOiBbXG5cdCAgICAnc2VuZCcsICdlbnRlcicsICdzZW5kUFYnLCAncmVjb3JkJywgJ2NvbWJpbmVSZWNvcmQnLCAncmVjb3JkVWRhdGEnLCAncmVxdWVzdFZUQ29uZmlnJyxcblx0ICAgICdzZXRQYWdlU1BNJywgJ3NldE1ldGFJbmZvJywgJ2FwcGVuZE1ldGFJbmZvJyxcblx0ICAgICd1cGRhdGVQYWdlUHJvcGVydGllcycsXG5cdCAgICAndXBkYXRlTmV4dFBhZ2VQcm9wZXJ0aWVzJyxcblx0ICAgICd1cGRhdGVQYWdlVXRwYXJhbScsXG5cdCAgICAndXBkYXRlTmV4dFBhZ2VVdHBhcmFtJyxcblx0ICAgICdwYWdlQXBwZWFyJywgJ3BhZ2VEaXNhcHBlYXInLCAnc2tpcFBhZ2UnLFxuXHQgICAgJ3VwZGF0ZVNlc3Npb25Qcm9wZXJ0aWVzJywgJ2dldFBhZ2VTcG1VcmwnLCAnZ2V0UGFnZVNwbVByZScsXG5cdCAgICAnc2V0UGFnZU5hbWUnLCAnZ2V0RWxlbWVudFNQTScsICdyZWNvcmRBcHBMaW5rJ1xuXHQgIF0sXG5cdCAgU0VTU0lPTl9JTlRFUlZBTDogU0VTU0lPTl9JTlRFUlZBTCxcblx0ICBTRVNTSU9OX1BBVVNFX1RJTUU6ICdzZXNzaW9uX3BhdXNlX3RpbWUnLFxuXHQgIElNUFJJTlQ6ICdpbXByaW50Jyxcblx0ICBDVVJSRU5UX1NFU1NJT046ICdjdXJyZW50X3Nlc3Npb24nLFxuXHQgIE1BWF9FVkVOVElEX0xFTkdUSDogMTI4LFxuXHQgIE1BWF9QUk9QRVJUWV9LRVlfTEVOR1RIOiAyNTYsXG5cdCAgTUFYX1BST1BFUlRZX0tFWVNfQ09VTlQ6IDEwMCxcblx0ICBSRVFVRVNUUzogJ3JlcXVlc3RzJyxcblx0ICBTSEFSRVM6ICdzaGFyZXMnLFxuXHQgIEFQTFVTX1NTUkM6ICdfYXBsdXNfc3NyYycsXG5cdCAgRUtWUzogRUtWUyxcblx0ICBFVkVOVF9NQVhfQ09VTlQ6IEVWRU5UX01BWF9DT1VOVCxcblx0ICBNRU1PUllfTUFYX0NPVU5UOiBNRU1PUllfTUFYX0NPVU5ULFxuXHQgIEVWRU5UX1NFTkRfREVGQVVMVF9JTlRFUlZBTDogRVZFTlRfU0VORF9ERUZBVUxUX0lOVEVSVkFMLFxuXHQgIFBBR0VfU1RBUlQ6IFBBR0VfU1RBUlQsXG5cdCAgUEFHRV9FTkQ6IFBBR0VfRU5ELFxuXHQgIEFQUF9TVEFSVDogQVBQX1NUQVJULFxuXHQgIEFQUF9FTkQ6IEFQUF9FTkQsXG5cdCAgVVNFUl9QUk9GSUxFX0tFWTogVVNFUl9QUk9GSUxFX0tFWSxcblx0ICBTSEFSRV9DQUNIRV9JTlRFUlZBTDogU0hBUkVfQ0FDSEVfSU5URVJWQUwsXG5cdCAgSU1QUklOVDogSU1QUklOVCxcblx0ICBJRF9UWVBFOiBJRF9UWVBFLFxuXHQgIEdMT0JBTF9QUk9QRVJUWTogJ2dsb2JhbHByb3BlcnR5Jyxcblx0ICAvLyBVVE1fS0VZUzogWyd1dG1fc291cmNlJywgJ3V0bV9jb250ZW50JywgJ3V0bV9tZWRpdW0nLCAndXRtX2NhbXBhaWduJywgJ3V0bV90ZXJtJ10sXG5cdCAgSlNCUklER0VfT05MWTogSlNCUklER0VfT05MWSxcblx0ICBQQUdFX0NPTkZJRzogUEFHRV9DT05GSUcsXG5cdCAgQVBMVVNfU0tJUF9BUFZfUlVMRVM6IEFQTFVTX1NLSVBfQVBWX1JVTEVTLFxuXHQgIEFQTFVTX1BWX0RPTUFJTjogQVBMVVNfUFZfRE9NQUlOLFxuXHQgIEFQTFVTX0VLVl9ET01BSU46IEFQTFVTX0VLVl9ET01BSU5cblx0fTtcblx0XG5cdC8vIHZhciBvcGVuQVBJcyA9IFtcblx0Ly8gICAnc2VuZCcsICdlbnRlcicsICdzZW5kUFYnLCAncmVjb3JkJyxcblx0Ly8gICAnc2V0UGFnZVNQTScsICdzZXRNZXRhSW5mbycsICdhcHBlbmRNZXRhSW5mbycsXG5cdC8vICAgVVBEQVRFICsgJ1BhZ2VQcm9wZXJ0aWVzJyxcblx0Ly8gICBVUERBVEUgKyAnTmV4dFBhZ2VQcm9wZXJ0aWVzJyxcblx0Ly8gICBVUERBVEUgKyAnUGFnZVV0cGFyYW0nLFxuXHQvLyAgIFVQREFURSArICdOZXh0UGFnZVV0cGFyYW0nLFxuXHQvLyAgICdwYWdlQXBwZWFyJywgJ3BhZ2VEaXNhcHBlYXInLFxuXHQvLyAgICdza2lwUGFnZSdcblx0Ly8gXTtcblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdCAgXCJtZXRhSW5mb1wiOiB7XG5cdCAgICBcImFwbHVzLXJob3N0LXZcIjogXCJcIixcblx0ICAgIFwiYXBsdXMtcmhvc3QtZ1wiOiBcIlwiLFxuXHQgICAgXCJhcGx1cy1tbXN0YXQtdGltZW91dFwiOiBcIjEwMDAwXCIsXG5cdCAgICBcInNka0lkXCI6IFwiYXBsdXNfbWluaV9jbG91ZF91bVwiXG5cdCAgfSxcblx0ICBcImdsb2JhbENvbmZpZ1wiOiB7XG5cdCAgICBcImlzQWxpXCI6IGZhbHNlLFxuXHQgICAgXCJpc0RlY29kZVVybFwiOiB0cnVlLFxuXHQgICAgXCJBUExVU19RVUVVRVwiOiBcImFwbHVzX3F1ZXVlXCIsXG5cdCAgICBcIkVUQUdfU1RPUkFHRV9LRVlcIjogXCJfX0VUQUdfX0NOQV9fSURfX1wiLFxuXHQgICAgXCJzY3JpcHRfbmFtZVwiOiBcImFwbHVzX21pbmkuanNcIixcblx0ICAgIFwiYXBsdXMtZ2xvYmFsZGF0YVwiOiB7fSxcblx0ICAgIFwibHZlclwiOiBcIjEuNy4xMlwiXG5cdCAgfSxcblx0ICBcInBsdWdpbnNcIjogW1xuXHQgICAge1xuXHQgICAgICBcIm5hbWVcIjogXCJpbmplY3RfYXBwX3VtXCIsXG5cdCAgICAgIFwicGF0aFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpXG5cdCAgICB9LFxuXHQgICAge1xuXHQgICAgICBcIm5hbWVcIjogXCJpbmplY3RfcGFnZV91bVwiLFxuXHQgICAgICBcInBhdGhcIjogX193ZWJwYWNrX3JlcXVpcmVfXygzMClcblx0ICAgIH0sXG5cdCAgICB7XG5cdCAgICAgIFwibmFtZVwiOiBcIm9wZW5fYXBpXCIsXG5cdCAgICAgIFwicGF0aFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKVxuXHQgICAgfSxcblx0ICAgIHtcblx0ICAgICAgXCJuYW1lXCI6IFwiYXBsdXNfY2xpZW50XCIsXG5cdCAgICAgIFwicGF0aFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KVxuXHQgICAgfSxcblx0ICAgIHtcblx0ICAgICAgXCJuYW1lXCI6IFwicHVic3ViXCIsXG5cdCAgICAgIFwicGF0aFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KVxuXHQgICAgfSxcblx0ICAgIHtcblx0ICAgICAgXCJuYW1lXCI6IFwiYXBsdXNfbWV0YV9pbmplY3RcIixcblx0ICAgICAgXCJwYXRoXCI6IF9fd2VicGFja19yZXF1aXJlX18oMzgpXG5cdCAgICB9LFxuXHQgICAge1xuXHQgICAgICBcIm5hbWVcIjogXCJhcGx1c19hY1wiLFxuXHQgICAgICBcInBhdGhcIjogX193ZWJwYWNrX3JlcXVpcmVfXyg0MiksXG5cdCAgICAgIFwiZGVwc1wiOiBbXG5cdCAgICAgICAgXCJpbmplY3RfcGFnZV91bVwiXG5cdCAgICAgIF1cblx0ICAgIH0sXG5cdCAgICB7XG5cdCAgICAgIFwibmFtZVwiOiBcImFwbHVzX2FlXCIsXG5cdCAgICAgIFwicGF0aFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KSxcblx0ICAgICAgXCJkZXBzXCI6IFtcblx0ICAgICAgICBcImluamVjdF9wYWdlX3VtXCJcblx0ICAgICAgXVxuXHQgICAgfSxcblx0ICAgIHtcblx0ICAgICAgXCJuYW1lXCI6IFwiYXBsdXNfbWluaV9zcG1cIixcblx0ICAgICAgXCJwYXRoXCI6IF9fd2VicGFja19yZXF1aXJlX18oNTQpXG5cdCAgICB9LFxuXHQgICAge1xuXHQgICAgICBcIm5hbWVcIjogXCJhcGx1c19taW5pX3JlcG9ydF91bVwiLFxuXHQgICAgICBcInBhdGhcIjogX193ZWJwYWNrX3JlcXVpcmVfXyg1NSlcblx0ICAgIH0sXG5cdCAgICB7XG5cdCAgICAgIFwibmFtZVwiOiBcImFwbHVzX2xvZ19pbmplY3RcIixcblx0ICAgICAgXCJwYXRoXCI6IF9fd2VicGFja19yZXF1aXJlX18oNjApLFxuXHQgICAgICBcImRlcHNcIjogW1xuXHQgICAgICAgIFwiYXBsdXNfbWV0YV9pbmplY3RcIlxuXHQgICAgICBdLFxuXHQgICAgICBcImNvbmZpZ1wiOiB7XG5cdCAgICAgICAgXCJwbHVnaW5zXCI6IHtcblx0ICAgICAgICAgIFwicHZcIjogW1xuXHQgICAgICAgICAgICB7XG5cdCAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiZXRhZ1wiLFxuXHQgICAgICAgICAgICAgIFwicGF0aFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxKVxuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICB7XG5cdCAgICAgICAgICAgICAgXCJuYW1lXCI6IFwid2hlbl90b19zZW5kcHZcIixcblx0ICAgICAgICAgICAgICBcInBhdGhcIjogX193ZWJwYWNrX3JlcXVpcmVfXyg2NiksXG5cdCAgICAgICAgICAgICAgXCJjb25maWdcIjoge1xuXHQgICAgICAgICAgICAgICAgXCJhcGx1c1dhaXRpbmdcIjogXCJcIlxuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAge1xuXHQgICAgICAgICAgICAgIFwibmFtZVwiOiBcIndoZXJlX3RvX3NlbmRcIixcblx0ICAgICAgICAgICAgICBcInBhdGhcIjogX193ZWJwYWNrX3JlcXVpcmVfXyg2Nylcblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAge1xuXHQgICAgICAgICAgICAgIFwibmFtZVwiOiBcIndoYXRfdG9fc2VuZFwiLFxuXHQgICAgICAgICAgICAgIFwicGF0aFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4KSxcblx0ICAgICAgICAgICAgICBcImNvbmZpZ1wiOiB7XG5cdCAgICAgICAgICAgICAgICBcImxvZ2RhdGFUb1V0XCI6IHt9XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICB7XG5cdCAgICAgICAgICAgICAgXCJuYW1lXCI6IFwibWluaWFwcF9kYXRhXCIsXG5cdCAgICAgICAgICAgICAgXCJwYXRoXCI6IF9fd2VicGFja19yZXF1aXJlX18oNzIpXG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICBcIm5hbWVcIjogXCJ3aGF0X3RvX3NlbmRwdl91c2VyZGF0YVwiLFxuXHQgICAgICAgICAgICAgIFwicGF0aFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDczKSxcblx0ICAgICAgICAgICAgICBcImRlcHNcIjogW1xuXHQgICAgICAgICAgICAgICAgXCJ3aGF0X3RvX3NlbmRcIlxuXHQgICAgICAgICAgICAgIF1cblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAge1xuXHQgICAgICAgICAgICAgIFwibmFtZVwiOiBcImNhbl90b19zZW5kcHZcIixcblx0ICAgICAgICAgICAgICBcInBhdGhcIjogX193ZWJwYWNrX3JlcXVpcmVfXyg3NClcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgXSxcblx0ICAgICAgICAgIFwiaGpsalwiOiBbXG5cdCAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICBcIm5hbWVcIjogXCJldGFnXCIsXG5cdCAgICAgICAgICAgICAgXCJwYXRoXCI6IF9fd2VicGFja19yZXF1aXJlX18oNjEpXG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICBcIm5hbWVcIjogXCJ3aGVyZV90b19zZW5kXCIsXG5cdCAgICAgICAgICAgICAgXCJwYXRoXCI6IF9fd2VicGFja19yZXF1aXJlX18oNjcpXG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICBcIm5hbWVcIjogXCJ3aGF0X3RvX3NlbmRcIixcblx0ICAgICAgICAgICAgICBcInBhdGhcIjogX193ZWJwYWNrX3JlcXVpcmVfXyg2OCksXG5cdCAgICAgICAgICAgICAgXCJkZXBzXCI6IFtdXG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICBcIm5hbWVcIjogXCJtaW5pYXBwX2RhdGFcIixcblx0ICAgICAgICAgICAgICBcInBhdGhcIjogX193ZWJwYWNrX3JlcXVpcmVfXyg3Milcblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAge1xuXHQgICAgICAgICAgICAgIFwibmFtZVwiOiBcIndoYXRfdG9faGpsal91c2VyZGF0YVwiLFxuXHQgICAgICAgICAgICAgIFwicGF0aFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDc1KVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICBdXG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LFxuXHQgICAge1xuXHQgICAgICBcIm5hbWVcIjogXCJhcGx1c19hcGlcIixcblx0ICAgICAgXCJwYXRoXCI6IF9fd2VicGFja19yZXF1aXJlX18oNzYpLFxuXHQgICAgICBcImRlcHNcIjogW1xuXHQgICAgICAgIFwiYXBsdXNfbG9nX2luamVjdFwiLFxuXHQgICAgICAgIFwiYXBsdXNfbWV0YV9pbmplY3RcIlxuXHQgICAgICBdXG5cdCAgICB9LFxuXHQgICAge1xuXHQgICAgICBcIm5hbWVcIjogXCJtZXRhX3F1ZXVlXCIsXG5cdCAgICAgIFwicGF0aFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDg0KSxcblx0ICAgICAgXCJjb25maWdcIjoge1xuXHQgICAgICAgIFwiaXNPcGVuQXBpXCI6IHRydWVcblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIHtcblx0ICAgICAgXCJuYW1lXCI6IFwiZXRhZ1wiLFxuXHQgICAgICBcInBhdGhcIjogX193ZWJwYWNrX3JlcXVpcmVfXyg2MSlcblx0ICAgIH0sXG5cdCAgICB7XG5cdCAgICAgIFwibmFtZVwiOiBcImFwbHVzX3F1ZXVlXCIsXG5cdCAgICAgIFwicGF0aFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDg2KSxcblx0ICAgICAgXCJjb25maWdcIjoge1xuXHQgICAgICAgIFwiaXNPcGVuQXBpXCI6IHRydWVcblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIHtcblx0ICAgICAgXCJuYW1lXCI6IFwiYXV0b190cmFja2VyX3VtXCIsXG5cdCAgICAgIFwicGF0aFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDg3KSxcblx0ICAgICAgXCJkZXBzXCI6IFtcblx0ICAgICAgICBcImluamVjdF9wYWdlX3VtXCJcblx0ICAgICAgXVxuXHQgICAgfVxuXHQgIF1cblx0fTtcblxuLyoqKi8gfSksXG4vKiA1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyoqXG5cdCAqIGFsaWxvZy9zIC0gc3JjL3BsdWdpbnNfbWluaS9pbmplY3RfYXBwX3VtX25ldy5qc1xuXHQgKiDmlrDniYjoh6rliqjph4fpm4blsI/nqIvluo/kv6Hmga/nmoTmj5Lku7YgLSBhcHDms6jlhaVcblx0ICpcblx0ICog6YCa6L+H6YeN5YaZd3jnmoRhcGnmnaXmqKHmi5/nlJ/lkb3lkajmnJ/vvIzku6XmraTnu5Xov4fkuInmlrnmoYbmnrblr7nnlJ/lkb3lkajmnJ/nmoTph43lhpnmnLrliLZcblx0ICpcblx0ICogQXV0aG9yczpcblx0ICogICDogoblj4EgPHNpc2FuLnFsQGFsaWJhYmEtaW5jLmNvbT5cblx0ICovXG5cdFxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdHZhciB1dGlsR29sZGxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdHZhciB1dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdHZhciBhcGx1c1N0YXRpYyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdHZhciBjbG9uZURlZXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHR2YXIgbWluaSA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdHZhciBzZXNzaW9uTWFuYWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXHR2YXIgZXZlbnRNYW5hZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG5cdHZhciByZXF1ZXN0UXVldWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblx0dmFyIGNhY2hlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cdHZhciB1bVV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cdC8vIHZhciB1dGlsTG9nZ2VyID0gcmVxdWlyZSgnQHV0aWxzL3V0aWxMb2dnZXInKTtcblx0dmFyIHVsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0dmFyIFBhZ2VNYW5hZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5cdHZhciB1dGlsRGFzaCA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpO1xuXHR2YXIgaXNGdW5jdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHR2YXIgQVBQX0xBVU5DSF9UWVBFID0gMDtcblx0XG5cdGZ1bmN0aW9uIGdldEdsb2JhbEFyZ3MocXVlcnksIHNjZW5lKSB7XG5cdCAgdmFyIGdsb2JhbF9hcmdzID0ge307XG5cdCAgaWYgKHNjZW5lKSB7XG5cdCAgICBnbG9iYWxfYXJncy5zY2VuZSA9IHNjZW5lO1xuXHQgIH1cblx0ICBpZiAocXVlcnkgJiYgcXVlcnkubWluaWFwcERlYnVnSWQpIHtcblx0ICAgIGdsb2JhbF9hcmdzLmRlYnVnSWQgPSBxdWVyeS5taW5pYXBwRGVidWdJZDtcblx0ICB9XG5cdCAgZm9yICh2YXIgayBpbiBxdWVyeSkge1xuXHQgICAgaWYgKGsgPT09ICckJF9zaGFyZV91aWQnIHx8IGsuaW5kZXhPZignJCRfdXRtXycpID09PSAwKSB7XG5cdCAgICAgIGdsb2JhbF9hcmdzW2tdID0gcXVlcnlba107XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiBnbG9iYWxfYXJncztcblx0fVxuXHRcblx0ZnVuY3Rpb24gc2Vzc2lvblN0YXJ0KG9wdGlvbnMpIHtcblx0ICBjYWNoZSgpLmxvYWQoZnVuY3Rpb24oKXtcblx0ICAgIHVsb2coKS53KCdjYWNoZSBpbml0IHN1Y2Nlc3MnKTtcblx0ICB9KTtcblx0XG5cdCAgdmFyIG5ld09wdGlvbnMgPSB7fTtcblx0ICB2YXIgZGVlcENsb25lID0gY2xvbmVEZWVwKG9wdGlvbnMpO1xuXHQgIGZvciAodmFyIGkgaW4gZGVlcENsb25lKSB7XG5cdCAgICBpZiAodHlwZW9mIGRlZXBDbG9uZVtpXSA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgbmV3T3B0aW9ucyA9IHV0aWxEYXNoLmFzc2lnbihkZWVwQ2xvbmVbaV0sIG5ld09wdGlvbnMpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgaWYgKGRlZXBDbG9uZVtpXSkge1xuXHQgICAgICAgIG5ld09wdGlvbnNbaV0gPSBkZWVwQ2xvbmVbaV07XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICByZXF1ZXN0UXVldWUoKS5sb2FkKCk7XG5cdCAgdmFyIGlzTmV3U2Vzc2lvbiA9IHNlc3Npb25NYW5hZ2VyKCkucmVzdW1lKG5ld09wdGlvbnMpO1xuXHQgIHZhciBzZXNzaW9uSWQgPSBzZXNzaW9uTWFuYWdlcigpLmdldEN1cnJlbnRTZXNzaW9uSWQoKTtcblx0ICBldmVudE1hbmFnZXIoKS5zZXRTZXNzaW9uSWQoc2Vzc2lvbklkKTtcblx0ICBpZiAoaXNOZXdTZXNzaW9uKSB7XG5cdCAgICByZXF1ZXN0UXVldWUoKS5hZGQodW1VdGlscy5EYXRhVHlwZS5IQUxGX1NFU1NJT04sIHt9LCBmdW5jdGlvbigpIHtcblx0ICAgICAgdWxvZygpLncoJ2JlZm9yZSBzZW5kIHNlc3Npb24nKTtcblx0ICAgICAgcmVxdWVzdFF1ZXVlKCkuc2VuZCgpO1xuXHQgICAgfSk7XG5cdCAgfVxuXHR9O1xuXHRcblx0ZnVuY3Rpb24gc2Vzc2lvbkVuZCgpIHtcblx0ICBzZXNzaW9uTWFuYWdlcigpLnBhdXNlKCk7XG5cdCAgcmVxdWVzdFF1ZXVlKCkuc2VuZCh1bVV0aWxzLkRhdGFUeXBlLkNMT1NFX1NFU1NJT04sIHt9LCBmdW5jdGlvbigpe1xuXHQgICAgcmVxdWVzdFF1ZXVlKCkuc2F2ZSgpO1xuXHQgICAgY2FjaGUoKS5zYXZlKCk7XG5cdCAgICB1bG9nKCkudyhcImFmdGVyIHNlbmQgc2Vzc2lvblwiKTtcblx0ICB9KTtcblx0fTtcblx0XG5cdGZ1bmN0aW9uIGluamVjdEFwcCgpIHtcblx0XG5cdCAgdmFyIGFwcEJhayA9IEFwcDtcblx0ICB2YXIgYWxyZWFkeVN0YXJ0ZWQgPSBmYWxzZTtcblx0ICB2YXIgbGFudWNoZWQgPSBmYWxzZTtcblx0ICB2YXIgY3R4ID0gdXRpbEdvbGRsb2cuZ2V0Q29udGV4dCgpO1xuXHQgIHZhciBjb250ZXh0ID0gbWluaS5nZXRDb250ZXh0KCk7ICAgLy8g5bmz5Y+w5LiK5LiL5paH77yaIHd444CBZGTjgIFteeOAgXR044CBc3dhblxuXHQgIHZhciBmbiA9IHtcblx0ICAgIG9uTGF1bmNoOiBmdW5jdGlvbiAob3B0aW9ucykge1xuXHQgICAgICBtaW5pLmluaXRJc1RCKCk7XG5cdCAgICAgIHZhciBxdWVyeSA9IG9wdGlvbnMgPyBvcHRpb25zLnF1ZXJ5IDoge307XG5cdCAgICAgIHZhciByZWZlcnJlckluZm8gPSBvcHRpb25zID8gb3B0aW9ucy5yZWZlcnJlckluZm8gOiB7fTtcblx0ICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2FwaS9iYXNlL2FwcC9saWZlLWN5Y2xlL3d4LmdldExhdW5jaE9wdGlvbnNTeW5jLmh0bWwjJUU4JUJGJTk0JUU1JTlCJTlFJUU2JTlDJTg5JUU2JTk1JTg4JTIwcmVmZXJyZXJJbmZvJTIwJUU3JTlBJTg0JUU1JTlDJUJBJUU2JTk5JUFGXG5cdCAgICAgIC8qKlxuXHQgICAgICAgKiBAcGFyYW1zIHtPYmplY3R9IHJlZmVycmVySW5mbyB7XG5cdCAgICAgICAqICAgYXBwSWQgIHN0cmluZyAg5p2l5rqQ5bCP56iL5bqP44CB5YWs5LyX5Y+35oiWIEFwcCDnmoQgYXBwSWRcblx0ICAgICAgICogICBleHRyYURhdGEgIE9iamVjdCAg5p2l5rqQ5bCP56iL5bqP5Lyg6L+H5p2l55qE5pWw5o2u77yMc2NlbmU9MTAzN+aIljEwMzjml7bmlK/mjIFcblx0ICAgICAgICogfVxuXHQgICAgICAgKi9cblx0XG5cdCAgICAgIEFQUF9MQVVOQ0hfVFlQRSArPSAxO1xuXHRcblx0ICAgICAgY3R4LmFwbHVzX3F1ZXVlLnB1c2goe1xuXHQgICAgICAgIGFjdGlvbjogJ2FwbHVzLmFwcGVuZE1ldGFJbmZvJyxcblx0ICAgICAgICBhcmd1bWVudHM6IFsnYXBsdXMtc2Vzc2lvbi1hcmdzJywgdXRpbERhc2guYXNzaWduKHJlZmVycmVySW5mbywge1xuXHQgICAgICAgICAgc2NlbmU6IG9wdGlvbnMuc2NlbmUgfHwgJydcblx0ICAgICAgICB9KV1cblx0ICAgICAgfSk7XG5cdCAgICAgIGlmIChxdWVyeSkge1xuXHQgICAgICAgIHZhciBxdWVyeURhdGEgPSB7fTsgLy8gY2xvbmVEZWVwKHF1ZXJ5KTtcblx0ICAgICAgICBpZiAocXVlcnkuc3BtKSB7XG5cdCAgICAgICAgICBjdHguYXBsdXMuc3BtX29yaWduID0gcXVlcnkuc3BtO1xuXHQgICAgICAgICAgLy8gZGVsZXRlIHF1ZXJ5RGF0YS5zcG07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChvcHRpb25zLnNjZW5lKSB7XG5cdCAgICAgICAgICBxdWVyeURhdGEuc2NlbmUgPSBvcHRpb25zLnNjZW5lO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAocXVlcnkubWluaWFwcERlYnVnSWQpIHtcblx0ICAgICAgICAgIHZhciBkZWJ1Z0lkID0gcXVlcnkubWluaWFwcERlYnVnSWQudHJpbSgpO1xuXHQgICAgICAgICAgdmFyIGRlYnVnSW5mb3MgPSBkZWJ1Z0lkLnNwbGl0KCdfJyk7XG5cdCAgICAgICAgICBxdWVyeURhdGEgPSB1dGlsRGFzaC5hc3NpZ24ocXVlcnlEYXRhLCB7XG5cdCAgICAgICAgICAgIGFwbHVzX3dvcmtfbm86IGRlYnVnSW5mb3MubGVuZ3RoID4gMiA/IGRlYnVnSW5mb3NbMV0gOiBkZWJ1Z0lkLFxuXHQgICAgICAgICAgICBhcGx1c190cmFja19kZWJ1Z19pZDogZGVidWdJZCxcblx0ICAgICAgICAgICAgYXBsdXNfZmxhZzogJ2FwbHVzX3Rlc3QnXG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICAgIC8vIGRlbGV0ZSBxdWVyeURhdGEubWluaWFwcERlYnVnSWQ7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGN0eC5hcGx1c19xdWV1ZS5wdXNoKHtcblx0ICAgICAgICAgIGFjdGlvbjogJ2FwbHVzLmFwcGVuZE1ldGFJbmZvJyxcblx0ICAgICAgICAgIGFyZ3VtZW50czogWydhcGx1cy1leGRhdGEnLCBxdWVyeURhdGFdXG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgY3R4LmFwbHVzX3F1ZXVlLnB1c2goe1xuXHQgICAgICAgICAgYWN0aW9uOiAnYXBsdXMuYXBwZW5kTWV0YUluZm8nLFxuXHQgICAgICAgICAgYXJndW1lbnRzOiBbJ2FwbHVzLWNwdmRhdGEnLCBxdWVyeURhdGFdXG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgY3R4LmFwbHVzX3F1ZXVlLnB1c2goe1xuXHQgICAgICAgICAgYWN0aW9uOiAnYXBsdXMuYXBwZW5kTWV0YUluZm8nLFxuXHQgICAgICAgICAgYXJndW1lbnRzOiBbJ2FwbHVzLWdsb2JhbC1hcmdzJywgZ2V0R2xvYmFsQXJncyhxdWVyeSwgb3B0aW9ucy5zY2VuZSldXG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBvblNob3c6IGZ1bmN0aW9uIChvcHRzKSB7XG5cdFxuXHQgICAgICBBUFBfTEFVTkNIX1RZUEUgKz0gMTtcblx0ICAgICAgdmFyIHF1ZXJ5ID0gb3B0cyA/IG9wdHMucXVlcnkgOiB7fTtcblx0ICAgICAgdmFyIHNjZW5lID0gb3B0cyA/IG9wdHMuc2NlbmUgOiAnJztcblx0ICAgICAgdmFyIHN0YXJ0X3R5cGU7IC8v5bCP56iL5bqP5ZCv5Yqo57G75Z6LIFxuXHQgICAgICBjdHguYXBsdXNfcXVldWUucHVzaCh7XG5cdCAgICAgICAgYWN0aW9uOiAnYXBsdXMuc2V0TWV0YUluZm8nLCAgLy8g5q2k5aSE6ZyA6KaB55Soc2V0TWV0YUluZm/lgZropobnm5blvI/mm7TmlrDvvIzlm6DkuLrlvq7kv6HlsI/nqIvluo/kvJrmnInnvJPlrZhcblx0ICAgICAgICBhcmd1bWVudHM6IFsnYXBsdXMtZ2xvYmFsLWFyZ3MnLCBnZXRHbG9iYWxBcmdzKHF1ZXJ5LCBzY2VuZSldXG5cdCAgICAgIH0pO1xuXHQgICAgICBpZiAoc2NlbmUpIHtcblx0ICAgICAgICBjdHguYXBsdXNfcXVldWUucHVzaCh7XG5cdCAgICAgICAgICBhY3Rpb246ICdhcGx1cy5hcHBlbmRNZXRhSW5mbycsXG5cdCAgICAgICAgICBhcmd1bWVudHM6IFsnYXBsdXMtZXhkYXRhJywge1xuXHQgICAgICAgICAgICBzY2VuZTogc2NlbmVcblx0ICAgICAgICAgIH1dXG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgY3R4LmFwbHVzX3F1ZXVlLnB1c2goe1xuXHQgICAgICAgICAgYWN0aW9uOiAnYXBsdXMuYXBwZW5kTWV0YUluZm8nLFxuXHQgICAgICAgICAgYXJndW1lbnRzOiBbJ2FwbHVzLWNwdmRhdGEnLCB7XG5cdCAgICAgICAgICAgIHNjZW5lOiBzY2VuZVxuXHQgICAgICAgICAgfV1cblx0ICAgICAgICB9KTtcblx0ICAgICAgICBjdHguYXBsdXNfcXVldWUucHVzaCh7XG5cdCAgICAgICAgICBhY3Rpb246ICdhcGx1cy5hcHBlbmRNZXRhSW5mbycsXG5cdCAgICAgICAgICBhcmd1bWVudHM6IFsnYXBsdXMtc2Vzc2lvbi1hcmdzJywge1xuXHQgICAgICAgICAgICBzY2VuZTogc2NlbmVcblx0ICAgICAgICAgIH1dXG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKEFQUF9MQVVOQ0hfVFlQRSA9PT0gMikge1xuXHQgICAgICAgIHN0YXJ0X3R5cGUgPSAxO1xuXHQgICAgICB9IGVsc2UgaWYgKEFQUF9MQVVOQ0hfVFlQRSA9PT0gMSkge1xuXHQgICAgICAgIHN0YXJ0X3R5cGUgPSAwO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHVsb2coKS53KCdBUFBfTEFVTkNIX1RZUEUgc2hvdWxkIG5vdCByZWFjaCB0aGlzLCB2YWx1ZSA9ICcgKyAgQVBQX0xBVU5DSF9UWVBFKTtcblx0ICAgICAgICAvLyB1dGlsTG9nZ2VyLmxvZ2dlcih7XG5cdCAgICAgICAgLy8gICBtc2c6ICdBUFBfTEFVTkNIX1RZUEUgc2hvdWxkIG5vdCByZWFjaCB0aGlzLCB2YWx1ZSA9ICcgKyAgQVBQX0xBVU5DSF9UWVBFXG5cdCAgICAgICAgLy8gfSk7XG5cdCAgICAgIH1cblx0ICAgICAgdXRpbHMub25BcGx1c1JlYWR5KGN0eC5hcGx1c19xdWV1ZSwgYXBsdXNTdGF0aWMuU1VCU0NSSUJFLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgaWYgKCFhbHJlYWR5U3RhcnRlZCkge1xuXHQgICAgICAgICAgYWxyZWFkeVN0YXJ0ZWQgPSB0cnVlO1xuXHQgICAgICAgICAgc2Vzc2lvblN0YXJ0KG9wdHMpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIGdsb2JhbENvbmZpZyA9IGN0eC5hcGx1cy5nbG9iYWxDb25maWcgfHwge307XG5cdCAgICAgICAgaWYgKCFnbG9iYWxDb25maWcuaXNBbGkpIHtcblx0ICAgICAgICAgIHZhciBwYWdlQ29kZSA9IFBhZ2VNYW5hZ2VyLmdldFBhZ2VDb2RlKCk7XG5cdCAgICAgICAgICBjdHgub25BcHBTaG93VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXHQgICAgICAgICAgY3R4LmFwbHVzX3F1ZXVlLnB1c2goe1xuXHQgICAgICAgICAgICBhY3Rpb246ICdhcGx1cy5yZWNvcmQnLFxuXHQgICAgICAgICAgICBhcmd1bWVudHM6IFthcGx1c1N0YXRpYy5BUFBfU1RBUlQsICdTSE9XJywge1xuXHQgICAgICAgICAgICAgIC8vIHNjZW5lOiBzY2VuZSxcblx0ICAgICAgICAgICAgICBzdGFydF90eXBlOiBzdGFydF90eXBlLFxuXHQgICAgICAgICAgICAgIHBhZ2VfbmFtZTogcGFnZUNvZGUgfHwgb3B0cy5wYXRoIHx8ICctJyxcblx0ICAgICAgICAgICAgICB1cmw6IG9wdHMucGF0aCB8fCAnLSdcblx0ICAgICAgICAgICAgfV1cblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICB9LFxuXHQgICAgb25IaWRlOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHV0aWxzLm9uQXBsdXNSZWFkeShjdHguYXBsdXNfcXVldWUsIGFwbHVzU3RhdGljLlNVQlNDUklCRSwgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHZhciBnbG9iYWxDb25maWcgPSBjdHguYXBsdXMuZ2xvYmFsQ29uZmlnIHx8IHt9O1xuXHQgICAgICAgIHZhciBwYWdlQ29kZSA9IFBhZ2VNYW5hZ2VyLmdldFBhZ2VDb2RlKCk7XG5cdCAgICAgICAgaWYgKCFnbG9iYWxDb25maWcuaXNBbGkpIHtcblx0ICAgICAgICAgIHZhciB1cmwgPSBQYWdlTWFuYWdlci5nZXRDdXJyZW50UGFnZVBhdGgoKTtcblx0ICAgICAgICAgIHZhciBkdXJhdGlvbiA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gY3R4Lm9uQXBwU2hvd1RpbWU7XG5cdCAgICAgICAgICBjdHguYXBsdXNfcXVldWUucHVzaCh7XG5cdCAgICAgICAgICAgIGFjdGlvbjogJ2FwbHVzLnJlY29yZCcsXG5cdCAgICAgICAgICAgIGFyZ3VtZW50czogW2FwbHVzU3RhdGljLkFQUF9FTkQsICdIX09SX1UnLCB7XG5cdCAgICAgICAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uLFxuXHQgICAgICAgICAgICAgIGVuZF90eXBlOiAwLFxuXHQgICAgICAgICAgICAgIHBhZ2VfbmFtZTogcGFnZUNvZGUgfHwgdXJsIHx8ICctJyxcblx0ICAgICAgICAgICAgICB1cmw6IHVybCB8fCAnLScsXG5cdCAgICAgICAgICAgICAgc3RhcnRfdGltZTogY3R4Lm9uQXBwU2hvd1RpbWVcblx0ICAgICAgICAgICAgfV1cblx0ICAgICAgICAgIH0pOyAgICAgICAgICAgIFxuXHQgICAgICAgIH1cblx0ICAgICAgICBhbHJlYWR5U3RhcnRlZCA9IGZhbHNlO1xuXHQgICAgICAgIHNlc3Npb25FbmQoKTtcblx0ICAgICAgfSk7XG5cdCAgICAgIEFQUF9MQVVOQ0hfVFlQRSA9IDA7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgQXBwID0gZnVuY3Rpb24gKGUpIHtcblx0ICAgIHZhciBjdHggPSB1dGlsR29sZGxvZy5nZXRDb250ZXh0KCk7XG5cdCAgICBlLmFwbHVzID0gY3R4LCAvLyDms6jlhozlhajlsYDlj5jph49cblx0ICAgIGFwcEJhayhlKTtcblx0ICB9O1xuXHRcblx0ICBjb250ZXh0Lm9uQXBwU2hvdyhmdW5jdGlvbiAoZSkge1xuXHQgICAgLy8g6YCa6L+Hd3guZ2V0TGF1bmNoT3B0aW9uc1N5bmPmlrnms5XvvIzlrp7njrDlr7lvbkxhbnVjaOeahOebkeWQrFxuXHQgICAgaWYoIWxhbnVjaGVkKSB7XG5cdCAgICAgIC8vIOeZvuW6puS4jeaUr+aMgWdldExhdW5jaE9wdGlvbnNTeW5j77yM55Sob25TaG9355qEb3B0aW9uc+S7o+abv1xuXHQgICAgICB2YXIgb3B0cyA9IHt9O1xuXHQgICAgICBpZihpc0Z1bmN0aW9uKGNvbnRleHQuZ2V0TGF1bmNoT3B0aW9uc1N5bmMpKSB7XG5cdCAgICAgICAgb3B0cyA9IGNvbnRleHQuZ2V0TGF1bmNoT3B0aW9uc1N5bmMoKSB8fCB7fTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBvcHRzID0gZTtcblx0ICAgICAgfVxuXHQgICAgICBmbi5vbkxhdW5jaChvcHRzKTtcblx0ICAgICAgbGFudWNoZWQgPSB0cnVlO1xuXHQgICAgfTtcblx0ICAgIC8vIG9uU2hvd1xuXHQgICAgZm4ub25TaG93KGUpO1xuXHQgIH0pLFxuXHRcblx0ICBjb250ZXh0Lm9uQXBwSGlkZShmdW5jdGlvbiAoKSB7XG5cdCAgICAvLyBvbkhpZGVcblx0ICAgIGZuLm9uSGlkZSgpO1xuXHQgIH0pO1xuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgcmV0dXJuIHtcblx0ICAgIHJ1bjogZnVuY3Rpb24gKCkge1xuXHQgICAgICBpZiAoWydvYmplY3QnLCAnZnVuY3Rpb24nXS5pbmRleE9mKHR5cGVvZiBBcHApID4gLTEpIHtcblx0ICAgICAgICBpbmplY3RBcHAoKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH07XG5cdH07XG5cbi8qKiovIH0pLFxuLyogNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIHJlc2V0Rm46IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiB2b2lkIDAgIT09IGFyZ3VtZW50c1swXSA/IGFyZ3VtZW50c1swXSA6IHt9LFxuXHQgICAgICB0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgdm9pZCAwICE9PSBhcmd1bWVudHNbMV0gPyBhcmd1bWVudHNbMV0gOiAnJyxcblx0ICAgICAgbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIHZvaWQgMCAhPT0gYXJndW1lbnRzWzJdID8gYXJndW1lbnRzWzJdIDogZnVuY3Rpb24gKCkgeyB9LFxuXHQgICAgICBpID0gZVt0XTtcblx0ICAgIGVbdF0gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBycyA9IGkgJiYgaS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyAvLyBhcHDmnKzouqvnmoRmdW5jdGlvblxuXHQgICAgICBpZiAocnMpIHtcblx0ICAgICAgICByZXR1cm4gbi5jYWxsKHRoaXMsIHJzKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAvLyB0YXJvMXjjgIF0YXJvMngg5b+F6aG75Yqg5Liq6aKd5aSW55qE6K+t5Y+lbi5hcHBseeaJjeiDveaJp+ihjO+8jOavlOWmgnRyeWNhdGNo77yM5Y+Y6YeP5aOw5piO562J77yM5q2k5aSE5Yqg5LqGcmV0dXJuXG5cdCAgICAgICAgcmV0dXJuIG4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0ICB9LFxuXHRcblx0ICByZXdyaXRlRm46IGZ1bmN0aW9uKG9iaiwgbmFtZSwgbmV3Rm4pIHtcblx0ICAgIHZhciBvbGRGbiA9IG9ialtuYW1lXTtcblx0ICAgIG9ialtuYW1lXSA9IGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgIG5ld0ZuLmNhbGwodGhpcywgZSk7XG5cdCAgICAgIG9sZEZuICYmIG9sZEZuLmNhbGwodGhpcywgZSk7XG5cdCAgICB9O1xuXHQgIH0sXG5cdFxuXHQgIG9uQXBsdXNSZWFkeTogZnVuY3Rpb24gKGFwbHVzX3F1ZXVlLCBTVUJTQ1JJQkUsIGNhbGxiYWNrKSB7XG5cdCAgICBhcGx1c19xdWV1ZS5wdXNoKHtcblx0ICAgICAgYWN0aW9uOiBTVUJTQ1JJQkUsXG5cdCAgICAgIGFyZ3VtZW50czogWydhcGx1c1JlYWR5JywgZnVuY3Rpb24gKHN0YXR1cykge1xuXHQgICAgICAgIGlmIChzdGF0dXMgPT09ICdjb21wbGV0ZScgJiYgdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICBjYWxsYmFjaygpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfV1cblx0ICAgIH0pO1xuXHQgIH1cblx0fTtcblxuXG4vKioqLyB9KSxcbi8qIDcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKipcblx0ICog5YWL6ZqG5LiA5Liqb2JqZWN0XG5cdCAqL1xuXHRmdW5jdGlvbiBjbG9uZURlZXAgKG9iaikge1xuXHQgIHZhciBzdHI7XG5cdCAgdmFyIG5ld29iaiA9IEFycmF5LmlzQXJyYXkob2JqKSA/IFtdIDoge307IC8vRml4IG9iai5jb250cnVjdG9yIHR5cGVFcnJvciBjb25zdHJ1Y3RvciB1bmRlZmluZWRcblx0ICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcblx0ICAgIHJldHVybjtcblx0ICB9IGVsc2UgaWYgKEpTT04gJiYgSlNPTi5wYXJzZSkge1xuXHQgICAgc3RyID0gSlNPTi5zdHJpbmdpZnkob2JqKTsgLy/ns7vliJfljJblr7nosaFcblx0ICAgIG5ld29iaiA9IEpTT04ucGFyc2Uoc3RyKTsgLy/ov5jljp9cblx0ICB9IGVsc2Uge1xuXHQgICAgZm9yICh2YXIgaSBpbiBvYmopIHtcblx0ICAgICAgbmV3b2JqW2ldID0gdHlwZW9mIG9ialtpXSA9PT0gJ29iamVjdCcgPyBjbG9uZURlZXAob2JqW2ldKSA6IG9ialtpXTtcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIG5ld29iajtcblx0fVxuXHRtb2R1bGUuZXhwb3J0cyA9IGNsb25lRGVlcDtcblxuLyoqKi8gfSksXG4vKiA4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyoqXG5cdCAqIHByb2plY3QgLSBmaWxlcGF0aFxuXHQgKiDlsI/nqIvluo/lt6Xlhbdcblx0ICpcblx0ICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuXHQgKlxuXHQgKiBBdXRob3JzOlxuXHQgKiAgIOiwi+WjqyA8cWluZ2xpYW5nLmhxbEBhbGliYWJhLWluYy5jb20+XG5cdCAqL1xuXHQndXNlIHN0cmljdCc7IFxuXHRcblx0dmFyIGlzRnVuY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHR2YXIgdXRpbEdvbGRsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHQvLyB2YXIgYXBsdXNTdGF0aWMgPSByZXF1aXJlKCdAdXRpbHMvYXBsdXNTdGF0aWMuanMnKTtcblx0dmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0dmFyIHVsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0XG5cdGV4cG9ydHMuZ2V0Q3VycmVudFBhZ2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgdmFyIHBhZ2VzID0gZ2V0Q3VycmVudFBhZ2VzKCk7XG5cdCAgcmV0dXJuIHBhZ2VzW3BhZ2VzLmxlbmd0aCAtIDFdIHx8IHt9O1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5nZXRSZWZlcnJlclBhZ2UgPSBmdW5jdGlvbigpIHtcblx0ICB2YXIgcGFnZXMgPSBnZXRDdXJyZW50UGFnZXMoKTtcblx0ICByZXR1cm4gcGFnZXNbcGFnZXMubGVuZ3RoIC0gMl0gfHwge307XG5cdH07XG5cdFxuXHR2YXIgX2lzVGI7XG5cdC8vIOWNlemhtea1i+ivlemcgOimgVxuXHRleHBvcnRzLnJlc2V0SXNUQiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgIF9pc1RiID0gdmFsdWU7XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBpbml0SXNUQiAoKSB7XG5cdCAgaWYgKHR5cGVvZiBfaXNUYiA9PT0gJ2Jvb2xlYW4nKSB7XG5cdCAgICByZXR1cm4gX2lzVGI7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHZhciByZXN1bHQgPSBmYWxzZTtcblx0ICAgIHRyeSB7XG5cdCAgICAgIHZhciBVQSA9IG5hdmlnYXRvciA/IChuYXZpZ2F0b3IudXNlckFnZW50IHx8IG5hdmlnYXRvci5zd3VzZXJBZ2VudCkgOiAnJztcblx0ICAgICAgcmVzdWx0ID0gISEvQWxpQXBwL2kudGVzdChVQSk7XG5cdCAgICAgIGlmICgvQWxpQXBwXFwoQVAvaS50ZXN0KFVBKSB8fCAvQWxpQXBwXFwoRGluZ1RhbGsvaS50ZXN0KFVBKSB8fCAvQWxpQXBwXFwoQU1BUC9pLnRlc3QoVUEpKSB7XG5cdCAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKC9BbGlBcHBcXChLQi9pLnRlc3QoVUEpKSB7XG5cdCAgICAgICAgcmVzdWx0ID0gISEvTWlzdC8udGVzdChVQSk7XG5cdCAgICAgIH1cblx0ICAgICAgLy9JREUt5reY5a6dLeWVhuWutuW6lOeUqOS4i+acn+acm+i/lOWbnnRydWVcblx0ICAgICAgaWYoL0FsaXBheUlERSBUYW9iYW8vLnRlc3QoVUEpKXtcblx0ICAgICAgICByZXN1bHQgPSB0cnVlO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBjdHggPSBnZXRQbGF0Zm9ybVR5cGUoKS5jdHg7XG5cdCAgICAgIGlmICh0eXBlb2YgY3R4LmNhbklVc2UgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICByZXN1bHQgPSAhIWN0eC5jYW5JVXNlKCdjYWxsVXNlclRyYWNrJyk7XG5cdCAgICAgIH1cblx0ICAgIH0gY2F0Y2ggKGUpIHt9XG5cdCAgICBfaXNUYiA9IHJlc3VsdDtcblx0ICAgIHJldHVybiByZXN1bHQ7ICBcblx0ICB9XG5cdH1cblx0ZXhwb3J0cy5pbml0SXNUQiA9IGluaXRJc1RCO1xuXHRcblx0ZnVuY3Rpb24gaXNUQigpIHtcblx0ICBpZiAodHlwZW9mIF9pc1RiID09PSAnYm9vbGVhbicpIHtcblx0ICAgIHJldHVybiAhIV9pc1RiOyAgXG5cdCAgfSBlbHNlIHtcblx0ICAgIHJldHVybiBpbml0SXNUQigpO1xuXHQgIH1cblx0fVxuXHRcblx0dmFyIGdldFBsYXRmb3JtVHlwZSA9IGZ1bmN0aW9uICgpIHtcblx0ICB0cnkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgY3R4OiBkZCxcblx0ICAgICAgcGxhdFR5cGU6ICdkZCcsXG5cdCAgICAgIHNka1R5cGU6ICdkZG1wJyxcblx0ICAgICAgbG9nRG9tYWluOiAnL2RkbV9sb2dzJ1xuXHQgICAgfTtcblx0ICB9IGNhdGNoIChlKSB7XG5cdCAgICB0cnkge1xuXHQgICAgICByZXR1cm4ge1xuXHQgICAgICAgIGN0eDogbXksXG5cdCAgICAgICAgcGxhdFR5cGU6IG15ICYmIG15LnRiID8gJ3Rhb2JhbycgOiAnbXknLFxuXHQgICAgICAgIHNka1R5cGU6IG15ICYmIG15LnRiID8gJ3Rhb2Jhb21wJyA6ICdteW1wJyxcblx0ICAgICAgICBsb2dEb21haW46ICcvYWxpcGF5bV9sb2dzJ1xuXHQgICAgICB9O1xuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICBjdHg6IHR0LFxuXHQgICAgICAgICAgcGxhdFR5cGU6ICd0dCcsXG5cdCAgICAgICAgICBzZGtUeXBlOiAndHRtcCcsXG5cdCAgICAgICAgICBsb2dEb21haW46ICcvYnl0ZWRhbmNlbV9sb2dzJ1xuXHQgICAgICAgIH07XG5cdCAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgY3R4OiBzd2FuLFxuXHQgICAgICAgICAgICBwbGF0VHlwZTogJ2JkJyxcblx0ICAgICAgICAgICAgc2RrVHlwZTogJ2JkbXAnLFxuXHQgICAgICAgICAgICBsb2dEb21haW46ICcvYmFpZHVtX2xvZ3MnXG5cdCAgICAgICAgICB9O1xuXHQgICAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgICAgY3R4OiB3eCxcblx0ICAgICAgICAgICAgICBwbGF0VHlwZTogJ3d4Jyxcblx0ICAgICAgICAgICAgICBzZGtUeXBlOiAnd3htcCcsXG5cdCAgICAgICAgICAgICAgbG9nRG9tYWluOiAnL3d4bV9sb2dzJ1xuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICAgIGN0eDoge30sXG5cdCAgICAgICAgICAgICAgcGxhdFR5cGU6ICdVTktOT1cnLFxuXHQgICAgICAgICAgICAgIHNka1R5cGU6ICdVTktOT1cnXG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHR9O1xuXHRleHBvcnRzLmlzVEIgPSBpc1RCO1xuXHRleHBvcnRzLmdldFBsYXRmb3JtVHlwZSA9IGZ1bmN0aW9uICgpIHtcblx0ICByZXR1cm4gZ2V0UGxhdGZvcm1UeXBlKCkucGxhdFR5cGU7XG5cdH07XG5cdGV4cG9ydHMuZ2V0U2RrVHlwZSA9IGZ1bmN0aW9uICgpIHtcblx0ICByZXR1cm4gZ2V0UGxhdGZvcm1UeXBlKCkuc2RrVHlwZTtcblx0fTtcblx0ZXhwb3J0cy5nZXRDb250ZXh0ID0gZnVuY3Rpb24gKCkge1xuXHQgIHJldHVybiBnZXRQbGF0Zm9ybVR5cGUoKS5jdHg7XG5cdH07XG5cdGV4cG9ydHMuZ2V0TG9nRG9tYWluID0gZnVuY3Rpb24oKSB7XG5cdCAgcmV0dXJuIGdldFBsYXRmb3JtVHlwZSgpLmxvZ0RvbWFpbjtcblx0fTtcblx0XG5cdFxuXHR2YXIgSFRUUF9SRVFVRVNUID0gJ2h0dHBSZXF1ZXN0Jztcblx0dmFyIFJFUVVFU1QgPSAncmVxdWVzdCc7XG5cdHZhciBGTiA9IGZ1bmN0aW9uICgpIHt9O1xuXHRcblx0LyoqXG5cdCAqIOWPkemAgUdFVOivt+axglxuXHQgKiBAcGFyYW1zIHtTdHJpbmd9IHVybFxuXHQgKiBAcGFyYW1zIHtTdHJpbmd9IG9wdHMge1xuXHQgKiAgIHRpbWVvdXQ6IDUwMDBcblx0ICogfVxuXHQgKiBAcGFyYW1zIHtGdW5jdGlvbn0gY2FsbGJhY2sge1xuXHQgKiAgIHRpbWVvdXQ6IDUwMDBcblx0ICogfVxuXHQgKi9cblx0ZXhwb3J0cy5yZXF1ZXN0ID0gZnVuY3Rpb24gKHVybCwgb3B0cywgc3VjY2Vzc0NhbGxiYWNrLCBmYWlsdXJlQ2FsbGJhY2spIHtcblx0ICB2YXIgY3R4ID0gZ2V0UGxhdGZvcm1UeXBlKCkuY3R4O1xuXHQgIGlmICghb3B0cykge1xuXHQgICAgb3B0cyA9IHt9O1xuXHQgIH1cblx0ICBpZiAoIWlzRnVuY3Rpb24oZmFpbHVyZUNhbGxiYWNrKSkge1xuXHQgICAgZmFpbHVyZUNhbGxiYWNrID0gRk47XG5cdCAgfVxuXHQgIGlmICghaXNGdW5jdGlvbihzdWNjZXNzQ2FsbGJhY2spKSB7XG5cdCAgICBzdWNjZXNzQ2FsbGJhY2sgPSBGTjtcblx0ICB9XG5cdCAgdmFyIG1ldGhvZE5hbWUgPSBvcHRzLnJlcXVlc3RNZXRob2ROYW1lIHx8IFJFUVVFU1Q7XG5cdCAgdmFyIHJlcSA9IGN0eFttZXRob2ROYW1lXTtcblx0XG5cdCAgaWYgKCFpc0Z1bmN0aW9uKHJlcSkpIHtcblx0ICAgIGlmIChtZXRob2ROYW1lICE9PSBSRVFVRVNUKSB7XG5cdCAgICAgIG1ldGhvZE5hbWUgPSBSRVFVRVNUO1xuXHQgICAgfSBlbHNlIGlmIChtZXRob2ROYW1lICE9PSBIVFRQX1JFUVVFU1QpIHtcblx0ICAgICAgbWV0aG9kTmFtZSA9IEhUVFBfUkVRVUVTVDtcblx0ICAgIH1cblx0ICAgIHJlcSA9IGN0eFttZXRob2ROYW1lXTtcblx0ICB9XG5cdCAgdmFyIGRhdGFUeXBlID0gb3B0cy5kYXRhVHlwZSB8fCAnanNvbic7XG5cdCAgdmFyIHRpbWVvdXQgPSBvcHRzLnRpbWVvdXQgfHwgNTAwMDtcblx0ICB2YXIgbWV0aG9kID0gb3B0cy5tZXRob2QgfHwgJ0dFVCc7XG5cdFxuXHQgIC8vIOWmguaenHVybOayoeacieW4puWNj+iuru+8jOi/memHjOihpeWFheWujOaVtFxuXHQgIHVybCA9IHV0aWwuY2FuMmh0dHBzKHVybCk7XG5cdCAgLy8gaWYgKHVybC5pbmRleE9mKCcvLycpID09PSAwKSB7XG5cdCAgLy8gICB2YXIgcHJvdG9jYWwgPSBhcGx1c1N0YXRpYy5IVFRQUztcblx0ICAvLyAgIGlmICgvKFxcZCtcXC4pezMsfVxcZCsvLnRlc3QodXJsKSkge1xuXHQgIC8vICAgICBwcm90b2NhbCA9ICdodHRwOic7XG5cdCAgLy8gICB9XG5cdCAgLy8gICB1cmwgPSBwcm90b2NhbCArIHVybDtcblx0ICAvLyB9XG5cdCAgdmFyIG1zZztcblx0ICBpZiAoaXNGdW5jdGlvbihyZXEpKSB7XG5cdCAgICB2YXIgcmVxT3B0aW9ucyA9IHtcblx0ICAgICAgdXJsOiB1cmwsXG5cdCAgICAgIG1ldGhvZDogbWV0aG9kLFxuXHQgICAgICBkYXRhVHlwZTogZGF0YVR5cGUsXG5cdCAgICAgIHRpbWVvdXQ6IHRpbWVvdXQsXG5cdCAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICAvLyBjb25zb2xlICYmIGNvbnNvbGUud2FybigncmVxdWVzdCAnICsgdXJsICsgJyBzdWNjZXNzLCB0aGUgbXNnIGlzICcsIHJlcyk7XG5cdCAgICAgICAgc3VjY2Vzc0NhbGxiYWNrKHJlcyk7XG5cdCAgICAgIH0sXG5cdCAgICAgIGZhaWw6IGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICB1bG9nKCkudygncmVxdWVzdCAnICsgdXJsICsgJyBmYWlsdXJlLCB0aGUgbXNnIGlzICcsIHJlcyk7XG5cdCAgICAgICAgLy8gY29uc29sZSAmJiBjb25zb2xlLndhcm4oJ3JlcXVlc3QgJyArIHVybCArICcgZmFpbHVyZSwgdGhlIG1zZyBpcyAnLCByZXMpO1xuXHQgICAgICAgIGZhaWx1cmVDYWxsYmFjayhyZXMpO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHQgICAgaWYgKHR5cGVvZiBvcHRzLmRhdGEgPT09ICdvYmplY3QnICYmIG1ldGhvZCA9PT0gJ1BPU1QnKSB7XG5cdCAgICAgIHJlcU9wdGlvbnMuZGF0YSA9IG9wdHMuZGF0YTtcblx0ICAgICAgcmVxT3B0aW9ucy51cmwgPSByZXFPcHRpb25zLnVybC5zcGxpdCgnPycpWzBdO1xuXHQgICAgfVxuXHQgICAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoJ2FwbHVzJyk7XG5cdCAgICB2YXIgX2V4dEluZm8gPSBhcGx1cy5nZXRNZXRhSW5mbygnYXBsdXMtcmVxdWVzdC1leHRpbmZvJyk7XG5cdCAgICBpZiAodHlwZW9mIF9leHRJbmZvID09PSAnb2JqZWN0Jykge1xuXHQgICAgICByZXFPcHRpb25zLl9leHRJbmZvID0gX2V4dEluZm87XG5cdCAgICB9XG5cdCAgICByZXEocmVxT3B0aW9ucyk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHVsb2coKS53KCdjYW4gbm90IGZpbmQgXCInICsgbWV0aG9kTmFtZSArICdcIiEnKTtcblx0ICAgIC8vIGNvbnNvbGUgJiYgY29uc29sZS53YXJuKCdjYW4gbm90IGZpbmQgXCInICsgbWV0aG9kTmFtZSArICdcIiEnKTtcblx0ICAgIGZhaWx1cmVDYWxsYmFjayhtc2cpO1xuXHQgIH1cblx0fTtcblxuXG4vKioqLyB9KSxcbi8qIDkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKipcblx0ICogcHJvamVjdCAtIGZpbGVwYXRoXG5cdCAqXG5cdCAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cblx0ICpcblx0ICogQXV0aG9yczpcblx0ICogICDosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuXHQgKi9cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobykge1xuXHQgIHJldHVybiB0eXBlb2YgbyA9PT0gJ2Z1bmN0aW9uJztcblx0fTtcblxuLyoqKi8gfSksXG4vKiAxMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiBwcm9qZWN0IC0gZmlsZXBhdGhcblx0ICog5qCH5YeG5bel5YW357G7XG5cdCAqXG5cdCAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cblx0ICpcblx0ICogQXV0aG9yczpcblx0ICogICDosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuXHQgKi9cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0Ly8gdmFyIHV0aWxBcnJheSA9IHJlcXVpcmUoJy4vdXRpbEFycmF5Jyk7XG5cdC8vIHZhciBmb3JtYXQgPSByZXF1aXJlKCcuL2Zvcm1hdCcpO1xuXHRcblx0dmFyIHNfcGxhaW5fb2JqID0gJzo6LXBsYWluLTo6Jztcblx0ZXhwb3J0cy5ta1BsYWluS2V5ID0gZnVuY3Rpb24gKCkge1xuXHQgIHJldHVybiBzX3BsYWluX29iaiArIE1hdGgucmFuZG9tKCk7XG5cdH07XG5cdGV4cG9ydHMuc19wbGFpbl9vYmogPSBzX3BsYWluX29iajtcblx0XG5cdC8vIDIwMTYtMDgtMjQg55Cs5a2Q6ZyA5rGC77yMZXhwYXJhbXPljZXni6zlpITnkIbvvIx3aW5kdmFuZemHjOmcgOimgSBA6LCL5aOrXG5cdGV4cG9ydHMubWtQbGFpbktleUZvckV4cGFyYW1zID0gZnVuY3Rpb24oa2V5X3ByZWZpeCkge1xuXHQgIHZhciBfa2V5ID0ga2V5X3ByZWZpeCB8fCBzX3BsYWluX29iajtcblx0ICByZXR1cm4gX2tleSArICdleHBhcmFtcyc7XG5cdH07XG5cdFxuXHQvKipcblx0ICogYXJyYXkgdG8gcGFyYW1cblx0ICog5bCG5LiA5Liq566A5Y2V55qE5pWw57uE6L2s5YyW5Li6IHVybCDlj4LmlbDnmoTlvaLlvI/vvIxcblx0ICog5YW25Lit5pWw57uE5Li6XG5cdCAqICAgICAgW1trMSwgdjFdLCBbazIsIHYyXSwgW2szLCB2M10sIC4uLl1cblx0ICog55qE5b2i5byP44CCXG5cdCAqIOS4jiBvYmoycGFyYW0g55u45q+U77yM6L+Z5Liq5pa55rOV55qE5aW95aSE5piv5Y+v5Lul5L+d6K+B5pyA5ZCO5Y+C5pWw55qE6aG65bqPXG5cdCAqIEBwYXJhbSBhcnIge0FycmF5fVxuXHQgKiBAcmV0dXJuIHtTdHJpbmd9XG5cdCAqL1xuXHRmdW5jdGlvbiBhcnIycGFyYW0oYXJyKSB7XG5cdCAgdmFyIGEgPSBbXSxcblx0ICAgIGssXG5cdCAgICB2LFxuXHQgICAgaSxcblx0ICAgIGxlbiA9IGFyci5sZW5ndGg7XG5cdFxuXHQgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHQgICAgayA9IGFycltpXVswXTtcblx0ICAgIHYgPSBhcnJbaV1bMV07XG5cdCAgICBhLnB1c2goay5pbmRleE9mKHNfcGxhaW5fb2JqKSA9PT0gMCA/IHYgOiAoayArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2KSkpO1xuXHQgIH1cblx0ICByZXR1cm4gYS5qb2luKCcmJyk7XG5cdH07XG5cdGV4cG9ydHMuYXJyMnBhcmFtID0gYXJyMnBhcmFtO1xuXHRcblx0XG5cdC8qKlxuXHQgKiBwYXJhbSB0byBhcnJheVxuXHQgKiAyMDE2LTA4LTI0IOaUvuW8gO+8jOeUqOadpeWkhOeQhmV4cGFyYW1zIEDosIvlo6tcblx0ICog5bCG5LiA5Liq566A5Y2V55qE5b2i5aaCIGE9MSZiPTImYz0zIOi/meagt+eahOWPguaVsOi9rOWMluS4uueugOWNleeahCBhcnJheSDmoLzlvI/vvIzlpoLvvJpcblx0ICogW1tcImFcIiwgXCIxXCJdLCBbXCJiXCIsIFwiMlwiXSwgW1wiY1wiLCBcIjNcIl1dXG5cdCAqXG5cdCAqIEBwYXJhbSBwYXJhbXMge1N0cmluZ31cblx0ICovXG5cdGV4cG9ydHMucGFyYW0yYXJyID0gZnVuY3Rpb24gKHBhcmFtcykge1xuXHQgIHZhciBhID0gcGFyYW1zLnNwbGl0KFwiJlwiKSxcblx0ICAgIGkgPSAwLCBsID0gYS5sZW5ndGgsXG5cdCAgICBpdGVtLFxuXHQgICAgYXJyID0gW107XG5cdCAgZm9yICg7IGkgPCBsOyBpKyspIHtcblx0ICAgIGl0ZW0gPSBhW2ldLnNwbGl0KFwiPVwiKTtcblx0ICAgIGFyci5wdXNoKFtpdGVtLnNoaWZ0KCksIGl0ZW0uam9pbihcIj1cIildKTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBhcnI7XG5cdH07XG5cdFxuXHRleHBvcnRzLmFycjJvYmogPSBmdW5jdGlvbiAoYXJyKSB7XG5cdCAgdmFyIHJldCA9IHt9O1xuXHQgIHZhciBrO1xuXHQgIHZhciB2O1xuXHQgIHZhciBpO1xuXHQgIHZhciBsZW4gPSBhcnIubGVuZ3RoO1xuXHRcblx0ICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgIGsgPSBhcnJbaV1bMF07XG5cdCAgICB2ID0gYXJyW2ldWzFdO1xuXHQgICAgcmV0W2tdID0gdjtcblx0ICB9XG5cdCAgcmV0dXJuIHJldDtcblx0fTtcblx0Ly8g5LuF5pSv5oyB5LiA57qnanNvbue7k+aehFxuXHRleHBvcnRzLmpzb25MaWtlU3RyMkpTT04gPSBmdW5jdGlvbihqc29uU3RyKSB7XG5cdCAgaWYgKCFqc29uU3RyIHx8IHR5cGVvZiBqc29uU3RyICE9PSAnc3RyaW5nJykge1xuXHQgICAgcmV0dXJuIHt9O1xuXHQgIH1cblx0ICB2YXIgc3RyID0ganNvblN0ci5yZXBsYWNlKC9bJ1wie31dKy9nLCAnJyk7XG5cdCAgdmFyIGFycjEgPSBzdHIuc3BsaXQoJywnKTsgXG5cdCAgdmFyIGFycjIgPSBbXTsgXG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIxLmxlbmd0aDsgaSsrKSB7XG5cdCAgICBhcnIyLnB1c2goYXJyMVtpXS5zcGxpdCgnOicpKTtcblx0ICB9XG5cdCAgdmFyIHJlc3VsdCA9IHRoaXMuYXJyMm9iaihhcnIyKTtcblx0ICByZXR1cm4gcmVzdWx0O1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5jYW4yaHR0cHMgPSBmdW5jdGlvbih1cmwpIHtcblx0ICBpZiAodXJsLmluZGV4T2YoJy8vJykgPT09IDApIHtcblx0ICAgIHZhciBwcm90b2NhbCA9ICdodHRwczonO1xuXHQgICAgaWYgKC8oXFxkK1xcLil7Myx9XFxkKy8udGVzdCh1cmwpKSB7XG5cdCAgICAgIHByb3RvY2FsID0gJ2h0dHA6Jztcblx0ICAgIH1cblx0ICAgIHVybCA9IHByb3RvY2FsICsgdXJsO1xuXHQgIH1cblx0ICByZXR1cm4gdXJsO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5nZXRBcHBLZXkgPSBmdW5jdGlvbigpIHtcblx0ICB2YXIgYXBsdXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpLmdldEdsb2JhbFZhbHVlKFwiYXBsdXNcIik7XG5cdCAgcmV0dXJuIGFwbHVzLmdldE1ldGFJbmZvKCdhcHBrZXknKSB8fCBhcGx1cy5nZXRNZXRhSW5mbygnYXBwSWQnKSB8fCBhcGx1cy5nZXRNZXRhSW5mbygnYXBwS2V5Jyk7XG5cdH07XG5cdFxuXHRleHBvcnRzLmNoZWNrRW1wdHlPYmogPSBmdW5jdGlvbihkYXRhKSB7XG5cdCAgaWYgKHR5cGVvZiBkYXRhICE9PSAnb2JqZWN0JyB8fCAoT2JqZWN0LmtleXMoZGF0YSkubGVuZ3RoID09PSAwKSkge1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXHQgIHJldHVybiBmYWxzZTtcblx0fTtcblx0XG5cdGV4cG9ydHMuY2hlY2tEb21haW4gPSBmdW5jdGlvbih1cmwpIHtcblx0ICBjb25zdCByZWcgPSBuZXcgUmVnRXhwKC9eW2EtekEtWjAtOV1bLWEtekEtWjAtOV17MCw2Mn0oXFwuW2EtekEtWjAtOV1bLWEtekEtWjAtOV17MCw2Mn0pKyg6WzAtOV17MSw1fSkqJC8pO1xuXHQgIGlmICghdXJsIHx8ICF1cmwubWF0Y2gocmVnKSkge1xuXHQgICAgdmFyIHVsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0ICAgIHVsb2coKS50aXBfdyh1bG9nKCkucmVwZWF0KFwiIVwiKSk7XG5cdCAgICB1bG9nKCkudGlwX3coXCLmlLbmlbDln5/lkI3phY3nva7plJnor68s6K+35qOA5p+lYXBsdXMtcmhvc3QtduWPluWAvOeahOWGheWuuSwg5q2j56Gu5qC85byPIGVnLiB0ZXN0LXF0cmFja2luZy14eHguY29tOuerr+WPo+WPt+WPr+mAiSBcIik7XG5cdCAgICB1bG9nKCkudGlwX3codWxvZygpLnJlcGVhdChcIiFcIikpO1xuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH0gXG5cdCAgcmV0dXJuIHRydWU7XG5cdH07XG5cdFxuXHRleHBvcnRzLmNoZWNrT3BlbmlkID0gZnVuY3Rpb24ob2QpIHtcblx0ICBpZiAoIW9kKSB7XG5cdCAgICB2YXIgdWxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHQgICAgdWxvZygpLnRpcF93KHVsb2coKS5yZXBlYXQoJyEnKSk7XG5cdCAgICB1bG9nKCkudGlwX3coXCJRVOeahFVW6K6h566X5L6d6LWW5bCP56iL5bqP55qE55So5oi35ZSv5LiA5qCH6K+GLCDor7fnoa7kv53pkojlr7nnlKjmiLfllK/kuIDmoIfor4bnmoTkuIrmiqXvvIHvvIFcIik7XG5cdCAgICB1bG9nKCkudGlwX3coXCLphY3nva7lj4LogIPku6PnoIE6IGFwbHVzX3F1ZXVlLnB1c2goe2FjdGlvbjogJ2FwbHVzLnNldE1ldGFJbmZvJywgYXJndW1lbnRzOiBbJ19hbm9ueV9pZCcsIOW+hemFjee9ruWPluWAvF19KTtcIik7XG5cdCAgICB1bG9nKCkudGlwX3coXCLojrflj5blsI/nqIvluo/llK/kuIDmoIfor4bor7flj4LogIPpk77mjqU6IGh0dHBzOi8vdC50Yi5jbi8xZFRIalRUUUYwVWpPVE5IaUNrYUNTXCIpO1xuXHQgICAgdWxvZygpLnRpcF93KHVsb2coKS5yZXBlYXQoJyEnKSk7XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdCAgfVxuXHQgIHJldHVybiB0cnVlO1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogMTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKiBpc3RhbmJ1bCBpZ25vcmUgZmlsZSAqL1xuXHR2YXIgTE9HX1BSRUZJWCA9ICdbQVBMVVNdIC0tICc7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbiAoKSB7XG5cdCAgdmFyIF9pbnN0YW5jZSA9IG51bGw7XG5cdCAgdmFyIF9kZWJ1ZyA9IGZhbHNlO1xuXHRcblx0ICBmdW5jdGlvbiBVTG9nKCkge1xuXHQgICAgdGhpcy5zZXREZWJ1ZyA9IGZ1bmN0aW9uIChkZWJ1Zykge1xuXHQgICAgICBfZGVidWcgPSBkZWJ1Zztcblx0ICAgIH07XG5cdFxuXHQgICAgdGhpcy5pID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIGlmICh0eXBlb2YgYXJndW1lbnRzWzBdID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgICAgYXJndW1lbnRzWzBdID0gTE9HX1BSRUZJWCArIGFyZ3VtZW50c1swXTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgY29uc29sZS5pbmZvLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cyk7XG5cdCAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICAvLyBlXG5cdCAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgdGhpcy5lID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICBpZiAoX2RlYnVnKSB7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgIGlmICh0eXBlb2YgYXJndW1lbnRzWzBdID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgICAgICBhcmd1bWVudHNbMF0gPSBMT0dfUFJFRklYICsgYXJndW1lbnRzWzBdO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgY29uc29sZS5lcnJvci5hcHBseShjb25zb2xlLCBhcmd1bWVudHMpO1xuXHQgICAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICAgIC8vIGVcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgdGhpcy53ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIGlmICh0eXBlb2YgYXJndW1lbnRzWzBdID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgICAgYXJndW1lbnRzWzBdID0gTE9HX1BSRUZJWCArIGFyZ3VtZW50c1swXTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgY29uc29sZS53YXJuLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cyk7XG5cdCAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICAvLyBlXG5cdCAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgdGhpcy52ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICBpZiAoX2RlYnVnKSB7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgIGlmICh0eXBlb2YgYXJndW1lbnRzWzBdID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgICAgICBhcmd1bWVudHNbMF0gPSBMT0dfUFJFRklYICsgYXJndW1lbnRzWzBdO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgYXJndW1lbnRzKTtcblx0ICAgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgICAvLyBlXG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIHRoaXMudGlwX3cgPSBmdW5jdGlvbiAobXNnKSB7XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgY29uc29sZS5sb2coXG5cdCAgICAgICAgICAnJWMgJyArIExPR19QUkVGSVggKyBtc2csXG5cdCAgICAgICAgICAnYmFja2dyb3VuZDpyZWQ7IHBhZGRpbmc6IDRweDsgcGFkZGluZy1yaWdodDogOHB4OyBib3JkZXItcmFkaXVzOiA0cHg7IGNvbG9yOiAjZmZmOydcblx0ICAgICAgICApO1xuXHQgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgLy8gZVxuXHQgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIHRoaXMucmVwZWF0ID0gZnVuY3Rpb24oY2hhcikge1xuXHQgICAgICB2YXIgcmVzID0gY2hhcjtcblx0ICAgICAgd2hpbGUgKHJlcy5sZW5ndGggPCA4Nikge1xuXHQgICAgICAgIHJlcyA9IHJlcyArIGNoYXI7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHJlcztcblx0ICAgIH07XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKF9pbnN0YW5jZSA9PT0gbnVsbCkge1xuXHQgICAgICBfaW5zdGFuY2UgPSBuZXcgVUxvZygpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIF9pbnN0YW5jZTtcblx0ICB9O1xuXHR9KSgpO1xuXG4vKioqLyB9KSxcbi8qIDEyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGNhY2hlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cdHZhciB1bG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdHZhciBhcGx1c1N0YXRpYyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdHZhciBtaW5pID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0dmFyIGNsb25lRGVlcCA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdHZhciB1dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xuXHR2YXIgdXRpbEdvbGRsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oKXtcblx0ICB2YXIgX2luc3RhbmNlID0gbnVsbDtcblx0ICB2YXIgX3Jlc3VtZVRpbWUgPSBudWxsO1xuXHQgIHZhciBfY3VycmVudFNlc3Npb24gPSBudWxsOyAvLyDlvZPliY1zZXNzaW9u5a+56LGhXG5cdFxuXHQgIGZ1bmN0aW9uIGluaXQoKXtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHJlc3VtZTogZnVuY3Rpb24gKG9wdGlvbnMpIHtcblx0ICAgICAgICB2YXIgbmV3U2Vzc2lvbiA9IGZhbHNlO1xuXHRcblx0ICAgICAgICBpZiAoIV9jdXJyZW50U2Vzc2lvbikge1xuXHQgICAgICAgICAgX2N1cnJlbnRTZXNzaW9uID0gY2FjaGUoKS5nZXQoYXBsdXNTdGF0aWMuQ1VSUkVOVF9TRVNTSU9OKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcblx0ICAgICAgICBfcmVzdW1lVGltZSA9IGRhdGUuZ2V0VGltZSgpO1xuXHQgICAgICAgIGlmICghX2N1cnJlbnRTZXNzaW9uXG5cdCAgICAgICAgICB8fCAhX2N1cnJlbnRTZXNzaW9uLmVuZF90aW1lXG5cdCAgICAgICAgICB8fCBfcmVzdW1lVGltZSAtIF9jdXJyZW50U2Vzc2lvbi5lbmRfdGltZSA+IGFwbHVzU3RhdGljLlNFU1NJT05fSU5URVJWQUwpIHtcblx0ICAgICAgICAgIG5ld1Nlc3Npb24gPSB0cnVlO1xuXHQgICAgICAgICAgX2NyZWF0ZU5ld1Nlc3Npb24ob3B0aW9ucyk7XG5cdCAgICAgICAgICB1bG9nKCkudign5byA5aeL5paw55qEc2Vzc2lvbiglcyk6ICcsIF9jdXJyZW50U2Vzc2lvbi5pZCwgX2N1cnJlbnRTZXNzaW9uKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdWxvZygpLnYoJ+W7tue7reS4iuS4gOasoXNlc3Npb24oJXMpOiAlcyAnLCBfY3VycmVudFNlc3Npb24uaWQsIGRhdGUudG9Mb2NhbGVUaW1lU3RyaW5nKCksIF9jdXJyZW50U2Vzc2lvbik7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBuZXdTZXNzaW9uO1xuXHQgICAgICB9LFxuXHRcblx0ICAgICAgLy8g5Zyob25IaWRl5pa55rOV5pe26Zet5ZCIc2Vzc2lvblxuXHQgICAgICBwYXVzZTogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIF9lbmRTZXNzaW9uKCk7XG5cdCAgICAgIH0sXG5cdFxuXHQgICAgICAvLyDojrflj5blvZPliY3nmoRzZXNzaW9uSWTvvIzmsqHmnInliJnov5Tlm57nqbpcblx0ICAgICAgZ2V0Q3VycmVudFNlc3Npb25JZDogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiAoX2N1cnJlbnRTZXNzaW9uIHx8IHt9KS5pZDtcblx0ICAgICAgfSxcblx0XG5cdCAgICAgIGdldEN1cnJlbnRTZXNzaW9uOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIF9jdXJyZW50U2Vzc2lvbjtcblx0ICAgICAgfSxcblx0XG5cdCAgICAgIGNsb25lQ3VycmVudFNlc3Npb246IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gY2xvbmVEZWVwKF9jdXJyZW50U2Vzc2lvbik7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBfZ2V0VW1QYXJhbXMocXVlcnkpIHtcblx0ICAgIHZhciBhcGx1c19xdWVyeSA9IHt9O1xuXHQgICAgZm9yICh2YXIgaSBpbiBxdWVyeSkge1xuXHQgICAgICBhcGx1c19xdWVyeVtpXSA9IHF1ZXJ5W2ldO1xuXHQgICAgfVxuXHRcblx0ICAgIHVsb2coKS52KCdxdWVyeTogJywgcXVlcnkpO1xuXHQgICAgcmV0dXJuIGFwbHVzX3F1ZXJ5O1xuXHQgIH1cblx0XG5cdCAgLy8g5byA5aeL5LiA5Liq5pawc2Vzc2lvblxuXHQgIGZ1bmN0aW9uIF9jcmVhdGVOZXdTZXNzaW9uKG5ld09wdGlvbnMpIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgIHZhciBwcmV2T3B0aW9ucyA9IChfY3VycmVudFNlc3Npb24gfHwge30pLm9wdGlvbnMgfHwge307XG5cdCAgICAgIFxuXHQgICAgICB2YXIgbGF1bmNoT3B0aW9ucyA9IHV0aWxzLmFzc2lnbih7fSwgX2dldFVtUGFyYW1zKG5ld09wdGlvbnMucXVlcnkpKTtcblx0ICAgICAgbGF1bmNoT3B0aW9ucy5wYXRoID0gbmV3T3B0aW9ucy5wYXRoIHx8IHByZXZPcHRpb25zLnBhdGg7XG5cdCAgICAgIGxhdW5jaE9wdGlvbnMuc2NlbmUgPSBuZXdPcHRpb25zLnNjZW5lXG5cdCAgICAgICAgPyBtaW5pLmdldFBsYXRmb3JtVHlwZSgpICsgJ18nICsgbmV3T3B0aW9ucy5zY2VuZVxuXHQgICAgICAgIDogcHJldk9wdGlvbnMuc2NlbmU7XG5cdFxuXHQgICAgICB2YXIgcmVmZXJyZXJJbmZvID0gbmV3T3B0aW9ucy5yZWZlcnJlckluZm87XG5cdCAgICAgIGlmIChyZWZlcnJlckluZm8pIHtcblx0ICAgICAgICBsYXVuY2hPcHRpb25zLnJlZmVycmVyQXBwSWQgPSByZWZlcnJlckluZm8uYXBwSWQ7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHVsb2coKS52KCdzZXNzaW9uIG9wdGlvbnM6ICcsIGxhdW5jaE9wdGlvbnMpO1xuXHQgICAgICB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZSgnYXBsdXMnKTtcblx0ICAgICAgdmFyIGdwID0gYXBsdXMuZ2V0TWV0YUluZm8oJ2dsb2JhbHByb3BlcnR5Jyk7XG5cdCAgICAgIHZhciB0cyA9IERhdGUubm93KCk7XG5cdCAgICAgIF9jdXJyZW50U2Vzc2lvbiA9IHtcblx0ICAgICAgICBpZDogdXRpbHMuZ2V0UmFuZG9tU3RyKDEwKSArIHRzLFxuXHQgICAgICAgIHN0YXJ0X3RpbWU6IHRzLFxuXHQgICAgICAgIG9wdGlvbnM6IGxhdW5jaE9wdGlvbnMsXG5cdCAgICAgICAgc3RhdGVfczogMVxuXHQgICAgICB9OyBcblx0ICAgICAgaWYgKGdwKSB7XG5cdCAgICAgICAgX2N1cnJlbnRTZXNzaW9uWydncCddID0gZ3A7XG5cdCAgICAgIH0gXG5cdFxuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICB1bG9nKCkuZSgn55Sf5oiQ5pawc2Vzc2lvbuWksei0pTogJywgZSk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICAvLyDnu5PmnZ/lvZPliY1zZXNzaW9u77yM55Sx5LqOMzDnp5LmnLrliLbvvIzkuIDkuKpzZXNzaW9u5Lya6KKr57uT5p2f5aSa5qyhXG5cdCAgZnVuY3Rpb24gX2VuZFNlc3Npb24oKSB7XG5cdCAgICBpZiAoX2N1cnJlbnRTZXNzaW9uKSB7XG5cdCAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcblx0ICAgICAgX2N1cnJlbnRTZXNzaW9uLmVuZF90aW1lID0gZGF0ZS5nZXRUaW1lKCk7XG5cdCAgICAgIGlmICh0eXBlb2YgX2N1cnJlbnRTZXNzaW9uLmR1cmF0aW9uICE9PSAnbnVtYmVyJykge1xuXHQgICAgICAgIF9jdXJyZW50U2Vzc2lvbi5kdXJhdGlvbiA9IDA7XG5cdCAgICAgIH1cblx0ICAgICAgX2N1cnJlbnRTZXNzaW9uLmR1cmF0aW9uID0gX2N1cnJlbnRTZXNzaW9uLmVuZF90aW1lIC0gX3Jlc3VtZVRpbWU7XG5cdCAgICAgIF9jdXJyZW50U2Vzc2lvbi5zdGF0ZV9zID0gMDtcblx0ICAgICAgY2FjaGUoKS5zZXQoYXBsdXNTdGF0aWMuQ1VSUkVOVF9TRVNTSU9OLCBfY3VycmVudFNlc3Npb24pO1xuXHRcblx0ICAgICAgdWxvZygpLnYoJ+mAgOWHuuS8muivnSglcyk6ICVzICcsIF9jdXJyZW50U2Vzc2lvbi5pZCwgZGF0ZS50b0xvY2FsZVRpbWVTdHJpbmcoKSwgX2N1cnJlbnRTZXNzaW9uKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAoIV9pbnN0YW5jZSkge1xuXHQgICAgICBfaW5zdGFuY2UgPSBpbml0KCk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gX2luc3RhbmNlO1xuXHQgIH07XG5cdFxuXHR9KSgpO1xuXG4vKioqLyB9KSxcbi8qIDEzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIG1pbmkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHR2YXIgaXNGdW5jdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdHZhciBqc29uVXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXHR2YXIgdWxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHR2YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oKXtcblx0ICB2YXIgX2luc3RhbmNlID0gbnVsbDtcblx0ICB2YXIgX25hbWUgPSAnJztcblx0ICB2YXIgX2RhdGEgPSBudWxsO1xuXHQgIHZhciBfbG9hZGVkID0gZmFsc2U7XG5cdFxuXHQgIGZ1bmN0aW9uIENhY2hlKCkge1xuXHQgICAgdmFyIGN0eCA9IG1pbmkuZ2V0Q29udGV4dCgpO1xuXHQgICAgdGhpcy5sb2FkID0gZnVuY3Rpb24gKGNiKSB7XG5cdCAgICAgIGlmICghX2RhdGEpIHtcblx0ICAgICAgICBfbmFtZSA9ICdhcGx1c19jYWNoZV8nICsgdXRpbC5nZXRBcHBLZXkoKSB8fCAnJztcblx0ICAgICAgICBjdHguZ2V0U3RvcmFnZSh7XG5cdCAgICAgICAgICBrZXk6IF9uYW1lLFxuXHQgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgICAgICBpZiAocmVzICYmIHJlcy5kYXRhKSB7XG5cdCAgICAgICAgICAgICAgX2RhdGEgPSBqc29uVXRpbC5wYXJzZShyZXMuZGF0YSkgfHwge307XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgX2RhdGEgPSB7fTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBfbG9hZGVkID0gdHJ1ZTtcblx0ICAgICAgICAgICAgY3R4LnJlbW92ZVN0b3JhZ2Uoe1xuXHQgICAgICAgICAgICAgIGtleTogX25hbWVcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIGlzRnVuY3Rpb24oY2IpICYmIGNiKCk7XG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgZmFpbDogZnVuY3Rpb24gKGUpIHtcblx0XG5cdCAgICAgICAgICAgIHVsb2coKS52KF9uYW1lICsgJzogJyArIGUuZXJyTXNnKTtcblx0ICAgICAgICAgICAgX2RhdGEgPSB7fTtcblx0ICAgICAgICAgICAgX2xvYWRlZCA9IHRydWU7XG5cdCAgICAgICAgICAgIGN0eC5yZW1vdmVTdG9yYWdlKHtcblx0ICAgICAgICAgICAgICBrZXk6IF9uYW1lXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICBpc0Z1bmN0aW9uKGNiKSAmJiBjYigpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGN0eC5yZW1vdmVTdG9yYWdlKHtcblx0ICAgICAgICAgIGtleTogX25hbWVcblx0ICAgICAgICB9KTtcblx0ICAgICAgICBpc0Z1bmN0aW9uKGNiKSAmJiBjYigpO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIHRoaXMuc2F2ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgaWYgKF9kYXRhKSB7XG5cdCAgICAgICAgY3R4LnNldFN0b3JhZ2Uoe1xuXHQgICAgICAgICAga2V5OiBfbmFtZSxcblx0ICAgICAgICAgIGRhdGE6IGpzb25VdGlsLnN0cmluZ2Z5KF9kYXRhKVxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIHRoaXMuc2V0ID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcblx0ICAgICAgaWYgKF9kYXRhKSB7XG5cdCAgICAgICAgX2RhdGFba2V5XSA9IHZhbHVlO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICByZXR1cm4gKF9kYXRhIHx8IHt9KVtrZXldO1xuXHQgICAgfTtcblx0XG5cdCAgICB0aGlzLnJlbW92ZSA9IGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgICAgaWYgKF9kYXRhICYmIF9kYXRhW2tleV0pIHtcblx0ICAgICAgICBkZWxldGUgX2RhdGFba2V5XTtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICB0aGlzLmdldEFsbCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIF9kYXRhO1xuXHQgICAgfTtcblx0XG5cdCAgICB0aGlzLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICBfZGF0YSA9IG51bGw7XG5cdCAgICB9O1xuXHRcblx0ICAgIHRoaXMuaGFzID0gZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICByZXR1cm4gISF0aGlzLmdldChrZXkpO1xuXHQgICAgfTtcblx0XG5cdCAgICB0aGlzLmlzTG9hZGVkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gX2xvYWRlZDtcblx0ICAgIH07XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKCFfaW5zdGFuY2UpIHtcblx0ICAgICAgX2luc3RhbmNlID0gbmV3IENhY2hlKCk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIF9pbnN0YW5jZTtcblx0ICB9O1xuXHR9KSgpO1xuXG4vKioqLyB9KSxcbi8qIDE0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XG5cdGV4cG9ydHMuc3RyaW5nZnkgPSBmdW5jdGlvbihkYXRhKSB7XG5cdCAgaWYgKGRhdGEpIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhKTtcblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgLy8gZW1wdHlcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuICcnO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5wYXJzZSA9IGZ1bmN0aW9uKGpzb24pIHtcblx0ICBpZiAoanNvbikge1xuXHQgICAgdHJ5IHtcblx0ICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvbik7XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgIC8vIGVtcHR5XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiBudWxsO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5wYXJzZVRvQXJyYXkgPSBmdW5jdGlvbihqc29uKSB7XG5cdCAgaWYgKGpzb24pIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgIHJldHVybiBKU09OLnBhcnNlKGpzb24pO1xuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAvLyBlbXB0eVxuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gW107XG5cdH07XG5cbi8qKiovIH0pLFxuLyogMTUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzLmdldFJhbmRvbVN0ciA9IGZ1bmN0aW9uKGxlbikge1xuXHQgIHZhciBzdHIgPSAnJztcblx0ICB2YXIgYXJyID0gWycwJywgJzEnLCAnMicsICczJywgJzQnLCAnNScsICc2JywgJzcnLCAnOCcsICc5JywgJ2EnLCAnYicsICdjJywgJ2QnLCAnZScsICdmJywgJ2cnLCAnaCcsICdpJywgJ2onLCAnaycsICdsJywgJ20nLCAnbicsICdvJywgJ3AnLCAncScsICdyJywgJ3MnLCAndCcsICd1JywgJ3YnLCAndycsICd4JywgJ3knLCAneicsICdBJywgJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJywgJ0snLCAnTCcsICdNJywgJ04nLCAnTycsICdQJywgJ1EnLCAnUicsICdTJywgJ1QnLCAnVScsICdWJywgJ1cnLCAnWCcsICdZJywgJ1onXTtcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IE51bWJlcihsZW4pOyBpKyspIHtcblx0ICAgIHZhciBwb3MgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAoYXJyLmxlbmd0aCAtIDEpKTtcblx0ICAgIHN0ciArPSBhcnJbcG9zXTtcblx0ICB9XG5cdCAgcmV0dXJuIHN0cjtcblx0fTtcblx0XG5cdGV4cG9ydHMuc3RhcnRzV2l0aCA9IGZ1bmN0aW9uKHN0ciwgc2VhcmNoVmFsKSB7XG5cdCAgaWYgKCFzdHIgfHwgIXNlYXJjaFZhbCB8fCBzZWFyY2hWYWwubGVuZ3RoID09PSAwIHx8IHNlYXJjaFZhbC5sZW5ndGggPiBzdHIubGVuZ3RoKSB7XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdCAgfVxuXHQgIHJldHVybiBzdHIuc3Vic3RyKDAsIHNlYXJjaFZhbC5sZW5ndGgpID09PSBzZWFyY2hWYWw7XG5cdH07XG5cdFxuXHRleHBvcnRzLmFzc2lnbiA9IGZ1bmN0aW9uKHRhcmdldCkge1xuXHQgIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCB8fCB0YXJnZXQgPT09IG51bGwpIHtcblx0ICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdCcpO1xuXHQgIH1cblx0XG5cdCAgdmFyIG91dHB1dCA9IE9iamVjdCh0YXJnZXQpO1xuXHQgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBhcmd1bWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG5cdCAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2luZGV4XTtcblx0ICAgIGlmIChzb3VyY2UpIHtcblx0ICAgICAgZm9yICh2YXIgbmV4dEtleSBpbiBzb3VyY2UpIHtcblx0ICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwgbmV4dEtleSkpIHtcblx0ICAgICAgICAgIG91dHB1dFtuZXh0S2V5XSA9IHNvdXJjZVtuZXh0S2V5XTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIG91dHB1dDtcblx0fTtcblx0XG5cdC8vIDEuZWt25Lit5a2Y5Zyo6KeE5YiZ5LiN5ZCI5rOV5oOF5Ya177yM5Lii5byD5pW05p2h5LqL5Lu2XG5cdC8vIDIuZXZlbnRpZOmVv+W6puS4jeiDvei2hei/hzEyOOS4quWtl+esplxuXHQvLyAzLmtleemVv+W6puS4jeiDvei2hei/hzI1NuS4quWtl+esplxuXHQvLyA0Luavj+S4qmV2ZW505pC65bima2V55Liq5pWw5LiN6IO96LaF6L+HMTAw5LiqXG5cdGV4cG9ydHMuY2hlY2tFdmVudCA9IGZ1bmN0aW9uKGV2ZW50SWQsIHByb3BlcnRpZXMpIHtcblx0ICB2YXIgYXBsdXNTdGF0aWMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHQgIHZhciB1bG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdCAgaWYgKCEoZXZlbnRJZCAmJiB0eXBlb2YgZXZlbnRJZCA9PT0gJ3N0cmluZycpKSB7XG5cdCAgICB1bG9nKCkuZSgncGxlYXNlIGNoZWNrIHRyYWNrRXZlbnQgaWQuIGlkIHNob3VsZCBiZSBcInN0cmluZ1wiIGFuZCBub3QgbnVsbCcpO1xuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0XG5cdCAgLy8g5L+d55WZ5YWz6ZSu5a2XXG5cdCAgdmFyIHJlc2VydmVXb3JkcyA9IFsnaWQnLCAnZHUnXTtcblx0ICB2YXIgcmVzZXJ2ZVdvcmRNYXAgPSB7fTtcblx0XG5cdCAgcmVzZXJ2ZVdvcmRzLmZvckVhY2goZnVuY3Rpb24gKHdvcmQpIHtcblx0ICAgIHJlc2VydmVXb3JkTWFwW3dvcmRdID0gMTtcblx0ICB9KTtcblx0XG5cdCAgLy8g5qOA5p+lZXZlbnRJZOaYr+WQpuS4juS/neeVmeWFs+mUruWtl+WGsueqgVxuXHQgIGlmIChyZXNlcnZlV29yZE1hcFtldmVudElkXSkge1xuXHQgICAgdWxvZygpLmUoJ2V2ZW50SWTkuI3og73kuI7ku6XkuIvkv53nlZnlrZflhrLnqoE6ICcgKyByZXNlcnZlV29yZHMuam9pbignLCcpKTtcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdFxuXHQgIGlmIChldmVudElkLmxlbmd0aCA+IGFwbHVzU3RhdGljLk1BWF9FVkVOVElEX0xFTkdUSCkge1xuXHQgICAgdWxvZygpLmUoJ1RoZSBtYXhpbXVtIGxlbmd0aCBvZiBldmVudCBpZCBzaGFsbCBub3QgZXhjZWVkICcgKyBhcGx1c1N0YXRpYy5NQVhfRVZFTlRJRF9MRU5HVEgpO1xuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0XG5cdCAgLy8gcHJvcGVydGllc+eahOWQiOazleexu+Wei+S4uiBzdHJpbmcgfCBvYmplY3Qobm90IGluY2x1ZGUgQXJyYXkpXG5cdCAgaWYgKHByb3BlcnRpZXNcblx0ICAgICYmICh0eXBlb2YgcHJvcGVydGllcyAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheShwcm9wZXJ0aWVzKSlcblx0ICAgICYmIHR5cGVvZiBwcm9wZXJ0aWVzICE9PSAnc3RyaW5nJykge1xuXHQgICAgdWxvZygpLmUoJ3BsZWFzZSBjaGVjayB0cmFja0V2ZW50IHByb3BlcnRpZXMuIHByb3BlcnRpZXMgc2hvdWxkIGJlIHN0cmluZyBvciBvYmplY3Qobm90IGluY2x1ZGUgQXJyYXkpJyk7XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdCAgfVxuXHRcblx0ICBpZiAodHlwZW9mIHByb3BlcnRpZXMgPT09ICdvYmplY3QnKSB7XG5cdCAgICB2YXIgY291bnQgPSAwO1xuXHQgICAgZm9yICh2YXIga2V5IGluIHByb3BlcnRpZXMpIHtcblx0ICAgICAgaWYgKHt9Lmhhc093blByb3BlcnR5LmNhbGwocHJvcGVydGllcywga2V5KSkge1xuXHQgICAgICAgIGlmIChrZXkubGVuZ3RoID4gYXBsdXNTdGF0aWMuTUFYX1BST1BFUlRZX0tFWV9MRU5HVEgpIHtcblx0ICAgICAgICAgIHVsb2coKS5lKCdUaGUgbWF4aW11bSBsZW5ndGggb2YgcHJvcGVydHkga2V5IHNoYWxsIG5vdCBleGNlZWQgJyArIGFwbHVzU3RhdGljLk1BWF9QUk9QRVJUWV9LRVlfTEVOR1RIKTtcblx0ICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChjb3VudCA+PSBhcGx1c1N0YXRpYy5NQVhfUFJPUEVSVFlfS0VZU19DT1VOVCkge1xuXHQgICAgICAgICAgdWxvZygpLmUoJ1RoZSBtYXhpbXVtIGNvdW50IG9mIHByb3BlcnRpZXMgc2hhbGwgbm90IGV4Y2VlZCAnICsgYXBsdXNTdGF0aWMuTUFYX1BST1BFUlRZX0tFWVNfQ09VTlQpO1xuXHQgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKHJlc2VydmVXb3JkTWFwW2tleV0pIHtcblx0ICAgICAgICAgIHVsb2coKS5lKCflsZ7mgKfkuK3nmoRrZXnkuI3og73kuI7ku6XkuIvkv53nlZnlrZflhrLnqoE6ICcgKyByZXNlcnZlV29yZHMuam9pbignLCcpKTtcblx0ICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGNvdW50ICs9IDE7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHJldHVybiB0cnVlO1xuXHR9O1xuXHRcblx0XG5cdHZhciBlYWNoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG5cdFxuXHRleHBvcnRzLmRlbGV0ZUluZm8gPSBmdW5jdGlvbihnb2tleSwgYXJyKSB7XG5cdCAgZWFjaChhcnIsIGZ1bmN0aW9uKHYpIHtcblx0ICAgIGRlbGV0ZSBnb2tleVt2XTtcblx0ICB9KTtcblx0ICByZXR1cm4gZ29rZXk7XG5cdH07XG5cdFxuXHRleHBvcnRzLmNoZWNrRW1wdHlPYmogPSBmdW5jdGlvbihkYXRhKSB7XG5cdCAgaWYgKHR5cGVvZiBkYXRhICE9PSAnb2JqZWN0JyB8fCAoT2JqZWN0LmtleXMoZGF0YSkubGVuZ3RoID09PSAwKSkge1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXHQgIHJldHVybiBmYWxzZTtcblx0fTtcblx0XG5cdFxuXHRleHBvcnRzLkRhdGFUeXBlID0ge1xuXHQgIEhBTEZfU0VTU0lPTjogJ2hhbGZfc2Vzc2lvbicsXG5cdCAgQ0xPU0VfU0VTU0lPTjogJ2Nsb3NlX3Nlc3Npb24nLFxuXHQgIEVLVjogJ2VrdicsXG5cdCAgRU5URVJfUEFHRTogJ2VudGVyX3BhZ2UnLFxuXHQgIExFQVZFX1BBR0U6ICdsZWF2ZV9wYWdlJ1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5BY2Nlc3NUeXBlID0ge1xuXHQgIE1PQklMRV9ORVRXT1JLXzJHOiAnMmcnLFxuXHQgIE1PQklMRV9ORVRXT1JLXzNHOiAnM2cnLFxuXHQgIE1PQklMRV9ORVRXT1JLXzRHOiAnNGcnLFxuXHQgIE1PQklMRV9ORVRXT1JLX05PTkU6ICdub25lJ1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDE2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyoqXG5cdCAqIHByb2plY3QgLSBmaWxlcGF0aFxuXHQgKiBkb23mk43kvZzlt6XlhbfnsbvvvIzov5nkuKrln7rnoYDlt6XlhbfnsbvkvJrooqvlhbbku5blt6XlhbfnsbvlvJXnlKjvvIzmlYXkuKXnpoHlnKjov5nph4zlho3lvJXnlKjlhbbku5bmqKHlnZfku6XlhY3lh7rnjrDpl67pophcblx0ICpcblx0ICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuXHQgKlxuXHQgKiBBdXRob3JzOlxuXHQgKiAgIOiwi+WjqyA8cWluZ2xpYW5nLmhxbEBhbGliYWJhLWluYy5jb20+XG5cdCAqL1xuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcnIsIGZuKSB7XG5cdCAgdmFyIGk7XG5cdCAgdmFyIGwgPSBhcnIubGVuZ3RoO1xuXHQgIGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcblx0ICAgIHZhciBycyA9IGZuKGFycltpXSwgaSk7XG5cdCAgICBpZiAocnMgPT09ICdicmVhaycpIHtcblx0ICAgICAgYnJlYWs7XG5cdCAgICB9XG5cdCAgfVxuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDE3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGNhY2hlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cdHZhciB1bG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdHZhciBhcGx1c1N0YXRpYyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdHZhciBpc0FycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpe1xuXHQgIHZhciBfaW5zdGFuY2U7XG5cdCAgdmFyIF9zZXNzaW9uSWQ7XG5cdCAgdmFyIF9tZW1vcnlFdmVudHMgPSBbXTtcblx0XG5cdCAgLy8g5Zyo5Yib5bu6c2Vzc2lvbklk5YmN5re75Yqg55qE5LqL5Lu2XG5cdCAgdmFyIF9ub1Nlc3Npb25FdmVudHMgPSBbXTtcblx0XG5cdCAgZnVuY3Rpb24gX2NhY2hlRXZlbnRzKCkge1xuXHQgICAgaWYgKF9tZW1vcnlFdmVudHMubGVuZ3RoKSB7XG5cdCAgICAgIHZhciBla3ZzID0gY2FjaGUoKS5nZXQoYXBsdXNTdGF0aWMuRUtWUyk7XG5cdCAgICAgIFxuXHQgICAgICAvLyDmnKzlnLDmnIDlpJrlrZjlgqggRVZFTlRfTUFYX0NPVU5UIOadoeaVsOaNru+8jOOAjOWkmuS9meaVsOaNruOAjeaaguaXtuWFiOaKm+W8g1xuXHQgICAgICBpZiAoX2dldENhY2hlRXZlbnRzTGVuZ3RoKGVrdnMpICsgX21lbW9yeUV2ZW50cy5sZW5ndGggPD0gYXBsdXNTdGF0aWMuRVZFTlRfTUFYX0NPVU5UKSB7XG5cdCAgICAgICAgZWt2cyA9IF9idWlsZEVrdnMoZWt2cywgX21lbW9yeUV2ZW50cyk7XG5cdCAgICAgICAgXG5cdCAgICAgICAgY2FjaGUoKS5zZXQoYXBsdXNTdGF0aWMuRUtWUywgZWt2cyk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIF9idWlsZEVrdnMoZWt2cywgbWVtb3J5RXZlbnRzKSB7XG5cdCAgICBla3ZzID0gZWt2cyB8fCB7fTtcblx0ICAgIHZhciBldmVudHMgPSBla3ZzW19zZXNzaW9uSWRdO1xuXHQgICAgaWYgKGlzQXJyYXkoZXZlbnRzKSAmJiBldmVudHMubGVuZ3RoKSB7XG5cdCAgICAgIGVrdnNbX3Nlc3Npb25JZF0gPSBldmVudHMuY29uY2F0KG1lbW9yeUV2ZW50cyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBla3ZzW19zZXNzaW9uSWRdID0gW10uY29uY2F0KG1lbW9yeUV2ZW50cyk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGVrdnM7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBfZ2V0Q2FjaGVFdmVudHNMZW5ndGgoZXZlbnRzTWFwKSB7XG5cdCAgICB2YXIgbGVuID0gMDtcblx0ICAgIGZvciAodmFyIGtleSBpbiBldmVudHNNYXApIHtcblx0ICAgICAgaWYgKGlzQXJyYXkoZXZlbnRzTWFwW2tleV0pKSB7XG5cdCAgICAgICAgbGVuICs9IGV2ZW50c01hcFtrZXldLmxlbmd0aDtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIGxlbjtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGluaXQoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBhZGRFdmVudDogZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICAgICAgaWYgKCFldmVudCkgcmV0dXJuO1xuXHQgICAgICAgIGlmIChfc2Vzc2lvbklkKSB7XG5cdCAgICAgICAgICBfbWVtb3J5RXZlbnRzLnVuc2hpZnQoZXZlbnQpO1xuXHQgICAgICAgICAgXG5cdCAgICAgICAgICBpZiAoX21lbW9yeUV2ZW50cy5sZW5ndGggPiBhcGx1c1N0YXRpYy5NRU1PUllfTUFYX0NPVU5UKSB7XG5cdCAgICAgICAgICAgIF9jYWNoZUV2ZW50cyhfc2Vzc2lvbklkKTtcblx0ICAgICAgICAgICAgX21lbW9yeUV2ZW50cy5sZW5ndGggPSAwO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB1bG9nKCkudygnc2Vzc2lvbiBpZCBpcyBudWxsOiAnLCBfc2Vzc2lvbklkKTtcblx0ICAgICAgICAgIFxuXHQgICAgICAgICAgX25vU2Vzc2lvbkV2ZW50cy51bnNoaWZ0KGV2ZW50KTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0sXG5cdFxuXHQgICAgICBzZXRTZXNzaW9uSWQ6IGZ1bmN0aW9uIChzZXNzaW9uSWQpIHtcblx0ICAgICAgICBfc2Vzc2lvbklkID0gc2Vzc2lvbklkO1xuXHRcblx0ICAgICAgICB1bG9nKCkudignc2V0U2Vzc2lvbklkOiAnLCBfc2Vzc2lvbklkKTtcblx0ICAgICAgICBpZiAoaXNBcnJheShfbm9TZXNzaW9uRXZlbnRzKSAmJiBfbm9TZXNzaW9uRXZlbnRzLmxlbmd0aCAmJiBfc2Vzc2lvbklkKSB7XG5cdCAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF9ub1Nlc3Npb25FdmVudHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgdGhpcy5hZGRFdmVudChfbm9TZXNzaW9uRXZlbnRzW2ldKTtcblx0ICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICBfbm9TZXNzaW9uRXZlbnRzLmxlbmd0aCA9IDA7XG5cdCAgICAgICAgfVxuXHQgICAgICB9LFxuXHRcblx0ICAgICAgZ2V0RWt2czogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHZhciBla3ZzID0gY2FjaGUoKS5nZXQoYXBsdXNTdGF0aWMuRUtWUyk7XG5cdCAgICAgICAgXG5cdCAgICAgICAgaWYgKF9tZW1vcnlFdmVudHMgJiYgX21lbW9yeUV2ZW50cy5sZW5ndGgpIHtcblx0ICAgICAgICAgIGVrdnMgPSBfYnVpbGRFa3ZzKGVrdnMsIF9tZW1vcnlFdmVudHMpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gZWt2cztcblx0ICAgICAgfSxcblx0XG5cdCAgICAgIGNsZWFyOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgY2FjaGUoKS5yZW1vdmUoYXBsdXNTdGF0aWMuRUtWUyk7XG5cdCAgICAgICAgX21lbW9yeUV2ZW50cy5sZW5ndGggPSAwO1xuXHQgICAgICAgIF9ub1Nlc3Npb25FdmVudHMubGVuZ3RoID0gMDtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAoIV9pbnN0YW5jZSkge1xuXHQgICAgICBfaW5zdGFuY2UgPSBpbml0KCk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gX2luc3RhbmNlO1xuXHQgIH07XG5cdH0pKCk7XG5cbi8qKiovIH0pLFxuLyogMTggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKipcblx0ICogcHJvamVjdCAtIGZpbGVwYXRoXG5cdCAqIGRvbeaTjeS9nOW3peWFt+exu++8jOi/meS4quWfuuehgOW3peWFt+exu+S8muiiq+WFtuS7luW3peWFt+exu+W8leeUqO+8jOaVheS4peemgeWcqOi/memHjOWGjeW8leeUqOWFtuS7luaooeWdl+S7peWFjeWHuueOsOmXrumimFxuXHQgKlxuXHQgKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG5cdCAqXG5cdCAqIEF1dGhvcnM6XG5cdCAqICAg6LCL5aOrIDxxaW5nbGlhbmcuaHFsQGFsaWJhYmEtaW5jLmNvbT5cblx0ICovXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG8pIHtcblx0ICBpZiAoQXJyYXkuaXNBcnJheSkge1xuXHQgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkobyk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHJldHVybiAvQXJyYXkvLnRlc3QoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pKTtcblx0ICB9XG5cdH07XG5cbi8qKiovIH0pLFxuLyogMTkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgSGVhZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG5cdHZhciBjYWNoZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXHR2YXIgYXBsdXNTdGF0aWMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgdWxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHR2YXIgYnVpbGRCb2R5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cdHZhciByZXF1ZXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG5cdHZhciBRdWV1ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXHR2YXIgaXNGdW5jdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdHZhciB1dGlsRGFzaCA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpO1xuXHR2YXIgY2xvbmVEZWVwID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0dmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0dmFyIE1BWF9RVUVVRV9DT1VOVCA9IDUwOyAvLyDkuLrpmLLmraLlm6DnvZHnu5zlvILluLjlr7zoh7TnvJPlrZjov4flpKfvvIzorr7nva7nvJPlrZjkuKrmlbDkuIrpmZBcblx0dmFyIHV0aWxHb2xkbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0bW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oKXsgXG5cdCAgdmFyIF9pbnN0YW5jZSA9IG51bGw7XG5cdCAgdmFyIF9ydW5uaW5nID0gZmFsc2U7XG5cdCAgdmFyIF9mYWlsUmVxdWVzdHMgPSBbXTtcblx0ICB2YXIgX3F1ZXVlID0gbmV3IFF1ZXVlKE1BWF9RVUVVRV9DT1VOVCk7XG5cdFxuXHQgIGZ1bmN0aW9uIF9lbnF1ZXVlUmVxdWVzdChkYXRhVHlwZSwgb3B0aW9ucywgY2IpIHtcblx0ICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHQgICAgdmFyIGRhdGEgPSBidWlsZEJvZHkoZGF0YVR5cGUpO1xuXHQgICAgaWYgKGRhdGEpIHtcblx0ICAgICAgdmFyIHV0aWxHb2xkbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0ICAgICAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoYXBsdXNTdGF0aWMuQVBMVVMpO1xuXHQgICAgICB2YXIgY2xpZW50ID0gYXBsdXMuX2FwbHVzX2NsaWVudCB8fCB7fTtcblx0ICAgICAgZGF0YS5oZWFkZXIgPSB1dGlsRGFzaC5hc3NpZ24oZGF0YS5oZWFkZXIsIEhlYWRlci5nZXROZXRJbmZvKGNsaWVudCkpO1xuXHQgICAgICBkYXRhLm5vQ2FjaGUgPSBvcHRpb25zLm5vQ2FjaGU7XG5cdCAgICAgIF9xdWV1ZS5lbnF1ZXVlKGRhdGEpO1xuXHQgICAgfVxuXHQgICAgaXNGdW5jdGlvbihjYikgJiYgY2IoKTtcblx0ICB9XG5cdCAgZnVuY3Rpb24gX3NlbmRRdWV1ZShjb21wbGV0ZWRDYWxsYmFjaykge1xuXHQgICAgdmFyIGRhdGEgPSBfcXVldWUuZnJvbnQoKTtcblx0ICAgIHZhciBzdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICBfcXVldWUuZGVxdWV1ZSgpO1xuXHQgICAgICBfc2VuZFF1ZXVlKGNvbXBsZXRlZENhbGxiYWNrKTtcblx0ICAgIH07XG5cdFxuXHQgICAgdmFyIGZhaWwgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIC8vIOWPkemAgeWksei0peWImeWwhuivpeadoeaVsOaNrua3u+WKoOWIsOmYn+WIl+WwvumDqO+8jOmYsuatouW9seWTjeWQjue7reaVsOaNrueahOWPkemAgVxuXHQgICAgICB2YXIgaXRlbSA9IF9xdWV1ZS5kZXF1ZXVlKCk7XG5cdCAgICAgIGl0ZW0gJiYgKCFpdGVtLm5vQ2FjaGUpICYmIF9mYWlsUmVxdWVzdHMucHVzaChpdGVtKTtcblx0ICAgICAgX3NlbmRRdWV1ZShjb21wbGV0ZWRDYWxsYmFjayk7XG5cdCAgICB9O1xuXHQgICAgaWYgKGRhdGEpIHtcblx0ICAgICAgcmVxdWVzdChkYXRhLCBzdWNjZXNzLCBmYWlsKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIF9wcm9jZXNzRmFpbFJlcXVlc3RzKCk7XG5cdCAgICAgIGNvbXBsZXRlZENhbGxiYWNrKCk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBfcHJvY2Vzc0ZhaWxSZXF1ZXN0cygpIHtcblx0ICAgIC8vIOWPkemAgeWujOaIkOWQjuWwhuWksei0peeahOivt+axgumHjeaWsOa3u+WKoOWIsOmYn+WIl+S4rVxuXHQgICAgX2ZhaWxSZXF1ZXN0cy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgIF9xdWV1ZS5lbnF1ZXVlKGl0ZW0pO1xuXHQgICAgfSk7XG5cdCAgICBfZmFpbFJlcXVlc3RzLmxlbmd0aCA9IDA7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBfc3RhcnRTZW5kKGNvbXBsZXRlZENhbGxiYWNrKSB7XG5cdCAgICBpZiAoX3J1bm5pbmcpIHtcblx0ICAgICAgdWxvZygpLnYoJ+mYn+WIl+ato+WcqOWPkemAgeS4rScpO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICBfcnVubmluZyA9IHRydWU7XG5cdCAgICAvLyDlnKh0YXJvMXjjgIF0YXJvMnjmoYbmnrbkuK3vvIzlv4XpobvpgJrov4flj5jph4/lo7DmmI7nmoTmlrnlvI/kvKDlhaXvvIzlkKbliJlfc2VuZFF1ZXVl6Zi75aGe77yM5Zue6LCD5peg5rOV6YeN572uX3J1bm5pbmfvvIzlr7zoh7Tml6Xlv5flj5HpgIHkuI3lh7rvvJvljp/lm6DkuI3mmI5cblx0ICAgIC8vIOWmguaenOWOu+aOiV9ydW5uaW5n55qE6K+d77yM5Lya5a+86Ie06YeN5aSN5LiK5oqlc2Vzc2lvbuaXpeW/l1xuXHQgICAgdmFyIGNiID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICBfcnVubmluZyA9IGZhbHNlO1xuXHQgICAgICBpc0Z1bmN0aW9uKGNvbXBsZXRlZENhbGxiYWNrKSAmJiBjb21wbGV0ZWRDYWxsYmFjaygpO1xuXHQgICAgfTtcblx0ICAgIF9zZW5kUXVldWUoY2IpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gUmVxdWVzdFF1ZXVlKCkge1xuXHQgICAgdGhpcy5zZW5kID0gZnVuY3Rpb24gKGRhdGFUeXBlLCBvcHRpb25zLCBjb21wbGV0ZWRDYWxsYmFjaykge1xuXHQgICAgICBpZiAoZGF0YVR5cGUpIHtcblx0ICAgICAgICB0aGlzLmFkZChkYXRhVHlwZSwgb3B0aW9ucywgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgX3N0YXJ0U2VuZChjb21wbGV0ZWRDYWxsYmFjayk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgX3N0YXJ0U2VuZChjb21wbGV0ZWRDYWxsYmFjayk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgdGhpcy5hZGQgPSBmdW5jdGlvbiAoZGF0YVR5cGUsIG9wdGlvbnMsIGNiKSB7XG5cdCAgICAgIHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKGFwbHVzU3RhdGljLkFQTFVTKTtcblx0ICAgICAgaWYgKCF1dGlsLmNoZWNrT3BlbmlkKGFwbHVzLmdldE1ldGFJbmZvKGFwbHVzU3RhdGljLl9BTk9OWV9JRCkpKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIF9lbnF1ZXVlUmVxdWVzdChkYXRhVHlwZSwgb3B0aW9ucywgY2IpO1xuXHQgICAgfTtcblx0XG5cdCAgICB0aGlzLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBpdGVtcyA9IGNhY2hlKCkuZ2V0KGFwbHVzU3RhdGljLlJFUVVFU1RTKTtcblx0ICAgICAgaWYgKGl0ZW1zICYmIGl0ZW1zLmxlbmd0aCkge1xuXHQgICAgICAgIGl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgICAgICAgIF9xdWV1ZS5lbnF1ZXVlKGl0ZW0pO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICAgIGNhY2hlKCkucmVtb3ZlKGFwbHVzU3RhdGljLlJFUVVFU1RTKTtcblx0ICAgIH07XG5cdFxuXHQgICAgdGhpcy5zYXZlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICBjYWNoZSgpLnNldChhcGx1c1N0YXRpYy5SRVFVRVNUUywgY2xvbmVEZWVwKF9xdWV1ZS5pdGVtcygpKSk7XG5cdCAgICAgIF9xdWV1ZS5jbGVhcigpOyAvLyDkuIDlrpropoHlhYjkv53lrZjlho3muIXnqbrvvIzlkKbliJnkv53lrZjnmoTmsLjov5zmmK/nqbrmlbDmja5cblx0ICAgIH07XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKCFfaW5zdGFuY2UpIHtcblx0ICAgICAgX2luc3RhbmNlID0gbmV3IFJlcXVlc3RRdWV1ZSgpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIF9pbnN0YW5jZTtcblx0ICB9O1xuXHR9KSgpO1xuXG4vKioqLyB9KSxcbi8qIDIwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIG1pbmkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHR2YXIgYXBsdXNTdGF0aWMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgY2FjaGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcblx0dmFyIHV0aWxHb2xkbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0dmFyIHV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cdHZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cdFxuXHRleHBvcnRzLmdldE5ldEluZm8gPSBmdW5jdGlvbihjbGllbnQpe1xuXHQgIHZhciByZXN1bHQgPSB7fTtcblx0ICB2YXIgYWNjZXNzID0gY2xpZW50Lm5ldHdvcmtUeXBlO1xuXHQgIGlmIChhY2Nlc3MgPT09ICdub25lJykge1xuXHQgICAgYWNjZXNzID0gJ3Vua25vd24nO1xuXHQgIH1cblx0XG5cdCAgYWNjZXNzID0gYWNjZXNzID8gYWNjZXNzLnRvTG93ZXJDYXNlKCkgOiAnJztcblx0ICBzd2l0Y2ggKGFjY2Vzcykge1xuXHQgIGNhc2UgdXRpbHMuQWNjZXNzVHlwZS5NT0JJTEVfTkVUV09SS180Rzpcblx0ICAgIHJlc3VsdC5hY2Nlc3Nfc3VidHlwZSA9ICdMVEUnO1xuXHQgICAgcmVzdWx0LmFjY2VzcyA9ICc0Ryc7XG5cdCAgICBicmVhaztcblx0ICBjYXNlIHV0aWxzLkFjY2Vzc1R5cGUuTU9CSUxFX05FVFdPUktfM0c6XG5cdCAgICByZXN1bHQuYWNjZXNzX3N1YnR5cGUgPSAnQ0RNQSc7XG5cdCAgICByZXN1bHQuYWNjZXNzID0gJzNHJztcblx0ICAgIGJyZWFrO1xuXHQgIGNhc2UgdXRpbHMuQWNjZXNzVHlwZS5NT0JJTEVfTkVUV09SS18yRzpcblx0ICAgIHJlc3VsdC5hY2Nlc3Nfc3VidHlwZSA9ICdHUlBTJztcblx0ICAgIHJlc3VsdC5hY2Nlc3MgPSAnMkcnO1xuXHQgICAgYnJlYWs7XG5cdCAgZGVmYXVsdDpcblx0ICAgIHJlc3VsdC5hY2Nlc3MgPSBhY2Nlc3M7XG5cdCAgICBkZWxldGUgcmVzdWx0LmFjY2Vzc19zdWJ0eXBlO1xuXHQgICAgYnJlYWs7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHJlc3VsdDtcblx0fTtcblx0XG5cdGV4cG9ydHMuZ2V0SGVhZGVySW5mbyA9IGZ1bmN0aW9uKCkge1xuXHQgIHZhciBoZWFkZXIgPSB7fTtcblx0ICB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZShhcGx1c1N0YXRpYy5BUExVUyk7XG5cdFxuXHQgIHZhciBnbG9iYWxDb25maWcgPSBhcGx1cy5nbG9iYWxDb25maWcgfHwge307XG5cdCAgdmFyIGNsaWVudCA9IGFwbHVzLl9hcGx1c19jbGllbnQgfHwge307XG5cdFxuXHQgIHZhciBkYXRhID0gY2FjaGUoKS5nZXQoYXBsdXNTdGF0aWMuSU1QUklOVCk7XG5cdCAgaWYgKGRhdGEpIHtcblx0ICAgIGhlYWRlci5pbXByaW50ID0gZGF0YTtcblx0ICB9XG5cdFxuXHQgIGhlYWRlci5kZXZpY2VfdHlwZSA9ICdQaG9uZSc7XG5cdCAgaGVhZGVyLnNka192ZXJzaW9uID0gZ2xvYmFsQ29uZmlnLmx2ZXI7XG5cdCAgaGVhZGVyLmFwcGtleSA9IHV0aWwuZ2V0QXBwS2V5KCk7XG5cdCAgaGVhZGVyLmRldmljZV9pbmZvID0gJyc7XG5cdCAgaGVhZGVyLmFwcGlkID0gY2xpZW50LmFwcElkO1xuXHQgIGhlYWRlci5hcHBfZW52ID0gY2xpZW50LmFwcEVudjtcblx0ICBoZWFkZXIuYXBwX3ZlcnNpb24gPSBhcGx1cy5nZXRNZXRhSW5mbygnYXBwVmVyc2lvbicpIHx8ICdkZXZ0b29scyc7XG5cdFxuXHQgIHZhciBnbG9iYWxfYXJncyA9IGFwbHVzLmdldE1ldGFJbmZvKCdhcGx1cy1nbG9iYWwtYXJncycpO1xuXHQgIGlmIChnbG9iYWxfYXJncyAmJiBnbG9iYWxfYXJncy5kZWJ1Z0lkKSB7XG5cdCAgICBoZWFkZXIubWluaWFwcERlYnVnSWQgPSBnbG9iYWxfYXJncy5kZWJ1Z0lkO1xuXHQgIH1cblx0XG5cdCAgdmFyIHN5c3RlbUluZm8gPSBjbGllbnQgfHwge307XG5cdCAgc3lzdGVtSW5mby5zYWZlQXJlYSA9IHN5c3RlbUluZm8uc2FmZUFyZWEgfHwge307XG5cdFxuXHQgIHZhciBtb2RlbCA9IHN5c3RlbUluZm8ubW9kZWwgfHwgJyc7XG5cdCAgdmFyIHBsYXRmb3JtID0gc3lzdGVtSW5mby5wbGF0Zm9ybSB8fCAnJztcblx0ICB2YXIgYnJhbmQgPSBzeXN0ZW1JbmZvLmJyYW5kIHx8ICcnO1xuXHQgIHZhciBicmFuZEwgPSBicmFuZC50b0xvd2VyQ2FzZSgpO1xuXHRcblx0ICBoZWFkZXIuc2RrX3R5cGUgPSBtaW5pLmdldFNka1R5cGUoKTtcblx0ICBoZWFkZXIucGxhdGZvcm0gPSBtaW5pLmdldFBsYXRmb3JtVHlwZSgpO1xuXHQgIGhlYWRlci5wbGF0Zm9ybV9zZGtfdmVyc2lvbiA9IHN5c3RlbUluZm8uU0RLVmVyc2lvbjtcblx0ICBoZWFkZXIucGxhdGZvcm1fdmVyc2lvbiA9IHN5c3RlbUluZm8ucGxhdGZvcm1WZXJzaW9uO1xuXHQgICAgXG5cdCAgdmFyIHcgPSBNYXRoLnJvdW5kKHN5c3RlbUluZm8uc2NyZWVuV2lkdGggKiBzeXN0ZW1JbmZvLnBpeGVsUmF0aW8pO1xuXHQgIHZhciBoID0gTWF0aC5yb3VuZChzeXN0ZW1JbmZvLnNjcmVlbkhlaWdodCAqIHN5c3RlbUluZm8ucGl4ZWxSYXRpbyk7XG5cdCAgaGVhZGVyLnJlc29sdXRpb24gPSB3ID4gaCA/IHcgKyAnKicgKyBoIDogaCArICcqJyArIHc7XG5cdFxuXHQgIGhlYWRlci5waXhlbF9yYXRpbyA9IHN5c3RlbUluZm8ucGl4ZWxSYXRpbztcblx0ICBoZWFkZXIub3MgPSBwbGF0Zm9ybTtcblx0ICBoZWFkZXIuZm9udF9zaXplX3NldHRpbmcgPSBzeXN0ZW1JbmZvLmZvbnRTaXplU2V0dGluZztcblx0ICBoZWFkZXIuZGV2aWNlX21vZGVsID0gbW9kZWw7IC8vIOiuvuWkh+Wei+WPt1xuXHQgIGhlYWRlci5kZXZpY2VfYnJhbmQgPSBicmFuZDsgLy8g6K6+5aSH55Sf5Lqn5ZWGXG5cdCAgLy8gX2hlYWRlci5jaGFubmVsID0gYnJhbmRMOyAvLyDov5nph4zmuKDpgZPmmoLml7blhYjnlKgg55Sf5Lqn5ZWG55qE5ZCN5a2XXG5cdCAgaGVhZGVyLmRldmljZV9tYW51ZmFjdHVyZXIgPSBicmFuZEw7XG5cdCAgaGVhZGVyLmRldmljZV9tYW51aWQgPSBtb2RlbDsgLy8g6K6+5aSH5ZOB54mML+Wei+WPt1xuXHQgIGhlYWRlci5kZXZpY2VfbmFtZSA9IG1vZGVsOyAvLyDlhoXpg6jkuqflk4Hku6Plj7dcblx0ICBoZWFkZXIub3NfdmVyc2lvbiA9IHN5c3RlbUluZm8ub3NfdmVyc2lvbjsgLy8gb3PniYjmnKzlj7dcblx0ICBoZWFkZXIubGFuZ3VhZ2UgPSBzeXN0ZW1JbmZvLmxhbmd1YWdlOyAvLyDor63oqIDvvIx6aFxuXHRcblx0ICB2YXIgbmV0SW5mbyA9IHRoaXMuZ2V0TmV0SW5mbyhjbGllbnQpO1xuXHQgIGhlYWRlci5hY2Nlc3MgPSBuZXRJbmZvLmFjY2Vzcztcblx0ICBpZiAobmV0SW5mby5hY2Nlc3Nfc3VidHlwZSkge1xuXHQgICAgaGVhZGVyLmFjY2Vzc19zdWJ0eXBlID0gbmV0SW5mby5hY2Nlc3Nfc3VidHlwZTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBoZWFkZXI7XG5cdH07XG5cdFxuXG5cbi8qKiovIH0pLFxuLyogMjEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgc2Vzc2lvbk1hbmFnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblx0dmFyIGV2ZW50TWFuYWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xuXHR2YXIgdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblx0dmFyIGNsb25lRGVlcCA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChkYXRhVHlwZSkge1xuXHQgIHZhciBkYXRhID0gbnVsbDtcblx0ICBzd2l0Y2ggKGRhdGFUeXBlKSB7XG5cdCAgY2FzZSB1dGlscy5EYXRhVHlwZS5IQUxGX1NFU1NJT046XG5cdCAgICBkYXRhID0gX2J1aWxkSGFsZlNlc3Npb24oKTtcblx0ICAgIGJyZWFrO1xuXHQgIGNhc2UgdXRpbHMuRGF0YVR5cGUuQ0xPU0VfU0VTU0lPTjpcblx0ICAgIGRhdGEgPSBfYnVpbGRDbG9zZVNlc3Npb24oKTtcblx0ICAgIGJyZWFrO1xuXHQgIGNhc2UgdXRpbHMuRGF0YVR5cGUuRUtWOlxuXHQgICAgZGF0YSA9IF9idWlsZEVrdigpO1xuXHQgICAgYnJlYWs7XG5cdCAgZGVmYXVsdDpcblx0ICAgIGJyZWFrO1xuXHQgIH1cblx0ICByZXR1cm4gZGF0YTtcblx0fTtcblx0XG5cdGZ1bmN0aW9uIF9idWlsZEhhbGZTZXNzaW9uKCkge1xuXHQgIHZhciBkYXRhID0gbnVsbDtcblx0ICB2YXIgc2Vzc2lvbiA9IHNlc3Npb25NYW5hZ2VyKCkuY2xvbmVDdXJyZW50U2Vzc2lvbigpO1xuXHQgIGlmIChzZXNzaW9uKSB7XG5cdCAgICBkYXRhID0ge1xuXHQgICAgICBoZWFkZXI6IHtcblx0ICAgICAgICBzdDogJzEnXG5cdCAgICAgIH0sXG5cdCAgICAgIGFuYWx5dGljczoge1xuXHQgICAgICAgIHNlc3Npb25zOiBbc2Vzc2lvbl1cblx0ICAgICAgfVxuXHQgICAgfTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBkYXRhO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gX2J1aWxkQ2xvc2VTZXNzaW9uKCkge1xuXHQgIHZhciBkYXRhID0gbnVsbDtcblx0XG5cdCAgdmFyIGFuYWx5dGljcyA9IHt9O1xuXHRcblx0ICB2YXIgc2Vzc2lvbiA9IHNlc3Npb25NYW5hZ2VyKCkuY2xvbmVDdXJyZW50U2Vzc2lvbigpO1xuXHQgIGlmIChzZXNzaW9uKSB7XG5cdCAgICBhbmFseXRpY3Muc2Vzc2lvbnMgPSBbc2Vzc2lvbl07XG5cdCAgfVxuXHRcblx0ICB2YXIgZWt2cyA9IGV2ZW50TWFuYWdlcigpLmdldEVrdnMoKTtcblx0ICBpZiAoZWt2cykge1xuXHQgICAgYW5hbHl0aWNzLmVrdnMgPSBjbG9uZURlZXAoZWt2cyk7XG5cdCAgICBldmVudE1hbmFnZXIoKS5jbGVhcigpO1xuXHQgIH1cblx0XG5cdCAgaWYgKGFuYWx5dGljcy5zZXNzaW9ucyB8fCBhbmFseXRpY3MuZWt2cykge1xuXHQgICAgZGF0YSA9IHtcblx0ICAgICAgYW5hbHl0aWNzOiBhbmFseXRpY3Ncblx0ICAgIH07XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gZGF0YTtcblx0fTtcblx0XG5cdGZ1bmN0aW9uIF9idWlsZEVrdigpIHtcblx0ICB2YXIgZGF0YSA9IG51bGw7XG5cdFxuXHQgIHZhciBla3ZzID0gZXZlbnRNYW5hZ2VyKCkuZ2V0RWt2cygpO1xuXHQgIGlmIChla3ZzKSB7XG5cdCAgICBkYXRhID0ge1xuXHQgICAgICBhbmFseXRpY3M6IHtcblx0ICAgICAgICBla3ZzOiBjbG9uZURlZXAoZWt2cylcblx0ICAgICAgfVxuXHQgICAgfTtcblx0ICAgIGV2ZW50TWFuYWdlcigpLmNsZWFyKCk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gZGF0YTtcblx0fTtcblxuXG4vKioqLyB9KSxcbi8qIDIyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIG1pbmkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHR2YXIgSGVhZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG5cdHZhciBtYW5nbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcblx0dmFyIGltcHJpbnRNYW5hZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG5cdHZhciB1bG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdHZhciBqc29uVXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXHR2YXIgYmFzZTY0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG5cdHZhciB1dGlsR29sZGxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdHZhciB1dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xuXHR2YXIgYXBsdXNTdGF0aWMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgaXNGdW5jdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHRmdW5jdGlvbiBnZXRVcmwoKSB7XG5cdCAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoYXBsdXNTdGF0aWMuQVBMVVMpO1xuXHQgIHZhciByaG9zdCA9IGFwbHVzLmdldE1ldGFJbmZvKGFwbHVzU3RhdGljLkFQTFVTX1BWX0RPTUFJTik7XG5cdCAgdmFyIGxvZ0RvbWFpbiA9IG1pbmkuZ2V0TG9nRG9tYWluKCk7XG5cdCAgaWYgKCFyaG9zdCB8fCAhbG9nRG9tYWluKSB7IFxuXHQgICAgLy8gdXRpbExvZ2dlci5sb2dnZXIoe1xuXHQgICAgLy8gICBtc2c6ICdjdXJyZW50IHJlcXVlc3QgZG9tYWluIGludmFsaWQsIHBsZWFzZSBjaGVjayB5b3VyIGFwbHVzLXJob3N0LXYgdmFsdWUgaW5zaWRlIG1ldGFpbmZvISdcblx0ICAgIC8vIH0pO1xuXHQgICAgdWxvZygpLncoJ2N1cnJlbnQgcmVxdWVzdCBkb21haW4gaW52YWxpZCwgcGxlYXNlIGNoZWNrIHlvdXIgYXBsdXMtcmhvc3QtdiB2YWx1ZSBpbnNpZGUgbWV0YWluZm8hJyk7XG5cdCAgICByZXR1cm4gJyc7XG5cdCAgfVxuXHQgIHZhciB1cmwgPSBbJy8vJywgcmhvc3QsIGxvZ0RvbWFpbl0uam9pbignJyk7XG5cdCAgdmFyIHByb3RvY2FsID0gYXBsdXNTdGF0aWMuSFRUUFM7XG5cdCAgaWYgKC8oXFxkK1xcLil7Myx9XFxkKy8udGVzdCh1cmwpKSB7XG5cdCAgICBwcm90b2NhbCA9ICdodHRwOic7XG5cdCAgfVxuXHQgIHVybCA9IHByb3RvY2FsICsgdXJsO1xuXHQgIHJldHVybiB1cmw7XG5cdH07XG5cdFxuXHR2YXIgTUFYX1JFUVVFU1RfVElNRU9VVCA9IDUwMDA7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHJlcXVlc3QoZGF0YSwgc3VjY2Vzc0NhbGxiYWNrLCBmYWlsQ2FsbGJhY2ssIGNvbXBsZXRlZENhbGxiYWNrKSB7XG5cdCAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoYXBsdXNTdGF0aWMuQVBMVVMpO1xuXHQgIHZhciBwX2hlYWRlciA9IEhlYWRlci5nZXRIZWFkZXJJbmZvKCk7XG5cdCAgLy8gaWYgKCF1dGlsLmNoZWNrT3BlbmlkKGFwbHVzLmdldE1ldGFJbmZvKGFwbHVzU3RhdGljLl9BTk9OWV9JRCkpKSB7XG5cdCAgLy8gICByZXR1cm47XG5cdCAgLy8gfVxuXHRcblx0ICBpZiAobWluaS5nZXRQbGF0Zm9ybVR5cGUoKSA9PT0gJ215JyB8fCBtaW5pLmdldFBsYXRmb3JtVHlwZSgpID09PSAndGFvYmFvJykge1xuXHQgICAgcF9oZWFkZXJbJ2lkX3R5cGUnXSA9ICdhbGlwYXlfaWQnO1xuXHQgICAgcF9oZWFkZXJbJ2lkX3RyYWNraW5nJ10gPSB7XG5cdCAgICAgIGFsaXBheV9pZDogYXBsdXMuZ2V0TWV0YUluZm8oYXBsdXNTdGF0aWMuX0FOT05ZX0lEKSB8fCAnJyxcblx0ICAgICAgdW5pb25pZDogYXBsdXMuZ2V0TWV0YUluZm8oJ19kZXZfaWQnKSB8fCAnJyxcblx0ICAgICAgdXNlcklkOiBhcGx1cy5nZXRNZXRhSW5mbyhhcGx1c1N0YXRpYy5fVVNFUl9JRCkgfHwgJycsXG5cdCAgICB9O1xuXHQgIH0gZWxzZSB7XG5cdCAgICBwX2hlYWRlclsnaWRfdHlwZSddID0gJ29wZW5pZCc7XG5cdCAgICBwX2hlYWRlclsnaWRfdHJhY2tpbmcnXSA9IHtcblx0ICAgICAgb3BlbmlkOiBhcGx1cy5nZXRNZXRhSW5mbyhhcGx1c1N0YXRpYy5fQU5PTllfSUQpIHx8ICcnLFxuXHQgICAgICB1bmlvbmlkOiBhcGx1cy5nZXRNZXRhSW5mbygnX2Rldl9pZCcpIHx8ICcnLFxuXHQgICAgICB1c2VySWQ6IGFwbHVzLmdldE1ldGFJbmZvKGFwbHVzU3RhdGljLl9VU0VSX0lEKSB8fCAnJyxcblx0ICAgIH07XG5cdCAgfVxuXHRcblx0ICBpZiAoaW1wcmludE1hbmFnZXIuZ2V0KCkpIHtcblx0ICAgIHBfaGVhZGVyW2FwbHVzU3RhdGljLklNUFJJTlRdID0gaW1wcmludE1hbmFnZXIuZ2V0KCk7XG5cdCAgfVxuXHRcblx0ICBpZiAoZGF0YS5hbmFseXRpY3MpIHtcblx0ICAgIHZhciB1c2VySWQgPSBhcGx1cy5nZXRNZXRhSW5mbyhhcGx1c1N0YXRpYy5fVVNFUl9JRCk7XG5cdCAgICB2YXIgdXNlcl9uaWNrID0gYXBsdXMuZ2V0TWV0YUluZm8oJ191c2VyX25pY2snKTtcblx0ICAgIGRhdGEuYW5hbHl0aWNzLmFjdGl2ZV91c2VyID0ge1xuXHQgICAgICBwdWlkOiB1c2VySWQsXG5cdCAgICAgIHByb3ZpZGVyOiB1c2VyX25pY2tcblx0ICAgIH07XG5cdCAgfVxuXHRcblx0ICBkYXRhLmhlYWRlciA9IHV0aWxzLmFzc2lnbihwX2hlYWRlciwgZGF0YS5oZWFkZXIsIHtcblx0ICAgIHRzOiBEYXRlLm5vdygpLFxuXHQgICAgdHJhY2VJZDogdXRpbHMuZ2V0UmFuZG9tU3RyKDEwKSArIERhdGUubm93KCkgKyB1dGlscy5nZXRSYW5kb21TdHIoOSlcblx0ICB9KTtcblx0ICB2YXIgbWFuZ2xlRGF0YSA9IG1hbmdsZShkYXRhKTtcblx0ICB2YXIgcmVxdWVzdERhdGEgPSBqc29uVXRpbC5zdHJpbmdmeShtYW5nbGVEYXRhKTtcblx0ICB2YXIgdXJsID0gZ2V0VXJsKCk7XG5cdCAgdmFyIGNvbmZpZyA9IHtcblx0ICAgIHVybDogdXJsLFxuXHQgICAgbWV0aG9kOiAnUE9TVCcsXG5cdCAgICBkYXRhOiBiYXNlNjQuZW5jb2RlKHJlcXVlc3REYXRhKSxcblx0ICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwKSB7XG5cdCAgICAgIHZhciBzdGF0dXNDb2RlID0gcmVzcC5jb2RlIHx8IHJlc3Auc3RhdHVzIHx8IHJlc3Auc3RhdHVzQ29kZTtcblx0ICAgICAgaWYgKHN0YXR1c0NvZGUgPT09IDIwMCB8fCBzdGF0dXNDb2RlID09PSA0MTMpIHtcblx0ICAgICAgICB1bG9nKCkuaSgn5pWw5o2u5Y+R6YCB5oiQ5YqfOiAnLCBkYXRhLCByZXF1ZXN0RGF0YSk7XG5cdFxuXHQgICAgICAgIC8vIOWcqOatpOWkhOWwhmltcHJpbnTlhoXlrrnliqDlhaXliLDmnKzlnLDnvJPlrZjkuK1cblx0ICAgICAgICBzYXZlSW1wcmludCgocmVzcC5kYXRhIHx8IHt9KS5pbXByaW50KTtcblx0ICAgICAgICBpc0Z1bmN0aW9uKHN1Y2Nlc3NDYWxsYmFjaykgJiYgc3VjY2Vzc0NhbGxiYWNrKHJlc3ApO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHVsb2coKS53KCfmlbDmja7lj5HpgIHlpLHotKU6ICcsIHJlcXVlc3REYXRhKTtcblx0ICAgICAgICBpc0Z1bmN0aW9uKGZhaWxDYWxsYmFjaykgJiYgZmFpbENhbGxiYWNrKCk7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBmYWlsOiBmdW5jdGlvbiAoaXNUaW1lb3V0KSB7XG5cdCAgICAgIHVsb2coKS53KCB0cnVlID8gJ+i2heaXtjogJyA6ICflpLHotKU6ICcsIHJlcXVlc3REYXRhKTtcblx0ICAgICAgaXNGdW5jdGlvbihmYWlsQ2FsbGJhY2spICYmIGZhaWxDYWxsYmFjaygpO1xuXHQgICAgfSxcblx0ICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIGlzRnVuY3Rpb24oY29tcGxldGVkQ2FsbGJhY2spICYmIGNvbXBsZXRlZENhbGxiYWNrKCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgc2RrUmVxdWVzdCh1dGlscy5hc3NpZ24oY29uZmlnLCBidWlsZEh0dHBIZWFkZXIoKSkpO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gc2RrUmVxdWVzdChvcHRpb25zKSB7XG5cdCAgdmFyIGN0eCA9IG1pbmkuZ2V0Q29udGV4dCgpO1xuXHQgIHZhciBzcmNTdWNjZXNzID0gb3B0aW9ucy5zdWNjZXNzO1xuXHQgIHZhciBzcmNGYWlsID0gb3B0aW9ucy5mYWlsO1xuXHQgIHZhciBpc1RpbWVvdXQgPSBmYWxzZTtcblx0ICB2YXIgc3QgPSBudWxsO1xuXHRcblx0ICBvcHRpb25zLnN1Y2Nlc3MgPSBmdW5jdGlvbiAocmVzcCkge1xuXHQgICAgaWYgKCFpc1RpbWVvdXQpIHtcblx0ICAgICAgc3QgJiYgY2xlYXJUaW1lb3V0KHN0KTtcblx0ICAgICAgaXNGdW5jdGlvbihzcmNTdWNjZXNzKSAmJiBzcmNTdWNjZXNzKHJlc3ApO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIG9wdGlvbnMuZmFpbCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmICghaXNUaW1lb3V0KSB7XG5cdCAgICAgIHN0ICYmIGNsZWFyVGltZW91dChzdCk7XG5cdCAgICAgIGlzRnVuY3Rpb24oc3JjRmFpbCkgJiYgc3JjRmFpbChmYWxzZSk7XG5cdCAgICB9XG5cdCAgfTtcblx0ICB0cnkge1xuXHQgICAgY3R4LnJlcXVlc3Qob3B0aW9ucyk7XG5cdCAgfSBjYXRjaChlKSB7XG5cdCAgICB0cnkge1xuXHQgICAgICBkZCAmJiBkZC5odHRwUmVxdWVzdChvcHRpb25zKTtcblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgdWxvZygpLncoJ+ivt+axguWPkemAgeWksei0pTogJywgZSk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBzdCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgc3QgJiYgY2xlYXJUaW1lb3V0KHN0KTtcblx0ICAgIGlzVGltZW91dCA9IHRydWU7XG5cdFxuXHQgICAgaXNGdW5jdGlvbihzcmNGYWlsKSAmJiBzcmNGYWlsKGlzVGltZW91dCk7XG5cdCAgfSwgb3B0aW9ucy50aW1lb3V0IHx8IE1BWF9SRVFVRVNUX1RJTUVPVVQpO1xuXHR9XG5cdFxuXHQvLyDmnI3liqHnq6/kuIvlj5Hlj5HpgIHnrZbnlaVcblx0ZnVuY3Rpb24gc2F2ZUltcHJpbnQoaW1wcmludCkge1xuXHQgIGlmIChpbXByaW50KSB7XG5cdCAgICBpbXByaW50TWFuYWdlci5zZXQoaW1wcmludCk7XG5cdCAgICBpbXByaW50TWFuYWdlci5zYXZlKCk7XG5cdFxuXHQgICAgdWxvZygpLnYoJ2ltcHJpbnQ6ICcsIGltcHJpbnRNYW5hZ2VyLmdldEltcE9iaigpKTtcblx0XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBidWlsZEh0dHBIZWFkZXIoKSB7XG5cdCAgdmFyIGhlYWRlclR5cGUgPSBtaW5pLmdldFNka1R5cGUoKSArICcvanNvbic7XG5cdCAgdmFyIGlzTXkgPSBmYWxzZTtcblx0ICB0cnkge1xuXHQgICAgaWYgKG15KSB7XG5cdCAgICAgIGlzTXkgPSB0cnVlO1xuXHQgICAgfVxuXHQgIH0gY2F0Y2goZSl7fTtcblx0XG5cdCAgaWYgKGlzTXkpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIGhlYWRlcnM6IHtcblx0ICAgICAgICAnQ29udGVudC1UeXBlJzogaGVhZGVyVHlwZSxcblx0ICAgICAgICAnTXNnLVR5cGUnOiBoZWFkZXJUeXBlXG5cdCAgICAgIH1cblx0ICAgIH07XG5cdCAgfSBlbHNlIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIGhlYWRlcjoge1xuXHQgICAgICAgICdDb250ZW50LVR5cGUnOiBoZWFkZXJUeXBlLFxuXHQgICAgICAgICdNc2ctVHlwZSc6IGhlYWRlclR5cGVcblx0ICAgICAgfVxuXHQgICAgfTtcblx0ICB9XG5cdH1cblx0XG5cdFxuXG5cbi8qKiovIH0pLFxuLyogMjMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHR2YXIgYW5hbHl0aWNzTWFwID0ge1xuXHQgIHNlc3Npb25zOiAnc24nLFxuXHQgIC8vIHBhZ2VzOiAncCcsXG5cdCAgLy8gc2hhcmVzOiAnc3InLFxuXHQgIGVrdnM6ICdlJyxcblx0ICBhY3RpdmVfdXNlcjogJ2FjdGl2ZV91c2VyJ1xuXHR9O1xuXHRcblx0dmFyIGhlYWRlck1hcCA9IHtcblx0ICBzZGtfdHlwZTogJ3NkdCcsXG5cdCAgYWNjZXNzOiAnYWMnLFxuXHQgIGFjY2Vzc19zdWJ0eXBlOiAnYWNzJyxcblx0ICBkZXZpY2VfbW9kZWw6ICdkbScsXG5cdCAgbGFuZ3VhZ2U6ICdsYW5nJyxcblx0ICBkZXZpY2VfdHlwZTogJ2R0Jyxcblx0ICBkZXZpY2VfbWFudWZhY3R1cmVyOiAnZG1mJyxcblx0ICBkZXZpY2VfbmFtZTogJ2RuJyxcblx0ICBwbGF0Zm9ybV92ZXJzaW9uOiAncHYnLFxuXHQgIGlkX3R5cGU6ICdpdCcsXG5cdCAgZm9udF9zaXplX3NldHRpbmc6ICdmc3MnLFxuXHQgIG9zX3ZlcnNpb246ICdvdicsXG5cdCAgZGV2aWNlX21hbnVpZDogJ2RpZCcsXG5cdCAgcGxhdGZvcm1fc2RrX3ZlcnNpb246ICdwc3YnLFxuXHQgIGRldmljZV9icmFuZDogJ2RiJyxcblx0ICBhcHBrZXk6ICdhaycsXG5cdCAgX2lkOiAnaWQnLFxuXHQgIGlkX3RyYWNraW5nOiAnaXRyJyxcblx0ICBpbXByaW50OiAnaW1wJyxcblx0ICBzZGtfdmVyc2lvbjogJ3N2Jyxcblx0ICByZXNvbHV0aW9uOiAncmwnLFxuXHQgIHRlc3RUb2tlbjogJ3R0bicsXG5cdCAgbWluaWFwcERlYnVnSWQ6ICdkaycsXG5cdCAgLy8gdGhlbWU6ICd0NScsXG5cdCAgLy8gYmVuY2htYXJrX2xldmVsOiAnYm1sJyxcblx0ICAvLyBzY3JlZW5fd2lkdGg6ICdzdycsXG5cdCAgLy8gc2NyZWVuX2hlaWdodDogJ3NoJyxcblx0ICAvLyBzdGF0dXNfYmFyX2hlaWdodDonc2JoJyxcblx0ICAvLyBzYWZlX2FyZWFfdG9wOiAnc2F0Jyxcblx0ICAvLyBzYWZlX2FyZWFfbGVmdDogJ3NhbCcsXG5cdCAgLy8gc2FmZV9hcmVhX3JpZ2h0OiAnc2FyJyxcblx0ICAvLyBzYWZlX2FyZWFfYm90dG9tOiAnc2FiJyxcblx0ICAvLyBzYWZlX2FyZWFfaGVpZ2h0OiAnc2FoJyxcblx0ICAvLyBzYWZlX2FyZWFfd2lkdGg6ICdzYXcnLFxuXHQgIHBpeGVsX3JhdGlvOiAncHInLFxuXHQgIC8vIHN0b3JhZ2U6ICdzNycsXG5cdCAgLy8gaG9zdDogJ2hzJ1xuXHR9O1xuXHRcblx0dmFyIGlkTWFwID0ge1xuXHQgIHV1aWQ6ICd1ZCcsXG5cdCAgdW5pb25pZDogJ3VuZCcsXG5cdCAgb3BlbmlkOiAnb2QnLFxuXHQgIGFub255bW91c2lkOiAnbmQnLFxuXHQgIGFsaXBheV9pZDogJ2FkJyxcblx0ICBkZXZpY2VfaWQ6ICdkZCcsXG5cdCAgdXNlcmlkOiAncHVpZCdcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZGF0YSkge1xuXHQgIHJldHVybiB7XG5cdCAgICBoOiBfbWFuZ2xlSGVhZGVyKGRhdGEuaGVhZGVyLCBoZWFkZXJNYXApLFxuXHQgICAgYTogX21hbmdsZUFuYWx5dGljcyhkYXRhLmFuYWx5dGljcywgYW5hbHl0aWNzTWFwKVxuXHQgIH07XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBfbWFuZ2xlSGVhZGVyKGhlYWRlciwgbWFwKSB7XG5cdCAgdmFyIHJlc3VsdCA9IF9tYW5nbGVPYmooaGVhZGVyLCBtYXApO1xuXHRcblx0ICBpZiAoaGVhZGVyICYmIGhlYWRlci5pZF90cmFja2luZykge1xuXHQgICAgcmVzdWx0W21hcC5pZF90cmFja2luZyB8fCAnaWRfdHJhY2tpbmcnXSA9IF9tYW5nbGVPYmooaGVhZGVyLmlkX3RyYWNraW5nLCBpZE1hcCk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gcmVzdWx0O1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gX21hbmdsZU9iaihvYmosIG1hcCkge1xuXHQgIHZhciByZXN1bHQgPSB7fTtcblx0XG5cdCAgZm9yICh2YXIga2V5IGluIG9iaikge1xuXHQgICAgaWYgKG1hcFtrZXldKSB7XG5cdCAgICAgIHJlc3VsdFttYXBba2V5XV0gPSBvYmpba2V5XTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJlc3VsdFtrZXldID0gb2JqW2tleV07XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gcmVzdWx0O1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gX21hbmdsZUFuYWx5dGljcyhhbmFseXRpY3MsIG1hcCkge1xuXHQgIHZhciByZXN1bHQgPSB7fTtcblx0XG5cdCAgaWYgKGFuYWx5dGljcykge1xuXHQgICAgZm9yICh2YXIgcHJvcCBpbiBhbmFseXRpY3MpIHtcblx0ICAgICAgaWYgKGFuYWx5dGljc1twcm9wXSkge1xuXHQgICAgICAgIHJlc3VsdFttYXBbcHJvcF1dID0gYW5hbHl0aWNzW3Byb3BdO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gcmVzdWx0O1xuXHR9XG5cbi8qKiovIH0pLFxuLyogMjQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgY2FjaGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcblx0dmFyIGpzb25VdGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG5cdHZhciBiYXNlNjQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcblx0dmFyIGFwbHVzU3RhdGljID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdGZ1bmN0aW9uIEltcHJpbnRNYW5hZ2VyKCkge1xuXHQgIHZhciBfaW1wcmludCA9ICcnO1xuXHQgIHZhciB0ID0gdGhpcztcblx0ICB0aGlzLnNldCA9IGZ1bmN0aW9uIChpbXByaW50KSB7XG5cdCAgICBfaW1wcmludCA9IGltcHJpbnQ7XG5cdCAgfTtcblx0XG5cdCAgdGhpcy5nZXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gX2ltcHJpbnQ7XG5cdCAgfTtcblx0ICB0aGlzLmdldEltcE9iaiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBqc29uVXRpbC5wYXJzZShiYXNlNjQuZGVjb2RlKF9pbXByaW50KSk7XG5cdCAgfTtcblx0ICB0aGlzLmdldEl0ZW0gPSBmdW5jdGlvbihuYW1lKSB7XG5cdCAgICB2YXIgaW1wb2JqID0gdC5nZXRJbXBPYmooKTtcblx0ICAgIHJldHVybiBpbXBvYmogPyBpbXBvYmpbbmFtZV0gfHwgXCJcIiA6IFwiXCI7XG5cdCAgfTtcblx0XG5cdCAgdGhpcy5sb2FkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgX2ltcHJpbnQgPSBjYWNoZSgpLmdldChhcGx1c1N0YXRpYy5JTVBSSU5UKTtcblx0ICB9O1xuXHRcblx0ICB0aGlzLnNhdmUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAoX2ltcHJpbnQpIHtcblx0ICAgICAgY2FjaGUoKS5zZXQoYXBsdXNTdGF0aWMuSU1QUklOVCwgX2ltcHJpbnQpO1xuXHQgICAgfVxuXHQgIH07XG5cdH1cblx0dmFyIGltcHJpbnRNYW5hZ2VyID0gbmV3IEltcHJpbnRNYW5hZ2VyKCk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGltcHJpbnRNYW5hZ2VyO1xuXG4vKioqLyB9KSxcbi8qIDI1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyogaXN0YW5idWwgaWdub3JlIGZpbGUgKi9cblx0dmFyIGI2NGNoYXJzID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nO1xuXHR2YXIgYjY0dGFiID0gKGZ1bmN0aW9uIChiaW4pIHtcblx0ICB2YXIgdCA9IHt9O1xuXHQgIGZvciAodmFyIGkgPSAwLCBsID0gYmluLmxlbmd0aDsgaSA8IGw7IGkrKykgdFtiaW4uY2hhckF0KGkpXSA9IGk7XG5cdCAgcmV0dXJuIHQ7XG5cdH0pKGI2NGNoYXJzKTtcblx0dmFyIGZyb21DaGFyQ29kZSA9IFN0cmluZy5mcm9tQ2hhckNvZGU7XG5cdHZhciBjYl91dG9iID0gZnVuY3Rpb24gKGMpIHtcblx0ICB2YXIgY2M7XG5cdCAgaWYgKGMubGVuZ3RoIDwgMikge1xuXHQgICAgY2MgPSBjLmNoYXJDb2RlQXQoMCk7XG5cdCAgICByZXR1cm4gY2MgPCAxMjggPyBjIDogY2MgPCAyMDQ4ID8gZnJvbUNoYXJDb2RlKDE5MiB8IGNjID4+PiA2KSArIGZyb21DaGFyQ29kZSgxMjggfCBjYyAmIDYzKSA6IGZyb21DaGFyQ29kZSgyMjQgfCBjYyA+Pj4gMTIgJiAxNSkgKyBmcm9tQ2hhckNvZGUoMTI4IHwgY2MgPj4+IDYgJiA2MykgKyBmcm9tQ2hhckNvZGUoMTI4IHwgY2MgJiA2Myk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIGNjID0gNjU1MzYgKyAoYy5jaGFyQ29kZUF0KDApIC0gNTUyOTYpICogMTAyNCArIChjLmNoYXJDb2RlQXQoMSkgLSA1NjMyMCk7XG5cdCAgICByZXR1cm4gZnJvbUNoYXJDb2RlKDI0MCB8IGNjID4+PiAxOCAmIDcpICsgZnJvbUNoYXJDb2RlKDEyOCB8IGNjID4+PiAxMiAmIDYzKSArIGZyb21DaGFyQ29kZSgxMjggfCBjYyA+Pj4gNiAmIDYzKSArIGZyb21DaGFyQ29kZSgxMjggfCBjYyAmIDYzKTtcblx0ICB9XG5cdH07XG5cdHZhciByZV91dG9iID0gL1tcXHVEODAwLVxcdURCRkZdW1xcdURDMDAtXFx1REZGRkZdfFteXFx4MDAtXFx4N0ZdL2c7XG5cdHZhciB1dG9iID0gZnVuY3Rpb24gKHUpIHtcblx0ICByZXR1cm4gdS5yZXBsYWNlKHJlX3V0b2IsIGNiX3V0b2IpO1xuXHR9O1xuXHR2YXIgY2JfZW5jb2RlID0gZnVuY3Rpb24gKGNjYykge1xuXHQgIHZhciBwYWRsZW4gPSBbMCwgMiwgMV1bY2NjLmxlbmd0aCAlIDNdLFxuXHQgICAgb3JkID0gY2NjLmNoYXJDb2RlQXQoMCkgPDwgMTYgfCAoY2NjLmxlbmd0aCA+IDEgPyBjY2MuY2hhckNvZGVBdCgxKSA6IDApIDw8IDggfCAoY2NjLmxlbmd0aCA+IDIgPyBjY2MuY2hhckNvZGVBdCgyKSA6IDApLFxuXHQgICAgY2hhcnMgPSBbYjY0Y2hhcnMuY2hhckF0KG9yZCA+Pj4gMTgpLCBiNjRjaGFycy5jaGFyQXQob3JkID4+PiAxMiAmIDYzKSwgcGFkbGVuID49IDIgPyAnPScgOiBiNjRjaGFycy5jaGFyQXQob3JkID4+PiA2ICYgNjMpLCBwYWRsZW4gPj0gMSA/ICc9JyA6IGI2NGNoYXJzLmNoYXJBdChvcmQgJiA2MyldO1xuXHQgIHJldHVybiBjaGFycy5qb2luKCcnKTtcblx0fTtcblx0dmFyIGJ0b2EgPSBmdW5jdGlvbiAoYikge1xuXHQgIHJldHVybiBiLnJlcGxhY2UoL1tcXHNcXFNdezEsM30vZywgY2JfZW5jb2RlKTtcblx0fTtcblx0dmFyIF9lbmNvZGUgPSBmdW5jdGlvbiAodSkge1xuXHQgIHJldHVybiBidG9hKHV0b2IodSkpO1xuXHR9O1xuXHR2YXIgZW5jb2RlID0gZnVuY3Rpb24gKHUsIHVyaXNhZmUpIHtcblx0ICByZXR1cm4gIXVyaXNhZmUgPyBfZW5jb2RlKFN0cmluZyh1KSkgOiBfZW5jb2RlKFN0cmluZyh1KSkucmVwbGFjZSgvWytcXC9dL2csIGZ1bmN0aW9uIChtMCkge1xuXHQgICAgcmV0dXJuIG0wID09ICcrJyA/ICctJyA6ICdfJztcblx0ICB9KS5yZXBsYWNlKC9cXD0vZywgJycpO1xuXHR9O1xuXHQvLyB2YXIgZW5jb2RlVVJJID0gZnVuY3Rpb24gKHUpIHtcblx0Ly8gICByZXR1cm4gZW5jb2RlKHUsIHRydWUpO1xuXHQvLyB9O1xuXHR2YXIgcmVfYnRvdSA9IG5ldyBSZWdFeHAoWydbw4Atw59dW8KALcK/XScsICdbw6Atw69dW8KALcK/XXsyfScsICdbw7Atw7ddW8KALcK/XXszfSddLmpvaW4oJ3wnKSwgJ2cnKTtcblx0dmFyIGNiX2J0b3UgPSBmdW5jdGlvbiAoY2NjYykge1xuXHQgIHN3aXRjaCAoY2NjYy5sZW5ndGgpIHtcblx0ICBjYXNlIDQ6XG5cdCAgICB2YXIgY3AgPSAoNyAmIGNjY2MuY2hhckNvZGVBdCgwKSkgPDwgMTggfCAoNjMgJiBjY2NjLmNoYXJDb2RlQXQoMSkpIDw8IDEyIHwgKDYzICYgY2NjYy5jaGFyQ29kZUF0KDIpKSA8PCA2IHwgNjMgJiBjY2NjLmNoYXJDb2RlQXQoMyksIG9mZnNldCA9IGNwIC0gNjU1MzY7XG5cdCAgICByZXR1cm4gZnJvbUNoYXJDb2RlKChvZmZzZXQgPj4+IDEwKSArIDU1Mjk2KSArIGZyb21DaGFyQ29kZSgob2Zmc2V0ICYgMTAyMykgKyA1NjMyMCk7XG5cdCAgY2FzZSAzOlxuXHQgICAgcmV0dXJuIGZyb21DaGFyQ29kZSgoMTUgJiBjY2NjLmNoYXJDb2RlQXQoMCkpIDw8IDEyIHwgKDYzICYgY2NjYy5jaGFyQ29kZUF0KDEpKSA8PCA2IHwgNjMgJiBjY2NjLmNoYXJDb2RlQXQoMikpO1xuXHQgIGRlZmF1bHQ6XG5cdCAgICByZXR1cm4gZnJvbUNoYXJDb2RlKCgzMSAmIGNjY2MuY2hhckNvZGVBdCgwKSkgPDwgNiB8IDYzICYgY2NjYy5jaGFyQ29kZUF0KDEpKTtcblx0ICB9XG5cdH07XG5cdHZhciBidG91ID0gZnVuY3Rpb24gKGIpIHtcblx0ICByZXR1cm4gYi5yZXBsYWNlKHJlX2J0b3UsIGNiX2J0b3UpO1xuXHR9O1xuXHR2YXIgY2JfZGVjb2RlID0gZnVuY3Rpb24gKGNjY2MpIHtcblx0ICB2YXIgbGVuID0gY2NjYy5sZW5ndGgsXG5cdCAgICBwYWRsZW4gPSBsZW4gJSA0LFxuXHQgICAgbiA9IChsZW4gPiAwID8gYjY0dGFiW2NjY2MuY2hhckF0KDApXSA8PCAxOCA6IDApIHwgKGxlbiA+IDEgPyBiNjR0YWJbY2NjYy5jaGFyQXQoMSldIDw8IDEyIDogMCkgfCAobGVuID4gMiA/IGI2NHRhYltjY2NjLmNoYXJBdCgyKV0gPDwgNiA6IDApIHwgKGxlbiA+IDMgPyBiNjR0YWJbY2NjYy5jaGFyQXQoMyldIDogMCksXG5cdCAgICBjaGFycyA9IFtmcm9tQ2hhckNvZGUobiA+Pj4gMTYpLCBmcm9tQ2hhckNvZGUobiA+Pj4gOCAmIDI1NSksIGZyb21DaGFyQ29kZShuICYgMjU1KV07XG5cdCAgY2hhcnMubGVuZ3RoIC09IFswLCAwLCAyLCAxXVtwYWRsZW5dO1xuXHQgIHJldHVybiBjaGFycy5qb2luKCcnKTtcblx0fTtcblx0dmFyIGF0b2IgPSBmdW5jdGlvbiAoYSkge1xuXHQgIHJldHVybiBhLnJlcGxhY2UoL1tcXHNcXFNdezEsNH0vZywgY2JfZGVjb2RlKTtcblx0fTtcblx0dmFyIF9kZWNvZGUgPSBmdW5jdGlvbiAoYSkge1xuXHQgIHJldHVybiBidG91KGF0b2IoYSkpO1xuXHR9O1xuXHR2YXIgZGVjb2RlID0gZnVuY3Rpb24gKGEpIHtcblx0ICByZXR1cm4gX2RlY29kZShTdHJpbmcoYSkucmVwbGFjZSgvWy1fXS9nLCBmdW5jdGlvbiAobTApIHtcblx0ICAgIHJldHVybiBtMCA9PSAnLScgPyAnKycgOiAnLyc7XG5cdCAgfSkucmVwbGFjZSgvW15BLVphLXowLTlcXCtcXC9dL2csICcnKSk7XG5cdH07XG5cdFxuXHRleHBvcnRzLmVuY29kZSA9IGVuY29kZTtcblx0ZXhwb3J0cy5kZWNvZGUgPSBkZWNvZGU7XG5cbi8qKiovIH0pLFxuLyogMjYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgdWxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtYXhDb3VudCkge1xuXHQgIHZhciBfbWF4Q291bnQgPSBtYXhDb3VudDtcblx0ICB2YXIgX2l0ZW1zID0gW107XG5cdFxuXHQgIHRoaXMuZW5xdWV1ZSA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICBpZiAodHlwZW9mIF9tYXhDb3VudCA9PT0gJ251bWJlcicgJiYgdGhpcy5zaXplKCkgPj0gX21heENvdW50KSB7XG5cdCAgICAgIHRoaXMuZGVxdWV1ZSgpO1xuXHQgICAgfVxuXHRcblx0ICAgIF9pdGVtcy5wdXNoKGl0ZW0pO1xuXHQgIH07XG5cdFxuXHQgIHRoaXMuZGVxdWV1ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBfaXRlbXMuc2hpZnQoKTtcblx0ICB9O1xuXHRcblx0ICB0aGlzLmZyb250ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIF9pdGVtc1swXTtcblx0ICB9O1xuXHRcblx0ICB0aGlzLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gX2l0ZW1zLmxlbmd0aCA9PT0gMDtcblx0ICB9O1xuXHRcblx0ICB0aGlzLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuXHQgICAgX2l0ZW1zLmxlbmd0aCA9IDA7XG5cdCAgfTtcblx0XG5cdCAgdGhpcy5zaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIF9pdGVtcy5sZW5ndGg7XG5cdCAgfTtcblx0XG5cdCAgdGhpcy5pdGVtcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBfaXRlbXM7XG5cdCAgfTtcblx0XG5cdCAgdGhpcy5wcmludCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHVsb2coKS52KCctLS1xdWV1ZTogJywgX2l0ZW1zLnRvU3RyaW5nKCkpO1xuXHQgIH07XG5cdH07XG5cbi8qKiovIH0pLFxuLyogMjcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKipcblx0ICogcHJvamVjdCAtIGZpbGVwYXRoXG5cdCAqIGRlc2NyaXB0aW9uXG5cdCAqXG5cdCAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cblx0ICpcblx0ICogQXV0aG9yczpcblx0ICogICDosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuXHQgKi9cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5hc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcblx0XG5cdC8qKlxuXHQgKiDnlJ/miJDkuIDkuKrnlKjkuo7pgb/lhY3nvJPlrZjnmoTpmo/mnLrmlbBcblx0ICog5Li65LqG5YeP5bCRIHVybCDplb/luqbvvIzov5nkuKrpmo/mnLrmlbDmja7nmoTplb/luqblrprkuLogNyDkvY3vvIxcblx0ICog5Li65LqG5YeP5bCR56Kw5pKe77yM5L2/55SoIDE2IOi/m+WItuaVsOWtl1xuXHQgKlxuXHQgKiAyNjg0MzU0NTYgPSAyIF4gMjggPSAweGZmZmZmZmYgKyAxXG5cdCAqL1xuXHRleHBvcnRzLm1ha2VDYWNoZU51bSA9IGZ1bmN0aW9uICgpIHtcblx0ICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjY4NDM1NDU2KS50b1N0cmluZygxNik7XG5cdH07XG5cdFxuXHQvKipcblx0ICog5Yik5pat5a2X56ym5LiyIHMxIOaYr+WQpuS7peWtl+espuS4siBzMiDlvIDlpLRcblx0ICogQHBhcmFtIHMxIHtTdHJpbmd9XG5cdCAqIEBwYXJhbSBzMiB7U3RyaW5nfVxuXHQgKi9cblx0ZXhwb3J0cy5pc1N0YXJ0V2l0aCA9IGZ1bmN0aW9uKHMxLCBzMikge1xuXHQgIHJldHVybiBzMS5pbmRleE9mKHMyKSA9PT0gMDtcblx0fTtcblx0LyoqXG5cdCAqIOWIpOaWreWtl+espuS4siBzMSDmmK/mu57ku6XlrZfnrKbkuLIgczIg57uT5bC+XG5cdCAqIEBwYXJhbSBzMSB7U3RyaW5nfVxuXHQgKiBAcGFyYW0gczIge1N0cmluZ31cblx0ICovXG5cdGV4cG9ydHMuaXNFbmRXaXRoID0gZnVuY3Rpb24oczEsIHMyKSB7XG5cdCAgdmFyIGwxID0gczEubGVuZ3RoLCBsMiA9IHMyLmxlbmd0aDtcblx0ICByZXR1cm4gbDEgPj0gbDIgJiYgczEuaW5kZXhPZihzMikgPT0gKGwxIC0gbDIpO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5hbnkgPSBmdW5jdGlvbihhcnIsIGZuKSB7XG5cdCAgdmFyIGk7XG5cdCAgdmFyIGwgPSBhcnIubGVuZ3RoO1xuXHQgIGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcblx0ICAgIGlmIChmbihhcnJbaV0pKSB7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gZmFsc2U7XG5cdH07XG5cdFxuXHRleHBvcnRzLmlzTnVtYmVyID0gZnVuY3Rpb24odikge1xuXHQgIHJldHVybiB0eXBlb2YgdiA9PT0gJ251bWJlcic7XG5cdH07XG5cdFxuXHRleHBvcnRzLmlzTmFOID0gZnVuY3Rpb24odikge1xuXHQgIGlmKGlzTmFOKSB7XG5cdCAgICByZXR1cm4gaXNOYU4odik7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHJldHVybiB2ICE9PSB2O1xuXHQgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiDliKTmlq3lrZfnrKbkuLIgczEg5piv5ZCm5YyF5ZCr5a2X56ym5LiyIHMyXG5cdCAqIEBwYXJhbSBzMSB7U3RyaW5nfVxuXHQgKiBAcGFyYW0gczIge1N0cmluZ31cblx0ICovXG5cdGV4cG9ydHMuaXNDb250YWluID0gZnVuY3Rpb24gKHMxLCBzMikge1xuXHQgIHJldHVybiBzMS5pbmRleE9mKHMyKSA+IC0xO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIOWFi+mahuS4gOS4qm9iamVjdFxuXHQgKi9cblx0dmFyIGNsb25lRGVlcCA9IGZ1bmN0aW9uKG9iaikge1xuXHQgIHZhciBzdHI7XG5cdCAgdmFyIG5ld29iaiA9IG9iai5jb25zdHJ1Y3RvciA9PT0gQXJyYXkgPyBbXSA6IHt9O1xuXHQgIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuXHQgICAgcmV0dXJuO1xuXHQgIH0gZWxzZSBpZiAoSlNPTiAmJiBKU09OLnBhcnNlKSB7XG5cdCAgICBzdHIgPSBKU09OLnN0cmluZ2lmeShvYmopOyAvL+ezu+WIl+WMluWvueixoVxuXHQgICAgbmV3b2JqID0gSlNPTi5wYXJzZShzdHIpOyAvL+i/mOWOn1xuXHQgIH0gZWxzZSB7XG5cdCAgICBmb3IgKHZhciBpIGluIG9iaikge1xuXHQgICAgICBuZXdvYmpbaV0gPSB0eXBlb2Ygb2JqW2ldID09PSAnb2JqZWN0JyA/IGNsb25lRGVlcChvYmpbaV0pIDogb2JqW2ldO1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gbmV3b2JqO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5jbG9uZURlZXAgPSBjbG9uZURlZXA7XG5cdFxuXHQvKipcblx0ICog6I635Y+WdXJs5Y+C5pWwLOS7hemZkHdlYuOAgWg1XG5cdCAqL1xuXHR2YXIgZ2V0VXJsUGFyYW1zID0gZnVuY3Rpb24gKCkge1xuXHQgIHZhciByZWdleCA9IC9bPyZdKFtePSNdKyk9KFteJiNdKikvZztcblx0ICB2YXIgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG5cdCAgdmFyIHBhcmFtcyA9IHt9O1xuXHQgIHZhciBtYXRjaDtcblx0ICB3aGlsZSAobWF0Y2ggPSByZWdleC5leGVjKHVybCkpIHtcblx0ICAgIHBhcmFtc1ttYXRjaFsxXV0gPSBtYXRjaFsyXTtcblx0ICB9XG5cdCAgcmV0dXJuIHBhcmFtcztcblx0fTtcblx0XG5cdGV4cG9ydHMuZ2V0VXJsUGFyYW1zID0gZ2V0VXJsUGFyYW1zO1xuXHRcblx0LyoqXG5cdCAqIOWIpOaWreepuuWvueixoVxuXHQgKi9cblx0dmFyIGlzRW1wdHlPYmplY3QgPSBmdW5jdGlvbihvKSB7XG5cdCAgaWYoIW8pIHtcblx0ICAgIHJldHVybiB0cnVlO1xuXHQgIH07XG5cdCAgZm9yICh2YXIgayBpbiBvKSB7XG5cdCAgICBpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgaykpIHtcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gdHJ1ZTtcblx0fTtcblx0ZXhwb3J0cy5pc0VtcHR5T2JqZWN0ID0gaXNFbXB0eU9iamVjdDtcblxuLyoqKi8gfSksXG4vKiAyOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFxuXHQvKipcblx0ICog5a+56LGhbWVyZ2Vcblx0ICogIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9hc3NpZ25cblx0ICovXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHRhcmdldE9iaiwgYXJnc09iaikge1xuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXHQgIGlmICh0eXBlb2YgT2JqZWN0LmFzc2lnbiAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQpIHtcblx0ICAgICAgdmFyIHRvID0gT2JqZWN0KHRhcmdldCk7XG5cdCAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBhcmd1bWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG5cdCAgICAgICAgdmFyIG5leHRTb3VyY2UgPSBhcmd1bWVudHNbaW5kZXhdO1xuXHQgICAgICAgIGlmIChuZXh0U291cmNlICE9PSBudWxsKSB7IC8vIFNraXAgb3ZlciBpZiB1bmRlZmluZWQgb3IgbnVsbFxuXHQgICAgICAgICAgZm9yICh2YXIgbmV4dEtleSBpbiBuZXh0U291cmNlKSB7XG5cdCAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobmV4dFNvdXJjZSwgbmV4dEtleSkpIHtcblx0ICAgICAgICAgICAgICB0b1tuZXh0S2V5XSA9IG5leHRTb3VyY2VbbmV4dEtleV07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHRvO1xuXHQgICAgfSh0YXJnZXRPYmosIGFyZ3NPYmopO1xuXHQgIH0gZWxzZSB7XG5cdCAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgdGFyZ2V0T2JqLCBhcmdzT2JqKTtcblx0ICB9XG5cdH07XG5cbi8qKiovIH0pLFxuLyogMjkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgdXRpbEdvbGRsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIGN1cnJlbnRQYXRoID0gXCJcIjtcblx0dmFyIHBhZ2VPcHRpb25NYXAgPSB7fTtcblx0XG5cdGZ1bmN0aW9uIGJ1aWxkUGF0aChwYXRoLCBxdWVyeSkge1xuXHQgIGlmICghcGF0aCkge1xuXHQgICAgcmV0dXJuIFwiXCI7XG5cdCAgfVxuXHQgIHZhciBxcyA9IFtdO1xuXHQgIGZvciAodmFyIHEgaW4gcXVlcnkpIHtcblx0ICAgIHFzLnB1c2gocSArICc9JyArIHF1ZXJ5W3FdKTtcblx0ICB9XG5cdCAgdmFyIHFzcyA9IHFzLmpvaW4oJyYnKTtcblx0ICByZXR1cm4gcXNzID8gcGF0aCArICc/JyArIHFzcyA6IHBhdGg7XG5cdH07XG5cdFxuXHRleHBvcnRzLmdldEN1cnJlbnRQYWdlUGF0aCA9IGZ1bmN0aW9uKCkge1xuXHQgIHJldHVybiBjdXJyZW50UGF0aDtcblx0fTtcblx0XG5cdGV4cG9ydHMuc2V0Q3VycmVudFBhdGggPSBmdW5jdGlvbihwYXRoKSB7XG5cdCAgaWYgKHBhdGgpIHtcblx0ICAgIGN1cnJlbnRQYXRoID0gcGF0aDtcblx0ICB9XG5cdH07XG5cdFxuXHRleHBvcnRzLmdldFBhZ2VRdWVyeSA9IGZ1bmN0aW9uKHBhdGgpIHtcblx0ICBpZiAocGF0aCkge1xuXHQgICAgcmV0dXJuIHBhZ2VPcHRpb25NYXBbcGF0aF07XG5cdCAgfVxuXHR9O1xuXHRcblx0ZXhwb3J0cy5zZXRQYWdlUXVlcnkgPSBmdW5jdGlvbihwYXRoLCBxdWVyeSkge1xuXHQgIGlmIChwYXRoKSB7XG5cdCAgICBwYWdlT3B0aW9uTWFwW3BhdGhdID0gcXVlcnk7XG5cdCAgfVxuXHR9O1xuXHRcblx0ZXhwb3J0cy5nZXRGdWxsUGF0aCA9IGZ1bmN0aW9uKHBhdGgpIHtcblx0ICByZXR1cm4gYnVpbGRQYXRoKGN1cnJlbnRQYXRoLCBwYWdlT3B0aW9uTWFwW3BhdGhdKTtcblx0fTtcblx0XG5cdGV4cG9ydHMuZ2V0UGFnZU5hbWUgPSBmdW5jdGlvbihwYXRoKSB7XG5cdCAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoJ2FwbHVzJyk7XG5cdCAgdmFyIG1ldGEgPSBhcGx1cy5nZXRNZXRhSW5mbygncGFnZUNvbmZpZycpO1xuXHQgIHZhciByZWFsUGF0aCA9IHBhdGggfHwgY3VycmVudFBhdGg7XG5cdCAgdHJ5IHtcblx0ICAgIC8vIOWvueS6juWKqOaAgei3r+eUse+8jOaUr+aMgeeUqOaIt+S8oOWFpeato+WImei/m+ihjOWMuemFjVxuXHQgICAgaWYgKG1ldGEgJiYgdHlwZW9mIG1ldGEgPT0gJ29iamVjdCcpIHtcblx0ICAgICAgZm9yICh2YXIga2V5IGluIG1ldGEpIHtcblx0ICAgICAgICBpZiAoa2V5ID09PSByZWFsUGF0aCkge1xuXHQgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgfSBlbHNlIGlmIChtZXRhW2tleV0gJiYgbWV0YVtrZXldLnJlZ1J1bGUpIHtcblx0ICAgICAgICAgIHJlYWxQYXRoID0gbWV0YVtrZXldLnJlZ1J1bGUudGVzdChwYXRoKSA/IGtleSA6IHJlYWxQYXRoO1xuXHQgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIC8vXG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSBjYXRjaChlKSB7XG5cdCAgICAvL1xuXHQgIH1cblx0ICByZXR1cm4gbWV0YVtyZWFsUGF0aF07XG5cdCAgLy8gaWYgKCFwYXRoKSB7XG5cdCAgLy8gICByZXR1cm4gbWV0YSAmJiBtZXRhW2N1cnJlbnRQYXRoXTtcblx0ICAvLyB9IGVsc2Uge1xuXHQgIC8vICAgcmV0dXJuIG1ldGEgJiYgbWV0YVtwYXRoXTtcblx0ICAvLyB9XG5cdH07XG5cdFxuXHRleHBvcnRzLmdldFBhZ2VDb2RlID0gZnVuY3Rpb24ocGF0aCkge1xuXHQgIHJldHVybiAodGhpcy5nZXRQYWdlTmFtZShwYXRoKSB8fCB7fSkucGFnZU5hbWU7XG5cdH07XG5cdFxuXHRleHBvcnRzLmdldFZUUmVhbHRpbWVDb2RlID0gZnVuY3Rpb24oKSB7XG5cdCAgaWYgKGN1cnJlbnRQYXRoKSB7XG5cdCAgICB2YXIgcXVlcnkgPSBwYWdlT3B0aW9uTWFwW2N1cnJlbnRQYXRoXSB8fCB7fTtcblx0ICAgIHZhciByZWdFeHAgPSAvXlxcJHZ0Xy87XG5cdCAgICB2YXIgc2NlbmUgPSBkZWNvZGVVUklDb21wb25lbnQocXVlcnkuc2NlbmUpO1xuXHQgICAgcmV0dXJuIHNjZW5lICYmIHJlZ0V4cC50ZXN0KHNjZW5lKSAmJiBzY2VuZS5yZXBsYWNlKHJlZ0V4cCwgJycpO1xuXHQgIH1cblx0fTtcblxuLyoqKi8gfSksXG4vKiAzMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiBhbGlsb2cvcyAtIHNyYy9hcGx1c19wbHVnaW5fbWluaS9saWJfYXV0b19jb2xsZWN0L2luamVjdF9wYWdlLmpzXG5cdCAqIOiHquWKqOmHh+mbhuWwj+eoi+W6j+S/oeaBr+eahOaPkuS7tiAtIOmhtemdouazqOWFpVxuXHQgKlxuXHQgKlxuXHQgKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG5cdCAqXG5cdCAqIEF1dGhvcnM6XG5cdCAqICAgUmljaGFyZHzosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuXHQgKi9cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIHV0aWxHb2xkbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0dmFyIGFwbHVzU3RhdGljID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0dmFyIHV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0dmFyIGVhY2hNYXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKTtcblx0dmFyIHVtVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblx0dmFyIGZvcm1hdCA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpO1xuXHR2YXIgdWxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHR2YXIgUGFnZU1hbmFnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblx0dmFyIG1pbmkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0ZnVuY3Rpb24gZ2V0VXRtUGFyYW1zT2JqIChxKSB7XG5cdCAgdmFyIG9iaiA9IHt9O1xuXHQgIHRyeSB7XG5cdCAgICBlYWNoTWFwKHEsIGZ1bmN0aW9uIChrLCB2KSB7XG5cdCAgICAgIC8vIOmBv+WFjeS4uuepuuaXtumHjeWGmWdsb2JhbHByb3BlcnR55YaF55qE5bGe5oCnXG5cdCAgICAgIGlmKGsuaW5kZXhPZigndXRtXycpID09PSAwKSB7XG5cdCAgICAgICAgb2JqW2tdID0gdjtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfSBjYXRjaCAoZSkge31cblx0ICByZXR1cm4gb2JqO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBoYW5kbGVyU2hhcmVBcHBNc2cgKG9wdCwgbmFtZSkge1xuXHQgIHZhciBjdHggPSB1dGlsR29sZGxvZy5nZXRDb250ZXh0KCk7XG5cdCAgdmFyIHBhZ2UgPSBtaW5pLmdldEN1cnJlbnRQYWdlKCk7XG5cdCAgdmFyIHJvdXRlID0gcGFnZS5yb3V0ZSB8fCBwYWdlLmlzIHx8ICcnO1xuXHQgIHZhciBvcHRpb25zID0gcGFnZS5vcHRpb25zIHx8IHt9O1xuXHQgIHZhciBsaW5rUGFybWFzID0gZm9ybWF0Lm9iajJwYXJhbShvcHRpb25zLCB0cnVlKTtcblx0ICAvLyDmi7zmjqVjdXJyZW50UGFnZeeahHVybOS4jnF1ZXJ5XG5cdCAgaWYobGlua1Bhcm1hcykge1xuXHQgICAgcm91dGUgPSByb3V0ZSArICc/JyArIGxpbmtQYXJtYXM7XG5cdCAgfSBcblx0ICBpZiAoIW9wdC5xdWVyeSkge1xuXHQgICAgb3B0LnF1ZXJ5ID0ge307XG5cdCAgfVxuXHQgIG9wdC5xdWVyeS4kJF9zaGFyZV91aWQgPSBjdHguYXBsdXMuZ2V0TWV0YUluZm8oJ19hbm9ueV9pZCcpIHx8IGN0eC5hcGx1cy5fX0VUQUdfX0NOQV9fSURfXztcblx0ICBvcHQucXVlcnkuJCRfdXRtX21lZGl1bSA9IDM7XG5cdFxuXHQgIC8vIG9uU2hhcmVBcHBNZXNzYWdl5rKh5pyJcmV0dXJuIOaIliBvblNoYXJlVGltZWxpbmXml7bvvIzlhaXlj4JvcHTnmoRwYXRo5LiOcXVlcnnkuLrnqbrvvIzmraTml7bnlKhjdXJyZW50UGFnZeeahHBhdGjlkoxvcHRpb25z5YWc5bqVXG5cdCAgb3B0LnF1ZXJ5ID0gdW1VdGlscy5hc3NpZ24oe30sIG9wdGlvbnMsIG9wdC5xdWVyeSk7XG5cdCAgdmFyIHBhdGggPSBvcHQucGF0aCB8fCByb3V0ZTtcblx0XG5cdCAgdmFyIGFwcGVuZFBhcmFtcyA9ICckJF9zaGFyZV91aWQ9JyArIG9wdC5xdWVyeS4kJF9zaGFyZV91aWQgKyAnJiQkX3V0bV9tZWRpdW09Myc7XG5cdCBcblx0ICBpZiAocGF0aC5pbmRleE9mKCc/JykgPiAtMSkge1xuXHQgICAgb3B0LnBhdGggPSBwYXRoICsgJyYnICsgYXBwZW5kUGFyYW1zO1xuXHQgIH0gZWxzZSB7XG5cdCAgICBvcHQucGF0aCA9IHBhdGggKyAnPycgKyBhcHBlbmRQYXJhbXM7XG5cdCAgfVxuXHQgIG9wdC5zdGF0dXMgPSAncmVhZHknO1xuXHQgIGN0eC5hcGx1c19xdWV1ZS5wdXNoKHtcblx0ICAgIGFjdGlvbjogYXBsdXNTdGF0aWMuUFVCTElTSCxcblx0ICAgIGFyZ3VtZW50czogW25hbWUsIG9wdF1cblx0ICB9KTtcblx0ICByZXR1cm4gb3B0O1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gb25QdWxsRG93blJlZnJlc2goKSB7XG5cdCAgdmFyIGN0eCA9IHV0aWxHb2xkbG9nLmdldENvbnRleHQoKTtcblx0ICB2YXIgb3B0ID0ge1xuXHQgICAgc3RhdHVzOiAncmVhZHknXG5cdCAgfTtcblx0ICBjdHguYXBsdXNfcXVldWUucHVzaCh7XG5cdCAgICBhY3Rpb246IGFwbHVzU3RhdGljLlBVQkxJU0gsXG5cdCAgICBhcmd1bWVudHM6IFsnb25QdWxsRG93blJlZnJlc2gnLCBvcHRdXG5cdCAgfSk7XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBvblJlYWNoQm90dG9tKCkge1xuXHQgIHZhciBjdHggPSB1dGlsR29sZGxvZy5nZXRDb250ZXh0KCk7XG5cdCAgdmFyIHRoYXQgPSB0aGlzO1xuXHQgIHZhciBvcHQgPSB7XG5cdCAgICBzdGF0dXM6ICdyZWFkeScsXG5cdCAgICBjb250ZXh0OiB0aGF0XG5cdCAgfTtcblx0ICBjdHguYXBsdXNfcXVldWUucHVzaCh7XG5cdCAgICBhY3Rpb246IGFwbHVzU3RhdGljLlBVQkxJU0gsXG5cdCAgICBhcmd1bWVudHM6IFsnb25SZWFjaEJvdHRvbScsIG9wdF1cblx0ICB9KTtcblx0fTtcblx0XG5cdC8vIOmhtemdouWKoOi9vVxuXHRmdW5jdGlvbiBvblBhZ2VMb2FkKHF1ZXJ5KSB7XG5cdCAgdmFyIGN0eCA9IHV0aWxHb2xkbG9nLmdldENvbnRleHQoKTtcblx0ICB0cnkge1xuXHQgICAgUGFnZU1hbmFnZXIuc2V0Q3VycmVudFBhdGgodGhpcy5yb3V0ZSk7XG5cdCAgICBpZiAocXVlcnkpIHtcblx0ICAgICAgUGFnZU1hbmFnZXIuc2V0UGFnZVF1ZXJ5KHRoaXMucm91dGUsIHF1ZXJ5KTtcblx0ICAgIH1cblx0ICAgIHVsb2coKS5pKCdQYWdlIG9uTG9hZDogJywgdGhpcy5yb3V0ZSwgcXVlcnkpO1xuXHQgICAgdmFyIHRoYXQgPSB0aGlzO1xuXHQgICAgdXRpbHMub25BcGx1c1JlYWR5KGN0eC5hcGx1c19xdWV1ZSwgYXBsdXNTdGF0aWMuU1VCU0NSSUJFLCBmdW5jdGlvbigpe1xuXHQgICAgICAvLyDlhajlsYDlsZ7mgKfov73liqB1dG3lj4LmlbBcblx0ICAgICAgY3R4LmFwbHVzLmFwcGVuZE1ldGFJbmZvKGFwbHVzU3RhdGljLkdMT0JBTF9QUk9QRVJUWSwgZ2V0VXRtUGFyYW1zT2JqKHF1ZXJ5KSk7XG5cdCAgICAgIGN0eC5hcGx1c19xdWV1ZS5wdXNoKHtcblx0ICAgICAgICBhY3Rpb246IGFwbHVzU3RhdGljLlBVQkxJU0gsXG5cdCAgICAgICAgYXJndW1lbnRzOiBbJ29uTG9hZCcsIHtcblx0ICAgICAgICAgIHN0YXR1czogJ3JlYWR5Jyxcblx0ICAgICAgICAgIGNvbnRleHQ6IHRoYXQsXG5cdCAgICAgICAgfV1cblx0ICAgICAgfSk7XG5cdCAgICAgIC8vIOmhtemdouWKoOi9veWujOWQjua3t+WFpXNldERhdGHvvIzmlrnkvr/oh6rliqjmm53lhYnjgIHoh6rliqjngrnlh7vnrYnmj5Lku7bkvb/nlKhcblx0ICAgICAgdmFyIF9jdXJyZW50UGFnZSA9IG1pbmkuZ2V0Q3VycmVudFBhZ2UoKTtcblx0ICAgICAgdXRpbHMucmVzZXRGbihfY3VycmVudFBhZ2UsICdzZXREYXRhJywgZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgICBjdHguYXBsdXNfcXVldWUucHVzaCh7XG5cdCAgICAgICAgICBhY3Rpb246IGFwbHVzU3RhdGljLlBVQkxJU0gsXG5cdCAgICAgICAgICBhcmd1bWVudHM6IFsnb25QYWdlRGF0YUNoYW5nZWQnLCB7XG5cdCAgICAgICAgICAgIGRhdGE6IGRhdGEsXG5cdCAgICAgICAgICAgIGNvbnRleHQ6IHRoYXRcblx0ICAgICAgICAgIH1dXG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfSk7XG5cdCAgfSBjYXRjaChlKSB7XG5cdCAgICB1bG9nKCkudygnb25QYWdlTG9hZDogJywgZSk7XG5cdCAgfVxuXHR9O1xuXHRcblx0ZnVuY3Rpb24gb25QYWdlU2hvdygpIHtcblx0ICB2YXIgY3R4ID0gdXRpbEdvbGRsb2cuZ2V0Q29udGV4dCgpO1xuXHQgIHRyeSB7XG5cdCAgICBQYWdlTWFuYWdlci5zZXRDdXJyZW50UGF0aCh0aGlzLnJvdXRlKTtcblx0ICAgIHV0aWxzLm9uQXBsdXNSZWFkeShjdHguYXBsdXNfcXVldWUsIGFwbHVzU3RhdGljLlNVQlNDUklCRSwgZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgdGhhdCA9IHRoaXM7XG5cdCAgICAgIGN0eC5hcGx1c19xdWV1ZS5wdXNoKHtcblx0ICAgICAgICBhY3Rpb246IGFwbHVzU3RhdGljLlBVQkxJU0gsXG5cdCAgICAgICAgYXJndW1lbnRzOiBbJ29uU2hvdycsIHtcblx0ICAgICAgICAgIHN0YXR1czogJ3JlYWR5Jyxcblx0ICAgICAgICAgIGNvbnRleHQ6IHRoYXQsXG5cdCAgICAgICAgfV1cblx0ICAgICAgfSk7XG5cdCAgICB9KTtcblx0ICB9IGNhdGNoKGUpIHtcblx0ICAgIHVsb2coKS53KCdvblBhZ2VTaG93OiAnLCBlKTtcblx0ICB9XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBvblBhZ2VSZWFkeSgpIHtcblx0ICB2YXIgY3R4ID0gdXRpbEdvbGRsb2cuZ2V0Q29udGV4dCgpO1xuXHQgIHRyeSB7XG5cdCAgICB2YXIgdGhhdCA9IHRoaXM7XG5cdCAgICBjdHguYXBsdXNfcXVldWUucHVzaCh7XG5cdCAgICAgIGFjdGlvbjogYXBsdXNTdGF0aWMuUFVCTElTSCxcblx0ICAgICAgYXJndW1lbnRzOiBbJ29uUmVhZHknLCB7XG5cdCAgICAgICAgc3RhdHVzOiAncmVhZHknLFxuXHQgICAgICAgIGNvbnRleHQ6IHRoYXRcblx0ICAgICAgfV1cblx0ICAgIH0pO1xuXHQgIH0gY2F0Y2ggKGUpIHtcblx0ICAgIHVsb2coKS53KCdvblBhZ2VSZWFkeTogJywgZSk7XG5cdCAgfVxuXHR9O1xuXHRcblx0ZnVuY3Rpb24gb25QYWdlSGlkZSgpIHtcblx0ICB2YXIgY3R4ID0gdXRpbEdvbGRsb2cuZ2V0Q29udGV4dCgpO1xuXHQgIHRyeSB7XG5cdCAgICBjdHguYXBsdXNfcXVldWUucHVzaCh7XG5cdCAgICAgIGFjdGlvbjogYXBsdXNTdGF0aWMuUFVCTElTSCxcblx0ICAgICAgYXJndW1lbnRzOiBbJ29uSGlkZScsIHtcblx0ICAgICAgICBzdGF0dXM6ICdyZWFkeScsXG5cdCAgICAgIH1dXG5cdCAgICB9KTtcblx0ICB9IGNhdGNoKGUpIHtcblx0ICAgIHVsb2coKS53KCdvblBhZ2VIaWRlOiAnLCBlKTtcblx0ICB9XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBvblBhZ2VVbmxvYWQoKSB7XG5cdCAgdmFyIGN0eCA9IHV0aWxHb2xkbG9nLmdldENvbnRleHQoKTtcblx0ICB0cnkge1xuXHQgICAgY3R4LmFwbHVzX3F1ZXVlLnB1c2goe1xuXHQgICAgICBhY3Rpb246IGFwbHVzU3RhdGljLlBVQkxJU0gsXG5cdCAgICAgIGFyZ3VtZW50czogWydvbkhpZGUnLCB7XG5cdCAgICAgICAgc3RhdHVzOiAncmVhZHknLFxuXHQgICAgICB9XVxuXHQgICAgfSk7XG5cdCAgfSBjYXRjaChlKXtcblx0ICAgIHVsb2coKS53KCdvblBhZ2VVbmxvYWQ6ICcsIGUpO1xuXHQgIH1cblx0fTtcblx0XG5cdGZ1bmN0aW9uIG9uQXBsdXNDbGsoZSkge1xuXHQgIHZhciBjdHggPSB1dGlsR29sZGxvZy5nZXRDb250ZXh0KCk7XG5cdCAgY3R4LmFwbHVzX3F1ZXVlLnB1c2goe1xuXHQgICAgYWN0aW9uOiBhcGx1c1N0YXRpYy5QVUJMSVNILFxuXHQgICAgYXJndW1lbnRzOiBbJ29uQXBsdXNDbGsnLCB7XG5cdCAgICAgIHN0YXR1czogJ3JlYWR5Jyxcblx0ICAgICAgZXZlbnQ6IGUsXG5cdCAgICAgIGNvbnRleHQ6IHRoaXNcblx0ICAgIH1dXG5cdCAgfSk7XG5cdH07XG5cdFxuXHQvL+inpuaRuOS6i+S7tlxuXHRmdW5jdGlvbiBvbkFwbHVzVG91Y2goZSkge1xuXHQgIHZhciBjdHggPSB1dGlsR29sZGxvZy5nZXRDb250ZXh0KCk7XG5cdCAgdmFyIHRoYXQgPSB0aGlzO1xuXHQgIGN0eC5hcGx1c19xdWV1ZS5wdXNoKHtcblx0ICAgIGFjdGlvbjogYXBsdXNTdGF0aWMuUFVCTElTSCxcblx0ICAgIGFyZ3VtZW50czogWydvbkFwbHVzVG91Y2gnLCB7XG5cdCAgICAgIHN0YXR1czogJ3JlYWR5Jyxcblx0ICAgICAgY29udGV4dDogdGhhdCxcblx0ICAgICAgZXZlbnQ6IGUsXG5cdCAgICB9XVxuXHQgIH0pO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gcmV3cml0ZVNoYXJlKG9wdCkge1xuXHQgIGlmIChvcHQub25TaGFyZUFwcE1lc3NhZ2UpIHtcblx0ICAgIHZhciBvbGRPblNoYXJlQXBwTWVzc2FnZSA9IG9wdC5vblNoYXJlQXBwTWVzc2FnZTtcblx0ICAgIG9wdC5vblNoYXJlQXBwTWVzc2FnZSA9IGZ1bmN0aW9uKHJlcykge1xuXHQgICAgICB2YXIgc2hhcmVSZXN1bHQgPSBvbGRPblNoYXJlQXBwTWVzc2FnZS5jYWxsKHRoaXMsIHJlcykgfHwge307XG5cdCAgICAgIHJldHVybiBoYW5kbGVyU2hhcmVBcHBNc2coc2hhcmVSZXN1bHQsICdvblNoYXJlQXBwTWVzc2FnZScpO1xuXHQgICAgfTtcblx0ICB9XG5cdH07XG5cdFxuXHQvLyDliIbkuqvmnIvlj4vlnIhcblx0ZnVuY3Rpb24gcmV3cml0ZVNoYXJlVGltZWxpbmUob3B0KSB7XG5cdCAgaWYgKG9wdC5vblNoYXJlVGltZWxpbmUpIHtcblx0ICAgIHZhciBvbGRPblNoYXJlVGltZWxpbmUgPSBvcHQub25TaGFyZVRpbWVsaW5lO1xuXHQgICAgb3B0Lm9uU2hhcmVUaW1lbGluZSA9IGZ1bmN0aW9uKHJlcykge1xuXHQgICAgICB2YXIgc2hhcmVSZXN1bHQgPSBvbGRPblNoYXJlVGltZWxpbmUuY2FsbCh0aGlzLCByZXMpIHx8IHt9O1xuXHQgICAgICByZXR1cm4gaGFuZGxlclNoYXJlQXBwTXNnKHNoYXJlUmVzdWx0LCAnb25TaGFyZVRpbWVsaW5lJyk7XG5cdCAgICB9O1xuXHQgIH1cblx0fTtcblx0XG5cdGZ1bmN0aW9uIGluamVjdFBhZ2UoKSB7XG5cdCAgdHJ5IHtcblx0ICAgIHZhciBvbGRQYWdlID0gUGFnZTtcblx0ICAgIFBhZ2UgPSBmdW5jdGlvbihwYWdlT3B0aW9ucykge1xuXHQgICAgICB1dGlscy5yZXdyaXRlRm4ocGFnZU9wdGlvbnMsICdvblNob3cnLCBvblBhZ2VTaG93KTtcblx0ICAgICAgdXRpbHMucmV3cml0ZUZuKHBhZ2VPcHRpb25zLCAnb25IaWRlJywgb25QYWdlSGlkZSk7XG5cdCAgICAgIHV0aWxzLnJld3JpdGVGbihwYWdlT3B0aW9ucywgJ29uVW5sb2FkJywgb25QYWdlVW5sb2FkKTtcblx0ICAgICAgdXRpbHMucmV3cml0ZUZuKHBhZ2VPcHRpb25zLCAnb25Mb2FkJywgb25QYWdlTG9hZCk7XG5cdCAgICAgIHV0aWxzLnJld3JpdGVGbihwYWdlT3B0aW9ucywgJ29uUmVhZHknLCBvblBhZ2VSZWFkeSk7XG5cdCAgICAgIHV0aWxzLnJld3JpdGVGbihwYWdlT3B0aW9ucywgJ29uUHVsbERvd25SZWZyZXNoJywgb25QdWxsRG93blJlZnJlc2gpO1xuXHQgICAgICB1dGlscy5yZXdyaXRlRm4ocGFnZU9wdGlvbnMsICdvblJlYWNoQm90dG9tJywgb25SZWFjaEJvdHRvbSk7XG5cdCAgICAgIHV0aWxzLnJld3JpdGVGbihwYWdlT3B0aW9ucywgJ29uQXBsdXNDbGsnLCBvbkFwbHVzQ2xrKTtcblx0ICAgICAgdXRpbHMucmV3cml0ZUZuKHBhZ2VPcHRpb25zLCAnb25BcGx1c1RvdWNoJywgb25BcGx1c1RvdWNoKTtcblx0ICAgICAgcmV3cml0ZVNoYXJlKHBhZ2VPcHRpb25zKTtcblx0ICAgICAgcmV3cml0ZVNoYXJlVGltZWxpbmUocGFnZU9wdGlvbnMpO1xuXHQgICAgICBvbGRQYWdlKHBhZ2VPcHRpb25zKTtcblx0ICAgIH07XG5cdCAgfSBjYXRjaChlKSB7XG5cdCAgICB1bG9nKCkudygnUGFnZSDph43lhpnlvILluLgnKTtcblx0ICB9XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBpbmplY3RDb21wb25lbnQoKSB7XG5cdCAgdHJ5IHtcblx0ICAgIHZhciBvbGRDb21wb25lbnQgPSBDb21wb25lbnQ7XG5cdCAgICBDb21wb25lbnQgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgb3B0aW9ucy5tZXRob2RzID0gb3B0aW9ucy5tZXRob2RzIHx8IHt9O1xuXHQgICAgICAgIHZhciBtZXRob2RzID0gb3B0aW9ucy5tZXRob2RzO1xuXHQgICAgICAgIHV0aWxzLnJld3JpdGVGbihtZXRob2RzLCAnb25TaG93Jywgb25QYWdlU2hvdyk7XG5cdCAgICAgICAgdXRpbHMucmV3cml0ZUZuKG1ldGhvZHMsICdvbkhpZGUnLCBvblBhZ2VIaWRlKTtcblx0ICAgICAgICB1dGlscy5yZXdyaXRlRm4obWV0aG9kcywgJ29uVW5sb2FkJywgb25QYWdlSGlkZSk7XG5cdCAgICAgICAgdXRpbHMucmV3cml0ZUZuKG1ldGhvZHMsICdvbkxvYWQnLCBvblBhZ2VMb2FkKTtcblx0ICAgICAgICByZXdyaXRlU2hhcmUobWV0aG9kcyk7XG5cdCAgICAgICAgb2xkQ29tcG9uZW50KG9wdGlvbnMpO1xuXHQgICAgICB9IGNhdGNoKHQpIHtcblx0ICAgICAgICBvbGRDb21wb25lbnQob3B0aW9ucyk7XG5cdCAgICAgIH07XG5cdCAgICB9O1xuXHQgIH0gY2F0Y2goZSkge1xuXHQgICAgdWxvZygpLncoJ0NvbXBvbmVudCDph43lhpnlvILluLgnKTtcblx0ICB9XG5cdH1cblx0XG5cdFxuXHRmdW5jdGlvbiBpbmplY3RNaWR3YXkgKG1wQ3R4LCBuYW1lLCBjYWxsYmFjaykge1xuXHQgIGlmIChbJ29iamVjdCcsICdmdW5jdGlvbiddLmluZGV4T2YodHlwZW9mIG1wQ3R4KSA+IC0xKSB7XG5cdCAgICBjYWxsYmFjaygpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICAvLyBjb25zb2xlLmxvZygndHlwZW9mICcgKyBuYW1lICsgJyBpcyBub3Qgb2JqZWN0IGNhbnQgd2F0Y2hFeHAuJyk7XG5cdCAgICB1bG9nKCkudygndHlwZW9mICcgKyBuYW1lICsgJyBpcyBub3Qgb2JqZWN0IGNhbnQgd2F0Y2hFeHAuJyk7XG5cdCAgfVxuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcblx0ICByZXR1cm4ge1xuXHQgICAgcnVuOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIGluamVjdE1pZHdheShQYWdlLCAnUGFnZScsIGluamVjdFBhZ2UpO1xuXHQgICAgICBpbmplY3RNaWR3YXkoQ29tcG9uZW50LCAnQ29tcG9uZW50JywgaW5qZWN0Q29tcG9uZW50KTtcblx0ICAgIH1cblx0ICB9O1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogMzEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKipcblx0ICogcHJvamVjdCAtIGZpbGVwYXRoXG5cdCAqIOWvuW1hcOi/m+ihjOmrmOaAp+iDveeahOmBjeWOhlxuXHQgKlxuXHQgKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG5cdCAqXG5cdCAqIEF1dGhvcnM6XG5cdCAqICAg6LCL5aOrIDxxaW5nbGlhbmcuaHFsQGFsaWJhYmEtaW5jLmNvbT5cblx0ICovXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG1hcCwgY2FsbGJhY2spIHtcblx0ICBpZiAoT2JqZWN0ICYmIE9iamVjdC5rZXlzKSB7XG5cdCAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG1hcCk7XG5cdCAgICB2YXIgbGVuID0ga2V5cy5sZW5ndGg7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdCAgICAgIHZhciBrMSA9IGtleXNbaV07XG5cdCAgICAgIGNhbGxiYWNrKGsxLCBtYXBbazFdKTtcblx0ICAgIH1cblx0ICB9IGVsc2Uge1xuXHQgICAgZm9yICh2YXIgayBpbiBtYXApIHtcblx0ICAgICAgY2FsbGJhY2soaywgbWFwW2tdKTtcblx0ICAgIH1cblx0ICB9XG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiAzMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qKlxuXHQgKiBhbGlsb2cvcy91dGlsL2Zvcm1hdC5qc1xuXHQgKiDlt6Xlhbfnsbtcblx0ICpcblx0ICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuXHQgKlxuXHQgKiBBdXRob3JzOlxuXHQgKiAgIOiwi+WjqyA8cWluZ2xpYW5nLmhxbEBhbGliYWJhLWluYy5jb20+XG5cdCAqL1xuXHQndXNlIHN0cmljdCc7XG5cdFxuXHQvLyB2YXIgdHJ5VG9EZWNvZGUgPSByZXF1aXJlKCcuL3RyeVRvRGVjb2RlJyk7XG5cdFxuXHRleHBvcnRzLmFycjJvYmogPSBmdW5jdGlvbiAoYXJyKSB7XG5cdCAgdmFyIHJldCA9IHt9O1xuXHQgIHZhciBrO1xuXHQgIHZhciB2O1xuXHQgIHZhciBpO1xuXHQgIHZhciBsZW4gPSBhcnIubGVuZ3RoO1xuXHRcblx0ICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgIGsgPSBhcnJbaV1bMF07XG5cdCAgICB2ID0gYXJyW2ldWzFdO1xuXHQgICAgcmV0W2tdID0gdjtcblx0ICB9XG5cdCAgcmV0dXJuIHJldDtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBwYXJhbSB0byBvYmplY3Rcblx0ICog5bCG5LiA5Liq566A5Y2V55qE5b2i5aaCIGE9MSZiPTImYz0zIOi/meagt+eahOWPguaVsOi9rOWMluS4uueugOWNleeahCBvYmplY3Qg5qC85byP77yM5aaC77yaXG5cdCAqIHtcblx0ICogICBhOiBcIjFcIixcblx0ICogICBiOiBcIjJcIixcblx0ICogICBjOiBcIjNcIlxuXHQgKiB9XG5cdCAqIEBwYXJhbSBwYXJhbXMge1N0cmluZ31cblx0ICovXG5cdGV4cG9ydHMucGFyYW0yb2JqID0gZnVuY3Rpb24gKHBhcmFtcykge1xuXHQgIGlmICh0eXBlb2YgcGFyYW1zID09PSAnb2JqZWN0Jykge1xuXHQgICAgcmV0dXJuIHBhcmFtcztcblx0ICB9XG5cdCAgaWYgKCFwYXJhbXMpIHBhcmFtcyA9ICcnO1xuXHRcblx0ICB2YXIgb2JqID0ge307XG5cdCAgdmFyIGEgPSBwYXJhbXMuc3BsaXQoJyYnKTtcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcblx0ICAgIHZhciBpdGVtID0gYVtpXTtcblx0ICAgIHZhciBpbmRleCA9IGl0ZW0uaW5kZXhPZignPScpO1xuXHQgICAgdmFyIGZyYWdtZW50ID0gaXRlbS5zcGxpdCgnPScpO1xuXHQgICAgdmFyIGxlbiA9IGl0ZW0ubGVuZ3RoO1xuXHQgICAgaWYgKGZyYWdtZW50Lmxlbmd0aCA9PT0gMikge1xuXHQgICAgICBvYmpbZnJhZ21lbnRbMF1dID0gZnJhZ21lbnRbMV0gfHwgJyc7ICBcblx0ICAgIH0gZWxzZSBpZiAoaW5kZXggPiAwKSB7XG5cdCAgICAgIHZhciBrZXkgPSBpdGVtLnNsaWNlKDAsIGluZGV4KTtcblx0ICAgICAgdmFyIHZhbHVlID0gaXRlbS5zbGljZShpbmRleCArIDEsIGxlbikgfHwgJyc7XG5cdCAgICAgIG9ialtrZXldID0gdmFsdWU7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBvYmpbZnJhZ21lbnRbMF1dID0gJyc7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiBvYmo7XG5cdH07XG5cdFxuXHQvLyBjb25zb2xlLmxvZygnVE9ETyBkZWxldGUgc19wbGFpbl9vYmonKTtcblx0dmFyIHNfcGxhaW5fb2JqID0gJzo6LXBsYWluLTo6Jztcblx0ZXhwb3J0cy5zX3BsYWluX29iaiA9IHNfcGxhaW5fb2JqO1xuXHRcblx0LyoqXG5cdCAqIGFycmF5IHRvIHBhcmFtXG5cdCAqIOWwhuS4gOS4queugOWNleeahOaVsOe7hOi9rOWMluS4uiB1cmwg5Y+C5pWw55qE5b2i5byP77yMXG5cdCAqIOWFtuS4reaVsOe7hOS4ulxuXHQgKiAgICAgIFtbazEsIHYxXSwgW2syLCB2Ml0sIFtrMywgdjNdLCAuLi5dXG5cdCAqIOeahOW9ouW8j+OAglxuXHQgKiDkuI4gb2JqMnBhcmFtIOebuOavlO+8jOi/meS4quaWueazleeahOWlveWkhOaYr+WPr+S7peS/neivgeacgOWQjuWPguaVsOeahOmhuuW6j1xuXHQgKiBAcGFyYW0gYXJyIHtBcnJheX1cblx0ICogQHJldHVybiB7U3RyaW5nfVxuXHQgKi9cblx0ZnVuY3Rpb24gYXJyMnBhcmFtKGFyciwgc2tpcEVuY29kZSkge1xuXHQgIHZhciBhID0gW10sXG5cdCAgICBrLFxuXHQgICAgdixcblx0ICAgIGksXG5cdCAgICBsZW4gPSBhcnIubGVuZ3RoO1xuXHRcblx0ICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgIGsgPSBhcnJbaV1bMF07XG5cdCAgICB2ID0gYXJyW2ldWzFdO1xuXHQgICAgdmFyIGlzSW5QbGFuT2JqID0gay5pbmRleE9mKHNfcGxhaW5fb2JqKSA9PT0gMDtcblx0ICAgIHZhciBfdmFsdWUgPSBpc0luUGxhbk9iaiB8fCBza2lwRW5jb2RlID8gdiA6IGVuY29kZVVSSUNvbXBvbmVudCh2KTtcblx0ICAgIGEucHVzaChpc0luUGxhbk9iaiA/IF92YWx1ZSA6IChrICsgJz0nICsgX3ZhbHVlKSk7XG5cdCAgfVxuXHQgIHJldHVybiBhLmpvaW4oJyYnKTtcblx0fTtcblx0ZXhwb3J0cy5hcnIycGFyYW0gPSBhcnIycGFyYW07XG5cdFxuXHQvKipcblx0ICogb2JqZWN0IHRvIHBhcmFtXG5cdCAqIOWwhuS4gOS4queugOWNleWvueixoei9rOWMluS4uiB1cmwg5Y+C5pWw55qE5b2i5byPXG5cdCAqIOWPguingSBhcnIycGFyYW0oKSDmlrnms5Vcblx0ICogQHBhcmFtIG9iaiB7T2JqZWN0fVxuXHQgKiBAcGFyYW0gY29tbVRyYW5zbGF0ZSB7Qm9vbGVhbn0g5pmu6YCa6L2s5o2i5LiN5YGaaXNTdGFydFdpdGjmoKHpqoxcblx0ICpcblx0ICovXG5cdGV4cG9ydHMub2JqMnBhcmFtID0gZnVuY3Rpb24gKG9iaiwgY29tbVRyYW5zbGF0ZSkge1xuXHQgIHZhciBhID0gW107XG5cdCAgdmFyIGs7XG5cdCAgdmFyIHY7XG5cdCAgdmFyIF92O1xuXHQgIGZvciAoayBpbiBvYmopXG5cdCAgICBpZiAoayAmJiBvYmouaGFzT3duUHJvcGVydHkoaykpIHtcblx0ICAgICAgdiA9ICcnICsgb2JqW2tdO1xuXHQgICAgICBfdiA9IGsgKyAnPScgKyB2O1xuXHQgICAgICBpZiAoIWNvbW1UcmFuc2xhdGUpIHtcblx0ICAgICAgICBhLnB1c2goay5pbmRleE9mKHNfcGxhaW5fb2JqKSA9PT0gMCA/IHYgOiBfdik7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgYS5wdXNoKF92KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIHJldHVybiBhLmpvaW4oJyYnKTtcblx0fTtcblx0XG5cdGV4cG9ydHMuZW5jb2RlR29rZXlWYWx1ZSA9IGZ1bmN0aW9uIChnb2tleSkge1xuXHQgIC8vIHZhciBhcGx1cyA9IHJlcXVpcmUoJ0B1dGlscy91dGlsR29sZGxvZycpLmdldEdsb2JhbFZhbHVlKCdhcGx1cycpO1xuXHQgIC8vIC8vIOWvuWdva2V55YaF55qEdmFsdWXnu5/kuIDliqDkuIDlsYLnvJbnoIFcblx0ICAvLyBpZiAodHlwZW9mIGdva2V5ID09PSAnb2JqZWN0JyAmJiBhcGx1cy5nbG9iYWxDb25maWcuaXNBbGkpIHtcblx0ICAvLyAgIGZvciAodmFyIGsgaW4gZ29rZXkpIHtcblx0ICAvLyAgICAgaWYgKHR5cGVvZiBnb2tleVtrXSA9PT0gJ3N0cmluZycpIHtcblx0ICAvLyAgICAgICB0cnkge1xuXHQgIC8vICAgICAgICAgZ29rZXlba10gPSBlbmNvZGVVUklDb21wb25lbnQoZGVjb2RlVVJJQ29tcG9uZW50KGdva2V5W2tdKSk7XG5cdCAgLy8gICAgICAgfSBjYXRjaCAoZSkge31cblx0ICAvLyAgICAgfVxuXHQgIC8vICAgfVxuXHQgIC8vIH1cblx0ICByZXR1cm4gZ29rZXk7XG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiAzMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiBwcm9qZWN0IC0gZmlsZXBhdGhcblx0ICogZGVzY3JpcHRpb25cblx0ICpcblx0ICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuXHQgKlxuXHQgKiBBdXRob3JzOlxuXHQgKiAgIOiwi+WjqyA8cWluZ2xpYW5nLmhxbEBhbGliYWJhLWluYy5jb20+XG5cdCAqL1xuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgdXRpbEdvbGRsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHR2YXIgYXBsdXNTdGF0aWMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgZWFjaCA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuXHQvLyB2YXIgVVBEQVRFID0gJ3VwZGF0ZSc7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcblx0ICByZXR1cm4ge1xuXHQgICAgcHVzaFF1ZXVlOmZ1bmN0aW9uKG1ldGhvZE5hbWUsIGFyZ3Mpe1xuXHQgICAgICB2YXIgYXBsdXNfcXVldWUgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZSgnYXBsdXNfcXVldWUnKTtcblx0ICAgICAgYXBsdXNfcXVldWUucHVzaCh7XG5cdCAgICAgICAgYWN0aW9uOiAnYXBsdXMuJyArIG1ldGhvZE5hbWUsXG5cdCAgICAgICAgYXJndW1lbnRzOiBhcmdzXG5cdCAgICAgIH0pO1xuXHQgICAgfSxcblx0ICAgIHJ1bjogZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgX3NlbGYgPSB0aGlzO1xuXHQgICAgICB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZShhcGx1c1N0YXRpYy5BUExVUyk7XG5cdCAgICAgIGVhY2goYXBsdXNTdGF0aWMub3BlbkFQSXMsIGZ1bmN0aW9uICh2KSB7XG5cdCAgICAgICAgYXBsdXNbdl0gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICB2YXIgaXRlbXMgPSBbXTtcblx0ICAgICAgICAgIGVhY2goYXJndW1lbnRzLCBmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICAgICAgICBpdGVtcy5wdXNoKGl0ZW0pO1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgICB2YXIgbWV0aG9kTmFtZSA9IHYgPT09ICdlbnRlcicgPyAnX3NlbmRQVicgOiAnXycgKyB2O1xuXHQgICAgICAgICAgX3NlbGYucHVzaFF1ZXVlKG1ldGhvZE5hbWUsIGl0ZW1zKTtcblx0ICAgICAgICB9O1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9O1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogMzQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKipcblx0ICogYWxpbG9nL3MgLSBzcmMvcGx1Z2lucy9hcGx1c19jbGllbnRfbWluaS5qc1xuXHQgKlxuXHQgKiBjbGllbnRJbmZvIGZvciBtaW5pYXBwXG5cdCAqXG5cdCAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cblx0ICpcblx0ICogQXV0aG9yczpcblx0ICogICDosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuXHQgKi9cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIG1pbmkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHR2YXIgdXRpbEdvbGRsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgcmV0dXJuIHtcblx0ICAgIC8qKlxuXHQgICAgICog5Yid5aeL5YyW5qih5Z2XLCDkuKrmgKfljJbpg6jliIblrZDnsbvkuK3lrp7njrBcblx0ICAgICAqL1xuXHQgICAgLy8gaW5pdDogZnVuY3Rpb24ob3B0aW9ucykge1xuXHQgICAgLy8gICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuXHQgICAgLy8gfSxcblx0XG5cdCAgICBfZ2V0TmV0d29ya1R5cGU6IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuXHQgICAgICB2YXIgY3R4ID0gbWluaS5nZXRDb250ZXh0KCk7XG5cdCAgICAgIGlmIChjdHguZ2V0TmV0d29ya1R5cGUpIHtcblx0ICAgICAgICBjdHguZ2V0TmV0d29ya1R5cGUoe1xuXHQgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgICAgICBjYWxsYmFjayhyZXMgPyByZXMubmV0d29ya1R5cGUgOiAnJyk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgY2FsbGJhY2soJycpO1xuXHQgICAgICB9XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICog6I635Y+W57O757uf5L+h5oGvIGh0dHBzOi8vZG9jcy5hbGlwYXkuY29tL21pbmkvYXBpL3N5c3RlbS1pbmZvXG5cdCAgICAgKiDmiYvmnLrlnovlj7fjgIHlsY/luZXliIbovqjnjofjgIHns7vnu5/niYjmnKznrYnkv6Hmga9cblx0ICAgICAqL1xuXHQgICAgX2dldFN5c3RlbUluZm86IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuXHQgICAgICB2YXIgX3NlbGYgPSB0aGlzO1xuXHQgICAgICB2YXIgZW1wdHlPYmogPSB7fTtcblx0ICAgICAgdmFyIHN5c0luZm8gPSBfc2VsZi5TWVNURU1fSU5GTyB8fCB7fTtcblx0ICAgICAgaWYgKHN5c0luZm8gJiYgc3lzSW5mby52ZXJzaW9uKSB7XG5cdCAgICAgICAgY2FsbGJhY2soX3NlbGYuU1lTVEVNX0lORk8pO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICBtaW5pLmdldENvbnRleHQoKS5nZXRTeXN0ZW1JbmZvKHtcblx0ICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICAgICAgICBpZiAocmVzICYmIHJlcy52ZXJzaW9uKSB7XG5cdCAgICAgICAgICAgICAgICBfc2VsZi5fZ2V0TmV0d29ya1R5cGUoZnVuY3Rpb24gKG4pIHtcblx0ICAgICAgICAgICAgICAgICAgcmVzLm5ldHdvcmtUeXBlID0gbjtcblx0ICAgICAgICAgICAgICAgICAgX3NlbGYuU1lTVEVNX0lORk8gPSByZXM7XG5cdCAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHJlcyk7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgX3NlbGYuX2dldE5ldHdvcmtUeXBlKGZ1bmN0aW9uIChuKSB7XG5cdCAgICAgICAgICAgICAgICAgIGVtcHR5T2JqLm5ldHdvcmtUeXBlID0gbjtcblx0ICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZW1wdHlPYmopO1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgICBjYWxsYmFjayhlbXB0eU9iaik7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LFxuXHRcblx0ICAgIF9nZXRBY2NvdW50SW5mb1N5bmM6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdmFyIGluZm8gPSB7fTtcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICB2YXIgY3R4ID0gbWluaS5nZXRDb250ZXh0KCk7XG5cdCAgICAgICAgaWYgKGN0eC5nZXRBY2NvdW50SW5mb1N5bmMgJiYgY3R4LmNhbklVc2UoJ2dldEFjY291bnRJbmZvU3luYycpKSB7XG5cdCAgICAgICAgICAvLyDlvq7kv6Fcblx0ICAgICAgICAgIHZhciBhY2NvdW50SW5mbyA9IGN0eC5nZXRBY2NvdW50SW5mb1N5bmMoKTtcblx0ICAgICAgICAgIHZhciBtaW5pUHJvZ3JhbSA9IGFjY291bnRJbmZvLm1pbmlQcm9ncmFtIHx8IHt9O1xuXHQgICAgICAgICAgdmFyIHBsdWdpbiA9IGFjY291bnRJbmZvLnBsdWdpbiB8fCB7fTtcblx0ICAgICAgICAgIGluZm8uYXBwSWQgPSBtaW5pUHJvZ3JhbS5hcHBJZDsgIC8vIOWwj+eoi+W6jyBhcHBJZFxuXHQgICAgICAgICAgaW5mby5hcHBWZXJzaW9uID0gbWluaVByb2dyYW0udmVyc2lvbiB8fCBtaW5pUHJvZ3JhbS5lbnZWZXJzaW9uOyAgLy8g5bCP56iL5bqPIGFwcFZlcnNpb25cblx0ICAgICAgICAgIGluZm8ucGx1Z2luQXBwSWQgPSBwbHVnaW4uYXBwSWQ7IC8vIOaPkuS7tiBhcHBJZFxuXHQgICAgICAgICAgaW5mby5wbHVnaW5BcHBWZXJzaW9uID0gcGx1Z2luLnZlcnNpb247IC8vIOaPkuS7tiBhcHBWZXJzaW9uICBcblx0ICAgICAgICB9IGVsc2UgaWYgKGN0eC5nZXRBcHBJZFN5bmMgJiYgY3R4LmNhbklVc2UoJ2dldEFwcElkU3luYycpKSB7XG5cdCAgICAgICAgICB2YXIgYXBwSW5mbyA9IGN0eC5nZXRBcHBJZFN5bmMoKSB8fCB7fTtcblx0ICAgICAgICAgIGluZm8uYXBwSWQgPSBhcHBJbmZvLmFwcElkIHx8ICcnO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBjYXRjaCAoZSkge31cblx0ICAgICAgcmV0dXJuIGluZm87XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogd29ya25vXG5cdCAgICAgKiAgIDEuIGNvb2tpZS5nZXRDb29raWUoJ3dvcmtubycpXG5cdCAgICAgKiAgIDIuIGNvb2tpZS5nZXRDb29raWUoJ2VtcGxJZCcpXG5cdCAgICAgKiBAcmV0dXJuIFwiZG9uZVwiIHx8IHVuZGVmaW5lZFxuXHQgICAgICovXG5cdCAgICBydW46IGZ1bmN0aW9uIChzdGF0ZSwgY2IpIHtcblx0ICAgICAgdmFyIF9zZWxmID0gdGhpcztcblx0ICAgICAgLy8gY29uc29sZS5sb2coJ1RPRE8gZ2V0U3lzdGVtSW5mbycpO1xuXHQgICAgICB0aGlzLl9nZXRTeXN0ZW1JbmZvKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICAvLyDmlK/ku5jlrp3lsI/nqIvluo/mlofmoaMgIHN5c3RlbS3ns7vnu5/niYjmnKwgcGxhdGZvcm0t57O757uf5ZCNXG5cdCAgICAgICAgcmVzLnVzZXJBZ2VudCA9ICctJztcblx0ICAgICAgICByZXMub3MgPSByZXMucGxhdGZvcm0gPyByZXMucGxhdGZvcm0udG9Mb2NhbGVVcHBlckNhc2UoKSA6ICcnO1xuXHQgICAgICAgIHJlcy5vc192ZXJzaW9uID0gcmVzLnN5c3RlbSA/IHJlcy5zeXN0ZW0gOiAnJztcblx0ICAgICAgICByZXMuYWNjZXNzID0gcmVzLmJyYW5kID8gcmVzLmJyYW5kIDogJyc7XG5cdCAgICAgICAgdmFyIGhvc3QgPSAnJztcblx0ICAgICAgICBpZihyZXMuaG9zdCAmJiAodHlwZW9mIHJlcy5ob3N0LmVudiA9PT0gJ3N0cmluZycpKXtcblx0ICAgICAgICAgIGhvc3QgPSByZXMuaG9zdC5lbnY7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJlcy5ob3N0ID0gaG9zdDtcblx0XG5cdCAgICAgICAgdmFyIGFjY291bnRJbmZvID0gX3NlbGYuX2dldEFjY291bnRJbmZvU3luYygpO1xuXHQgICAgICAgIHZhciBycyA9IE9iamVjdC5hc3NpZ24oe30sIHJlcywgYWNjb3VudEluZm8pO1xuXHRcblx0ICAgICAgICB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZSgnYXBsdXMnKTtcblx0ICAgICAgICBhcGx1cy5fYXBsdXNfY2xpZW50ID0gcnM7XG5cdCAgICAgICAgY2IoKTtcblx0ICAgICAgfSk7XG5cdCAgICAgIHJldHVybiAyMDAwO1xuXHQgICAgfVxuXHQgIH07XG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiAzNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFxuXHR2YXIgUHViU3ViID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNik7XG5cdHZhciB1dGlsR29sZGxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuXHQgIHJldHVybiB7XG5cdCAgICBydW46ICBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKCdhcGx1cycpO1xuXHQgICAgICAvLyDkv53or4Hlj6rkvJrmnInkuIDkuKpwdWJzdWLov5DooYxcblx0ICAgICAgaWYgKGFwbHVzLmFwbHVzX3B1YnN1Yikge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICAvLyBhcGx1cy5hcGx1c19wdWJzdWLmmK/kuIDkuKrnm5HlkKzogIXvvIzlnKjmj5Lku7bljJblhoXpg6jkvJrnlKjliLDku5bvvIzmnInmlbDmja7lj5jljJblsIbkvJrlj5HlsITnm7jlupTnmoRkYXRhY2hhbmdl5LqL5Lu2XG5cdCAgICAgIGFwbHVzLmFwbHVzX3B1YnN1YiA9IFB1YlN1Yi5jcmVhdGUoKTtcblx0ICAgIH1cblx0ICB9O1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogMzYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKipcblx0ICogYWxpbG9nL3Mvc3JjL2xpYl91L2NvcmUvUHViU3ViLmpzXG5cdCAqIOa2iOaBr+iuoumYheaooeWei1xuXHQgKlxuXHQgKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG5cdCAqXG5cdCAqIEF1dGhvcnM6XG5cdCAqICAg6LCL5aOrIDxxaW5nbGlhbmcuaHFsQGFsaWJhYmEtaW5jLmNvbT5cblx0ICovXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBpc0Z1bmN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0dmFyIEJhc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3KTtcblx0XG5cdHZhciBnZXRBcmdzID0gZnVuY3Rpb24oYXJncykge1xuXHQgIHZhciBsZW4gPSBhcmdzLmxlbmd0aDtcblx0ICB2YXIgX2FyZ3MgPSBuZXcgQXJyYXkobGVuIC0gMSk7XG5cdCAgZm9yICh2YXIgaiA9IDE7IGogPCBsZW47IGorKykge1xuXHQgICAgX2FyZ3NbaiAtIDFdID0gYXJnc1tqXTtcblx0ICB9XG5cdCAgcmV0dXJuIF9hcmdzO1xuXHR9O1xuXHRcblx0dmFyIFB1YlN1YiA9IEJhc2UuZXh0ZW5kKHtcblx0ICAvKipcblx0ICAgKiDlr7lmbui/m+ihjOaWreiogO+8jOS4jeaYr+KAmGZ1bmN0aW9u4oCZ57G75Z6L5oql6ZSZ77yM5ZCm5YiZ6L+U5ZueZm5cblx0ICAgKi9cblx0ICBjYWxsYWJsZTogZnVuY3Rpb24gKGZuKSB7XG5cdCAgICBpZiAoIWlzRnVuY3Rpb24oZm4pKSB0aHJvdyBuZXcgVHlwZUVycm9yKGZuICsgJyBpcyBub3QgYSBmdW5jdGlvbicpO1xuXHQgICAgcmV0dXJuIGZuO1xuXHQgIH0sXG5cdFxuXHQgIGNyZWF0ZTogZnVuY3Rpb24gKHByb3BzKSB7XG5cdCAgICB2YXIgaW5zdGFuY2UgPSBuZXcgdGhpcygpO1xuXHQgICAgLy8g57uR5a6a6K+l5a6e5L6L55qE5bGe5oCnXG5cdCAgICBmb3IgKHZhciBuYW1lIGluIHByb3BzKSB7XG5cdCAgICAgIGluc3RhbmNlW25hbWVdID0gcHJvcHNbbmFtZV07XG5cdCAgICB9XG5cdFxuXHQgICAgaW5zdGFuY2UuaGFuZGxlcnMgPSBbXTtcblx0ICAgIGluc3RhbmNlLnB1YnMgPSB7fTtcblx0ICAgIHJldHVybiBpbnN0YW5jZTtcblx0ICB9LFxuXHRcblx0ICBzZXRIYW5kbGVyczogZnVuY3Rpb24oaGFuZGxlcnMpIHtcblx0ICAgIHRoaXMuaGFuZGxlcnMgPSBoYW5kbGVycztcblx0ICB9LFxuXHRcblx0ICAvKipcblx0ICAgKiDorqLpmIXlj6Xmn4TkuLrigJxlVHlwZeKAneeahOa2iOaBr++8jOW9k+aciea2iOaBr+i/h+adpeaJp+ihjOWbnuiwg+WHveaVsO+8muKAnGjigJ1cblx0ICAgKiBAcGFyYW0ge1N0cmluZ30gZVR5cGUg6K6i6ZiF55qE5raI5oGv5Y+l5p+EXG5cdCAgICogQHBhcmFtIHtGdW5jdGlvbn0gaCDorqLpmIXnmoTmtojmga/lm57osIPlh73mlbBcblx0ICAgKiBAcmV0dXJuIGNvbnRleHRcblx0ICAgKi9cblx0ICBzdWJzY3JpYmU6IGZ1bmN0aW9uKGVUeXBlLCBoKXtcblx0ICAgIC8vIOWvueWbnuiwg+WHveaVsOi/m+ihjOaWreiogFxuXHQgICAgdGhpcy5jYWxsYWJsZShoKTtcblx0XG5cdCAgICB2YXIgX3NlbGYgPSB0aGlzO1xuXHQgICAgdmFyIHB1YnMgPSBfc2VsZi5wdWJzIHx8IHt9O1xuXHRcblx0ICAgIHZhciBhcnIgPSBwdWJzW2VUeXBlXSB8fCBbXTtcblx0ICAgIGlmIChhcnIpIHtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgX2FyZ3MgPSBhcnJbaV0oKTtcblx0ICAgICAgICBoLmFwcGx5KF9zZWxmLCBfYXJncyk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHZhciBoYW5kbGVycyA9IF9zZWxmLmhhbmRsZXJzIHx8IFtdO1xuXHQgICAgaWYoIShlVHlwZSBpbiBoYW5kbGVycykpIHtcblx0ICAgICAgaGFuZGxlcnNbZVR5cGVdID0gW107XG5cdCAgICB9XG5cdCAgICBoYW5kbGVyc1tlVHlwZV0ucHVzaChoKTtcblx0ICAgIF9zZWxmLnNldEhhbmRsZXJzKGhhbmRsZXJzKTtcblx0ICAgIHJldHVybiBfc2VsZjtcblx0ICB9LFxuXHRcblx0ICAvKipcblx0ICAgKiDlj5bmtojorqLpmIXvvIzlsIbkvJrlj5bmtojigJxlVHlwZeKAneWPpeafhOWvueW6lOeahOKAnGjigJ3lm57osIPlh73mlbDkuIvnmoTmiYDmnInorqLpmIVcblx0ICAgKiBAcGFyYW0ge1N0cmluZ30gZVR5cGUg6K6i6ZiF55qE5raI5oGv5Y+l5p+EXG5cdCAgICogQHBhcmFtIHtGdW5jdGlvbn0gaCDorqLpmIXnmoTmtojmga/lm57osIPlh73mlbBcblx0ICAgKiBAcmV0dXJuIGNvbnRleHRcblx0ICAgKi9cblx0ICB1bnN1YnNjcmliZTogZnVuY3Rpb24oZVR5cGUsIGgpIHtcblx0ICAgIC8vIOWvueWbnuiwg+WHveaVsOi/m+ihjOaWreiogFxuXHQgICAgdGhpcy5jYWxsYWJsZShoKTtcblx0XG5cdCAgICB0cnkge1xuXHQgICAgICB2YXIgcyA9IHRoaXMuaGFuZGxlcnNbZVR5cGVdO1xuXHQgICAgICBpZiAoIXMpIHJldHVybiB0aGlzO1xuXHRcblx0ICAgICAgaWYgKHR5cGVvZiBzID09PSAnb2JqZWN0JyAmJiBzLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgdmFyIGhfc3RyID0gaC50b1N0cmluZygpO1xuXHQgICAgICAgICAgdmFyIHNfc3RyID0gc1tpXS50b1N0cmluZygpO1xuXHQgICAgICAgICAgaWYgKGhfc3RyID09PSBzX3N0cikge1xuXHQgICAgICAgICAgICBzLnNwbGljZShpLCAxKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgdGhpcy5oYW5kbGVyc1tlVHlwZV0gPSBzO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGRlbGV0ZSB0aGlzLmhhbmRsZXJzW2VUeXBlXTtcblx0ICAgICAgfVxuXHQgICAgfSBjYXRjaCAoZSkge31cblx0ICAgIHJldHVybiB0aGlzO1xuXHQgIH0sXG5cdFxuXHQgIC8qKlxuXHQgICAqIOa2iOaBr+WIhuWPke+8jOWwhuS8muWIhuWPkeWIsOaJgOacieiuoumYhWVUeXBl5Y+l5p+E55qE6K6i6ZiF6ICFXG5cdCAgICogQHBhcmFtIHtTdHJpbmd9IGVUeXBlIOWIhuWPkea2iOaBr+WPpeafhFxuXHQgICAqL1xuXHQgIHB1Ymxpc2g6IGZ1bmN0aW9uIChlVHlwZSkge1xuXHRcblx0ICAgIHZhciBhcmdzID0gZ2V0QXJncyhhcmd1bWVudHMpO1xuXHQgICAgdmFyIGhhbmRsZXJzID0gdGhpcy5oYW5kbGVycyB8fCBbXTtcblx0XG5cdCAgICB2YXIgc2l6ZSA9IGhhbmRsZXJzW2VUeXBlXSA/IGhhbmRsZXJzW2VUeXBlXS5sZW5ndGggOiAwO1xuXHQgICAgaWYgKHNpemUgPiAwKSB7XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGZuID0gaGFuZGxlcnNbZVR5cGVdW2ldO1xuXHQgICAgICAgIGlmIChpc0Z1bmN0aW9uKGZuKSkge1xuXHQgICAgICAgICAgZm4uYXBwbHkodGhpcywgYXJncyk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHRoaXM7XG5cdCAgfSxcblx0XG5cdCAgY2FjaGVQdWJzOiBmdW5jdGlvbiAoZVR5cGUpIHtcblx0ICAgIHZhciBwdWJzID0gdGhpcy5wdWJzIHx8IHt9O1xuXHQgICAgdmFyIGFyZ3MgPSBnZXRBcmdzKGFyZ3VtZW50cyk7XG5cdCAgICBpZiAoIXB1YnNbZVR5cGVdKSB7XG5cdCAgICAgIHB1YnNbZVR5cGVdID0gW107XG5cdCAgICB9XG5cdCAgICBwdWJzW2VUeXBlXS5wdXNoKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIGFyZ3M7XG5cdCAgICB9KTtcblx0ICB9XG5cdH0pO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBQdWJTdWI7XG5cblxuLyoqKi8gfSksXG4vKiAzNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiBhbGlsb2cvcy9zcmMvbGliX3UvY29yZS9CYXNlLmpzXG5cdCAqIOWfuuexu++8jOaPkOS+m+exu+aJgOmcgOimgeeahOWfuuehgOWxnuaAp1xuXHQgKlxuXHQgKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG5cdCAqXG5cdCAqIEF1dGhvcnM6XG5cdCAqICAg6LCL5aOrIDxxaW5nbGlhbmcuaHFsQGFsaWJhYmEtaW5jLmNvbT5cblx0ICovXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBpc0Z1bmN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0XG5cdC8vIOWfuuexu1xuXHRmdW5jdGlvbiBCYXNlKCkge31cblx0XG5cdC8vIOWwhmV4dGVuZOWSjGNyZWF0Zee9ruS6jnByb3RvdHlwZeWvueixoeS4re+8jOS7peS+v+WtkOexu+e7p+aJv1xuXHRCYXNlLnByb3RvdHlwZS5leHRlbmQgPSBmdW5jdGlvbigpIHt9O1xuXHRCYXNlLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbigpIHt9O1xuXHRcblx0Ly8g5Li65LqG6IO95Zyo5Z+657G75LiK55u05o6l5LulLmV4dGVuZOeahOaWueW8j+i/m+ihjOiwg+eUqFxuXHRCYXNlLmV4dGVuZCA9IGZ1bmN0aW9uKHByb3BzKSB7XG5cdCAgcmV0dXJuIHRoaXMucHJvdG90eXBlLmV4dGVuZC5jYWxsKHRoaXMsIHByb3BzKTtcblx0fTtcblx0XG5cdEJhc2UucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKHByb3BzKSB7XG5cdCAgLyoqXG5cdCAgICogY3JlYXRl5a6e6ZmF5LiK5piv5a+5bmV355qE5bCB6KOF77ybXG5cdCAgICogY3JlYXRl6L+U5Zue55qE5a6e5L6L5a6e6ZmF5LiK5bCx5pivbmV35p6E6YCg5Ye655qE5a6e5L6L77ybXG5cdCAgICogdGhpc+WNs+aMh+WQkeiwg+eUqOW9k+WJjWNyZWF0ZeeahOaehOmAoOWHveaVsO+8m1xuXHQgICAqL1xuXHQgIHZhciBpbnN0YW5jZSA9IG5ldyB0aGlzKCk7XG5cdCAgLy8g57uR5a6a6K+l5a6e5L6L55qE5bGe5oCnXG5cdCAgZm9yICh2YXIgbmFtZSBpbiBwcm9wcykge1xuXHQgICAgaW5zdGFuY2VbbmFtZV0gPSBwcm9wc1tuYW1lXTtcblx0ICB9XG5cdCAgcmV0dXJuIGluc3RhbmNlO1xuXHR9O1xuXHRcblx0QmFzZS5wcm90b3R5cGUuZXh0ZW5kID0gZnVuY3Rpb24ocHJvcHMpIHtcblx0ICAvLyDmtL7nlJ/lh7rmnaXnmoTmlrDnmoTlrZDnsbtcblx0ICB2YXIgU3ViQmFzZSA9IGZ1bmN0aW9uKCkge307XG5cdCAgdHJ5IHtcblx0ICAgIC8qKlxuXHQgICAgICog57un5om/54i257G755qE5bGe5oCn5ZKM5pa55rOV77yMXG5cdCAgICAgKiDlvZPnhLbliY3mj5DmmK/niLbnsbvnmoTlsZ7mgKfpg73mlL7lnKhwcm90b3R5cGXkuK1cblx0ICAgICAqIOiAjOmdnuS4iumdomNyZWF0ZeaWueazleeahOKAnOWunuS+i+WxnuaAp+KAneS4rVxuXHQgICAgICovXG5cdCAgICBpZiAoIWlzRnVuY3Rpb24oT2JqZWN0LmNyZWF0ZSkpIHtcblx0ICAgICAgT2JqZWN0LmNyZWF0ZSA9IGZ1bmN0aW9uIChvKSB7XG5cdCAgICAgICAgZnVuY3Rpb24gRigpIHt9XG5cdCAgICAgICAgRi5wcm90b3R5cGUgPSBvO1xuXHQgICAgICAgIHJldHVybiBuZXcgRigpO1xuXHQgICAgICB9O1xuXHQgICAgfVxuXHQgICAgU3ViQmFzZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHRoaXMucHJvdG90eXBlKTtcblx0XG5cdCAgICAvLyDlubbkuJTmt7vliqDoh6rlt7HnmoTmlrnms5XlkozlsZ7mgKdcblx0ICAgIGZvciAodmFyIG5hbWUgaW4gcHJvcHMpIHtcblx0ICAgICAgU3ViQmFzZS5wcm90b3R5cGVbbmFtZV0gPSBwcm9wc1tuYW1lXTtcblx0ICAgIH1cblx0ICAgIFN1YkJhc2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU3ViQmFzZTtcblx0XG5cdCAgICAvLyDpnIDopoHku6UuZXh0ZW5k55qE5pa55byP5ZKMLmNyZWF0ZeeahOaWueW8j+iwg+eUqO+8mlxuXHQgICAgU3ViQmFzZS5leHRlbmQgPSBTdWJCYXNlLnByb3RvdHlwZS5leHRlbmQ7XG5cdCAgICBTdWJCYXNlLmNyZWF0ZSA9IFN1YkJhc2UucHJvdG90eXBlLmNyZWF0ZTtcblx0ICB9IGNhdGNoKGVycikge1xuXHQgICAgY29uc29sZSAmJiBjb25zb2xlLmxvZyhlcnIpO1xuXHQgIH0gZmluYWxseSB7XG5cdCAgICByZXR1cm4gU3ViQmFzZTtcblx0ICB9XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IEJhc2U7XG5cblxuLyoqKi8gfSksXG4vKiAzOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiBwcm9qZWN0IC0gZmlsZXBhdGhcblx0ICog6I635Y+W6aG16Z2i5LiK55qEIDxtZXRhPiDkuK3kuI4gYXBsdXMg5omT54K555u45YWz55qE5YC8XG5cdCAqXG5cdCAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cblx0ICpcblx0ICogQXV0aG9yczpcblx0ICogICDosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuXHQgKi9cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgcmV0dXJuIHtcblx0ICAgIHJ1bjogZnVuY3Rpb24gKCkge1xuXHQgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KSh0aGlzLm9wdGlvbnMuY29udGV4dC5hcGx1c19jb25maWcpO1xuXHQgICAgfVxuXHQgIH07XG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiAzOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiBhbGlsb2cvcyAtIHNyYy9wbHVnaW5zL2xpYl9hcGkvbWFpbi5qc1xuXHQgKiBtZXRh6YWN572u5o+S5Lu277yM6KKrYXBp5o+S5Lu25L6d6LWWXG5cdCAqXG5cdCAqXG5cdCAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cblx0ICpcblx0ICogQXV0aG9yczpcblx0ICogICBSaWNoYXJkfOiwi+WjqyA8cWluZ2xpYW5nLmhxbEBhbGliYWJhLWluYy5jb20+XG5cdCAqL1xuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgdXRpbEdvbGRsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHR2YXIgYXBsdXNTdGF0aWMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgbWV0YUluZm8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFwbHVzX2NvbmZpZykge1xuXHQgIHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKGFwbHVzU3RhdGljLkFQTFVTKTtcblx0ICB2YXIgXyQgPSAoYXBsdXMuXyQgPSBhcGx1cy5fJCB8fCB7fSk7IC8vIOWGhemDqOS9v+eUqOeahOWPmOmHj1xuXHQgIF8kLmlzX3Rlcm1pbmFsID0gdHJ1ZTtcblx0ICBfJC5zZW5kX3B2X2NvdW50ID0gMDtcblx0ICAvLyBfJC5zdGF0dXMgPSBTVEFUVVM7XG5cdCAgLy8gXyQuc2NyaXB0X25hbWUgPSBhcGx1c19jb25maWcuZ2xvYmFsQ29uZmlnLnNjcmlwdF9uYW1lO1xuXHQgIF8kLnNwbSA9IHtcblx0ICAgIGRhdGE6IHt9XG5cdCAgfTtcblx0ICBfJC5tZXRhX2luZm8gPSBtZXRhSW5mby5xR2V0KCkgfHwge307XG5cdCAgYXBsdXMuZ2xvYmFsQ29uZmlnID0gYXBsdXNfY29uZmlnLmdsb2JhbENvbmZpZztcblx0XG5cdCAgZm9yICh2YXIgayBpbiBhcGx1c19jb25maWcubWV0YUluZm8pIHtcblx0ICAgIG1ldGFJbmZvLnNldE1ldGFJbmZvKGssIGFwbHVzX2NvbmZpZy5tZXRhSW5mb1trXSk7XG5cdCAgfVxuXHQgIGFwbHVzLl8kID0gXyQ7XG5cdFxuXHQgIGFwbHVzLmlzSW50ZXJuYXRpb25hbCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9O1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogNDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKipcblx0ICogcHJvamVjdCAtIGZpbGVwYXRoXG5cdCAqIOiOt+WPlumhtemdouS4iueahCA8bWV0YT4g5Lit5LiOIGFwbHVzIOaJk+eCueebuOWFs+eahOWAvFxuXHQgKlxuXHQgKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG5cdCAqXG5cdCAqIEF1dGhvcnM6XG5cdCAqICAg6LCL5aOrIDxxaW5nbGlhbmcuaHFsQGFsaWJhYmEtaW5jLmNvbT5cblx0ICovXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8vIHZhciB1dGlsRGFzaCA9IHJlcXVpcmUoJ0B1dGlscy91dGlsRGFzaCcpO1xuXHR2YXIgdXRpbFB1YnN1YiA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xuXHR2YXIgZm9ybWF0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMik7XG5cdHZhciB1dGlsR29sZGxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdC8vIHZhciBhcGx1c1N0YXRpYyA9IHJlcXVpcmUoJ0B1dGlscy9hcGx1c1N0YXRpYycpO1xuXHQvLyB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZShhcGx1c1N0YXRpYy5BUExVUyk7XG5cdFxuXHR2YXIgaW5mbyA9IHt9O1xuXHRcblx0dmFyIE9CSkVDVCA9ICdvYmplY3QnO1xuXHR2YXIgU1RSSU5HID0gJ3N0cmluZyc7XG5cdFxuXHQvKipcblx0ICogQHJldHVybnMge3t9fVxuXHQgKi9cblx0dmFyIGxhc3RfaW5mbztcblx0ZnVuY3Rpb24gZ2V0SW5mbygpIHtcblx0ICBsYXN0X2luZm8gPSBpbmZvIHx8IHt9O1xuXHQgIHJldHVybiBpbmZvO1xuXHR9O1xuXHRleHBvcnRzLmdldEluZm8gPSBnZXRJbmZvO1xuXHRcblx0Ly8g5aaC5p6c5pyJ57yT5a2Y77yM5L2/55So57yT5a2Y55qE5YC877yM5rKh5pyJ57yT5a2Y5YiZ5LuOIERPTSDkuK3or7vlj5Zcblx0ZnVuY3Rpb24gcUdldCAoKSB7XG5cdCAgcmV0dXJuIGxhc3RfaW5mbyB8fCBnZXRJbmZvKCk7XG5cdH07XG5cdGV4cG9ydHMucUdldCA9IHFHZXQ7XG5cdFxuXHQvKipcblx0ICog5Yqo5oCB6YWN572ubWV0YVxuXHQgKiDlrrnplJnmoKHpqoznp7vmpI3liLBhcGx1c+WPr+inhuWMluWfi+eCuemqjOivgeW3peWFt+WGhSAyMDE4LTAxLTEwIEDosIvlo6tcblx0ICog6K+m6KeB77yaaHR0cHM6Ly9sYXJrLmFsaXBheS5jb20vYXBsdXNqcy9wcm9qZWN0L3BlcmZvcm1hbmNlXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBrXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSB2XG5cdCAqL1xuXHRmdW5jdGlvbiBzZXRNZXRhSW5mbyAoaywgdikge1xuXHQgIGlmICghbGFzdF9pbmZvKSB7XG5cdCAgICBsYXN0X2luZm8gPSB7fTtcblx0ICB9XG5cdCAgbGFzdF9pbmZvW2tdID0gdjtcblx0ICByZXR1cm4gdHJ1ZTtcblx0fTtcblx0ZXhwb3J0cy5zZXRNZXRhSW5mbyA9IHNldE1ldGFJbmZvO1xuXHRcblx0LyoqXG5cdCAqIGdldCBtZXRhSW5mbyBieSBrZXlcblx0ICog5a656ZSZ5qCh6aqM56e75qSN5YiwYXBsdXPlj6/op4bljJbln4vngrnpqozor4Hlt6XlhbflhoUgMjAxOC0wMS0xMCBA6LCL5aOrXG5cdCAqIOivpuinge+8mmh0dHBzOi8vbGFyay5hbGlwYXkuY29tL2FwbHVzanMvcHJvamVjdC9wZXJmb3JtYW5jZVxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ31cblx0ICogQHJldHVybiB7T2JqZWN0fVxuXHQgKi9cblx0dmFyIGdldE1ldGFJbmZvID0gZnVuY3Rpb24oaykge1xuXHQgIGlmICghbGFzdF9pbmZvKSB7XG5cdCAgICBsYXN0X2luZm8gPSB7fTtcblx0ICB9XG5cdCAgcmV0dXJuIGxhc3RfaW5mb1trXSB8fCAnJztcblx0fTtcblx0ZXhwb3J0cy5nZXRNZXRhSW5mbyA9IGdldE1ldGFJbmZvO1xuXHRcblx0LyoqXG5cdCAqIFRvIGFwcGVuZCBgbWV0YWAgdGFnIGlmIHRoZXJlJ3Mgbm9uZSBhcGx1cyBtZXRhLlxuXHQgKiBPdGhlcndpc2UsIG1lcmdlIGNvbnRlbnQgYXR0cmlidXRlczpcblx0ICogIC0gYEFycmF5LnByb3RvdHlwZS5jb25jYXRgIGNhbGxlZCBvbiBBcnJheSB2YWx1ZXMuXG5cdCAqICAtIGBPYmplY3QuYXNzaWduYCBjYWxsZWQgb24gT2JqZWN0IHZhbHVlcy5cblx0ICogIEBwYXJhbSBrXG5cdCAqICBAcGFyYW0gdlxuXHQgKi9cblx0dmFyIGFwcGVuZE1ldGFJbmZvID0gZnVuY3Rpb24gKGssIHYpIHtcblx0ICAvLyBjb25zb2xlLmxvZyhrLCB2KTtcblx0ICBpZiAoayAmJiB2KSB7XG5cdCAgICAvLyBhcGx1cy11dHBhcmFtIHx8IGFwbHVzLW5leHRwYWdlLXV0cGFyYW0gfHwgYXBsdXMtZXhkYXRhXG5cdCAgICB2YXIgcHJvY2Vzc09iamVjdCA9IGZ1bmN0aW9uIChvbGRfdmFsdWUpIHtcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICB2YXIgbmV3X3ZhbHVlID0gdHlwZW9mIHYgPT09IFNUUklORyA/IEpTT04ucGFyc2UodikgOiB2O1xuXHQgICAgICAgIHRvU2V0TWV0YUluZm8oaywgT2JqZWN0LmFzc2lnbih7fSwgb2xkX3ZhbHVlLCBuZXdfdmFsdWUpKTtcblx0ICAgICAgfSBjYXRjaCAoZSkge31cblx0ICAgIH07XG5cdCAgICAvLyBhcGx1cy1hdXRvLWV4cCB8fCBhcGx1cy1hdXRvLWNsa1xuXHQgICAgdmFyIHByb2Nlc3NBcnJheSA9IGZ1bmN0aW9uIChvbGRfdmFsdWUpIHtcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICB2YXIgbmV3X3ZhbHVlID0gdHlwZW9mIHYgPT09IFNUUklORyA/IEpTT04ucGFyc2UodikgOiB2O1xuXHQgICAgICAgIHRvU2V0TWV0YUluZm8oaywgb2xkX3ZhbHVlLmNvbmNhdChuZXdfdmFsdWUpKTtcblx0ICAgICAgfSBjYXRjaCAoZSkge31cblx0ICAgIH07XG5cdFxuXHQgICAgdmFyIHByb2Nlc3NPYmogPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0ICAgICAgaWYgKHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xuXHQgICAgICAgIHByb2Nlc3NBcnJheSh2YWx1ZSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcHJvY2Vzc09iamVjdCh2YWx1ZSk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdCAgICB2YXIgdG9TZXRNZXRhSW5mbyA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG5cdCAgICAgIF9zZXRNZXRhSW5mbyhrZXksIHZhbHVlLCB7XG5cdCAgICAgICAgZnJvbTogJ2FwcGVuZE1ldGFJbmZvJ1xuXHQgICAgICB9KTtcblx0ICAgIH07XG5cdFxuXHQgICAgdmFyIGZsYWc7XG5cdCAgICB2YXIgX29sZFZhbHVlID0gZ2V0TWV0YUluZm8oayk7XG5cdCAgICBpZiAoayA9PT0gJ2FwbHVzLWV4aW5mbycpIHtcblx0ICAgICAgdG9TZXRNZXRhSW5mbyhrLCBPYmplY3QuYXNzaWduKHt9LCBfb2xkVmFsdWUsIGZvcm1hdC5wYXJhbTJvYmoodikpKTtcblx0ICAgICAgZmxhZyA9IHRydWU7XG5cdCAgICB9XG5cdCAgICBpZiAoayA9PT0gJ2FwbHVzLXBhZ2UtcHJvcGVydGllcycpIHtcblx0ICAgICAgdmFyIHBhZ2VQcm9wZXJ0aWVzID0gdjtcblx0ICAgICAgaWYgKF9vbGRWYWx1ZSkge1xuXHQgICAgICAgIGZvciAodmFyIF9rIGluIF9vbGRWYWx1ZSkge1xuXHQgICAgICAgICAgaWYgKHZbX2tdKSB7XG5cdCAgICAgICAgICAgIHBhZ2VQcm9wZXJ0aWVzW19rXSA9IE9iamVjdC5hc3NpZ24oe30sIF9vbGRWYWx1ZVtfa10sIHZbX2tdKTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHBhZ2VQcm9wZXJ0aWVzW19rXSA9IF9vbGRWYWx1ZVtfa107XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHRvU2V0TWV0YUluZm8oaywgcGFnZVByb3BlcnRpZXMpO1xuXHQgICAgICBmbGFnID0gdHJ1ZTtcblx0ICAgIH1cblx0ICAgIGlmIChfb2xkVmFsdWUpIHtcblx0ICAgICAgaWYgKHR5cGVvZiBfb2xkVmFsdWUgPT09IE9CSkVDVCkge1xuXHQgICAgICAgIHByb2Nlc3NPYmooX29sZFZhbHVlKTtcblx0ICAgICAgICBmbGFnID0gdHJ1ZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgdmFyIHRtcF9wYXJzZSA9IEpTT04ucGFyc2UoX29sZFZhbHVlKTtcblx0ICAgICAgICAgIGlmICh0eXBlb2YgdG1wX3BhcnNlID09PSBPQkpFQ1QpIHtcblx0ICAgICAgICAgICAgcHJvY2Vzc09iaih0bXBfcGFyc2UpO1xuXHQgICAgICAgICAgICBmbGFnID0gdHJ1ZTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICBpZiAoIWZsYWcpIHtcblx0ICAgICAgdG9TZXRNZXRhSW5mbyhrLCB2KTtcblx0ICAgIH1cblx0ICB9XG5cdH07XG5cdGV4cG9ydHMuYXBwZW5kTWV0YUluZm8gPSBhcHBlbmRNZXRhSW5mbztcblx0XG5cdHZhciBfc2V0TWV0YUluZm8gPSBmdW5jdGlvbiAoYXJnMSwgdmFsdWUpIHtcblx0ICB2YXIgaztcblx0ICB2YXIgdjtcblx0ICB2YXIgZGVmYXVsdE1vZGUgPSAnT1ZFUldSSVRFJztcblx0ICB2YXIgbW9kZSA9IGRlZmF1bHRNb2RlO1xuXHQgIGlmICh0eXBlb2YgYXJnMSA9PT0gJ29iamVjdCcpIHtcblx0ICAgIGsgPSBhcmcxLm1ldGFOYW1lO1xuXHQgICAgdiA9IGFyZzEubWV0YVZhbHVlO1xuXHQgICAgbW9kZSA9IGFyZzEubW9kZSB8fCBkZWZhdWx0TW9kZTtcblx0ICB9IGVsc2Uge1xuXHQgICAgayA9IGFyZzE7XG5cdCAgICB2ID0gdmFsdWU7XG5cdCAgfVxuXHQgIGlmIChtb2RlID09PSBkZWZhdWx0TW9kZSkge1xuXHQgICAgaWYgKHNldE1ldGFJbmZvKGssIHYpKSB7XG5cdCAgICAgIHZhciBfJCA9IHV0aWxHb2xkbG9nLmdldEdvbGRsb2dWYWwoJ18kJykgfHwge307XG5cdCAgICAgIF8kLm1ldGFfaW5mbyA9IHFHZXQoKTtcblx0ICAgICAgdmFyIHJzID0gdXRpbEdvbGRsb2cuc2V0R29sZGxvZ1ZhbCgnXyQnLCBfJCk7XG5cdFxuXHQgICAgICB2YXIgbXNncyA9IFsnc2V0TWV0YUluZm8nLCBrLCB2LCB7fV07XG5cdCAgICAgIHV0aWxQdWJzdWIuZG9QdWJNc2cobXNncyk7XG5cdCAgICAgIHV0aWxQdWJzdWIuZG9DYWNoZVB1YnMobXNncyk7XG5cdCAgICAgIHJldHVybiBycztcblx0ICAgIH0gXG5cdCAgfSBlbHNlIHtcblx0ICAgIHJldHVybiBhcHBlbmRNZXRhSW5mbyhrLCB2KTtcblx0ICB9XG5cdH07XG5cdGV4cG9ydHMuX3NldE1ldGFJbmZvID0gX3NldE1ldGFJbmZvO1xuXG4vKioqLyB9KSxcbi8qIDQxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyoqXG5cdCAqIHByb2plY3QgLSBmaWxlcGF0aFxuXHQgKiBkZXNjcmlwdGlvblxuXHQgKlxuXHQgKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG5cdCAqXG5cdCAqIEF1dGhvcnM6XG5cdCAqICAg6LCL5aOrIDxxaW5nbGlhbmcuaHFsQGFsaWJhYmEtaW5jLmNvbT5cblx0ICovXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciB1dGlsR29sZGxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgRk4gPSAnZnVuY3Rpb24nO1xuXHRcblx0dmFyIGdldFB1YnN1YiA9IGZ1bmN0aW9uKCkge1xuXHQgIHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKCdhcGx1cycpO1xuXHQgIHZhciBwdWJzdWIgPSBhcGx1cy5hcGx1c19wdWJzdWIgfHwge307XG5cdCAgdmFyIGZsYWcgPSB0eXBlb2YgcHVic3ViLnB1Ymxpc2ggPT09IEZOO1xuXHQgIHJldHVybiBmbGFnID8gcHVic3ViIDogJyc7XG5cdH07XG5cdFxuXHQvKipcblx0ICog5YiG5Y+R5raI5oGv5bel5YW35Ye95pWwXG5cdCAqIEBwYXJhbXMge0FycmF5fSBhcmdzIFtrZXksIG1zZ1ZhbHVlMSwgbXNnVmFsdWUyLCBtc2dWYWx1ZTMsIG1zZ1ZhbHVlTiwgLi4uXVxuXHQgKi9cblx0ZXhwb3J0cy5kb1B1Yk1zZyA9IGZ1bmN0aW9uKGFyZ3MpIHtcblx0ICB2YXIgcHVic3ViID0gZ2V0UHVic3ViKCk7XG5cdCAgaWYgKHB1YnN1YiAmJiB0eXBlb2YgcHVic3ViLnB1Ymxpc2ggPT09IEZOKSB7XG5cdCAgICBwdWJzdWIucHVibGlzaC5hcHBseShwdWJzdWIsIGFyZ3MpO1xuXHQgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBjYWNoZeW9k+WJjeeahOWIhuWPkeWHveaVsOeahOW3peWFt+WHveaVsFxuXHQgKiBAcGFyYW1zIHtBcnJheX0gYXJncyBba2V5LCBtc2dWYWx1ZTEsIG1zZ1ZhbHVlMiwgbXNnVmFsdWUzLCBtc2dWYWx1ZU4sIC4uLl1cblx0ICovXG5cdGV4cG9ydHMuZG9DYWNoZVB1YnMgPSBmdW5jdGlvbihhcmdzKSB7XG5cdCAgdmFyIHB1YnN1YiA9IGdldFB1YnN1YigpO1xuXHQgIGlmIChwdWJzdWIgJiYgdHlwZW9mIHB1YnN1Yi5jYWNoZVB1YnMgPT09IEZOKSB7XG5cdCAgICBwdWJzdWIuY2FjaGVQdWJzLmFwcGx5KHB1YnN1YiwgYXJncyk7XG5cdCAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIOiuoumYhea2iOaBr+W3peWFt+WHveaVsFxuXHQgKiBAcGFyYW1zIHtTdHJpbmd9IGtleVxuXHQgKiBAcGFyYW1zIHtGdW5jdGlvbn0gY2IoWyBtc2dWYWx1ZTEsIG1zZ1ZhbHVlMiwgbXNnVmFsdWUzLCBtc2dWYWx1ZU4sIC4uLl0pXG5cdCAqL1xuXHRleHBvcnRzLmRvU3ViTXNnID0gZnVuY3Rpb24oa2V5LCBjYikge1xuXHQgIHZhciBwdWJzdWIgPSBnZXRQdWJzdWIoKTtcblx0ICBpZiAocHVic3ViICYmIHR5cGVvZiBwdWJzdWIuc3Vic2NyaWJlID09PSBGTikge1xuXHQgICAgcHVic3ViLnN1YnNjcmliZShrZXksIGNiKTtcblx0ICB9XG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiA0MiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFxuXHRcblx0XG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuXHQgIHJldHVybiB7XG5cdCAgICBydW46IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXyg0MykoKTtcblx0ICAgIH1cblx0ICB9O1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogNDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgY29sbGVjdF9jbGsgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KTtcblx0Ly8gdmFyIG1pbmkgPSByZXF1aXJlKCdAdXRpbHMvbWluaScpO1xuXHR2YXIgdXRpbEdvbGRsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHR2YXIgYXBsdXNTdGF0aWMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgaXNBcnJheSA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xuXHR2YXIgY2xvbmVEZWVwID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0dmFyIHV0aWxEYXNoID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNyk7XG5cdHZhciBQYWdlTWFuYWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgLy8gdmFyIGN0eCA9IG1pbmkuZ2V0Q29udGV4dCgpO1xuXHQgIHZhciBhcGx1c0N0eCA9IHV0aWxHb2xkbG9nLmdldENvbnRleHQoKTtcblx0ICB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZSgnYXBsdXMnKTtcblx0ICB2YXIgY2xrX2NvbmZpZyA9IFtdO1xuXHRcblx0ICB2YXIgaW5pdENsayA9IGZ1bmN0aW9uIChvcHQpIHtcblx0ICAgIGNsa19jb25maWcgPSBhcGx1cy5nZXRNZXRhSW5mbygnYXBsdXMtYXV0by1jbGsnKTtcblx0ICAgIHZhciBzcG1CID0gUGFnZU1hbmFnZXIuZ2V0UGFnZUNvZGUoKTtcblx0ICAgIGlmIChpc0FycmF5KGNsa19jb25maWcpKSB7XG5cdCAgICAgIGNsa19jb25maWcuZm9yRWFjaChmdW5jdGlvbiAoY29uZmlnKSB7XG5cdCAgICAgICAgaWYgKCF1dGlsRGFzaC5pc1N0YXJ0V2l0aChjb25maWcuY3NzU2VsZWN0b3IsICcuJykpIHtcblx0ICAgICAgICAgIGNvbmZpZy5jc3NTZWxlY3RvciA9ICcuJyArIGNvbmZpZy5jc3NTZWxlY3Rvcjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKCFjb25maWcuc3BtQikge1xuXHQgICAgICAgICAgY29uZmlnLnNwbUIgPSBzcG1CO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgZWxlbWVudHMgPSBvcHQuY29udGV4dC5jcmVhdGVTZWxlY3RvclF1ZXJ5KCkuc2VsZWN0QWxsKGNvbmZpZy5jc3NTZWxlY3Rvcik7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBlbGVtZW50cy5maWVsZHMgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgIGVsZW1lbnRzLmZpZWxkcyh7XG5cdCAgICAgICAgICAgIGlkOiB0cnVlLFxuXHQgICAgICAgICAgICBkYXRhc2V0OiB0cnVlLFxuXHQgICAgICAgICAgICByZWN0OiB0cnVlLFxuXHQgICAgICAgICAgICBzY3JvbGxPZmZzZXQ6IHRydWVcblx0ICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICAgICAgY29sbGVjdF9jbGsud2F0Y2hfY2xpY2sob3B0LmV2ZW50IHx8IG9wdC5yZXMsIGNsb25lRGVlcChyZXMpLCBjb25maWcpO1xuXHQgICAgICAgICAgfSkuZXhlYygpOyBcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgLy8g5LiN5pSv5oyBZmllbGRz5pa55rOV55qE5Zy65pmv77yI5pSv5LuY5a6d5LiL77yM5pS555So5Z2Q5qCH77yJXG5cdCAgICAgICAgICBlbGVtZW50cy5ib3VuZGluZ0NsaWVudFJlY3QoKS5leGVjKGZ1bmN0aW9uIChyZXQpIHtcblx0ICAgICAgICAgICAgaWYgKHJldCAmJiByZXQubGVuZ3RoID4gMCAmJiByZXRbMF0pIHtcblx0ICAgICAgICAgICAgICBjb2xsZWN0X2Nsay53YXRjaF9jbGljayhvcHQuZXZlbnQsIGNsb25lRGVlcChyZXRbMF0pLCBjb25maWcpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH07XG5cdCAgXG5cdCAgYXBsdXNDdHguYXBsdXNfcXVldWUucHVzaCh7XG5cdCAgICBhY3Rpb246IGFwbHVzU3RhdGljLlNVQlNDUklCRSxcblx0ICAgIGFyZ3VtZW50czogWydhcGx1c1JlYWR5JywgZnVuY3Rpb24gKHN0YXR1cykge1xuXHQgICAgICBpZiAoc3RhdHVzID09PSAnY29tcGxldGUnKSB7XG5cdCAgICAgICAgY2xrX2NvbmZpZyA9IGFwbHVzLmdldE1ldGFJbmZvKCdhcGx1cy1hdXRvLWNsaycpO1xuXHQgICAgICB9XG5cdCAgICB9XVxuXHQgIH0pO1xuXHQgIC8vIGFwbHVzQ3R4LmFwbHVzX3F1ZXVlLnB1c2goe1xuXHQgIC8vICAgYWN0aW9uOiBhcGx1c1N0YXRpYy5TVUJTQ1JJQkUsXG5cdCAgLy8gICBhcmd1bWVudHM6IFsnb25TaG93JywgZnVuY3Rpb24gKCkge1xuXHQgIC8vICAgICAvLyBUT0RPXG5cdCAgLy8gICB9XVxuXHQgIC8vIH0pO1xuXHQgIC8vIGFwbHVzQ3R4LmFwbHVzX3F1ZXVlLnB1c2goe1xuXHQgIC8vICAgYWN0aW9uOiBhcGx1c1N0YXRpYy5TVUJTQ1JJQkUsXG5cdCAgLy8gICBhcmd1bWVudHM6IFsnb25IaWRlJywgZnVuY3Rpb24gKCkge1xuXHQgIC8vICAgICAvLyBUT0RPXG5cdCAgLy8gICB9XVxuXHQgIC8vIH0pO1xuXHRcblx0ICBhcGx1c0N0eC5hcGx1c19xdWV1ZS5wdXNoKHtcblx0ICAgIGFjdGlvbjogYXBsdXNTdGF0aWMuU1VCU0NSSUJFLFxuXHQgICAgYXJndW1lbnRzOiBbJ29uQXBsdXNDbGsnLCBmdW5jdGlvbiAob3B0KSB7XG5cdCAgICAgIGlmIChvcHQuc3RhdHVzID09PSAncmVhZHknKSB7XG5cdCAgICAgICAgaW5pdENsayhvcHQpO1xuXHQgICAgICB9XG5cdCAgICB9XVxuXHQgIH0pO1xuXHRcblx0ICAvLyBhcGx1cy5hcGx1c19wdWJzdWIuc3Vic2NyaWJlKCdvblVubG9hZCcsIGZ1bmN0aW9uIChvcHQpIHtcblx0ICAvLyAgIGlmIChvcHQuc3RhdHVzID09PSAncmVhZHknKSB7XG5cdCAgLy8gICAgIC8vIFRPRE9cblx0ICAvLyAgIH1cblx0ICAvLyB9KTtcblx0fTtcblxuLyoqKi8gfSksXG4vKiA0NCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgY2xvbmVEZWVwID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0dmFyIHV0aWxHb2xkbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0dmFyIHdhdGNoVHJhY2tlciA9IF9fd2VicGFja19yZXF1aXJlX18oNDUpO1xuXHR2YXIgZ2V0SGFzaEtleSA9IF9fd2VicGFja19yZXF1aXJlX18oNDYpO1xuXHR2YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXHRcblx0LyoqXG5cdCAqIOaKiuiHquWKqOabneWFieebuOWQjGNzc1NlbGVjdG9y55qE55u45ZCM5L2N572u55qEZGF0YXNldOaLv+WIsOe7meiHquWKqOeCueWHu+S9v+eUqFxuXHQgKiDlm6DkuLrlnKjmlK/ku5jlrp3njq/looPkuIvoh6rliqjngrnlh7vkuovku7bmi7/kuI3liLBkYXRhc2V0XG5cdCAqL1xuXHRmdW5jdGlvbiBnZXREYXRhU2V0IChjb25maWcsIGluZGV4KSB7XG5cdCAgdmFyIF9hcGx1c19hdXRvX2V4cCA9IHV0aWxHb2xkbG9nLmdldEdvbGRsb2dWYWwoJ19hcGx1c19hdXRvX2V4cCcpIHx8IHt9O1xuXHQgIHZhciBfaGFzaE1hcCA9IF9hcGx1c19hdXRvX2V4cC5oYXNoTWFwIHx8IHt9O1xuXHQgIFxuXHQgIGZvciAodmFyIGxvZ2tleSBpbiBfaGFzaE1hcCkge1xuXHQgICAgdmFyIGVsZV9zID0gX2hhc2hNYXBbbG9na2V5XSB8fCBbXTtcblx0XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZV9zLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIHZhciB2ID0gZWxlX3NbaV0gfHwge307XG5cdCAgICAgIHZhciBleHBDb25maWcgPSB2LmV4cENvbmZpZyB8fCB7fTtcblx0ICAgICAgLy8g5pud5YWJY3NzU2VsZWN0b3LkuI7ngrnlh7vnmoRjc3NTZWxlY3RvcuebuOWQjOaJjeiupOS4uuaYr+WQjOexu+Wei+WFg+e0oFxuXHQgICAgICBpZiAoY29uZmlnLmNzc1NlbGVjdG9yID09PSBleHBDb25maWcuY3NzU2VsZWN0b3IpIHtcblx0ICAgICAgICB2YXIgaGFzaCA9IGdldEhhc2hLZXkoe1xuXHQgICAgICAgICAgaW5kZXg6IGluZGV4XG5cdCAgICAgICAgfSwgZXhwQ29uZmlnKTtcblx0ICAgICAgICBcblx0ICAgICAgICBpZiAoaGFzaCA9PT0gdi5oYXNoX3ZhbHVlKSB7XG5cdCAgICAgICAgICByZXR1cm4gY2xvbmVEZWVwKHYuZGF0YXNldCk7XG5cdCAgICAgICAgfSAgXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdFxuXHR9XG5cdFxuXHRleHBvcnRzLndhdGNoX2NsaWNrID0gZnVuY3Rpb24gKGNsa0luZm8sIGVsZW1lbnRzLCBjb25maWcpIHtcblx0ICB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZSgnYXBsdXMnKTtcblx0ICAvLyB2YXIgY3R4ID0gbWluaS5nZXRDb250ZXh0KCk7XG5cdCAgZm9yICh2YXIgaiA9IDA7IGogPCBlbGVtZW50cy5sZW5ndGg7IGorKykge1xuXHQgICAgdmFyIF92YWx1ZSA9IGVsZW1lbnRzW2pdO1xuXHQgICAgaWYgKGlzSW5BcmVhKGNsa0luZm8sIF92YWx1ZSkpIHtcblx0ICAgICAgdmFyIGluZGV4ID0gaiArIDE7XG5cdCAgICAgIHZhciBkYXRhc2V0ID0gX3ZhbHVlLmRhdGFzZXQgfHwgZ2V0RGF0YVNldChjb25maWcsIGluZGV4KSB8fCB7fTtcblx0ICAgICAgdmFyIHNwbURhdGEgPSB7fTtcblx0ICAgICAgdmFyIF9zcG1EYXRhID0gdXRpbC5qc29uTGlrZVN0cjJKU09OKGRhdGFzZXQudHJhY2tlclBhcmFtcykgfHwge307XG5cdCAgICAgIGlmIChhcGx1cy5nbG9iYWxDb25maWcuaXNBbGkpIHtcblx0ICAgICAgICAvLyDlj5ZkYXRhLXRyYWNrZXIg5oiWIGNzc1NlbGVjdG9yXG5cdCAgICAgICAgdmFyIHNwbUMgPSBkYXRhc2V0LnRyYWNrZXIgfHwgY29uZmlnLmNzc1NlbGVjdG9yLnJlcGxhY2UoL1xcJ3xcXFwifFxcO3xcXDp8XFw9fFxcW3xcXF18XFwufFxcI3xcXC18XFwvfFxcfC9nLCAnJyk7IC8vIOWOu+aOieeJueauiuWtl+esplxuXHQgICAgICAgIHNwbURhdGEgPSBhcGx1cy5fJC5zcG0uZGF0YSB8fCB7fTtcblx0ICAgICAgICBzcG1EYXRhLmMgPSBzcG1DO1xuXHQgICAgICAgIGlmIChzcG1EYXRhLmMgJiYgc3BtRGF0YS5jICE9PSAnMCcpIHtcblx0ICAgICAgICAgIHZhciBzcG1EID0gJ2QnICsgaW5kZXg7XG5cdCAgICAgICAgICBzcG1EYXRhLmQgPSBzcG1EO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBzcG1EYXRhLmIgPSBjb25maWcuc3BtQjtcblx0XG5cdCAgICAgICAgaWYgKGNvbmZpZy5zcG1DKSB7XG5cdCAgICAgICAgICBzcG1EYXRhLmMgPSBjb25maWcuc3BtQztcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgc3BtRGF0YS5jID0gX3NwbURhdGEuc3BtQyA/IGVuY29kZVVSSUNvbXBvbmVudChfc3BtRGF0YS5zcG1DKSA6ICcnO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKGNvbmZpZy5zcG1EKSB7XG5cdCAgICAgICAgICBzcG1EYXRhLmQgPSBpbmRleCA/IGNvbmZpZy5zcG1EICsgJ18nICsgaW5kZXggOiBjb25maWcuc3BtRDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgc3BtRGF0YS5kID0gX3NwbURhdGEuc3BtRCA/IGVuY29kZVVSSUNvbXBvbmVudChfc3BtRGF0YS5zcG1EKSA6ICcnO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgIH1cblx0ICAgICAgd2F0Y2hUcmFja2VyLnB1c2hFdmVudCgnQ0xLJywgZGF0YXNldCwgY29uZmlnLCBfdmFsdWUsIHNwbURhdGEpO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gaXNJbkFyZWEgKGNsa0luZm8sIGVsZUluZm8pIHtcblx0ICAgIHZhciBjaGFuZ2VkVG91Y2ggPSB7fTtcblx0ICAgIGlmIChjbGtJbmZvKSB7XG5cdCAgICAgIGlmIChjbGtJbmZvLmNoYW5nZWRUb3VjaGVzKSB7XG5cdCAgICAgICAgLy8g5b6u5L+hXG5cdCAgICAgICAgY2hhbmdlZFRvdWNoID0gY2xrSW5mby5jaGFuZ2VkVG91Y2hlc1swXTtcblx0ICAgICAgfSBlbHNlIGlmIChjbGtJbmZvLmRldGFpbCkge1xuXHQgICAgICAgIC8vIOaUr+S7mOWunVxuXHQgICAgICAgIGNoYW5nZWRUb3VjaCA9IGNsa0luZm8uZGV0YWlsO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICB2YXIgeCA9IGNoYW5nZWRUb3VjaC5jbGllbnRYIHx8IDA7XG5cdCAgICB2YXIgeSA9IGNoYW5nZWRUb3VjaC5jbGllbnRZIHx8IDA7XG5cdFxuXHQgICAgdmFyIF90b3AgPSBlbGVJbmZvLnRvcDtcblx0ICAgIHZhciBfYm90dG9tID0gZWxlSW5mby5ib3R0b207XG5cdCAgICBpZiAoZWxlSW5mby5zY3JvbGxUb3ApIHtcblx0ICAgICAgX3RvcCArPSBlbGVJbmZvLnNjcm9sbFRvcDtcblx0ICAgICAgX2JvdHRvbSArPSBlbGVJbmZvLnNjcm9sbFRvcDtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoZWxlSW5mby5sZWZ0IDwgeCAmJiB4IDwgZWxlSW5mby5yaWdodCAmJiBfdG9wIDwgeSAmJiB5IDwgX2JvdHRvbSkge1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICB9XG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiA0NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFxuXHR2YXIgdXRpbEdvbGRsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHR2YXIgZm9ybWF0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMik7XG5cdHZhciBjbG9uZURlZXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHR2YXIgaXNBcnJheSA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xuXHR2YXIgQmFzZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpO1xuXHRcblx0dmFyIHJlY29yZEV4cE1hcFF1ZXVlID0ge307XG5cdHZhciBERUZBVUxUX1BLR19TSVpFID0gMztcblx0dmFyIFBPU1QgPSAnUE9TVCc7XG5cdHZhciBFWFAgPSAnRVhQJztcblx0XG5cdC8qKlxuXHQgKiDojrflj5bnlKjmiLfms6jlhaXnmoTln4vngrnkv6Hmga/vvJpodHRwczovL3l1cXVlLmFudGZpbi1pbmMuY29tL2FwbHVzanMvZG9jcy9tZXRhI2I3ZDhjY2M3XG5cdCAqIEBwYXJhbXMge0Z1bmN0aW9ufSB1c2VyRm5OYW1lXG5cdCAqIEBwYXJhbXMge09iamVjdH0gZWxlbWVudFxuXHQgKiBAcGFyYW1zIHtPYmplY3R9IHNlbGVjdG9yXG5cdCAqXG5cdCAqIEByZXR1cm4ge09iamVjdH1cblx0ICovXG5cdGZ1bmN0aW9uIGdldFVzZXJJbmZvICh1c2VyRm5OYW1lLCBlbGVtZW50LCBzZWxlY3Rvcikge1xuXHQgIHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKCdhcGx1cycpIHx8IHt9O1xuXHQgIHZhciBnZXRNZXRhSW5mbyA9IGFwbHVzLmdldE1ldGFJbmZvO1xuXHQgIGlmICh0eXBlb2YgZ2V0TWV0YUluZm8gPT09ICdmdW5jdGlvbicpIHtcblx0ICAgIHZhciB1c2VyRm4gPSBnZXRNZXRhSW5mbyh1c2VyRm5OYW1lKTtcblx0ICAgIHZhciB1c2VySW5mbyA9IHt9O1xuXHQgICAgaWYgKHR5cGVvZiB1c2VyRm4gPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgdXNlckluZm8gPSB1c2VyRm4oZWxlbWVudCA/IGNsb25lRGVlcChlbGVtZW50KSA6IHt9LCBzZWxlY3Rvcik7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZm9ybWF0LnBhcmFtMm9iaih1c2VySW5mbyk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHJldHVybiB7fTtcblx0ICB9XG5cdH1cblx0XG5cdC8vIOiBmuWQiOS4iuaKpeabneWFieaXpeW/l1xuXHR2YXIgRXZlbnRBcnJheSA9IEJhc2UuZXh0ZW5kKHtcblx0ICBwdXNoOiBmdW5jdGlvbiAodmFsdWUpIHtcblx0ICAgIHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKCdhcGx1cycpO1xuXHQgICAgdGhpcy5idWZmZXIucHVzaCh2YWx1ZSk7XG5cdCAgICB3aGlsZSAodGhpcy5idWZmZXIubGVuZ3RoID49IHRoaXMucGtnU2l6ZSkge1xuXHQgICAgICB2YXIgZ29rZXlzID0gdGhpcy5idWZmZXIuc3BsaWNlKDAsIHRoaXMucGtnU2l6ZSk7XG5cdCAgICAgIGlmIChnb2tleXMubGVuZ3RoID4gMCkge1xuXHQgICAgICAgIGFwbHVzLmNvbWJpbmVSZWNvcmQodGhpcy5sb2drZXksIEVYUCwgZ29rZXlzLCB0aGlzLm1ldGhvZCk7XG5cdCAgICAgIH1cblx0ICAgIH0gXG5cdCAgfVxuXHR9KTtcblx0XG5cdGZ1bmN0aW9uIGdldEZpeGVkTnVtYmVyICh2YWx1ZSwgbGVuZ3RoKSB7XG5cdCAgdmFyIF9yZXN1bHQgPSAnJztcblx0ICB0cnkge1xuXHQgICAgdmFyIF9udW0gPSBuZXcgTnVtYmVyKHZhbHVlKTtcblx0ICAgIF9yZXN1bHQgPSBwYXJzZUZsb2F0KF9udW0udG9GaXhlZChsZW5ndGgpKTtcblx0ICB9IGNhdGNoIChlKSB7XG5cdCAgICBfcmVzdWx0ID0gdmFsdWU7XG5cdCAgfVxuXHQgIHJldHVybiBfcmVzdWx0O1xuXHR9XG5cdFxuXHRleHBvcnRzLnB1c2hFdmVudCA9IGZ1bmN0aW9uIChnbWtleSwgZGF0YSwgY29uZmlnLCBlbGVtZW50LCBzcG1EYXRhKSB7XG5cdCAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoJ2FwbHVzJyk7XG5cdCAgdmFyIHByb3BzID0gY29uZmlnLnByb3BzIHx8IFtdO1xuXHQgIHZhciBwYXJhbXMgPSB7fTtcblx0ICB2YXIgZGF0YXNldCA9IHt9O1xuXHRcblx0ICBpZiAoZGF0YSkge1xuXHQgICAgZm9yICh2YXIgZGF0YWtleSBpbiBkYXRhKSB7XG5cdCAgICAgIGRhdGFzZXRbZGF0YWtleS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL15kYXRhLS8sICcnKS5yZXBsYWNlKC8tL2csICcnKV0gPSBkYXRhW2RhdGFrZXldO1xuXHQgICAgfSAgXG5cdCAgfSAgXG5cdCAgXG5cdCAgaWYgKHByb3BzICYmIGlzQXJyYXkocHJvcHMpKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIHZhciBrZXkgPSBwcm9wc1tpXS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL15kYXRhLS8sICcnKS5yZXBsYWNlKC8tL2csICcnKTtcblx0ICAgICAgcGFyYW1zW3Byb3BzW2ldXSA9IGRhdGFzZXRba2V5XTtcblx0ICAgIH1cblx0ICB9IGVsc2Uge1xuXHQgICAgcGFyYW1zID0gT2JqZWN0LmFzc2lnbih7fSwgZGF0YXNldCk7XG5cdCAgfVxuXHQgIFxuXHQgIGlmIChlbGVtZW50ICYmIGdta2V5ID09PSBFWFApIHtcblx0ICAgIHBhcmFtcyA9IE9iamVjdC5hc3NpZ24oe30sIHBhcmFtcywge1xuXHQgICAgICAnX3cnOiBnZXRGaXhlZE51bWJlcihlbGVtZW50LndpZHRoLCAyKSxcblx0ICAgICAgJ19oJzogZ2V0Rml4ZWROdW1iZXIoZWxlbWVudC5oZWlnaHQsIDIpLFxuXHQgICAgICAnX3gnOiBnZXRGaXhlZE51bWJlcihlbGVtZW50LngsIDIpLFxuXHQgICAgICAnX3knOiBnZXRGaXhlZE51bWJlcihlbGVtZW50LnksIDIpLFxuXHQgICAgICAvLyAnX2hhc2gnOiBlbGVtZW50Lmhhc2hfdmFsdWUgfHwgJycsXG5cdCAgICAgICdfcmF0ZSc6IGdldEZpeGVkTnVtYmVyKGVsZW1lbnQudmlld2FiaWxpdHlSYXRlIHx8IGVsZW1lbnQuaW50ZXJzZWN0aW9uUmF0aW8sIDIpLFxuXHQgICAgICAnX3ZpZXdhYmlsaXR5JzogJ2ludGVyc2VjdGlvbidcblx0ICAgIH0pO1xuXHQgIH0gIFxuXHQgIGlmIChjb25maWcuX3Z0KSB7XG5cdCAgICBwYXJhbXMuX3Z0ID0gY29uZmlnLl92dDtcblx0ICB9XG5cdCAgdmFyIHVzZXJGbk5hbWUgPSBnbWtleSA9PT0gRVhQID8gJ2FwbHVzLWF1dG8tZXhwLXVzZXJmbicgOiAnYXBsdXMtYXV0by1jbGstdXNlcmZuJztcblx0ICB2YXIgdXNlckluZm8gPSBnZXRVc2VySW5mbyh1c2VyRm5OYW1lLCBlbGVtZW50LCBjb25maWcuY3NzU2VsZWN0b3IpO1xuXHRcblx0ICBpZiAoIXVzZXJJbmZvLnNwbSkge1xuXHQgICAgaWYgKGFwbHVzLmdsb2JhbENvbmZpZy5pc0FsaSAmJiBzcG1EYXRhICYmIHNwbURhdGEuYSAmJiBzcG1EYXRhLmIpIHtcblx0ICAgICAgdXNlckluZm8uc3BtID0gW3NwbURhdGEuYSwgc3BtRGF0YS5iLCBzcG1EYXRhLmMgfHwgJzAnLCBzcG1EYXRhLmQgfHwgJzAnXS5qb2luKCcuJyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB1c2VySW5mby5zcG0gPSBzcG1EYXRhICYmIHNwbURhdGEuYiA/IHNwbURhdGEgOiB1bmRlZmluZWQ7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICB2YXIgZ29rZXkgPSB7fTtcblx0XG5cdCAgdmFyIHRyYWNrZXJQYXJhbXMgPSBkYXRhLnRyYWNrZXJQYXJhbXMgfHwgZGF0YVsndHJhY2tlci1wYXJhbXMnXTtcblx0ICBpZiAodHJhY2tlclBhcmFtcykge1xuXHQgICAgdHJ5IHtcblx0ICAgICAgdmFyIF90cmFja2VyUGFyYW1zID0gSlNPTi5wYXJzZSh0cmFja2VyUGFyYW1zKTtcblx0ICAgICAgcGFyYW1zID0gT2JqZWN0LmFzc2lnbihwYXJhbXMsIF90cmFja2VyUGFyYW1zKTtcblx0ICAgICAgZGVsZXRlIHBhcmFtcy50cmFja2VyUGFyYW1zO1xuXHQgICAgICBkZWxldGUgcGFyYW1zLnRyYWNrZXJwYXJhbXM7XG5cdCAgICB9IGNhdGNoIChlKSB7fVxuXHQgIH1cblx0ICBcblx0ICBpZiAoZ21rZXkgPT09ICdFWFAnICYmIGFwbHVzLmdsb2JhbENvbmZpZy5pc0FsaSAmJiByZWNvcmRFeHBNYXBRdWV1ZVtjb25maWcubG9na2V5XSkge1xuXHQgICAgZ29rZXkgPSBPYmplY3QuYXNzaWduKHt9LCB7XG5cdCAgICAgIGV4YXJnczogcGFyYW1zXG5cdCAgICB9LCB1c2VySW5mbyk7XG5cdCAgICByZWNvcmRFeHBNYXBRdWV1ZVtjb25maWcubG9na2V5XS5wdXNoKGdva2V5KTtcblx0ICB9IGVsc2Uge1xuXHQgICAgZ29rZXkgPSBPYmplY3QuYXNzaWduKHt9LCBwYXJhbXMsIHVzZXJJbmZvLCBjb25maWcuY3VzdG9tQXJncyk7XG5cdCAgICBhcGx1cy5yZWNvcmQoY29uZmlnLmxvZ2tleSwgZ21rZXksIGdva2V5LCBQT1NUKTsgIFxuXHQgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBAcGFyYW1zIHtBcnJheU9iamVjdH0gY29uZmlnIDogW3tcblx0ICogICAgJ3Bvc2l0aW9uU2VsZWN0b3InOiAnLnNjcm9sbC12aWV3Jyxcblx0ICogICAgJ2Nzc1NlbGVjdG9yJzonLmJhbGwnLFxuXHQgKiAgICAnbG9na2V5JzonL3Rlc3QuYmFsbC4xJyxcblx0ICogICAgJ3Byb3BzJzogWydkYXRhLXRyYWNrZXInXSxcblx0ICogIH0sIHtcblx0ICogICAgJ2Nzc1NlbGVjdG9yJzonLm15YnV0dG9uJyxcblx0ICogICAgJ2xvZ2tleSc6Jy90ZXN0Lm15YnV0dG9uLjEnLFxuXHQgKiAgICAncHJvcHMnOiBbJ2RhdGEtdHJhY2tlciddLFxuXHQgKiAgfV1cblx0ICovXG5cdGV4cG9ydHMud2F0Y2hSZWNvcmQgPSBmdW5jdGlvbiAoY29uZmlnKSB7XG5cdCAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoJ2FwbHVzJyk7XG5cdCAgXG5cdCAgaWYgKGFwbHVzLmdsb2JhbENvbmZpZy5pc0FsaSAmJiBjb25maWcpIHtcblx0ICAgIGNvbmZpZy5mb3JFYWNoKGZ1bmN0aW9uIChjZmcpIHtcblx0ICAgICAgaWYgKCFyZWNvcmRFeHBNYXBRdWV1ZS5oYXNPd25Qcm9wZXJ0eShjZmcubG9na2V5KSkge1xuXHQgICAgICAgIHJlY29yZEV4cE1hcFF1ZXVlW2NmZy5sb2drZXldID0gRXZlbnRBcnJheS5jcmVhdGUoe1xuXHQgICAgICAgICAgbGVuZ3RoOiAwLFxuXHQgICAgICAgICAgYnVmZmVyOiBbXSxcblx0ICAgICAgICAgIGxvZ2tleTogY2ZnLmxvZ2tleSxcblx0ICAgICAgICAgIHBrZ1NpemU6IHR5cGVvZiBjZmcucGtnU2l6ZSA9PT0gJ251bWJlcicgJiYgY2ZnLnBrZ1NpemUgfHwgREVGQVVMVF9QS0dfU0laRSxcblx0ICAgICAgICAgIG1ldGhvZDogY2ZnLm1ldGhvZCB8fCBQT1NUXG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0gXG5cdCAgICB9KTtcblx0ICB9XG5cdCAgXG5cdH07XG5cdFxuXHRleHBvcnRzLmNsZWFyUmVjb3JkID0gZnVuY3Rpb24gKCkge1xuXHQgIHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKCdhcGx1cycpO1xuXHQgIGlmIChhcGx1cy5nbG9iYWxDb25maWcuaXNBbGkpIHtcblx0ICAgIGZvciAodmFyIGxvZ2tleSBpbiByZWNvcmRFeHBNYXBRdWV1ZSkge1xuXHQgICAgICB2YXIgZ29rZXlzID0gcmVjb3JkRXhwTWFwUXVldWVbbG9na2V5XS5idWZmZXI7XG5cdCAgICAgIGlmIChnb2tleXMubGVuZ3RoID4gMCkge1xuXHQgICAgICAgIGFwbHVzLmNvbWJpbmVSZWNvcmQobG9na2V5LCBFWFAsIGdva2V5cywgUE9TVCk7XG5cdCAgICAgICAgcmVjb3JkRXhwTWFwUXVldWVbbG9na2V5XS5idWZmZXIgPSBbXTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0fTtcblx0XG5cblxuLyoqKi8gfSksXG4vKiA0NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qKlxuXHQgKiDmoLnmja7lhYPntKDlsZ7mgKflkozln4vngrnphY3nva7nsr7noa7ojrflj5bkuIDkuKrlhYPntKDnmoRoYXNoS2V5XG5cdCAqIEBwYXJhbXMge09iamVjdH0gZWxlbWVudEF0dHIge1xuXHQgKiAgIGlkXG5cdCAqIH1cblx0ICogQHBhcmFtcyB7T2JqZWN0fSBjb25maWcge1xuXHQgKiAgIGxvZ2tleSwgY3NzU2VsZWN0b3IsIHBvc2l0aW9uU2VsZWN0b3Jcblx0ICogfVxuXHQgKiBAcmV0dXJuIHtTdHJpbmd9IGhhc2hLZXlcblx0ICovXG5cdFxuXHQvLyBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChlbGVtZW50QXR0ciwgY29uZmlnKSB7XG5cdC8vICAgdmFyIGhhc2hLZXkgPSBbXG5cdC8vICAgICBjb25maWcubG9na2V5LFxuXHQvLyAgICAgY29uZmlnLmNzc1NlbGVjdG9yLFxuXHQvLyAgICAgY29uZmlnLnBvc2l0aW9uU2VsZWN0b3IsXG5cdC8vICAgICBlbGVtZW50QXR0ci5pbmRleFxuXHQvLyAgIF0uam9pbignXycpO1xuXHQvLyAgIHJldHVybiBoYXNoS2V5O1xuXHQvLyB9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZWxlbWVudEF0dHIsIGNvbmZpZykge1xuXHQgIHZhciBoYXNoS2V5ID0gW1xuXHQgICAgY29uZmlnLmxvZ2tleSxcblx0ICAgIGNvbmZpZy5jc3NTZWxlY3Rvcixcblx0ICAgIGNvbmZpZy5wb3NpdGlvblNlbGVjdG9yLFxuXHQgICAgLy8gZWxlbWVudEF0dHIuaW5kZXhcblx0ICBdO1xuXHQgIFxuXHQgIGlmIChlbGVtZW50QXR0ci5pZCkge1xuXHQgICAgaGFzaEtleS5wdXNoKGVsZW1lbnRBdHRyLmlkKTtcblx0ICB9XG5cdCAgaWYgKGVsZW1lbnRBdHRyLmRhdGFzZXQpIHtcblx0ICAgIGhhc2hLZXkucHVzaChKU09OLnN0cmluZ2lmeShlbGVtZW50QXR0ci5kYXRhc2V0KSk7XG5cdCAgfVxuXHQgIGhhc2hLZXkgPSBoYXNoS2V5LmpvaW4oJ18nKTtcblx0ICByZXR1cm4gaGFzaEtleTtcblx0fTtcblxuLyoqKi8gfSksXG4vKiA0NyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFxuXHRcblx0XG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuXHQgIHJldHVybiB7XG5cdCAgICBydW46IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXyg0OCkoKTtcblx0ICAgIH1cblx0ICB9O1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogNDggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgdXRpbEdvbGRsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHR2YXIgY29sbGVjdF9leHAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KTtcblx0dmFyIGNvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oNTApO1xuXHR2YXIgYXBsdXNTdGF0aWMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgbWluaSA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHQvLyDnlKjkuo7nm5HlkKxcblx0dmFyIFBBR0VfREFUQV9NQVAgPSB7fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuXHQgIHZhciBjdHggPSB1dGlsR29sZGxvZy5nZXRDb250ZXh0KCk7XG5cdCAgdmFyIGlzU3RhcnQgPSAwO1xuXHQgIHZhciBpc0ZpcnN0VG91Y2ggPSAwO1xuXHQgIHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKCdhcGx1cycpO1xuXHQgIGlmIChhcGx1cy5fYXBsdXNfYXV0b19leHApIHtcblx0ICAgIHJldHVybjtcblx0ICB9IGVsc2Uge1xuXHQgICAgYXBsdXMuX2FwbHVzX2F1dG9fZXhwID0ge1xuXHQgICAgICBoYXNoTWFwOiB7fVxuXHQgICAgfTtcblx0ICB9XG5cdFxuXHQgIHZhciBfY29uZmlnID0gW107XG5cdFxuXHQgIGZ1bmN0aW9uIHdhdGNoTWV0YUluZm8oY29udGV4dCwgaXNGaXJzdCwgd2F0Y2hUeXBlKSB7XG5cdCAgICB2YXIgaGFuZGxlck1ldGFJbmZvID0gZnVuY3Rpb24gKG1ldGFLZXksIG1ldGFWYWx1ZSkgeyAgXG5cdCAgICAgIGlmIChtZXRhS2V5ID09PSAnYXBsdXMtYXV0by1leHAnKSB7XG5cdCAgICAgICAgdmFyIF9jb25maWcyID0gY29uZmlnLmdldEF1dG9FeHBDb25maWcobWV0YVZhbHVlKTtcblx0ICAgICAgICBpZiAoSlNPTi5zdHJpbmdpZnkoX2NvbmZpZzIpID09PSBKU09OLnN0cmluZ2lmeShfY29uZmlnKSkge1xuXHQgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBfY29uZmlnID0gX2NvbmZpZzI7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChtZXRhVmFsdWUgJiYgX2NvbmZpZyAmJiBfY29uZmlnLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgIGNvbGxlY3RfZXhwLndhdGNoX2V4cG9zdXJlKGNvbnRleHQsIF9jb25maWcsIGlzRmlyc3QpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfTtcblx0ICAgIGN0eC5hcGx1c19xdWV1ZS5wdXNoKHtcblx0ICAgICAgYWN0aW9uOiB3YXRjaFR5cGUsIC8vIGFwbHVzU3RhdGljLlNVQlNDUklCRSxcblx0ICAgICAgYXJndW1lbnRzOiBbJ3NldE1ldGFJbmZvJywgaGFuZGxlck1ldGFJbmZvXVxuXHQgICAgfSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBpbml0RXhwIChjb250ZXh0LCBpc0ZpcnN0KSB7XG5cdCAgICBfY29uZmlnID0gYXBsdXMuZ2V0TWV0YUluZm8oJ2FwbHVzLWF1dG8tZXhwJyk7XG5cdCAgICAvLyBUYXJv5qGG5p625Z+65LqO6L+Q6KGM5pe277yM6Ieq5Yqo5pud5YWJ5Lya5Ye6546w6I635Y+W5LiN5Yiw5pud5YWJ5YWD57Sg55qE5oOF5Ya1XG5cdCAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHQgICAgICBjb2xsZWN0X2V4cC53YXRjaF9leHBvc3VyZShjb250ZXh0LCBfY29uZmlnLCBpc0ZpcnN0KTtcblx0ICAgIH0sIDApO1xuXHQgIH1cblx0XG5cdCAgY3R4LmFwbHVzX3F1ZXVlLnB1c2goe1xuXHQgICAgYWN0aW9uOiBhcGx1c1N0YXRpYy5TVUJTQ1JJQkUsXG5cdCAgICBhcmd1bWVudHM6IFsnb25TaG93JywgZnVuY3Rpb24gKG9wdCkge1xuXHQgICAgICBpZiAob3B0LnN0YXR1cyA9PT0gJ3JlYWR5Jykge1xuXHQgICAgICAgIHdhdGNoTWV0YUluZm8ob3B0LmNvbnRleHQsIDEsIGFwbHVzU3RhdGljLlNVQlNDUklCRSk7XG5cdCAgICAgICAgaWYgKGlzU3RhcnQgPT09IDApIHtcblx0ICAgICAgICAgIGluaXRFeHAob3B0LmNvbnRleHQsIDEpO1xuXHQgICAgICAgICAgaXNTdGFydCA9IDE7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGluaXRFeHAob3B0LmNvbnRleHQsIDApO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgdmFyIF9jdXJyZW50UGFnZSA9IG1pbmkuZ2V0Q3VycmVudFBhZ2UoKTtcblx0ICAgICAgICAgIHZhciBfcGF0aCA9IF9jdXJyZW50UGFnZS5yb3V0ZSB8fCBfY3VycmVudFBhZ2UuaXM7XG5cdCAgICAgICAgICBQQUdFX0RBVEFfTUFQW19wYXRoXSA9IF9wYXRoOyAvLyBKU09OLnN0cmluZ2lmeShfY3VycmVudFBhZ2UuZGF0YSk7XG5cdCAgICAgICAgfSBjYXRjaCAoZSkge31cblx0ICAgICAgfVxuXHQgICAgfV1cblx0ICB9KTtcblx0XG5cdCAgZnVuY3Rpb24gcmVzZXRBdXRvRXhwIChvcHQpIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgIHZhciBfY3VycmVudFBhZ2UgPSBtaW5pLmdldEN1cnJlbnRQYWdlKCk7XG5cdCAgICAgIHZhciBfcGF0aCA9IF9jdXJyZW50UGFnZS5yb3V0ZSB8fCBfY3VycmVudFBhZ2UuaXM7XG5cdCAgICAgIHZhciBfZGF0YSA9IFBBR0VfREFUQV9NQVBbX3BhdGhdO1xuXHQgICAgICBcblx0ICAgICAgdmFyIF9jdXJyZW50RGF0YSA9IEpTT04uc3RyaW5naWZ5KG9wdC5kYXRhKTtcblx0ICAgICAgaWYgKF9kYXRhICE9PSBfY3VycmVudERhdGEpIHtcblx0ICAgICAgICBQQUdFX0RBVEFfTUFQW19wYXRoXSA9IF9jdXJyZW50RGF0YTtcblx0ICAgICAgICBpbml0RXhwKG9wdC5jb250ZXh0LCAwKTtcblx0ICAgICAgfSAgXG5cdCAgICB9IGNhdGNoIChlKSB7fVxuXHQgIH1cblx0XG5cdCAgY3R4LmFwbHVzX3F1ZXVlLnB1c2goe1xuXHQgICAgYWN0aW9uOiBhcGx1c1N0YXRpYy5TVUJTQ1JJQkUsXG5cdCAgICBhcmd1bWVudHM6IFsnb25BcGx1c1RvdWNoJywgZnVuY3Rpb24gKG9wdCkge1xuXHQgICAgICBpZiAob3B0LnN0YXR1cyA9PT0gJ3JlYWR5Jykge1xuXHQgICAgICAgIGlmIChpc0ZpcnN0VG91Y2ggPT09IDApIHtcblx0ICAgICAgICAgIGlzRmlyc3RUb3VjaCA9IDE7XG5cdCAgICAgICAgICBpbml0RXhwKG9wdC5jb250ZXh0LCAxKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgcmVzZXRBdXRvRXhwKG9wdCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XVxuXHQgIH0pO1xuXHQgIGN0eC5hcGx1c19xdWV1ZS5wdXNoKHtcblx0ICAgIGFjdGlvbjogYXBsdXNTdGF0aWMuU1VCU0NSSUJFLFxuXHQgICAgYXJndW1lbnRzOiBbJ29uUGFnZURhdGFDaGFuZ2VkJywgZnVuY3Rpb24gKG9wdCkge1xuXHQgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG5cdCAgICAgICAgcmVzZXRBdXRvRXhwKG9wdCk7XG5cdCAgICAgIH0sIDIwMCk7XG5cdCAgICB9XVxuXHQgIH0pO1xuXHRcblx0ICBjdHguYXBsdXNfcXVldWUucHVzaCh7XG5cdCAgICBhY3Rpb246IGFwbHVzU3RhdGljLlNVQlNDUklCRSxcblx0ICAgIGFyZ3VtZW50czogWydvbkhpZGUnLCBmdW5jdGlvbiAob3B0KSB7XG5cdCAgICAgIGlmIChvcHQuc3RhdHVzID09PSAncmVhZHknKSB7XG5cdCAgICAgICAgUEFHRV9EQVRBX01BUCA9IHt9O1xuXHQgICAgICAgIGlzU3RhcnQgPSAwO1xuXHQgICAgICAgIGlzRmlyc3RUb3VjaCA9IDA7XG5cdCAgICAgICAgd2F0Y2hNZXRhSW5mbyhvcHQuY29udGV4dCwgMSwgYXBsdXNTdGF0aWMuVU5TVUJTQ1JJQkUpO1xuXHQgICAgICAgIGNvbGxlY3RfZXhwLmNsZWFyKCk7XG5cdCAgICAgIH1cblx0ICAgIH1dXG5cdCAgfSk7XG5cdFxuXHQgIGN0eC5hcGx1c19xdWV1ZS5wdXNoKHtcblx0ICAgIGFjdGlvbjogYXBsdXNTdGF0aWMuU1VCU0NSSUJFLFxuXHQgICAgYXJndW1lbnRzOiBbJ29uVW5sb2FkJywgZnVuY3Rpb24gKG9wdCkge1xuXHQgICAgICBpZiAob3B0LnN0YXR1cyA9PT0gJ3JlYWR5Jykge1xuXHQgICAgICAgIFBBR0VfREFUQV9NQVAgPSB7fTtcblx0ICAgICAgICBjb2xsZWN0X2V4cC5jbGVhcigpO1xuXHQgICAgICB9XG5cdCAgICB9XVxuXHQgIH0pO1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogNDkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIHV0aWxHb2xkbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0dmFyIF9jb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUwKTtcblx0dmFyIGNsb25lRGVlcCA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdHZhciB3YXRjaFRyYWNrZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1KTtcblx0dmFyIGdldEhhc2hLZXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KTtcblx0dmFyIG9ic2VydmVycyA9IFtdO1xuXHR2YXIgbWluaSA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdHZhciBjdHg7XG5cdHZhciB1dGlsRGFzaCA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpO1xuXHR2YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXHR2YXIgdXRpbEFycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MSk7XG5cdHZhciBQYWdlTWFuYWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXHRcblx0Ly8gcmVsb2FkQ3R4IOeUqOS6juWNleWFg+a1i+ivle+8jOWNlea1i+S4remcgOimgeWIh+aNouaUr+S7mOWuneOAgeW+ruS/oeeOr+Wig++8jOWunumZheeUn+S6p+eOr+Wig+eUqOS4jeWIsFxuXHRleHBvcnRzLndhdGNoX2V4cG9zdXJlID0gZnVuY3Rpb24gKGNvbnRleHQsIGNvbmYsIGlzRmlyc3QsIHJlbG9hZEN0eCkge1xuXHQgIGlmICghY3R4IHx8IHJlbG9hZEN0eCkge1xuXHQgICAgY3R4ID0gbWluaS5nZXRDb250ZXh0KCk7XG5cdCAgfVxuXHQgIHZhciBfYXBsdXNfYXV0b19leHAgPSB1dGlsR29sZGxvZy5nZXRHb2xkbG9nVmFsKCdfYXBsdXNfYXV0b19leHAnKSB8fCB7fTtcblx0ICB2YXIgX2hhc2hNYXAgPSBfYXBsdXNfYXV0b19leHAuaGFzaE1hcCB8fCB7fTtcblx0ICB2YXIgZHVwO1xuXHQgIFxuXHQgIHdhdGNoVHJhY2tlci53YXRjaFJlY29yZChjb25mKTtcblx0ICBcblx0ICBmdW5jdGlvbiB3YWl0IChjb3VudCkge1xuXHQgICAgaWYgKGNvdW50IDwgY29uZi5sZW5ndGgpIHtcblx0ICAgICAgdmFyIGNvbmZpZyA9IGNvbmZbY291bnRdO1xuXHQgICAgICBkdXAgPSAwO1xuXHQgICAgICBvYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xuXHQgICAgICAgIGlmIChlbGVtZW50LnN1YmplY3RbMF0gPT09IGNvbmZpZy5jc3NTZWxlY3RvciAmJlxuXHQgICAgICAgICAgZWxlbWVudC5zdWJqZWN0WzFdID09PSBjb25maWcucG9zaXRpb25TZWxlY3Rvcikge1xuXHQgICAgICAgICAgZHVwID0gMTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgICB2YXIgc3ViamVjdCA9IFtjb25maWcuY3NzU2VsZWN0b3IsIGNvbmZpZy5wb3NpdGlvblNlbGVjdG9yXTtcblx0ICAgICAgZnVuY3Rpb24gaGFzaGluZyAoY2FsbGJhY2spIHtcblx0ICAgICAgICB2YXIgY3NzU2VsZWN0b3IgPSBzdWJqZWN0WzBdO1xuXHQgICAgICAgIGlmIChjc3NTZWxlY3RvciAmJiAhdXRpbERhc2guaXNTdGFydFdpdGgoc3ViamVjdFswXSwgJy4nKSkge1xuXHQgICAgICAgICAgY3NzU2VsZWN0b3IgPSAnLicgKyBjc3NTZWxlY3Rvcjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgIHZhciBlbGVtZW50cyA9IGN0eC5jcmVhdGVTZWxlY3RvclF1ZXJ5KCkuc2VsZWN0QWxsKGNzc1NlbGVjdG9yKTsgICAgICAgICAgXG5cdCAgICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnRzLmZpZWxkcyA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICBlbGVtZW50cy5maWVsZHMoe1xuXHQgICAgICAgICAgICAgIGRhdGFzZXQ6IHRydWUsXG5cdCAgICAgICAgICAgICAgaWQ6IHRydWUsXG5cdCAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJldCkge1xuXHQgICAgICAgICAgICAgIGlmIChyZXQgJiYgdXRpbEFycmF5LmlzQXJyYXkocmV0KSkge1xuXHQgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXQubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgICAgcmV0W2ldLmluZGV4ID0gJycgKyAoaSArIDEpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgY2FsbGJhY2soe1xuXHQgICAgICAgICAgICAgICAgICBlbGVtZW50czogcmV0LFxuXHQgICAgICAgICAgICAgICAgICB0eXBlOiAnQ09NTU9OJ1xuXHQgICAgICAgICAgICAgICAgfSk7ICBcblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0pLmV4ZWMoKTsgIFxuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgY29uc29sZS53YXJuKCfor6XlubPlj7DkuI3mlK/mjIHoh6rliqjmm53lhYknKTtcblx0ICAgICAgICAgICAgLy8gLy8g5pSv5LuY5a6d5bmz5Y+w5LiN5pSv5oyBZmllbGRz77yM57uf5LiA5L2/55SoQ1NTU2VsZWN0b3LpgInkuK3nmoTlhYPntKDntKLlvJXlgZrllK/kuIDmoIflv5dcblx0ICAgICAgICAgICAgLy8gZWxlbWVudHMuYm91bmRpbmdDbGllbnRSZWN0KCkuZXhlYyhmdW5jdGlvbiAocmV0KSB7XG5cdCAgICAgICAgICAgIC8vICAgaWYgKHJldCAmJiByZXQubGVuZ3RoID4gMCAmJiByZXRbMF0pIHtcblx0ICAgICAgICAgICAgLy8gICAgIHZhciBfZWxlbWVudHMgPSBbXTtcblx0ICAgICAgICAgICAgLy8gICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmV0WzBdLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIC8vICAgICAgIHZhciByID0gcmV0WzBdW2ldO1xuXHQgICAgICAgICAgICAvLyAgICAgICBpZiAocikge1xuXHQgICAgICAgICAgICAvLyAgICAgICAgIF9lbGVtZW50cy5wdXNoKHtcblx0ICAgICAgICAgICAgLy8gICAgICAgICAgIGluZGV4OiAnJyArIChpICsgMSlcblx0ICAgICAgICAgICAgLy8gICAgICAgICB9KTsgIFxuXHQgICAgICAgICAgICAvLyAgICAgICB9XG5cdCAgICAgICAgICAgIC8vICAgICB9XG5cdCAgICAgICAgICAgIC8vICAgICBjYWxsYmFjayh7XG5cdCAgICAgICAgICAgIC8vICAgICAgIGVsZW1lbnRzOiBfZWxlbWVudHMsXG5cdCAgICAgICAgICAgIC8vICAgICAgIHR5cGU6ICdBTElQQVknXG5cdCAgICAgICAgICAgIC8vICAgICB9KTsgIFxuXHQgICAgICAgICAgICAvLyAgIH1cblx0ICAgICAgICAgICAgLy8gfSk7ICBcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgICAgIGNvbnNvbGUud2Fybign6K+l5bmz5Y+w5LiN5pSv5oyB6Ieq5Yqo5pud5YWJLCBlcnIgPSAnLCBlcnIpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICBoYXNoaW5nKGZ1bmN0aW9uIChvcHRzKSB7XG5cdCAgICAgICAgLy8gdmFyIHR5cGUgPSBvcHRzLnR5cGU7XG5cdCAgICAgICAgdmFyIGVsZW1lbnRzID0gb3B0cy5lbGVtZW50cyB8fCBbXTsgICAgICAgIFxuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgIHZhciBlID0gZWxlbWVudHNbaV07XG5cdCAgICAgICAgICBpZiAoZHVwID09PSAwIHx8IGlzRmlyc3QgPT09IDApIHtcblx0ICAgICAgICAgICAgdmFyIG5ld09ic2VydmVyID0gaW5pdE9ic2VydmVyKGNvbnRleHQpO1xuXHQgICAgICAgICAgICBuZXdPYnNlcnZlci5zdWJqZWN0ID0gc3ViamVjdDtcblx0ICAgICAgICAgICAgb2JzZXJ2ZXJzLnB1c2gobmV3T2JzZXJ2ZXIpO1xuXHQgICAgICAgICAgICBpZiAoZS5pbmRleCAmJiAhY2hlY2tJc0luSGFzaE1hcChlLCBjb25maWcpKSB7XG5cdCAgICAgICAgICAgICAgdXBkYXRlSGFzaE1hcChlLCBjb25maWcpO1xuXHQgICAgICAgICAgICAgIGFkZE9ic2VydmUobmV3T2JzZXJ2ZXIsIGNvbmZpZywgZS5pbmRleCwgZnVuY3Rpb24gKGVudHJ5LCBfY29uZmlnLCBfaW5kZXgpIHtcblx0ICAgICAgICAgICAgICAgIGlmIChfaW5kZXgpIHtcblx0ICAgICAgICAgICAgICAgICAgdmFyIF9lbnRyeSA9IGNsb25lRGVlcChlbnRyeSk7XG5cdCAgICAgICAgICAgICAgICAgIF9lbnRyeS5pbmRleCA9ICcnICsgX2luZGV4O1xuXHQgICAgICAgICAgICAgICAgICB2YXIgZGF0YXNldCA9IGNsb25lRGVlcChfZW50cnkuZGF0YXNldCk7XG5cdCAgICAgICAgICAgICAgICAgIHVwZGF0ZUhhc2hNYXAoe1xuXHQgICAgICAgICAgICAgICAgICAgIGlkOiBfZW50cnkuaWQsXG5cdCAgICAgICAgICAgICAgICAgICAgaW5kZXg6IF9lbnRyeS5pbmRleCxcblx0ICAgICAgICAgICAgICAgICAgICBkYXRhc2V0OiBkYXRhc2V0LFxuXHQgICAgICAgICAgICAgICAgICB9LCBfY29uZmlnKTtcblx0ICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2RhdGFzZXQgPT09ICcsIGRhdGFzZXQsICdfZW50cnkuaW5kZXggPT09ICcsIF9lbnRyeS5pbmRleCk7XG5cdCAgICAgICAgICAgICAgICAgIGV4cG9zdXJlSGFuZGxlKF9lbnRyeSwgZGF0YXNldCwgY29uZmlnKTsgIFxuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5jb3VudCgnZW1wdHkgaW5kZXgnKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICB3YWl0KCsrY291bnQpO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9XG5cdCAgd2FpdCgwKTtcblx0XG5cdCAgZnVuY3Rpb24gY2hlY2tJc0luSGFzaE1hcCAoZWxlbWVudCwgY29uZmlnKSB7XG5cdCAgICB2YXIgaGFzaCA9IGdldEhhc2hLZXkoZWxlbWVudCwgY29uZmlnKTtcblx0ICAgIHZhciBpbmRleCA9IGVsZW1lbnQuaW5kZXg7XG5cdCAgICBpZiAoX2hhc2hNYXBbY29uZmlnLmxvZ2tleV0pIHtcblx0ICAgICAgX2hhc2hNYXBbY29uZmlnLmxvZ2tleV0uZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7XG5cdCAgICAgICAgaWYgKGVsZW1lbnQuaGFzaF92YWx1ZSA9PT0gaGFzaCAmJiBlbGVtZW50LmluZGV4ID09PSBpbmRleCkge1xuXHQgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdCAgLyoqXG5cdCAgICogQHBhcmFtcyB7T2JqZWN0fSBlIHtcblx0ICAgKiAgIGlkLCBkYXRhc2V0LCBwb3NpdGlvblxuXHQgICAqIH1cblx0ICAgKi9cblx0ICBmdW5jdGlvbiB1cGRhdGVIYXNoTWFwKGUsIGNvbmZpZykge1xuXHQgICAgdmFyIGhhc2ggPSBnZXRIYXNoS2V5KGUsIGNvbmZpZyk7XG5cdCAgICB0cnkge1xuXHQgICAgICB2YXIgaW5kZXggPSBlLmluZGV4O1xuXHQgICAgICBpZiAoX2hhc2hNYXBbY29uZmlnLmxvZ2tleV0pIHtcblx0ICAgICAgICB2YXIgZXhpc3QgPSAwO1xuXHQgICAgICAgIF9oYXNoTWFwW2NvbmZpZy5sb2drZXldLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkge1xuXHQgICAgICAgICAgaWYgKGVsZW1lbnQuaGFzaF92YWx1ZSA9PT0gaGFzaCkge1xuXHQgICAgICAgICAgICBleGlzdCA9IDE7XG5cdCAgICAgICAgICAgIGlmIChlLmlkKSBlbGVtZW50LmlkID0gZS5pZDtcblx0ICAgICAgICAgICAgaWYgKGUuZGF0YXNldCkgZWxlbWVudC5kYXRhc2V0ID0gZS5kYXRhc2V0O1xuXHQgICAgICAgICAgICBpZiAoZS5zdGF0dXMpIGVsZW1lbnQuc3RhdHVzID0gZS5zdGF0dXM7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgaWYgKCFleGlzdCkge1xuXHQgICAgICAgICAgX2hhc2hNYXBbY29uZmlnLmxvZ2tleV0ucHVzaCh7XG5cdCAgICAgICAgICAgIGlkOiBlLmlkLFxuXHQgICAgICAgICAgICBoYXNoX3ZhbHVlOiBoYXNoLFxuXHQgICAgICAgICAgICBzdGF0dXM6IDAsXG5cdCAgICAgICAgICAgIGV4cENvbmZpZzogY29uZmlnLFxuXHQgICAgICAgICAgICBkYXRhc2V0OiBlLmRhdGFzZXQsXG5cdCAgICAgICAgICAgIGluZGV4OiBpbmRleFxuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIF9oYXNoTWFwW2NvbmZpZy5sb2drZXldID0gW3tcblx0ICAgICAgICAgIGlkOiBlLmlkLFxuXHQgICAgICAgICAgaGFzaF92YWx1ZTogaGFzaCxcblx0ICAgICAgICAgIHN0YXR1czogMCxcblx0ICAgICAgICAgIGV4cENvbmZpZzogY29uZmlnLFxuXHQgICAgICAgICAgZGF0YXNldDogZS5kYXRhc2V0LFxuXHQgICAgICAgICAgaW5kZXg6IGluZGV4XG5cdCAgICAgICAgfV07XG5cdCAgICAgIH1cblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgY29uc29sZS5sb2coJ2Vycm9yID09PSAnLCBlKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGluaXRPYnNlcnZlcihjb250ZXh0KSB7XG5cdCAgICB2YXIgb3B0aW9ucyA9e1xuXHQgICAgICB0aHJlc2hvbGRzOiBbX2NvbmZpZy5BVVRPX0FUX1ZJRVdfUkFURV0sXG5cdCAgICAgIGluaXRpYWxSYXRpbzogMFxuXHQgICAgfTtcblx0ICAgIHZhciBpc01ZID0gZmFsc2U7XG5cdCAgICB0cnkge1xuXHQgICAgICBpZiAobXkpIHtcblx0ICAgICAgICBpc01ZID0gdHJ1ZTtcblx0ICAgICAgfVxuXHQgICAgfSBjYXRjaCAoZSkge31cblx0ICAgIGlmIChpc01ZKSB7XG5cdCAgICAgIC8vIOiaguiageeahOabneWFieebkeWQrOWSjOW+ruS/oeS4jeS4gOiHtO+8jGh0dHBzOi8vZGV2ZWxvcGVycy53ZWl4aW4ucXEuY29tL21pbmlwcm9ncmFtL2Rldi9hcGkvd3htbC93eC5jcmVhdGVJbnRlcnNlY3Rpb25PYnNlcnZlci5odG1sXG5cdCAgICAgIC8vIGh0dHBzOi8vb3BlbmRvY3MuYWxpcGF5LmNvbS9taW5pL2FwaS9pbnRlcnNlY3Rpb25vYnNlcnZlclxuXHQgICAgICBvcHRpb25zLnNlbGVjdEFsbCA9IHRydWU7XG5cdCAgICAgIHJldHVybiBjdHguY3JlYXRlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIob3B0aW9ucyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBvcHRpb25zLm9ic2VydmVBbGwgPSB0cnVlO1xuXHQgICAgICByZXR1cm4gY3R4LmNyZWF0ZUludGVyc2VjdGlvbk9ic2VydmVyKGNvbnRleHQsIG9wdGlvbnMpO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gYWRkT2JzZXJ2ZShvYnNlcnZlciwgY29uZmlnLCBpbmRleCwgY2FsbGJhY2spIHtcblx0ICAgIHZhciBjc3MgPSBjb25maWcuY3NzU2VsZWN0b3I7XG5cdCAgICBpZiAoY3NzICYmICF1dGlsRGFzaC5pc1N0YXJ0V2l0aChjc3MsICcuJykpIHtcblx0ICAgICAgY3NzID0gJy4nICsgY3NzO1xuXHQgICAgfVxuXHQgICAgaWYgKGNvbmZpZy5wb3NpdGlvblNlbGVjdG9yKSB7XG5cdCAgICAgIG9ic2VydmVyLnJlbGF0aXZlVG8oY29uZmlnLnBvc2l0aW9uU2VsZWN0b3IpLm9ic2VydmUoY3NzLCBmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgIGNhbGxiYWNrKHJlcywgY29uZmlnLCBpbmRleCk7XG5cdCAgICAgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yTWVzc2FnZTogJywgZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIG9ic2VydmVyLnJlbGF0aXZlVG9WaWV3cG9ydCgpLm9ic2VydmUoY3NzLCBmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgIGNhbGxiYWNrKHJlcywgY29uZmlnLCBpbmRleCk7XG5cdCAgICAgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yTWVzc2FnZTogJywgZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGV4cG9zdXJlSGFuZGxlIChlbnRyeSwgZGF0YXNldCwgY29uZmlnKSB7XG5cdCAgICB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZSgnYXBsdXMnKTtcblx0ICAgIHZhciBleHBvc3VyZVRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblx0ICAgIHZhciBleHBFbGVtZW50cyA9IGNoZWNrU3RhcnQoZXhwb3N1cmVUaW1lLCBlbnRyeSwgY29uZmlnKTtcblx0ICAgIFxuXHQgICAgaWYgKGV4cEVsZW1lbnRzICYmIGV4cEVsZW1lbnRzLmxlbmd0aCA+IDApIHtcblx0ICAgICAgdmFyIGVsZW1lbnQgPSBleHBFbGVtZW50c1swXTtcblx0ICAgICAgLy8g5Y+WZGF0YS10cmFja2VyIOaIliBjc3NTZWxlY3RvclxuXHQgICAgICB2YXIgc3BtQyA9IGRhdGFzZXQudHJhY2tlciB8fCBjb25maWcuY3NzU2VsZWN0b3IucmVwbGFjZSgvXFwnfFxcXCJ8XFw7fFxcOnxcXD18XFxbfFxcXXxcXC58XFwjfFxcLXxcXC98XFx8L2csICcnKTsgLy8g5Y675o6J54m55q6K5a2X56ymXG5cdCAgICAgIC8vIOabneWFieinpuWPkeeahHNwbeS4jeaxoeafk+WFqOWxgGFwbHVzLl8kLnNwbS5kYXRh77yM5pWF6L+Z6YeM5YGa5rex5ou36LSdXG5cdFxuXHQgICAgICB2YXIgc3BtRGF0YSA9IHt9O1xuXHQgICAgICB2YXIgX3NwbURhdGEgPSB1dGlsLmpzb25MaWtlU3RyMkpTT04oZGF0YXNldC50cmFja2VyUGFyYW1zIHx8IHt9KSB8fCB7fTtcblx0ICAgICAgdmFyIF9pbmRleCA9IGVsZW1lbnQuaW5kZXg7XG5cdCAgICAgIGlmIChhcGx1cy5nbG9iYWxDb25maWcuaXNBbGkpIHtcblx0ICAgICAgICBzcG1EYXRhID0gY2xvbmVEZWVwKGFwbHVzLl8kLnNwbS5kYXRhIHx8IHt9KTtcblx0ICAgICAgICBzcG1EYXRhLmMgPSBzcG1DO1xuXHQgICAgICAgIGlmIChzcG1EYXRhLmMgJiYgc3BtRGF0YS5jICE9PSAnMCcpIHtcblx0ICAgICAgICAgIHZhciBzcG1EID0gJ2QnICsgX2luZGV4O1xuXHQgICAgICAgICAgc3BtRGF0YS5kID0gc3BtRDtcblx0ICAgICAgICB9ICBcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBpZiAoUGFnZU1hbmFnZXIuZ2V0UGFnZUNvZGUoKSkge1xuXHQgICAgICAgICAgc3BtRGF0YS5iID0gUGFnZU1hbmFnZXIuZ2V0UGFnZUNvZGUoKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgXG5cdCAgICAgICAgaWYgKGNvbmZpZy5zcG1DKSB7XG5cdCAgICAgICAgICBzcG1EYXRhLmMgPSBjb25maWcuc3BtQztcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgc3BtRGF0YS5jID0gX3NwbURhdGEuc3BtQyA/IGVuY29kZVVSSUNvbXBvbmVudChfc3BtRGF0YS5zcG1DKSA6ICcnO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKGNvbmZpZy5zcG1EKSB7XG5cdCAgICAgICAgICBzcG1EYXRhLmQgPSBfaW5kZXggPyBjb25maWcuc3BtRCArICdfJyArIF9pbmRleCA6IGNvbmZpZy5zcG1EO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBzcG1EYXRhLmQgPSBfc3BtRGF0YS5zcG1EID8gZW5jb2RlVVJJQ29tcG9uZW50KF9zcG1EYXRhLnNwbUQpIDogJyc7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIFxuXHQgICAgICB3YXRjaFRyYWNrZXIucHVzaEV2ZW50KCdFWFAnLCBkYXRhc2V0LCBjb25maWcsIE9iamVjdC5hc3NpZ24oe30sIGVudHJ5LCB7XG5cdCAgICAgICAgeDogZWxlbWVudC54LFxuXHQgICAgICAgIHk6IGVsZW1lbnQueSxcblx0ICAgICAgICB3aWR0aDogZWxlbWVudC53aWR0aCxcblx0ICAgICAgICBoZWlnaHQ6IGVsZW1lbnQuaGVpZ2h0LFxuXHQgICAgICAgIGhhc2hfdmFsdWU6IGVsZW1lbnQuaGFzaF92YWx1ZVxuXHQgICAgICB9KSwgc3BtRGF0YSk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjaGVja1N0YXJ0IChleHBvc3VyZVRpbWUsIGVudHJ5LCBjb25maWcpIHtcblx0ICAgIC8vIHZhciBzaXplID0gMDtcblx0ICAgIHZhciBfYXBsdXNfYXV0b19leHAgPSB1dGlsR29sZGxvZy5nZXRHb2xkbG9nVmFsKCdfYXBsdXNfYXV0b19leHAnKSB8fCB7fTtcblx0ICAgIHZhciBfaGFzaE1hcCA9IF9hcGx1c19hdXRvX2V4cC5oYXNoTWFwIHx8IHt9O1xuXHQgICAgdmFyIHRlbXBzID0gW107XG5cdCAgICBmb3IgKHZhciBsb2drZXkgaW4gX2hhc2hNYXApIHtcblx0ICAgICAgdmFyIGVsZV9zID0gX2hhc2hNYXBbbG9na2V5XSB8fCBbXTtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVfcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIC8vIHZhciBzdHJpbmcgPSBjb25maWcubG9na2V5ICsgJ18nICsgY29uZmlnLmNzc1NlbGVjdG9yICsgJ18nXG5cdCAgICAgICAgLy8gICAgICAgICAgICAgICsgY29uZmlnLnBvc2l0aW9uU2VsZWN0b3IgKyAnXycgKyBvcHRzLmlkICsgSlNPTi5zdHJpbmdpZnkob3B0cy5kYXRhc2V0KTtcblx0ICAgICAgICB2YXIgaGFzaCA9IGdldEhhc2hLZXkoZW50cnksIGNvbmZpZyk7XG5cdCAgICAgICAgdmFyIHYgPSBlbGVfc1tpXSB8fCB7fTtcblx0ICAgICAgICBpZiAodi5zdGF0dXMgPT09IDAgJiYgdi5leHBDb25maWcgJiYgaGFzaCA9PT0gdi5oYXNoX3ZhbHVlKSB7XG5cdCAgICAgICAgICB2YXIgX2VsZVBvcyA9IGVudHJ5LmJvdW5kaW5nQ2xpZW50UmVjdCB8fCB7fTtcblx0ICAgICAgICAgIGlmIChfZWxlUG9zLndpZHRoICYmIF9lbGVQb3MuaGVpZ2h0KSB7XG5cdCAgICAgICAgICAgIHYuZGF0YXNldCA9IGVudHJ5LmRhdGFzZXQ7XG5cdCAgICAgICAgICAgIHYueCA9IF9lbGVQb3MubGVmdDtcblx0ICAgICAgICAgICAgdi55ID0gX2VsZVBvcy50b3A7XG5cdCAgICAgICAgICAgIHYud2lkdGggPSBfZWxlUG9zLndpZHRoO1xuXHQgICAgICAgICAgICB2LmhlaWdodCA9IF9lbGVQb3MuaGVpZ2h0O1xuXHQgICAgICAgICAgICB2LnNpemUgPSBfZWxlUG9zLndpZHRoICogX2VsZVBvcy5oZWlnaHQ7XG5cdCAgICAgICAgICAgIGlmIChlbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyA+PSBfY29uZmlnLkFVVE9fQVRfVklFV19SQVRFKSB7XG5cdCAgICAgICAgICAgICAgdi5leHBvc3VyZVRpbWUgPSBleHBvc3VyZVRpbWU7XG5cdCAgICAgICAgICAgICAgdi5zdGF0dXMgPSAxOyAvLyDmm53lhYnnirbmgIFcblx0ICAgICAgICAgICAgICB0ZW1wcy5wdXNoKHYpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdGVtcHM7XG5cdCAgfVxuXHR9O1xuXHRcblx0ZXhwb3J0cy5yZXNldCA9IGZ1bmN0aW9uICgpIHt9O1xuXHRcblx0ZXhwb3J0cy5jbGVhciA9IGZ1bmN0aW9uICgpIHtcblx0ICAvLyB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZSgnYXBsdXMnKTtcblx0ICB3YXRjaFRyYWNrZXIuY2xlYXJSZWNvcmQoKTtcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IG9ic2VydmVycy5sZW5ndGg7IGkrKykge1xuXHQgICAgb2JzZXJ2ZXJzW2ldLmRpc2Nvbm5lY3QoKTtcblx0ICB9XG5cdCAgb2JzZXJ2ZXJzID0gW107XG5cdCAgdmFyIF9hcGx1c19hdXRvX2V4cCA9IHV0aWxHb2xkbG9nLmdldEdvbGRsb2dWYWwoJ19hcGx1c19hdXRvX2V4cCcpIHx8IHt9O1xuXHQgIHZhciBfaGFzaE1hcCA9IF9hcGx1c19hdXRvX2V4cC5oYXNoTWFwIHx8IHt9O1xuXHQgIGZvciAodmFyIGxvZ2tleSBpbiBfaGFzaE1hcCkge1xuXHQgICAgZGVsZXRlIF9oYXNoTWFwW2xvZ2tleV07XG5cdCAgfVxuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogNTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKipcblx0ICogcHJvamVjdCAtIGZpbGVwYXRoXG5cdCAqIGRlc2NyaXB0aW9uXG5cdCAqXG5cdCAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cblx0ICpcblx0ICogQXV0aG9yczpcblx0ICogICDosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuXHQgKi9cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIHV0aWxBcnJheSA9IF9fd2VicGFja19yZXF1aXJlX18oNTEpO1xuXHR2YXIgdXRpbE1ldGEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKTtcblx0Ly8gdmFyIHV0aWxMb2dnZXIgPSByZXF1aXJlKCdAdXRpbHMvdXRpbExvZ2dlcicpO1xuXHR2YXIgdWxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHRleHBvcnRzLkRBVEFfQVBMVVNfQUVfS0VZID0gJ2RhdGEtYXBsdXMtYWUnO1xuXHRleHBvcnRzLkRBVEFfQVBMVVNfQUNfS0VZID0gJ2RhdGEtYXBsdXMtY2xrJztcblx0ZXhwb3J0cy5EQVRBX0FQTFVTX1NQTV9BTkNIT1JfSURfS0VZID0gJ2RhdGEtc3BtLWFuY2hvci1pZCc7XG5cdGV4cG9ydHMuREFUQV9BUExVU19WVF9JVEVNX0lOREVYX0tFWSA9ICdkYXRhLWFwbHVzLXZ0LXBvcyc7XG5cdFxuXHQvLyDkuI3mlK/mjIFvYnNlcnZlcueahOaDheWGteS4i++8jOi9ruivoumXtOmalO+8iG1zKVxuXHRleHBvcnRzLkxPT1BfVElNRSA9IDEwMDA7XG5cdFxuXHRleHBvcnRzLmdldERlZmF1bHRSZXF1ZXN0Q2ZnID0gZnVuY3Rpb24gKCkge1xuXHQgIHJldHVybiB7XG5cdCAgICBtZXRob2Q6ICdQT1NUJyxcblx0ICAgIHBrZ1NpemU6IDEwXG5cdCAgfTtcblx0fTtcblx0XG5cdGZ1bmN0aW9uIGdldE1ldGFWYWx1ZSAoa2V5KSB7XG5cdCAgaWYgKGFwbHVzICYmIGFwbHVzLmdldE1ldGFJbmZvKSB7XG5cdCAgICByZXR1cm4gYXBsdXMuZ2V0TWV0YUluZm8oa2V5KTtcblx0ICB9IGVsc2Uge1xuXHQgICAgcmV0dXJuIHV0aWxNZXRhLmdldE1ldGFDbnQoa2V5KTtcblx0ICB9XG5cdH1cblx0XG5cdC8vIOiHquWKqOabneWFieaJk+eCuSAtIOWIpOWumuWPr+inhueahOavlOS+i+eOh1xuXHR2YXIgZ2V0QXV0b0V4cFZpZXdSYXRlID0gZnVuY3Rpb24oZGVmYXVsdF92YWx1ZSkge1xuXHQgIHZhciByYXRlID0gZGVmYXVsdF92YWx1ZTtcblx0ICB0cnkge1xuXHQgICAgdmFyIHZpc2libGVfcmF0ZSA9IGdldE1ldGFWYWx1ZSgnYXBsdXMtYXV0by1leHAtdmlzaWJsZScpO1xuXHQgICAgaWYgKHZpc2libGVfcmF0ZSkge1xuXHQgICAgICByYXRlID0gcGFyc2VGbG9hdCh2aXNpYmxlX3JhdGUpO1xuXHQgICAgfVxuXHQgICAgaWYgKHJhdGUgPD0gMCkge1xuXHQgICAgICByYXRlID0gZGVmYXVsdF92YWx1ZTtcblx0ICAgIH1cblx0ICB9IGNhdGNoKGUpIHtcblx0ICAgIHJhdGUgPSBkZWZhdWx0X3ZhbHVlO1xuXHQgIH0gZmluYWxseSB7XG5cdCAgICByZXR1cm4gcmF0ZTtcblx0ICB9XG5cdH07XG5cdGV4cG9ydHMuQVVUT19BVF9WSUVXX1JBVEUgPSBnZXRBdXRvRXhwVmlld1JhdGUoMC4zKTtcblx0XG5cdC8vIHZhciBFWFBfREVCT1VOQ0VfRFVSQVRJT04gPSAxMDA7IC8vIGRlYm91Y2UgZHVyYXRpb24gMTAwbXNcblx0XG5cdC8qKlxuXHQgKiDmnInmlYjmm53lhYnml7bplb/lupXnur8gLSDmr6vnp5LmlbAobXMpXG5cdCAqIEBwYXJhbXMge051bWJlcn0gZGVmYXVsdF92YWx1ZSBpcyAzMDBtc1xuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9IGR1cmF0aW9uXG5cdCAqL1xuXHR2YXIgZ2V0QXV0b0V4cER1cmF0aW9uID0gZnVuY3Rpb24oZGVmYXVsdF92YWx1ZSkge1xuXHQgIHZhciBkdXJhdGlvbiA9IGRlZmF1bHRfdmFsdWU7XG5cdCAgdHJ5IHtcblx0ICAgIHZhciB0bXBfZHVyYXRpb24gPSBnZXRNZXRhVmFsdWUoJ2FwbHVzLWF1dG8tZXhwLWR1cmF0aW9uJyk7XG5cdCAgICB2YXIgZHVyYXRpb25fbiA9IHBhcnNlSW50KHRtcF9kdXJhdGlvbik7XG5cdCAgICBpZiAoKGR1cmF0aW9uX24gKyAnJykgIT09ICdOYU4nKSB7XG5cdCAgICAgIGR1cmF0aW9uID0gZHVyYXRpb25fbjtcblx0ICAgIH1cblx0ICB9IGNhdGNoKGUpIHtcblx0ICB9IGZpbmFsbHkge1xuXHQgICAgcmV0dXJuIGR1cmF0aW9uO1xuXHQgIH1cblx0fTtcblx0ZXhwb3J0cy5FWFBfRFVSQVRJT04gPSBnZXRBdXRvRXhwRHVyYXRpb24oMzAwKTsgLy/pu5jorqQzMDBtc1xuXHRcblx0Ly8gZGVib3VjZSBkdXJhdGlvbiAxMDBtc1xuXHQvLyBleHBvcnRzLmdldERlYm91bmNlRHVyYXRpb24gPSBmdW5jdGlvbiAoKSB7XG5cdC8vICAgcmV0dXJuIEVYUF9ERUJPVU5DRV9EVVJBVElPTjtcblx0Ly8gfTtcblx0XG5cdC8qKlxuXHQgKiDojrflj5boh6rliqjmm53lhYnphY3nva7pobnvvIzlubblsIZmaWx0ZXLjgIF0YWflkoxjc3NTZWxlY3RvcuWQiOW5tuS4umVsZW1lbnRTZWxlY3RvclxuXHQgKiBUT0RPIEpTT04ucGFyc2Ug5LuF5pSv5oyBSUU45Y+K5Lul5LiK5rWP6KeI5ZmoID0+IGpzIGFwaVxuXHQgKiBAcGFyYW1zIGtleSB7U3RyaW5nfSAnYXBsdXMtYXV0by1leHAnLydhcGx1cy1hdXRvLWNsaydcblx0ICogQHJldHVybiB7QXJyYXl9IFt7XG5cdCAqICAgIGxvZ2tleTogL2EuYi5jMSxcblx0ICogICAgZWxlbWVudFNlbGVjdG9yOiAnZGl2W3NjbT0xMjM0XScsXG5cdCAqICAgIHRhZzogZGl2LFxuXHQgKiAgICBmaWx0ZXI6IHNjbT0xMjM0XG5cdCAqICAgIHBvc2l0aW9uU2VsZWN0b3I6IHRydWUvLnBhcmVudENsYXNzbmFtZSAvLyDnm7jlr7nlrprkvY3kuJrliqHln4vngrlcblx0ICogfSwge1xuXHQgKiAgICBsb2drZXk6IC9hLmIuYzIsXG5cdCAqICAgIGVsZW1lbnRTZWxlY3RvcjogJ3Bbc2NtPTIzNDVdLm9uZScsXG5cdCAqICAgIHRhZzogcCxcblx0ICogICAgZmlsdGVyOiBzY209MjM0NSxcblx0ICogICAgY3NzU2VsZWN0b3I6IC5vbmVcblx0ICogfSwge1xuXHQgKiAgICBsb2drZXk6IC9hLmIuYzMsXG5cdCAqICAgIGVsZW1lbnRTZWxlY3RvcjogJ3BbZGF0YS1zcG0tY2xpY2tdJyxcblx0ICogICAgdGFnOiBwLFxuXHQgKiAgICBmaWx0ZXI6IGRhdGEtc3BtLWNsaWNrXG5cdCAqIH1dXG5cdCAqL1xuXHR2YXIgZ2V0QXV0b0NvbmZpZyA9IGZ1bmN0aW9uKGNvbmZpZ0tleSwgbWV0YU9iaikge1xuXHQgIHZhciBjb25maWdzID0gW107XG5cdCAgLy8gdmFyIHRtcF9sb2drZXlzID0gW107XG5cdCAgdmFyIHRtcF90YWdfZmlsdGVyID0gW107XG5cdCAgdmFyIGFwbHVzQXV0b0V4cDtcblx0ICB0cnkge1xuXHQgICAgYXBsdXNBdXRvRXhwID0gbWV0YU9iaiB8fCBnZXRNZXRhVmFsdWUoY29uZmlnS2V5KTtcblx0ICAgIHZhciB0ZW1wcyA9IFtdO1xuXHQgICAgaWYgKGFwbHVzQXV0b0V4cCAmJiB0eXBlb2YgYXBsdXNBdXRvRXhwID09PSAnc3RyaW5nJykge1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIHRlbXBzID0gSlNPTi5wYXJzZShhcGx1c0F1dG9FeHApO1xuXHQgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgdGVtcHMgPSBKU09OLnBhcnNlKGFwbHVzQXV0b0V4cC5yZXBsYWNlKC8nL2csICdcIicpKTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIGlmICh0eXBlb2YgYXBsdXNBdXRvRXhwID09PSAnb2JqZWN0JyAmJiBhcGx1c0F1dG9FeHAuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XG5cdCAgICAgIHRlbXBzID0gYXBsdXNBdXRvRXhwO1xuXHQgICAgfVxuXHQgICAgaWYgKHRlbXBzICYmIHRlbXBzLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXBzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIHRtcCA9IHRlbXBzW2ldIHx8IHt9O1xuXHQgICAgICAgIHZhciBsb2drZXkgPSB0bXAubG9na2V5IHx8ICcnO1xuXHQgICAgICAgIHZhciB0YWcgPSB0bXAudGFnID8gdG1wLnRhZyA6ICcnO1xuXHQgICAgICAgIHZhciBmaWx0ZXIgPSB0bXAuZmlsdGVyO1xuXHQgICAgICAgIHZhciBjc3NTZWxlY3RvciA9IHRtcC5jc3NTZWxlY3Rvcjtcblx0ICAgICAgICB2YXIgd2hvbGVTZWxlY3RvciA9IGNzc1NlbGVjdG9yIHx8ICh0YWcgJiYgZmlsdGVyKTtcblx0ICAgICAgICBpZiAoIWxvZ2tleSB8fCAhd2hvbGVTZWxlY3Rvcikge1xuXHQgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdtZXRhICcgKyBjb25maWdLZXkgKyAnIGNvbmZpZyBlcnJvciwgJyArIEpTT04uc3RyaW5naWZ5KHRtcCkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICAvLyAyMDE3LTExLTIzIOaJi+a3mOaOpeWFpeWSjGxhemFkYeS4muWKoemcgOaxgu+8jOWFgeiuuGxvZ2tleemHjeWkjVxuXHQgICAgICAgIC8vIGlmICh1dGlsQXJyYXkuaW5kZXhvZih0bXBfbG9na2V5cywgbG9na2V5KSA+IC0xKSB7XG5cdCAgICAgICAgLy8gICB0aHJvdyBuZXcgRXJyb3IoJ21ldGEgJyArIGNvbmZpZ0tleSArICcgY29uZmlnIGVycm9yLCBsb2drZXkgJyArIGxvZ2tleSArICcgcmVwZWF0ZWQnKTtcblx0ICAgICAgICAvLyB9XG5cdCAgICAgICAgZmlsdGVyID0gdHlwZW9mIGZpbHRlciA9PT0gJ3N0cmluZycgPyBmaWx0ZXIuc3BsaXQoXCI9XCIpIDogW107XG5cdCAgICAgICAgdmFyIHRhZ19maWx0ZXIgPSB0YWc7XG5cdCAgICAgICAgaWYgKGZpbHRlci5sZW5ndGggPj0gMikge1xuXHQgICAgICAgICAgdGFnX2ZpbHRlciArPSAnWycgKyBmaWx0ZXIuc2hpZnQoKSArICc9XCInICsgZGVjb2RlVVJJQ29tcG9uZW50KGZpbHRlci5qb2luKCcnKSkgKyAnXCJdJztcblx0ICAgICAgICB9IGVsc2UgaWYgKGZpbHRlci5sZW5ndGggPT0gMSAmJiBmaWx0ZXJbMF0pIHtcblx0ICAgICAgICAgIHRhZ19maWx0ZXIgKz0gJ1snICsgZGVjb2RlVVJJQ29tcG9uZW50KGZpbHRlclswXSkgKyAnXSc7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChjc3NTZWxlY3Rvcikge1xuXHQgICAgICAgICAgdGFnX2ZpbHRlciArPSBjc3NTZWxlY3Rvcjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHRtcC5lbGVtZW50U2VsZWN0b3IgPSB0YWdfZmlsdGVyO1xuXHQgICAgICAgIGlmICh1dGlsQXJyYXkuaW5kZXhvZih0bXBfdGFnX2ZpbHRlciwgdGFnX2ZpbHRlcikgPiAtMSkge1xuXHQgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdtZXRhICcgKyBjb25maWdLZXkgKyAnIGNvbmZpZyBlcnJvciwgdGFnX2ZpbHRlcl9jc3NTZWxlY3RvciAnICsgdGFnX2ZpbHRlciArICcgcmVwZWF0ZWQnKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgLy8gdG1wX2xvZ2tleXMucHVzaChsb2drZXkpO1xuXHQgICAgICAgIHRtcF90YWdfZmlsdGVyLnB1c2godGFnX2ZpbHRlcik7XG5cdCAgICAgICAgY29uZmlncy5wdXNoKHRtcCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9IGNhdGNoIChlcnIpIHtcblx0ICAgIC8vIFRPRE8g55uR5o6n6L+Z5Z2X5YaF5a65XG5cdCAgICB1bG9nKCkudyhlcnIpO1xuXHQgICAgLy8gdXRpbExvZ2dlci5sb2dnZXIoe1xuXHQgICAgLy8gICBtc2c6IGVyclxuXHQgICAgLy8gfSk7XG5cdCAgfSBmaW5hbGx5IHtcblx0ICAgIHJldHVybiBjb25maWdzO1xuXHQgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiDojrflj5bmm53lhYnoh6rliqjph4fpm4bnmoTphY3nva7poblcblx0ICovXG5cdGV4cG9ydHMuZ2V0QXV0b0V4cENvbmZpZyA9IGZ1bmN0aW9uKG1ldGFPYmopIHtcblx0ICByZXR1cm4gZ2V0QXV0b0NvbmZpZygnYXBsdXMtYXV0by1leHAnLCBtZXRhT2JqKSB8fCBbXTtcblx0fTtcblx0LyoqXG5cdCAqIOiOt+WPluabneWFieiHquWKqOmHh+mbhueahOmFjee9rumhuVxuXHQgKi9cblx0ZXhwb3J0cy5nZXRBdXRvRXhwVXNlckZuID0gZnVuY3Rpb24oKSB7XG5cdCAgdmFyIGFlQXV0b1VzZXJGbiA9IGdldE1ldGFWYWx1ZSgnYXBsdXMtYXV0by1leHAtdXNlcmZuJyk7XG5cdCAgaWYgKGFlQXV0b1VzZXJGbikge1xuXHQgICAgdmFyIGZuID0gd2luZG93W2FlQXV0b1VzZXJGbl0gfHwgYWVBdXRvVXNlckZuO1xuXHQgICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICByZXR1cm4gZm47XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiBudWxsO1xuXHR9O1xuXHRcblx0Ly8gPG1ldGEgbmFtZT1cImFwbHVzLWF1dG8tZXhwLXdhdGNoZG9tXCIgY29udGVudD1cInRocm90dGxlXCIgLz5cblx0ZXhwb3J0cy5pc1Rocm90dGxlV2F0Y2hEb20gPSBmdW5jdGlvbiAoKSB7XG5cdCAgdmFyIHJzID0gZmFsc2U7XG5cdCAgdHJ5IHtcblx0ICAgIHJzID0gZ2V0TWV0YVZhbHVlKCdhcGx1cy1hdXRvLWV4cC13YXRjaGRvbScpID09PSAndGhyb3R0bGUnO1xuXHQgIH0gY2F0Y2ggKGUpIHtcblx0ICB9XG5cdCAgcmV0dXJuIHJzO1xuXHR9O1xuXHQvKipcblx0ICog6I635Y+W54K55Ye76Ieq5Yqo6YeH6ZuG55qE6YWN572u6aG5XG5cdCAqL1xuXHRleHBvcnRzLmdldEF1dG9DbGtDb25maWcgPSBmdW5jdGlvbihtZXRhT2JqKSB7XG5cdCAgcmV0dXJuIGdldEF1dG9Db25maWcoJ2FwbHVzLWF1dG8tY2xrJywgbWV0YU9iaikgfHwgW107XG5cdH07XG5cdC8qKlxuXHQgKiDojrflj5bngrnlh7voh6rliqjph4fpm4bnmoTphY3nva7poblcblx0ICovXG5cdGV4cG9ydHMuZ2V0QXV0b0Nsa1VzZXJGbiA9IGZ1bmN0aW9uKCkge1xuXHQgIHZhciBhY0F1dG9Vc2VyRm4gPSBnZXRNZXRhVmFsdWUoJ2FwbHVzLWF1dG8tY2xrLXVzZXJmbicpO1xuXHQgIGlmKCBhY0F1dG9Vc2VyRm4gKXtcblx0ICAgIHZhciBmbiA9IHdpbmRvd1thY0F1dG9Vc2VyRm5dIHx8IGFjQXV0b1VzZXJGbjtcblx0ICAgIGlmKCB0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicgKXtcblx0ICAgICAgcmV0dXJuIGZuO1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gbnVsbDtcblx0fTtcblxuXG4vKioqLyB9KSxcbi8qIDUxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyoqXG5cdCAqIHByb2plY3QgLSBmaWxlcGF0aFxuXHQgKiDmlbDnu4Tlt6Xlhbdcblx0ICpcblx0ICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuXHQgKlxuXHQgKiBBdXRob3JzOlxuXHQgKiAgIOiwi+WjqyA8cWluZ2xpYW5nLmhxbEBhbGliYWJhLWluYy5jb20+XG5cdCAqL1xuXHQndXNlIHN0cmljdCc7XG5cdFxuXHQvKipcblx0ICogSUU45LiN5pSv5oyB5pWw57uE5Y6f55Sf55qEaW5kZXhPZu+8jOaVheiHquihjOWunueOsOS4gOS4qmluZGV4b2Zcblx0ICogQHBhcmFtIFtBcnJheV0gYXJyXG5cdCAqIEBwYXJhbSBbT2JqZWN0XSBpdGVtXG5cdCAqIEByZXR1cm4gW051bWJlcl0gaW5kZXhcblx0ICovXG5cdGV4cG9ydHMuaW5kZXhvZiA9IGZ1bmN0aW9uKGFyciwgaXRlbSkge1xuXHQgIHZhciBpbmRleCA9IC0xO1xuXHQgIHRyeSB7XG5cdCAgICBpbmRleCA9IGFyci5pbmRleE9mKGl0ZW0pO1xuXHQgIH0gY2F0Y2ggKGUpIHtcblx0ICAgIGZvciAodmFyIGogPSAwOyBqIDwgYXJyLmxlbmd0aDsgaisrKSB7XG5cdCAgICAgIGlmIChhcnJbal0gPT09IGl0ZW0pIHtcblx0ICAgICAgICBpbmRleCA9IGo7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9IGZpbmFsbHkge1xuXHQgICAgcmV0dXJuIGluZGV4O1xuXHQgIH1cblx0fTtcblx0XG5cdGV4cG9ydHMuaXRlbU1hdGNoID0gZnVuY3Rpb24oYXJyLCBpdGVtKSB7XG5cdCAgdmFyIG1hdGNoZWQgPSBmYWxzZTtcblx0ICB0cnkge1xuXHQgICAgaWYgKCF0aGlzLmlzQXJyYXkoYXJyKSkge1xuXHQgICAgICByZXR1cm4gbWF0Y2hlZDtcblx0ICAgIH1cblx0ICAgIG1hdGNoZWQgPSBhcnIuc29tZShmdW5jdGlvbihzKSB7XG5cdCAgICAgIHJldHVybiAocyAmJiBzLmxlbmd0aCA+IDApICYmIGl0ZW0uaW5kZXhPZihzKSAhPT0gLTE7XG5cdCAgICB9KTtcblx0ICB9IGNhdGNoKGUpIHtcblx0ICAgIGZvciAodmFyIGogPSAwOyBqIDwgYXJyLmxlbmd0aDsgaisrKSB7XG5cdCAgICAgIGlmIChpdGVtLmluZGV4T2YoYXJyW2pdKSAhPT0gLTEpIHtcblx0ICAgICAgICBtYXRjaGVkID0gdHJ1ZTtcblx0ICAgICAgICBicmVhaztcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gbWF0Y2hlZDtcblx0fTtcblx0XG5cdGV4cG9ydHMuaXNBcnJheSA9IGZ1bmN0aW9uIChvKSB7XG5cdCAgaWYgKEFycmF5LmlzQXJyYXkpIHtcblx0ICAgIHJldHVybiBBcnJheS5pc0FycmF5KG8pO1xuXHQgIH0gZWxzZSB7XG5cdCAgICByZXR1cm4gL0FycmF5Ly50ZXN0KE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKSk7XG5cdCAgfVxuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogNTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKipcblx0ICogcHJvamVjdCAtIGZpbGVwYXRoXG5cdCAqIOaTjeS9nG1ldGHnmoTlt6Xlhbfnsbtcblx0ICpcblx0ICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuXHQgKlxuXHQgKiBBdXRob3JzOlxuXHQgKiAgIOiwi+WjqyA8cWluZ2xpYW5nLmhxbEBhbGliYWJhLWluYy5jb20+XG5cdCAqL1xuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgX2hlYWRfbm9kZTtcblx0dmFyIF9tZXRhX25vZGVzO1xuXHRcblx0dmFyIHV0aWxBdHRyaWJ1dGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUzKTtcblx0LyoqXG5cdCAqIOWPluW+l+mhtemdouS4iiBoZWFkIOS4reeahOaJgOaciSBtZXRhIOWFg+e0oFxuXHQgKiBAcGFyYW0gW2ZvcmNlXSB7Ym9vbGVhbn0g5piv5ZCm5by65Yi26I635Y+W5paw5YaF5a65XG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRNZXRhVGFncyhmb3JjZSkge1xuXHQgIF9oZWFkX25vZGUgPSBfaGVhZF9ub2RlIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF07XG5cdFxuXHQgIGlmIChfbWV0YV9ub2RlcyAmJiAhZm9yY2UpIHtcblx0ICAgIHJldHVybiBfbWV0YV9ub2Rlcztcblx0ICB9XG5cdFxuXHQgIHJldHVybiBfaGVhZF9ub2RlID8gKF9tZXRhX25vZGVzID0gX2hlYWRfbm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbWV0YScpKSA6IFtdO1xuXHR9O1xuXHRleHBvcnRzLmdldE1ldGFUYWdzID0gZ2V0TWV0YVRhZ3M7XG5cdFxuXHQvKipcblx0ICog5Y+W5b6XIGhlYWQgLyBtZXRhIOS4reaMh+WumiBtZXRhIOeahCAoYXR0ciB8fCBjb250ZW50KSDlgLxcblx0ICogPG1ldGEgbmFtZT1cImFwbHVzLXRlcm1pbmFsXCIgY29udGVudD1cIjFcIj5cblx0ICovXG5cdGZ1bmN0aW9uIGdldE1ldGFDbnQobmFtZSwgYXR0cikge1xuXHQgIHZhciBpO1xuXHQgIHZhciBtZXRhO1xuXHQgIHZhciBtZXRhX25vZGVzID0gZ2V0TWV0YVRhZ3MoKTtcblx0ICB2YXIgbCA9IG1ldGFfbm9kZXMubGVuZ3RoO1xuXHQgIHZhciBjb250ZW50O1xuXHRcblx0ICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG5cdCAgICBtZXRhID0gbWV0YV9ub2Rlc1tpXTtcblx0ICAgIGlmICh1dGlsQXR0cmlidXRlLnRyeVRvR2V0QXR0cmlidXRlKG1ldGEsICduYW1lJykgPT09IG5hbWUpIHtcblx0ICAgICAgY29udGVudCA9IHV0aWxBdHRyaWJ1dGUudHJ5VG9HZXRBdHRyaWJ1dGUobWV0YSwgYXR0ciB8fCAnY29udGVudCcpO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIGNvbnRlbnQgfHwgJyc7XG5cdH07XG5cdGV4cG9ydHMuZ2V0TWV0YUNudCA9IGdldE1ldGFDbnQ7XG5cdFxuXHRcblx0LyoqXG5cdCAqIOehruWumiBoZWFkIC8gbWV0YSDkuK3nmoQgaXNvbmVwYWdlIOeahOaVsOaNrlxuXHQgKiDlvaLlpoLvvJpcblx0ICogPG1ldGEgbmFtZT1cImlzb25lcGFnZVwiIGNvbnRlbnQ9XCIwXCIgLz4g6KGo56S65LiN5pivb25lcGFnZVxuXHQgKiA8bWV0YSBuYW1lPVwiaXNvbmVwYWdlXCIgY29udGVudD1cIjF8aHR0cDovL2g1Lm0udGFvYmFvLmNvbS93ZS9pbmRleC5odG0jZGV0YWlsXCIgLz4g6KGo56S65pivb25lcGFnZVxuXHQgKi9cblx0LyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cblx0ZnVuY3Rpb24gZ2V0T25lUGFnZUluZm8obWV0YUluZm8pIHtcblx0ICB2YXIgb2JqID0ge1xuXHQgICAgaXNvbmVwYWdlOiAnLTEnLFxuXHQgICAgdXJscGFnZW5hbWU6ICcnXG5cdCAgfTtcblx0ICB2YXIgbWV0YV9pbmZvID0gbWV0YUluZm8ucUdldCgpO1xuXHQgIGlmIChtZXRhX2luZm8gJiYgbWV0YV9pbmZvLmhhc093blByb3BlcnR5KCdpc29uZXBhZ2VfZGF0YScpKSB7XG5cdCAgICBvYmouaXNvbmVwYWdlID0gbWV0YV9pbmZvLmlzb25lcGFnZV9kYXRhLmlzb25lcGFnZTtcblx0ICAgIG9iai51cmxwYWdlbmFtZSA9IG1ldGFfaW5mby5pc29uZXBhZ2VfZGF0YS51cmxwYWdlbmFtZTtcblx0ICB9IGVsc2Uge1xuXHQgICAgdmFyIGNvbnRlbnQgPSBnZXRNZXRhQ250KCdpc29uZXBhZ2UnKSB8fCAnLTEnO1xuXHQgICAgdmFyIGFycl9jb250ZW50ID0gY29udGVudC5zcGxpdChcInxcIik7XG5cdCAgICBvYmouaXNvbmVwYWdlID0gYXJyX2NvbnRlbnRbMF07XG5cdCAgICBvYmoudXJscGFnZW5hbWUgPSBhcnJfY29udGVudFsxXSA/IGFycl9jb250ZW50WzFdIDogXCJcIjtcblx0ICB9XG5cdCAgcmV0dXJuIG9iajtcblx0fTtcblx0ZXhwb3J0cy5nZXRPbmVQYWdlSW5mbyA9IGdldE9uZVBhZ2VJbmZvO1xuXG5cbi8qKiovIH0pLFxuLyogNTMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKipcblx0ICogYWxpbG9nL3Mvc3JjL2xpYl91L3V0aWxzL3V0aWxBdHRyaWJ1dGUuanNcblx0ICpcblx0ICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuXHQgKlxuXHQgKiBBdXRob3JzOlxuXHQgKiAgIOiwi+WjqyA8cWluZ2xpYW5nLmhxbEBhbGliYWJhLWluYy5jb20+XG5cdCAqL1xuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLnRyeVRvR2V0QXR0cmlidXRlID0gZnVuY3Rpb24oZWxlbWVudCwgYXR0cl9uYW1lKSB7XG5cdCAgcmV0dXJuIGVsZW1lbnQgJiYgZWxlbWVudC5nZXRBdHRyaWJ1dGUgPyAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cl9uYW1lKSB8fCAnJykgOiAnJztcblx0fTtcblx0XG5cdHZhciB0cnlUb1NldEF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChlbGVtZW50LCBhdHRyX25hbWUsIGF0dHJfdmFsdWUpIHtcblx0ICBpZiAoZWxlbWVudCAmJiBlbGVtZW50LnNldEF0dHJpYnV0ZSkge1xuXHQgICAgdHJ5IHtcblx0ICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0cl9uYW1lLCBhdHRyX3ZhbHVlKTtcblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgIH1cblx0ICB9XG5cdH07XG5cdGV4cG9ydHMudHJ5VG9TZXRBdHRyaWJ1dGUgPSB0cnlUb1NldEF0dHJpYnV0ZTtcblx0XG5cdGV4cG9ydHMudHJ5VG9SZW1vdmVBdHRyaWJ1dGUgPSBmdW5jdGlvbiAoZWxlbWVudCwgYXR0cl9uYW1lKSB7XG5cdCAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUpIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGF0dHJfbmFtZSk7XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgIHRyeVRvU2V0QXR0cmlidXRlKGVsZW1lbnQsIGF0dHJfbmFtZSwgJycpO1xuXHQgICAgfVxuXHQgIH1cblx0fTtcblxuXG4vKioqLyB9KSxcbi8qIDU0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyoqXG5cdCAqIOWwj+eoi+W6j+S4i+mdoueahHNwbeS9k+ezu1xuXHQgKlxuXHQgKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG5cdCAqXG5cdCAqIEF1dGhvcnM6XG5cdCAqICAg6b6Z6am5IDxjaGVuZ3BpbmcucmNwQGFsaWJhYmEtaW5jLmNvbT5cblx0ICovXG5cdHZhciB1dGlsR29sZGxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdHZhciBpc0FycmF5ICA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xuXHR2YXIgYXBsdXNTdGF0aWMgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0dmFyIG1pbmkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHR2YXIgdWxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgcmV0dXJuIHtcblx0ICAgIHJlc2V0TGFzdFBhZ2VTcG06IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoYXBsdXNTdGF0aWMuQVBMVVMsIHt9KTsgXG5cdCAgICAgIHZhciBzcG0gPSBhcGx1cy5fJC5zcG0gfHwge307XG5cdCAgICAgIHNwbS5zcG1fY250ID0gJyc7XG5cdCAgICB9LFxuXHQgICAgbGlzdGVuOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBfc2VsZiA9IHRoaXM7XG5cdCAgICAgIHZhciBhcGx1c19xdWV1ZSA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKGFwbHVzU3RhdGljLkFQTFVTX1FVRVVFLFtdKTsgIFxuXHQgICAgICBhcGx1c19xdWV1ZS5wdXNoKHtcblx0ICAgICAgICBhY3Rpb246YXBsdXNTdGF0aWMuU1VCU0NSSUJFLFxuXHQgICAgICAgIGFyZ3VtZW50czpbJ29uU2hvdycsZnVuY3Rpb24ob3B0KXtcblx0ICAgICAgICAgIGlmIChvcHQuc3RhdHVzID09PSAncmVhZHknKSB7XG5cdCAgICAgICAgICAgIHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKGFwbHVzU3RhdGljLkFQTFVTLHt9KTsgXG5cdCAgICAgICAgICAgIHZhciBwYWdlcyA9IGFwbHVzLmdldE1ldGFJbmZvKCdwYWdlcycpO1xuXHQgICAgICAgICAgICB2YXIgcGFnZUluc3RhbmNlID0gbWluaS5nZXRDdXJyZW50UGFnZSgpO1xuXHQgICAgICAgICAgICB2YXIgY3VycmVudFBhZ2VQYXRoID0gcGFnZUluc3RhbmNlLnJvdXRlIHx8IHBhZ2VJbnN0YW5jZS5pcztcblx0ICAgICAgICAgICAgaWYgKGlzQXJyYXkocGFnZXMpKSB7XG5cdCAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWdlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSBwYWdlc1tpXTtcblx0ICAgICAgICAgICAgICAgIGlmKGN1cnJlbnQubWF0Y2hVcmwgPT09IGN1cnJlbnRQYWdlUGF0aCl7XG5cdCAgICAgICAgICAgICAgICAgIGFwbHVzLnNldFBhZ2VTUE0oY3VycmVudC5zcG1BLCBjdXJyZW50LnNwbUIpO1xuXHQgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XVxuXHQgICAgICB9KTtcblx0ICAgICAgYXBsdXNfcXVldWUucHVzaCh7XG5cdCAgICAgICAgYWN0aW9uOmFwbHVzU3RhdGljLlNVQlNDUklCRSxcblx0ICAgICAgICBhcmd1bWVudHM6WydjbGVhclBhZ2VTUE0nLGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIF9zZWxmLnJlc2V0TGFzdFBhZ2VTcG0oKTtcblx0ICAgICAgICB9XSxcblx0ICAgICAgfSk7XG5cdCAgICAgIFxuXHQgICAgICAvKipcblx0ICAgICAgICogQHBhcmFtcyBkYXRhIHtPYmplY3R9IHtcblx0ICAgICAgICogICBzcG1DbnQ6ICdhLmIuMC4wJ1xuXHQgICAgICAgKiAgIHNwbVVybDogJ2EuYi4wLjAnXG5cdCAgICAgICAqICAgc3BtUHJlOiAnYS5iLjAuMCdcblx0ICAgICAgICogfVxuXHQgICAgICAgKi9cblx0ICAgICAgYXBsdXNfcXVldWUucHVzaCh7XG5cdCAgICAgICAgYWN0aW9uOmFwbHVzU3RhdGljLlNVQlNDUklCRSxcblx0ICAgICAgICBhcmd1bWVudHM6WydzZXRQYWdlU1BNJyxmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoYXBsdXNTdGF0aWMuQVBMVVMsIHt9KTsgXG5cdCAgICAgICAgICAgIHZhciBzcG0gPSBhcGx1cy5fJC5zcG0gfHwge307XG5cdCAgICAgICAgICAgIFxuXHQgICAgICAgICAgICB2YXIgcGFnZXMgPSBnZXRDdXJyZW50UGFnZXMoKSB8fCBbXTtcblx0ICAgICAgICAgICAgdmFyIHNwbWFiID0gZGF0YS5zcG1DbnQgPyBkYXRhLnNwbUNudC5zcGxpdCgnLicpIDogW3NwbS5kYXRhLmEgfHwgJzAnLCBzcG0uZGF0YS5iIHx8ICcwJ107XG5cdCAgICAgICAgICAgIGlmIChzcG1hYi5sZW5ndGggPT09IDIpIHtcblx0ICAgICAgICAgICAgICBzcG1hYiA9IHNwbWFiLmNvbmNhdChbJzAnLCAnMCddKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB2YXIgc3BtYWJzdHIgPSBzcG1hYi5qb2luKCcuJyk7XG5cdFxuXHQgICAgICAgICAgICB2YXIgY3VycmVudFBhZ2UgPSBwYWdlc1twYWdlcy5sZW5ndGggLSAxXTtcblx0ICAgICAgICAgICAgdmFyIHByZVBhZ2UgPSBwYWdlc1twYWdlcy5sZW5ndGggLSAyXSB8fCB7fTtcblx0ICAgICAgICAgICAgdmFyIHByZVByZVBhZ2UgPSBwYWdlc1twYWdlcy5sZW5ndGggLSAzXSB8fCB7fTtcblx0XG5cdCAgICAgICAgICAgIGlmIChwYWdlcy5sZW5ndGggPiAwICYmIGN1cnJlbnRQYWdlKSB7XG5cdCAgICAgICAgICAgICAgcGFnZXNbcGFnZXMubGVuZ3RoIC0gMV0uc3BtID0gc3BtYWJzdHI7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHZhciBjdXJyZW50UGFnZVNwbSA9IHNwbS5kYXRhICYmIHNwbS5kYXRhLmEgPyBbc3BtLmRhdGEuYSwgc3BtLmRhdGEuYiwgc3BtLmRhdGEuYyB8fCAnMCcsIHNwbS5kYXRhLmQgfHwgJzAnXS5qb2luKCcuJykgOiAnJztcblx0ICAgICAgICAgICAgc3BtLmRhdGEuYSA9IHNwbWFiWzBdID8gJycgKyBzcG1hYlswXSA6ICcwJztcblx0ICAgICAgICAgICAgc3BtLmRhdGEuYiA9IHNwbWFiWzFdID8gJycgKyBzcG1hYlsxXSA6ICcwJztcblx0ICAgICAgICAgICAgc3BtLmRhdGEuYyA9ICcwJztcblx0ICAgICAgICAgICAgc3BtLmRhdGEuZCA9ICcwJztcblx0ICAgICAgICAgICAgc3BtLnBhZ2VfcmVmZXJyZXIgPSBwYWdlcy5sZW5ndGggPiAxICYmIGN1cnJlbnRQYWdlID8gKGN1cnJlbnRQYWdlLnJvdXRlIHx8IGN1cnJlbnRQYWdlLmlzKSA6ICcnO1xuXHQgICAgICAgICAgICBzcG0uc3BtX2NudCA9IHNwbWFic3RyO1xuXHRcblx0ICAgICAgICAgICAgLy8g5Lul55So5oi35ZyoVVJM5LiK5ou85o6l55qEc3Bt5Li65YeG77yMYXBsdXMuc3BtX29yaWdu5p2l5rqQ5LqOYXV0b19pbml0L2luamVjdF9hcHAuanNcblx0ICAgICAgICAgICAgdmFyIHNwbV9vcmlnbiA9IGFwbHVzLnNwbV9vcmlnbiB8fCBzcG0uc3BtX29yaWduO1xuXHQgICAgICAgICAgICBzcG0uc3BtX3ByZSA9IGRhdGEuc3BtUHJlIHx8IHNwbS5zcG1fdXJsIHx8IHByZVByZVBhZ2Uuc3BtIHx8ICcnO1xuXHQgICAgICAgICAgICBzcG0uc3BtX3VybCA9IGRhdGEuc3BtVXJsIHx8IGN1cnJlbnRQYWdlU3BtIHx8IHByZVBhZ2Uuc3BtIHx8IHNwbV9vcmlnbiB8fCAgJyc7XG5cdCAgICAgICAgICAgIGFwbHVzLl8kLnNwbSA9IHNwbTtcblx0ICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3NldFBhZ2VTUE0gZXJyb3IsIHRoZSBlcnJvckluZm8gaXMgJywgZSk7XG5cdCAgICAgICAgICAgIHVsb2coKS53KCdzZXRQYWdlU1BNIGVycm9yLCB0aGUgZXJyb3JJbmZvIGlzICcsIGUpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgXG5cdCAgICAgICAgfV0sXG5cdCAgICAgIH0pO1xuXHQgICAgfSxcblx0XG5cdCAgICBydW46IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdGhpcy5saXN0ZW4oKTtcblx0ICAgIH1cblx0ICB9O1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogNTUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKlxuXHQgKiBGaWxlOiBhcGx1c19taW5pX3JlcG9ydF91bS5qc1xuXHQgKiBQcm9qZWN0OiBAYWxpL2FwbHVzXG5cdCAqICAgICAgXG5cdCAqIEF1dGhvcjog6ZKw5pitIChjaGFuZ2xpYW5nLmxjbEB1bWVuZy5jb20pXG5cdCAqICAgICAgXG5cdCAqIENvcHlyaWdodCAtIDIwMjEgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG5cdCAqL1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0ICByZXR1cm4ge1xuXHQgICAgcnVuOiBmdW5jdGlvbigpIHtcblx0ICAgICAgdmFyIE1haW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU2KTtcblx0ICAgICAgdmFyIG1haW4gPSBNYWluLmNyZWF0ZSgpO1xuXHQgICAgICBtYWluLnJ1bih0aGlzLm9wdGlvbnMpO1xuXHQgICAgfVxuXHQgIH07XG5cdH07XG5cbi8qKiovIH0pLFxuLyogNTYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKlxuXHQgKiBGaWxlOiBtYWluX21pbmlfdW1faHR0cC5qc1xuXHQgKiBQcm9qZWN0OiBAYWxpL2FwbHVzXG5cdCAqICAgICAgXG5cdCAqIEF1dGhvcjog6ZKw5pitIChjaGFuZ2xpYW5nLmxjbEB1bWVuZy5jb20pXG5cdCAqICAgICAgXG5cdCAqIENvcHlyaWdodCAtIDIwMjEgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG5cdCAqL1xuXHRcblx0J3VzZSBzdHJpY3QnO1xuXHQvLyB2YXIgbG9nX2Nsb3VkID0gcmVxdWlyZSgnLi9sb2dfY2xvdWQnKTtcblx0dmFyIG1haW5fYmFzZV9odHRwID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nyk7XG5cdHZhciBldmVudE1hbmFnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblx0dmFyIHJlcXVlc3RRdWV1ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXHR2YXIgdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblx0dmFyIHVsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0dmFyIGNsb25lRGVlcCA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdHZhciB1dGlsRGFzaCA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpO1xuXHR2YXIgdXRpbEdvbGRsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHQvLyB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZSgnYXBsdXMnKTtcblx0dmFyIG1pbmkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHR2YXIgYXBsdXNTdGF0aWMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgUGFnZU1hbmFnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblx0XG5cdGZ1bmN0aW9uIGhhbmRsZUV2ZW50KGlkLCBvcHRpb25zKSB7XG5cdCAgdWxvZygpLnYoJ2V2ZW50OiAnLCBpZCwgb3B0aW9ucyk7XG5cdCAgXG5cdCAgaWYgKHV0aWxzLmNoZWNrRXZlbnQoaWQsIG9wdGlvbnMpKSB7XG5cdCAgICB2YXIgZXZlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU5KShpZCwgb3B0aW9ucyk7XG5cdCAgICBldmVudE1hbmFnZXIoKS5hZGRFdmVudChldmVudCk7XG5cdFxuXHQgICAgcmVxdWVzdFF1ZXVlKCkuc2VuZCh1dGlscy5EYXRhVHlwZS5FS1YsIHsgbm9DYWNoZTogZmFsc2UgfSwgZnVuY3Rpb24oKXtcblx0ICAgICAgdWxvZygpLmkoJ2V2ZW50IHNlbmQgc3VjY2VzczogJywgaWQsIGV2ZW50KTtcblx0ICAgIH0pO1xuXHQgIH1cblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gbWFpbl9iYXNlX2h0dHAuZXh0ZW5kKHtcblx0XG5cdCAgaGFuZGxlck1pZGRsZXdhcmU6IGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZSgnYXBsdXMnKTtcblx0ICAgIHVsb2coKS5zZXREZWJ1ZyghIWFwbHVzLmdldE1ldGFJbmZvKCdERUJVRycpKTtcblx0ICAgIHZhciB1c2VyRXZlbnRBcmdzLCBnb2tleTtcblx0ICAgIHZhciBsb2drZXkgPSBkYXRhICYmIGRhdGEudXNlcmRhdGEgJiYgZGF0YS51c2VyZGF0YS5sb2drZXk7XG5cdCAgICB2YXIgZ21rZXkgPSBkYXRhICYmIGRhdGEudXNlcmRhdGEgJiYgZGF0YS51c2VyZGF0YS5nbWtleTtcblx0ICAgIHZhciBsb2dkYXRhID0gZGF0YSAmJiBkYXRhLndoYXRfdG9fc2VuZCAmJiBkYXRhLndoYXRfdG9fc2VuZC5sb2dkYXRhICYmIGRhdGEud2hhdF90b19zZW5kLmxvZ2RhdGEgfHwge307XG5cdCAgICB2YXIgZ3AgPSBhcGx1cy5nZXRNZXRhSW5mbygnZ2xvYmFscHJvcGVydHknKTtcblx0ICAgIHZhciBwYWdlX25hbWU7XG5cdCAgICBpZiAoZ21rZXkgPT09ICdDTEsnIHx8IGdta2V5ID09PSAnRVhQJyB8fCBnbWtleSA9PT0gJ09USEVSJyB8fCBsb2drZXkgPT09IGFwbHVzU3RhdGljLkFQUF9TVEFSVCB8fCBsb2drZXkgPT09IGFwbHVzU3RhdGljLkFQUF9FTkQpIHtcblx0ICAgICAgdXNlckV2ZW50QXJncyA9IGNsb25lRGVlcChkYXRhICYmIGRhdGEudXNlcmRhdGEgJiYgZGF0YS51c2VyZGF0YS5nb2tleSB8fCB7fSk7XG5cdCAgICAgIGdva2V5ID0gbG9nZGF0YS5nb2tleSB8fCB7fTtcblx0ICAgICAgdmFyIGV2ZW50X2FyZ3M7XG5cdCAgICAgIHZhciBzZGtBcmdzID0ge307XG5cdCAgICAgIGlmIChsb2drZXkgPT09ICckJF9zaGFyZScpIHtcblx0ICAgICAgICBzZGtBcmdzLnJlZmVyX3BhZ2UgPSBsb2dkYXRhLnVybDtcblx0ICAgICAgICBzZGtBcmdzLnNoYXJlX3R5cGUgPSB1c2VyRXZlbnRBcmdzLnNoYXJlX3R5cGU7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmIChnb2tleS5zY2VuZSkge1xuXHQgICAgICAgIHNka0FyZ3Muc2NlbmUgPSBtaW5pLmdldFBsYXRmb3JtVHlwZSgpICsgJ18nICsgZ29rZXkuc2NlbmU7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIC8vICQkX2FwcF9saW5r5LqL5Lu255qEdGFyZ2V0QXBwS2V5XG5cdCAgICAgIGlmKGdva2V5LnRhcmdldEFwcEtleSkge1xuXHQgICAgICAgIHNka0FyZ3MudGFyZ2V0QXBwS2V5ID0gdXNlckV2ZW50QXJncy50YXJnZXRBcHBLZXk7XG5cdCAgICAgICAgZGVsZXRlIHVzZXJFdmVudEFyZ3MudGFyZ2V0QXBwS2V5O1xuXHQgICAgICB9XG5cdCAgICAgIFxuXHQgICAgICBwYWdlX25hbWUgPSB1c2VyRXZlbnRBcmdzWydkYXRhLXBhZ2VuYW1lJ10gfHwgdXNlckV2ZW50QXJncy5wYWdlX25hbWUgfHwgKHVzZXJFdmVudEFyZ3Muc3BtICYmIHVzZXJFdmVudEFyZ3Muc3BtLmIpIHx8IGFwbHVzLmdldFBhZ2VOYW1lKCkgfHwgbG9nZGF0YS51cmwgfHwgJyc7XG5cdCAgICAgIHNka0FyZ3MucGFnZV9uYW1lID0gcGFnZV9uYW1lO1xuXHQgICAgICBcblx0ICAgICAgc2RrQXJncy51cmwgPSBsb2dkYXRhLnVybCB8fCAnLSc7XG5cdCAgICAgIGlmICh1c2VyRXZlbnRBcmdzLnBhZ2VfbmFtZSB8fCB1c2VyRXZlbnRBcmdzWydkYXRhLXBhZ2VuYW1lJ10pIHtcblx0ICAgICAgICBkZWxldGUgdXNlckV2ZW50QXJncy5wYWdlX25hbWU7XG5cdCAgICAgICAgZGVsZXRlIHVzZXJFdmVudEFyZ3NbJ2RhdGEtcGFnZW5hbWUnXTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKCF1dGlsRGFzaC5pc0VtcHR5T2JqZWN0KGdwKSkge1xuXHQgICAgICAgIHNka0FyZ3MuZ3AgPSBncDtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKHVzZXJFdmVudEFyZ3Muc3BtKSB7XG5cdCAgICAgICAgc2RrQXJnc1snc3BtLWNudCddID0gW2VuY29kZVVSSUNvbXBvbmVudChwYWdlX25hbWUpLCB1c2VyRXZlbnRBcmdzLnNwbS5jLCB1c2VyRXZlbnRBcmdzLnNwbS5kXS5maWx0ZXIoZnVuY3Rpb24odil7XG5cdCAgICAgICAgICByZXR1cm4gISF2O1xuXHQgICAgICAgIH0pLmpvaW4oJy4nKTtcblx0ICAgICAgICBkZWxldGUgdXNlckV2ZW50QXJncy5zcG07XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHZhciBjbG9uZVAgPSBjbG9uZURlZXAodXNlckV2ZW50QXJncyk7XG5cdCAgICAgIGZvciAodmFyIGsgaW4gY2xvbmVQKSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBrID09PSAnc3RyaW5nJyAmJiB1dGlscy5zdGFydHNXaXRoKGssICdfJykpIHtcblx0ICAgICAgICAgIHNka0FyZ3Nba10gPSBjbG9uZVBba107XG5cdCAgICAgICAgICBkZWxldGUgdXNlckV2ZW50QXJnc1trXTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGxvZ2tleSA9PT0gYXBsdXNTdGF0aWMuQVBQX1NUQVJUIHx8IGxvZ2tleSA9PT0gYXBsdXNTdGF0aWMuQVBQX0VORCkge1xuXHQgICAgICAgIGV2ZW50X2FyZ3MgPSB1dGlsRGFzaC5hc3NpZ24oc2RrQXJncywgdXNlckV2ZW50QXJncyk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgZXZlbnRfYXJncyA9IHV0aWxEYXNoLmFzc2lnbihzZGtBcmdzLCB7IGN1c3A6IHVzZXJFdmVudEFyZ3MgfSk7XG5cdCAgICAgIH1cblx0ICAgICAgaGFuZGxlRXZlbnQobG9na2V5LCBldmVudF9hcmdzKTtcblx0ICAgIH0gZWxzZSBpZiAobG9nZGF0YS5ldmVudF9jb2RlID09PSAnMjAwMScpIHsgXG5cdCAgICAgIHZhciBwdmFyZ3MgPSB7fTtcblx0ICAgICAgdmFyIHBhZ2VfaWQgPSBhcGx1c1N0YXRpYy5QQUdFX1NUQVJUO1xuXHQgICAgICBnb2tleSA9IGNsb25lRGVlcChsb2dkYXRhLmdva2V5IHx8IHt9KTtcblx0ICAgICAgXG5cdCAgICAgIHBhZ2VfbmFtZSA9IGdva2V5LnBhZ2VfbmFtZSB8fCBhcGx1cy5nZXRQYWdlTmFtZSgpIHx8IFBhZ2VNYW5hZ2VyLmdldFBhZ2VDb2RlKGxvZ2RhdGEudXJsKSB8fCBsb2dkYXRhLnVybCB8fCAnJztcblx0ICAgICAgcHZhcmdzLnIgPSBsb2dkYXRhLmFyZzEgfHwgbG9nZGF0YS5sb2drZXkgfHwgJy0nO1xuXHQgICAgICBwdmFyZ3MucGFnZV9uYW1lID0gcGFnZV9uYW1lO1xuXHQgICAgICBpZiAoZ29rZXkuX3BhZ2VfYXV0b19wdikge1xuXHQgICAgICAgIHB2YXJncy5pc19hdXRvID0gMTtcblx0ICAgICAgICBwdmFyZ3MudXJsID0gZ29rZXkucGF0aCB8fCAnLSc7XG5cdCAgICAgICAgcHZhcmdzLnJlZl91cmwgPSBnb2tleS5yZWZlcnJlcjtcblx0ICAgICAgICBkZWxldGUgZ29rZXkuX3BhZ2VfYXV0b19wdjtcblx0ICAgICAgICBkZWxldGUgZ29rZXkucmVmZXJyZXI7XG5cdCAgICAgICAgZGVsZXRlIGdva2V5LnBhdGg7XG5cdCAgICAgICAgZGVsZXRlIGdva2V5LnBhZ2VfbmFtZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBwdmFyZ3MuaXNfYXV0byA9IDA7XG5cdCAgICAgICAgcHZhcmdzLnVybCA9IGxvZ2RhdGEudXJsIHx8ICctJztcblx0ICAgICAgICBwdmFyZ3MucmVmX3VybCA9IGxvZ2RhdGEucHJlO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoZ29rZXkuZHVyYXRpb24pIHtcblx0ICAgICAgICBwdmFyZ3MuZHVyYXRpb24gPSBnb2tleS5kdXJhdGlvbjtcblx0ICAgICAgICBkZWxldGUgZ29rZXkuZHVyYXRpb247XG5cdCAgICAgIH1cblx0ICAgICAgXG5cdCAgICAgIGlmICghdXRpbERhc2guaXNFbXB0eU9iamVjdChncCkpIHtcblx0ICAgICAgICBwdmFyZ3MuZ3AgPSBncDtcblx0ICAgICAgfVxuXHQgICAgICBcblx0ICAgICAgaWYgKGdva2V5LnNjZW5lKSB7XG5cdCAgICAgICAgcHZhcmdzLnNjZW5lID0gbWluaS5nZXRQbGF0Zm9ybVR5cGUoKSArICdfJyArIGdva2V5LnNjZW5lO1xuXHQgICAgICB9XG5cdCAgICAgIGdva2V5ID0gdXRpbHMuZGVsZXRlSW5mbyhnb2tleSwgWydfYW5vbnlfaWQnLCAnX2Rldl9pZCcsICdfc2Vzc2lvbl9pZCcsICdfdXNlcl9pZCcsICdfdXNlcl9uaWNrJywgJ3VhaWQnLCAncHZpZCcsICdzY2VuZSddKTtcblx0ICAgICAgcHZhcmdzWydzcG0tY250J10gPSBlbmNvZGVVUklDb21wb25lbnQocGFnZV9uYW1lKTtcblx0ICAgICAgaWYgKGdva2V5Ll9wYWdlX2F1dG9faWQpIHtcblx0ICAgICAgICBwYWdlX2lkID0gZ29rZXkuX3BhZ2VfYXV0b19pZDtcblx0ICAgICAgICBkZWxldGUgZ29rZXkuX3BhZ2VfYXV0b19pZDtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKGdva2V5LnBhZ2Vfc3RhcnQpIHtcblx0ICAgICAgICBwdmFyZ3MucGFnZV9zdGFydCA9IGdva2V5LnBhZ2Vfc3RhcnQ7XG5cdCAgICAgICAgZGVsZXRlIGdva2V5LnBhZ2Vfc3RhcnQ7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIC8vIGlmIChnb2tleS5wYWdlX25hbWUpIHtcblx0ICAgICAgLy8gZGVsZXRlIGdva2V5LnBhZ2VfbmFtZTtcblx0ICAgICAgLy8gfVxuXHQgICAgICBcblx0ICAgICAgaGFuZGxlRXZlbnQocGFnZV9pZCwgdXRpbERhc2guYXNzaWduKHB2YXJncywgeyBjdXNwOiBnb2tleX0gKSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAvLyBjb25zb2xlLmxvZygyMjIyLCBkYXRhKTtcblx0ICAgIH1cblx0ICB9LFxuXHRcblx0ICBydW46IGZ1bmN0aW9uKCkge1xuXHQgICAgdGhpcy53YXRjaExPRygpO1xuXHQgIH1cblx0ICBcblx0fSk7XG5cbi8qKiovIH0pLFxuLyogNTcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKipcblx0ICog5oum5oiq5bm25oyJaHR0cOWNj+iuruWPkemAgeaXpeW/l1xuXHQgKlxuXHQgKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG5cdCAqXG5cdCAqIEF1dGhvcnM6XG5cdCAqICAgUmljaGFyZHzosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuXHQgKi9cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIEJhc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3KTtcblx0Ly8gdmFyIGxvZ19jbG91ZCA9IHJlcXVpcmUoJy4vbG9nX2Nsb3VkJyk7XG5cdHZhciB1dGlsR1EgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU4KTtcblx0dmFyIGFwbHVzU3RhdGljID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0Ly8gdmFyIHV0aWxHb2xkbG9nID0gcmVxdWlyZSgnQHV0aWxzL3V0aWxHb2xkbG9nJyk7XG5cdC8vIHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKCdhcGx1cycpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBCYXNlLmV4dGVuZCh7XG5cdFxuXHQgIHN1YnNjcmliZUxvZ3M6IGZ1bmN0aW9uIChhY3Rpb24sIGNhbGxiYWNrKSB7XG5cdCAgICB1dGlsR1EucHVzaEludG9Hb2xkbG9nUXVldWUoYXBsdXNTdGF0aWMuU1VCU0NSSUJFLCBbYWN0aW9uLCBmdW5jdGlvbiAob3JpRGF0YXMpIHtcblx0ICAgICAgaWYgKG9yaURhdGFzLnN0YXR1cyA9PT0gYXBsdXNTdGF0aWMuQ09NUExFVEUpIHtcblx0ICAgICAgICBjYWxsYmFjayhvcmlEYXRhcyk7XG5cdCAgICAgIH1cblx0ICAgIH1dKTtcblx0ICB9LFxuXHRcblx0ICBnZXRMb2dpY1N5bWJvbDogZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuZm9ybWF0ID09PSAnQUxJJyA/ICcmJyA6ICd8fCc7XG5cdCAgfSxcblx0XG5cdCAgLyoqXG5cdCAgICog5Zyo5a2Q57G75Lit5a6e546wXG5cdCAgICogQHBhcmFtcyB7T2JqZWN0fSBkYXRhXG5cdCAgICovXG5cdCAgaGFuZGxlck1pZGRsZXdhcmU6IGZ1bmN0aW9uICgpIHt9LFxuXHQgIFxuXHRcblx0ICB3YXRjaExPRzogZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIF9zZWxmID0gdGhpcztcblx0ICAgIFxuXHQgICAgLy8g6K6i6ZiFcHbkuovku7Zcblx0ICAgIF9zZWxmLnN1YnNjcmliZUxvZ3MoYXBsdXNTdGF0aWMuTVdfQ0hBTkdFX1BWLCBmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICBfc2VsZi5oYW5kbGVyTWlkZGxld2FyZShkYXRhLCAncHYnKTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIC8vIOiuoumYhWhqbGovYXBsdXPkuovku7Zcblx0ICAgIF9zZWxmLnN1YnNjcmliZUxvZ3MoYXBsdXNTdGF0aWMuTVdfQ0hBTkdFX0hKTEosIGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIF9zZWxmLmhhbmRsZXJNaWRkbGV3YXJlKGRhdGEsIGFwbHVzU3RhdGljLkFQTFVTKTtcblx0ICAgIH0pO1xuXHQgIH0sXG5cdFxuXHQgIHJ1bjogZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy53YXRjaExPRygpO1xuXHQgIH1cblx0fSk7XG5cblxuLyoqKi8gfSksXG4vKiA1OCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiBhbGlsb2cvcy9zcmMvbGliX3UvdXRpbHMvdXRpbEdRLmpzXG5cdCAqIOaTjeS9nGFwbHVzX3F1ZXVl55qE5bel5YW357G7XG5cdCAqXG5cdCAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cblx0ICpcblx0ICogQXV0aG9yczpcblx0ICogICDosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuXHQgKi9cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIHV0aWxHb2xkbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdGV4cG9ydHMucHVzaEludG9Hb2xkbG9nUXVldWUgPSBmdW5jdGlvbiAoYWN0aW9uLCBhcmdzKSB7XG5cdCAgdmFyIGFwbHVzX3F1ZXVlID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoJ2FwbHVzX3F1ZXVlJyk7XG5cdCAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoJ2FwbHVzJyk7XG5cdCAgdmFyIG5hbWVzID0gYWN0aW9uLnNwbGl0KCcuJyk7XG5cdCAgdmFyIGFwbHVzXzEgPSBhcGx1c1tuYW1lc1sxXV07XG5cdCAgdmFyIGFwbHVzXzIgPSBhcGx1c18xID8gYXBsdXNfMVtuYW1lc1syXV0gOiBudWxsO1xuXHRcblx0ICBpZiAoYXBsdXMgJiYgbmFtZXMubGVuZ3RoID09PSAyICYmIGFwbHVzXzEpIHtcblx0ICAgIGFwbHVzXzEuYXBwbHkoYXBsdXMsIGFyZ3MpO1xuXHQgIH0gZWxzZSBpZiAobmFtZXMubGVuZ3RoID09PSAzICYmIGFwbHVzXzIpIHtcblx0ICAgIGFwbHVzXzIuYXBwbHkoYXBsdXNfMSwgYXJncyk7ICBcblx0ICB9IGVsc2Uge1xuXHQgICAgYXBsdXNfcXVldWUucHVzaCh7XG5cdCAgICAgIGFjdGlvbjogYWN0aW9uLFxuXHQgICAgICBhcmd1bWVudHM6IGFyZ3Ncblx0ICAgIH0pO1xuXHQgIH1cblx0fTtcblxuXG4vKioqLyB9KSxcbi8qIDU5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Lypcblx0ICogRmlsZTogZXZlbnQuanNcblx0ICogUHJvamVjdDogQGFsaS9hcGx1c1xuXHQgKiAgICAgIFxuXHQgKiBBdXRob3I6IOmSsOaYrSAoY2hhbmdsaWFuZy5sY2xAdW1lbmcuY29tKVxuXHQgKiAgICAgIFxuXHQgKiBDb3B5cmlnaHQgLSAyMDIxIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuXHQgKi9cblx0dmFyIHV0aWxHb2xkbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0dmFyIHV0aWxEYXNoID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNyk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGlkLCBwcm9wZXJ0aWVzKSB7XG5cdCAgaWYgKHR5cGVvZiBpZCAhPT0gJ3N0cmluZycpIHtcblx0ICAgIHJldHVybiBudWxsO1xuXHQgIH1cblx0ICB2YXIgZXZlbnQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXHQgIGV2ZW50LmlkID0gaWQ7XG5cdCAgaWYgKCFwcm9wZXJ0aWVzIHx8ICFwcm9wZXJ0aWVzLnRzKSB7XG5cdCAgICBldmVudC50cyA9IERhdGUubm93KCk7XG5cdCAgfVxuXHQgIHZhciBwcm9wc1R5cGUgPSB0eXBlb2YgcHJvcGVydGllcztcblx0ICBpZiAocHJvcHNUeXBlID09PSAnb2JqZWN0Jykge1xuXHQgICAgZm9yICh2YXIga2V5IGluIHByb3BlcnRpZXMpIHtcblx0ICAgICAgaWYgKHt9Lmhhc093blByb3BlcnR5LmNhbGwocHJvcGVydGllcywga2V5KSkge1xuXHQgICAgICAgIGV2ZW50W2tleV0gPSBwcm9wZXJ0aWVzW2tleV07XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdCAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoJ2FwbHVzJyk7XG5cdCAgdmFyIGdwID0gYXBsdXMuZ2V0TWV0YUluZm8oJ2dsb2JhbHByb3BlcnR5Jyk7XG5cdCAgaWYgKCF1dGlsRGFzaC5pc0VtcHR5T2JqZWN0KGdwKSkge1xuXHQgICAgZXZlbnRbJ2dwJ10gPSBncDsgXG5cdCAgfVxuXHQgIHJldHVybiBldmVudDtcblx0fTtcblxuLyoqKi8gfSksXG4vKiA2MCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiBwcm9qZWN0IC0gZmlsZXBhdGhcblx0ICog5rOo5YWlbG9nQ29uZmlnLOS+m+WQjue7reaPkuS7tuS9v+eUqFxuXHQgKlxuXHQgKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG5cdCAqXG5cdCAqIEF1dGhvcnM6XG5cdCAqICAg6LCL5aOrIDxxaW5nbGlhbmcuaHFsQGFsaWJhYmEtaW5jLmNvbT5cblx0ICovXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBlYWNoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcblx0ICByZXR1cm4ge1xuXHQgICAgZ2V0TG9nQ29uZmlnOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBsb2dDb25maWcgPSB7fTtcblx0ICAgICAgdmFyIHBsdWdpbnMgPSB0aGlzLm9wdGlvbnMuY29uZmlnLnBsdWdpbnM7XG5cdFxuXHQgICAgICBmb3IgKHZhciBrIGluIHBsdWdpbnMpIHtcblx0ICAgICAgICBsb2dDb25maWdba10gPSB7XG5cdCAgICAgICAgICBwbHVnaW5zOiBwbHVnaW5zW2tdLFxuXHQgICAgICAgICAgY29udGV4dDoge31cblx0ICAgICAgICB9O1xuXHQgICAgICAgIGVhY2gocGx1Z2luc1trXSwgZnVuY3Rpb24gKHYpIHtcblx0ICAgICAgICAgIGxvZ0NvbmZpZ1trXS5jb250ZXh0W3YubmFtZV0gPSB2LmNvbmZpZyB8fCB7fTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbG9nQ29uZmlnO1xuXHQgICAgfSxcblx0XG5cdCAgICBydW46IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdGhpcy5vcHRpb25zLmNvbnRleHQubG9nQ29uZmlnID0gdGhpcy5nZXRMb2dDb25maWcoKTtcblx0ICAgICAgdGhpcy5vcHRpb25zLmNvbnRleHQubG9nQ29uZmlnLnBhZ2VMb2FkVGltZSA9IHRoaXMub3B0aW9ucy5jb250ZXh0LlBBR0VfTE9BRF9USU1FO1xuXHQgICAgfVxuXHQgIH07XG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiA2MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiBhbGlsb2cvcyAtIHNyYy9saWJfdS9jb25maWcvcGx1Z2lucy9ldGFnLmpzXG5cdCAqXG5cdCAqIOS9nOeUqO+8muWQjOatpWFwbHVzX2luaXTlt6XkvZzmtYHnmoTkv6Hmga9cblx0ICogZGVwczog5pegXG5cdCAqXG5cdCAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cblx0ICpcblx0ICogQXV0aG9yczpcblx0ICogICDosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuXHQgKi9cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIHV0aWxHb2xkbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0dmFyIG1pbmkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHR2YXIgYXBsdXNTdGF0aWMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgdXRpbEV0YWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYyKTtcblx0dmFyIHVsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0dmFyIEVNUFRZX0NOQSA9ICdFTVBUWV9DTkEnO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0ICByZXR1cm4ge1xuXHQgICAgX3N5bmNFdGFnOiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcblx0ICAgICAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoYXBsdXNTdGF0aWMuQVBMVVMpO1xuXHQgICAgICB2YXIgX3NlbGYgPSB0aGlzO1xuXHQgICAgICB2YXIgY2hlY2sgPSBmdW5jdGlvbiAobykge1xuXHQgICAgICAgIHZhciBjbmEgPSBvICYmIG8uZGF0YSA/IG8uZGF0YS5jbmEgOiAnJztcblx0ICAgICAgICBpZiAoIWNuYSkge1xuXHQgICAgICAgICAgaWYgKGFwbHVzLmZldGNoRXRhZ1N0YXR1cyA9PT0gJ1knKSB7XG5cdCAgICAgICAgICAgIC8vIOS4uuS6huino+WGs+W5tuWPkemXrumimO+8jOS7jmFwbHVzX3F1ZXVl5pS55oiQ55u05o6l55SoYXBsdXMuYXBsdXNfcHVic3ViIEDosIvlo6sgMjAwMjEtMDEtMTlcblx0ICAgICAgICAgICAgYXBsdXMuYXBsdXNfcHVic3ViLnN1YnNjcmliZSgnZXRhZycsIGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgICAgICAgICAgIGNhbGxiYWNrKHZhbHVlKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB0b1N5bmNFdGFnKCk7ICBcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdXRpbEdvbGRsb2cuc2V0R29sZGxvZ1ZhbChldGFnU3RvcmFnZUtleSwgY25hKTtcblx0ICAgICAgICAgIGNhbGxiYWNrKGNuYSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9O1xuXHQgICAgICBcblx0ICAgICAgdmFyIGFwbHVzX3Job3N0X3YgPSBhcGx1cy5nZXRNZXRhSW5mbyhhcGx1c1N0YXRpYy5BUExVU19QVl9ET01BSU4pO1xuXHQgICAgICB2YXIgdXJsO1xuXHRcblx0ICAgICAgaWYgKGFwbHVzX3Job3N0X3YpIHtcblx0ICAgICAgICB1cmwgPSB1dGlsRXRhZy5nZXRVcmwoe1xuXHQgICAgICAgICAgZWdVcmw6IChhcGx1c19yaG9zdF92LmluZGV4T2YoJy8vJykgPT09IC0xID8gJy8vJyArIGFwbHVzX3Job3N0X3YgOiBhcGx1c19yaG9zdF92KSArICcvZWcuanMnXG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgaWYgKF9zZWxmLm9wdGlvbnMuY29udGV4dC5ldGFnKSB7XG5cdCAgICAgICAgICBfc2VsZi5vcHRpb25zLmNvbnRleHQuZXRhZy5lZ1VybCA9IHVybDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIGN0eCA9IG1pbmkuZ2V0Q29udGV4dCgpO1xuXHQgICAgICB2YXIgZXRhZ1N0b3JhZ2VLZXkgPSBhcGx1cy5nbG9iYWxDb25maWcuRVRBR19TVE9SQUdFX0tFWTtcblx0ICAgICAgdmFyIHRvU3luY0V0YWcgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgaWYgKHVybCkge1xuXHQgICAgICAgICAgYXBsdXMuZmV0Y2hFdGFnU3RhdHVzID0gJ1knO1xuXHQgICAgICAgICAgbWluaS5yZXF1ZXN0KHVybCwge1xuXHQgICAgICAgICAgICBkYXRhVHlwZTogJ3RleHQnLFxuXHQgICAgICAgICAgICByZXF1ZXN0TWV0aG9kTmFtZTogJ3JlcXVlc3QnXG5cdCAgICAgICAgICB9LCBmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgICAgIGFwbHVzLmZldGNoRXRhZ1N0YXR1cyA9ICdOJztcblx0ICAgICAgICAgICAgdmFyIGV0YWcgPSAnJztcblx0ICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhIHx8ICcnO1xuXHQgICAgICAgICAgICAgIHZhciBhcnIgPSBkYXRhLnNwbGl0KCc7Jyk7XG5cdCAgICAgICAgICAgICAgaWYgKGFyci5sZW5ndGggPiAxKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgZXRhZ0tleVZhbHVlID0gYXJyWzFdO1xuXHQgICAgICAgICAgICAgICAgdmFyIGV0YWdzID0gZXRhZ0tleVZhbHVlLnNwbGl0KCc9Jyk7XG5cdCAgICAgICAgICAgICAgICBldGFnID0gZXRhZ3NbMV0gfHwgJyc7XG5cdCAgICAgICAgICAgICAgICBldGFnID0gZXRhZy5yZXBsYWNlKC9cXFwiL2csICcnKTtcblx0ICAgICAgICAgICAgICAgIHV0aWxHb2xkbG9nLnNldEdvbGRsb2dWYWwoZXRhZ1N0b3JhZ2VLZXksIGV0YWcpO1xuXHQgICAgICAgICAgICAgICAgY3R4LnNldFN0b3JhZ2Uoe1xuXHQgICAgICAgICAgICAgICAgICBrZXk6IGV0YWdTdG9yYWdlS2V5LFxuXHQgICAgICAgICAgICAgICAgICBkYXRhOiB7XG5cdCAgICAgICAgICAgICAgICAgICAgY25hOiBldGFnXG5cdCAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgLy8g5Li65LqG6Kej5Yaz5bm25Y+R6Zeu6aKY77yM5LuOYXBsdXNfcXVldWXmlLnmiJDnm7TmjqXnlKhhcGx1cy5hcGx1c19wdWJzdWJcblx0ICAgICAgICAgICAgICAgIC8vIOW5tmNhY2hl5L2P5LiK5LiA5qyh55qE57uT5p6cIEDosIvlo6sgMjAwMjEtMDEtMTlcblx0ICAgICAgICAgICAgICAgIGFwbHVzLmFwbHVzX3B1YnN1Yi5wdWJsaXNoKCdldGFnJywgZXRhZyk7XG5cdCAgICAgICAgICAgICAgICBhcGx1cy5hcGx1c19wdWJzdWIuY2FjaGVQdWJzKCdldGFnJywgZXRhZyk7XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgICAgICAgdWxvZygpLncoZSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKCFldGFnKSB7XG5cdCAgICAgICAgICAgICAgZXRhZyA9IEVNUFRZX0NOQTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBjYWxsYmFjayhldGFnKTtcblx0ICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZXMyKSB7XG5cdCAgICAgICAgICAgIHVsb2coKS53KHJlczIpO1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9O1xuXHQgICAgICB2YXIgQ05BID0gdXRpbEdvbGRsb2cuZ2V0R29sZGxvZ1ZhbChldGFnU3RvcmFnZUtleSk7XG5cdCAgICAgIGlmIChDTkEpIHtcblx0ICAgICAgICBjYWxsYmFjayhDTkEpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGN0eC5nZXRTdG9yYWdlKHtcblx0ICAgICAgICAgIGtleTogZXRhZ1N0b3JhZ2VLZXksXG5cdCAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgICAgIGNoZWNrKHJlcyk7XG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgZmFpbDogZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgICAgICBjaGVjayhyZXMpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogcHblj5HpgIHliLDlk6rph4zljrtcblx0ICAgICAqIOi/lOWbnlwiZG9uZVwi57uI5q2i5Lit6Ze05Lu25omn6KGM77yM6L+U5Zue4oCccGF1c2XigJ3mmoLlgZzkuK3pl7Tku7bmiafooYzvvIzov5Tlm57kuIDkuKrmlbTmlbDigJxu4oCd5ZGK6K+J5Lit6Ze05Lu24oCcbuKAneavq+enkuWQjue7p+e7reaJp+ihjOS4remXtOS7tlxuXHQgICAgICog4oCc5pqC5YGc4oCd5pyA5aSaMTBz77yM6Iul6LaF5pe25Lit6Ze05Lu25Lya5by65Yi257un57ut5omn6KGMXG5cdCAgICAgKiBAcGFyYW0gW1N0cmluZ10gc3RhdGUg54q25oCBXG5cdCAgICAgKiBAcGFyYW0gW0Z1bmN0aW9uXSBjYiAg5Zue6LCDXG5cdCAgICAgKiBAcmV0dXJuIFwiZG9uZVwiIHwgdW5kZWZpbmVkXG5cdCAgICAgKi9cblx0ICAgIHJ1bjogZnVuY3Rpb24gKHN0YXRlLCBjYikge1xuXHQgICAgICB2YXIgX3NlbGYgPSB0aGlzO1xuXHQgICAgICAvLyB2YXIgc3RhcnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cdCAgICAgIHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKCdhcGx1cycpO1xuXHQgICAgICB2YXIgZXRhZ1RpbWVvdXQgPSBhcGx1cy5nZXRNZXRhSW5mbygnYXBsdXMtZXRhZy10aW1lb3V0Jyk7XG5cdCAgICAgIHZhciBkZWZhdWx0VGltZSA9IDIwMDtcblx0ICAgICAgdmFyIHRpbWUgPSBkZWZhdWx0VGltZTtcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICB0aW1lID0gcGFyc2VJbnQoZXRhZ1RpbWVvdXQpO1xuXHQgICAgICAgIGlmIChpc05hTih0aW1lKSkge1xuXHQgICAgICAgICAgdGltZSA9IGRlZmF1bHRUaW1lO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB0aGlzLl9zeW5jRXRhZyhmdW5jdGlvbiAoY25hKSB7XG5cdCAgICAgICAgaWYgKF9zZWxmLm9wdGlvbnMuY29udGV4dC5ldGFnKSB7XG5cdCAgICAgICAgICBfc2VsZi5vcHRpb25zLmNvbnRleHQuZXRhZy5jbmEgPSBjbmE7ICBcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKHRpbWUgPj0gMjAwKSB7XG5cdCAgICAgICAgICBjYihjbmEpOyAgXG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgICAgLy8g5ZGK6K+JY29tcG9zZeaaguWBnOaJp+ihjOS4remXtOS7tu+8jOebtOWIsGNi5Zue5Yiw5ZCO5YaN57un57utXG5cdCAgICAgIGlmICh0aW1lIDwgMjAwKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiB0aW1lO1xuXHQgICAgfSxcblx0ICB9O1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogNjIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKipcblx0ICogcHJvamVjdCAtIGZpbGVwYXRoXG5cdCAqIGRvbeaTjeS9nOW3peWFt+exu++8jOi/meS4quWfuuehgOW3peWFt+exu+S8muiiq+WFtuS7luW3peWFt+exu+W8leeUqO+8jOaVheS4peemgeWcqOi/memHjOWGjeW8leeUqOWFtuS7luaooeWdl+S7peWFjeWHuueOsOmXrumimFxuXHQgKlxuXHQgKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG5cdCAqXG5cdCAqIEF1dGhvcnM6XG5cdCAqICAg6LCL5aOrIDxxaW5nbGlhbmcuaHFsQGFsaWJhYmEtaW5jLmNvbT5cblx0ICovXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciB1dGlsRGF0YSA9IF9fd2VicGFja19yZXF1aXJlX18oNjMpO1xuXHRcblx0Ly8g5LuF6ZmQ5by55YaF77yb5bCP57Gz56aB55SoZWcuanPlupTlr7nnrZbnlaXvvJrkvb/nlKjliqjmgIHlkI7nvIDlkI1cblx0Ly8g5ZCO57yA5ZCN55Sf5oiQ5pa55rOVOiDlvZPliY3ml7bpl7TmiLPovawxNui/m+WItu+8jOWPluWQjjjkvY3vvIxcblx0Ly8gZnVuY3Rpb24gZXRhZ1VybFN1ZmZpeChldGFnVXJsKSB7XG5cdC8vICAgdmFyIGR5bmFtaWNVcmwgPSBldGFnVXJsO1xuXHQvLyAgIHRyeSB7XG5cdC8vICAgICBpZihhcGx1cy5nbG9iYWxDb25maWcuaXNBbGkpIHtcblx0Ly8gICAgICAgdHJ5IHtcblx0Ly8gICAgICAgICB2YXIgdGltZVN0YW1wID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cdC8vICAgICAgICAgdmFyIGR5bmFtaWNTdWZmaXggPSB0aW1lU3RhbXAudG9TdHJpbmcoMTYpLnNsaWNlKC04KTtcblx0Ly8gICAgICAgICB3aGlsZShkeW5hbWljU3VmZml4Lmxlbmd0aCA8IDgpIHtcblx0Ly8gICAgICAgICAgIGR5bmFtaWNTdWZmaXggPSBkeW5hbWljU3VmZml4ICsgJ2YnO1xuXHQvLyAgICAgICAgIH1cblx0Ly8gICAgICAgICBkeW5hbWljVXJsID0gZXRhZ1VybC5yZXBsYWNlKC9lZy5qcy8sIGR5bmFtaWNTdWZmaXggKyAnLmpzJyk7XG5cdC8vICAgICAgIH0gY2F0Y2goZSkge1xuXHQvLyAgICAgICB9XG5cdC8vICAgICAgIHJldHVybiBkeW5hbWljVXJsO1xuXHQvLyAgICAgfVxuXHQvLyAgIH0gY2F0Y2goZSkge1xuXHRcblx0Ly8gICB9XG5cdC8vICAgcmV0dXJuIGR5bmFtaWNVcmw7XG5cdC8vIH1cblx0XG5cdGV4cG9ydHMuZ2V0VXJsID0gZnVuY3Rpb24gKGV0YWcpIHtcblx0ICB2YXIgdXJsID0gdXRpbERhdGEuZ2V0VXJsKGV0YWcgJiYgZXRhZy5lZ1VybCk7XG5cdCAgLy8gdXJsID0gZXRhZ1VybFN1ZmZpeCh1cmwpO1xuXHQgIC8vIOWmguaenGVnVXJs5rKh5pyJ5bim5Y2P6K6u77yM6L+Z6YeM6KGl5YWF5a6M5pW0XG5cdCAgaWYgKHVybC5pbmRleE9mKCdodHRwJykgIT09IDApIHtcblx0ICAgIHZhciBwcm90b2NhbCA9ICdodHRwczonO1xuXHQgICAgaWYgKC8oXFxkK1xcLil7Myx9XFxkKy8udGVzdCh1cmwpKSB7XG5cdCAgICAgIHByb3RvY2FsID0gJ2h0dHA6Jztcblx0ICAgIH1cblx0ICAgIHVybCA9IHByb3RvY2FsICsgdXJsO1xuXHQgIH1cblx0ICByZXR1cm4gdXJsO1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDYzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyoqXG5cdCAqIHByb2plY3QgLSBmaWxlcGF0aFxuXHQgKiBkZXNjcmlwdGlvblxuXHQgKlxuXHQgKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG5cdCAqXG5cdCAqIEF1dGhvcnM6XG5cdCAqICAg6LCL5aOrIDxxaW5nbGlhbmcuaHFsQGFsaWJhYmEtaW5jLmNvbT5cblx0ICovXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciB1dGlsVHJpbSA9IF9fd2VicGFja19yZXF1aXJlX18oNjQpO1xuXHR2YXIgdXRpbFN0b3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NSk7XG5cdHZhciB1dGlsR29sZGxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0ICB0cnlUb0RlY29kZVVSSUNvbXBvbmVudDogZnVuY3Rpb24gKHZhbCwgZGVmYXVsdF92YWwpIHtcblx0ICAgIHZhciB2ID0gZGVmYXVsdF92YWwgfHwgJyc7XG5cdCAgICBpZiAodmFsKSB7XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgdiA9IGRlY29kZVVSSUNvbXBvbmVudCh2YWwpO1xuXHQgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiB2O1xuXHQgIH0sXG5cdCAgXG5cdCAgLyoqXG5cdCAgICog5bCG5b2i5aaCIFwicGFnZUlkPTEyMzsgc2l0ZUlkPTQ1NlwiIOeahOWGheWuueino+aekOS4uiBPYmplY3Rcblx0ICAgKiBAcGFyYW0gcyB7U3RyaW5nfVxuXHQgICAqIEBwYXJhbSBbZGljdF0ge09iamVjdH1cblx0ICAgKiBAcmV0dXJuIHtPYmplY3R9XG5cdCAgICovXG5cdCAgcGFyc2VTZW1pY29sb25Db250ZW50OiBmdW5jdGlvbiAocywgZGljdCwgdW5kZWNvZGUpIHtcblx0ICAgIGRpY3QgPSBkaWN0IHx8IHt9O1xuXHQgICAgdmFyIGEgPSBzLnNwbGl0KCc7Jyk7XG5cdCAgICB2YXIgajtcblx0ICAgIHZhciBhX2xlbiA9IGEubGVuZ3RoO1xuXHQgICAgdmFyIGEyO1xuXHRcblx0ICAgIGZvciAoaiA9IDA7IGogPCBhX2xlbjsgaisrKSB7XG5cdCAgICAgIGEyID0gYVtqXS5zcGxpdCgnPScpO1xuXHQgICAgICB2YXIgX3ZhbHVlID0gdXRpbFRyaW0udHJpbShhMi5zbGljZSgxKS5qb2luKCc9JykpO1xuXHQgICAgICBkaWN0W3V0aWxUcmltLnRyaW0oYTJbMF0pIHx8ICcnXSA9IHVuZGVjb2RlID8gX3ZhbHVlIDogdGhpcy50cnlUb0RlY29kZVVSSUNvbXBvbmVudChfdmFsdWUpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBkaWN0O1xuXHQgIH0sXG5cdFxuXHQgIC8qKlxuXHQgICAqIOWwhuS4gOS4qiBub2RlIGxpc3Qg6L2s5Li65pWw57uEXG5cdCAgICogQHBhcmFtIG5vZGVzIHtOb2RlTGlzdH1cblx0ICAgKiDlj4Lop4HvvJpodHRwOi8vd3d3LnBsYW5hYmMubmV0LzIwMTAvMDEvMDYvYXJndW1lbnRzX3RvX2FycmF5L1xuXHQgICAqL1xuXHQgIG5vZGVMaXN0VG9BcnJheTogZnVuY3Rpb24gKG5vZGVzKSB7XG5cdCAgICB2YXIgYXJyO1xuXHQgICAgdmFyIGxlbmd0aDtcblx0XG5cdCAgICB0cnkge1xuXHQgICAgICAvLyB3b3JrcyBpbiBldmVyeSBicm93c2VyIGV4Y2VwdCBJRVxuXHQgICAgICBhcnIgPSBbXS5zbGljZS5jYWxsKG5vZGVzKTtcblx0ICAgICAgcmV0dXJuIGFycjtcblx0ICAgIH0gY2F0Y2ggKGVycikge1xuXHQgICAgICAvLyBzbG93ZXIsIGJ1dCB3b3JrcyBpbiBJRVxuXHQgICAgICBhcnIgPSBbXTtcblx0ICAgICAgbGVuZ3RoID0gbm9kZXMubGVuZ3RoO1xuXHRcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHQgICAgICAgIGFyci5wdXNoKG5vZGVzW2ldKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIGFycjtcblx0ICAgIH1cblx0ICB9LFxuXHRcblx0ICBnZXRMc0NuYTogZnVuY3Rpb24gKEVUQUdfU1RPUkFHRV9LRVksIGRhdGUpIHtcblx0ICAgIGlmICh1dGlsU3RvcmUuc2V0ICYmIHV0aWxTdG9yZS50ZXN0KCkpIHtcblx0ICAgICAgdmFyIF9sc19jbmEgPSAnJztcblx0ICAgICAgdmFyIF92YWx1ZSA9IHV0aWxTdG9yZS5nZXQoRVRBR19TVE9SQUdFX0tFWSk7XG5cdCAgICAgIGlmIChfdmFsdWUpIHtcblx0ICAgICAgICB2YXIgX2FyciA9IF92YWx1ZS5zcGxpdCgnXycpIHx8IFtdO1xuXHQgICAgICAgIGlmIChkYXRlKSB7XG5cdCAgICAgICAgICBfbHNfY25hID0gX2Fyci5sZW5ndGggPiAxICYmIGRhdGUgPT09IF9hcnJbMF0gPyBfYXJyWzFdIDogJyc7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIF9sc19jbmEgPSBfYXJyLmxlbmd0aCA+IDEgPyBfYXJyWzFdIDogJyc7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoX2xzX2NuYSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gJyc7XG5cdCAgICB9XG5cdCAgfSxcblx0XG5cdCAgLy8gdXRpbFN0b3JlLnNldCh0aGlzLkVUQUdfU1RPUkFHRV9LRVksICB0aGlzLnRvZGF5ICsgJ18nICsgZW5jb2RlVVJJQ29tcG9uZW50KGNuYSkpO1xuXHQgIHNldExzQ25hOiBmdW5jdGlvbiAoRVRBR19TVE9SQUdFX0tFWSwgdG9kYXksIGNuYSkge1xuXHQgICAgaWYgKGNuYSAmJiB1dGlsU3RvcmUuc2V0ICYmIHV0aWxTdG9yZS50ZXN0KCkpIHtcblx0ICAgICAgdXRpbFN0b3JlLnNldChFVEFHX1NUT1JBR0VfS0VZLCAgdG9kYXkgKyAnXycgKyBlbmNvZGVVUklDb21wb25lbnQoY25hKSk7XG5cdCAgICB9XG5cdCAgfSxcblx0XG5cdCAgZ2V0VXJsOiBmdW5jdGlvbiAodXJsKSB7XG5cdCAgICB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZSgnYXBsdXMnKTtcblx0ICAgIHZhciBhcGx1c1N0YXRpYyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdCAgICB2YXIgZWdVcmwgPSB1cmwgfHwgJy8vbG9nLm1tc3RhdC5jb20vZWcuanMnO1xuXHQgICAgdHJ5IHtcblx0ICAgICAgdmFyIHJob3N0X3YgPSBhcGx1cy5nZXRNZXRhSW5mbyhhcGx1c1N0YXRpYy5BUExVU19QVl9ET01BSU4pO1xuXHQgICAgICB2YXIgcmVnID0gL1tbYS16fFxcLXxcXF98MC05XFwuXStbYS16fFxcLXxcXF98MC05XSg6XFxkKik/Lztcblx0ICAgICAgdmFyIGN1c3RvbV9ob3N0ID0gcmhvc3Rfdi5tYXRjaChyZWcpO1xuXHQgICAgICBpZiAoY3VzdG9tX2hvc3QgJiYgY3VzdG9tX2hvc3RbMF0pIHtcblx0ICAgICAgICAvLyBlZ1VybCA9IGVnVXJsLnJlcGxhY2UocmVnLCBjdXN0b21faG9zdFswXSk7XG5cdCAgICAgICAgZWdVcmwgPSAnLy8nICsgY3VzdG9tX2hvc3RbMF0gKyAnL2VnLmpzJztcblx0ICAgICAgfVxuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGVnVXJsO1xuXHQgIH1cblx0fTtcblxuXG4vKioqLyB9KSxcbi8qIDY0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyoqXG5cdCAqIHByb2plY3QgLSBmaWxlcGF0aFxuXHQgKiDlr7nlrZfnrKbkuLLov5vooYx0cmlt5aSE55CGXG5cdCAqXG5cdCAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cblx0ICpcblx0ICogQXV0aG9yczpcblx0ICogICDosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuXHQgKi9cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0LyoqXG5cdCAqIOWOu+aOieWtl+espuS4siBzIOWJjeWQjueahOepuuagvFxuXHQgKiBAcGFyYW0gcyB7U3RyaW5nfVxuXHQgKi9cblx0ZnVuY3Rpb24gdHJpbShzKSB7XG5cdCAgcmV0dXJuICh0eXBlb2YgcyA9PT0gJ3N0cmluZycpID8gcy5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJykgOiAnJztcblx0fTtcblx0ZXhwb3J0cy50cmltID0gdHJpbTtcblxuXG4vKioqLyB9KSxcbi8qIDY1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyoqXG5cdCAqIHByb2plY3QgLSBmaWxlcGF0aFxuXHQgKiBkZXNjcmlwdGlvblxuXHQgKlxuXHQgKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG5cdCAqXG5cdCAqIEF1dGhvcnM6XG5cdCAqICAg6LCL5aOrIDxxaW5nbGlhbmcuaHFsQGFsaWJhYmEtaW5jLmNvbT5cblx0ICovXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIHNldDogZnVuY3Rpb24gKGssIHYpIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGssIHYpO1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgLy8g57uP6L+HdGVzdOS5i+WQjmdldOW6lOivpeS4jeS8muaciemXrumimFxuXHQgIGdldDogZnVuY3Rpb24gKGspIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrKTtcblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgcmV0dXJuICcnO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgdGVzdDogZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIHRlc3RLZXkgPSAnZ3JleV90ZXN0X2tleSc7XG5cdCAgICB0cnkge1xuXHQgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0ZXN0S2V5LCAxKTtcblx0ICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGVzdEtleSk7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgfSxcblx0ICByZW1vdmU6IGZ1bmN0aW9uIChrKSB7XG5cdCAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrKTtcblx0ICB9XG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiA2NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiBhbGlsb2cvcyAtIHNyYy9saWJfdS9jb25maWcvcGx1Z2lucy93aGVuX3RvX3NlbmQuanNcblx0ICpcblx0ICogICDkvZznlKjvvJog5L2V5pe25omn6KGMc2VuZHB25o+S5Lu2XG5cdCAqICAgZm46IGdldE1ldGFJbmZvIOe7p+aJv+iHs0Jhc2Vcblx0ICogICBmbjogcnVuICjmj5Lku7bmoIflh4bnmoTmiafooYzlhaXlj6MpXG5cdCAqICAgYXBsdXMtd2FpdGluZz1cIjFcIjog562J5b6FNuenkuWQjuWwneivleWPkemAgVBW5pel5b+XO1xuXHQgKiAgIGFwbHVzLXdhaXRpbmc9XCJNQU5cIjog5LiN6Ieq5Yqo5Y+R6YCBUFbml6Xlv5c7XG5cdCAqICAgYXBsdXMtd2FpdGluZz1cIm5cIjog5YW25LitbuS4uuWkp+S6jjHnmoTmraPmlbTmlbAsIGFwbHVz5Zyo562J5b6Fbuavq+enkuS5i+WQjuWwneivleWPkemAgVBW5pel5b+XO1xuXHQgKlxuXHQgKiAgIGRlcHPvvJog5pegXG5cdCAqXG5cdCAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cblx0ICpcblx0ICogQXV0aG9yczpcblx0ICogICDosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuXHQgKi9cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIHV0aWxHb2xkbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0dmFyIGFwbHVzU3RhdGljID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0ICByZXR1cm4ge1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICog6I635Y+WbWV0YV9pbmZvXG5cdCAgICAgKiBUT0RPIOiLpeS7iuWQjuacieWKqOaAgeS/ruaUuW1ldGFfaW5mb+eahOmcgOaxgu+8jFxuXHQgICAgICog5q2k5aSE6ZyA6KaB5Yqo5oCB5LuOIG1ldGFJbmZv5qih5Z2X5Lit5Y676LCD55SoZ2V0SW5mb+aWueazleadpeiOt+WPluebuOWFs+S/oeaBr++8jOi/meagt+WBmueahOWdj+WkhOaYr+a2iOiAl+aAp+iDvVxuXHQgICAgICovXG5cdCAgICBnZXRNZXRhSW5mbzogZnVuY3Rpb24oKSB7XG5cdCAgICAgIHZhciBfJCA9IHV0aWxHb2xkbG9nLmdldEdvbGRsb2dWYWwoJ18kJykgfHwge307XG5cdCAgICAgIHZhciBtZXRhX2luZm8gPSBfJC5tZXRhX2luZm87IC8vIHx8IG1ldGFJbmZvLmdldEluZm8oKTtcblx0ICAgICAgcmV0dXJuIG1ldGFfaW5mbztcblx0ICAgIH0sXG5cdFxuXHQgICAgZ2V0QXBsdXNXYWl0aW5nOiBmdW5jdGlvbigpIHtcblx0ICAgICAgdmFyIG1ldGFfaW5mbyA9IHRoaXMuZ2V0TWV0YUluZm8oKSB8fCB7fTtcblx0ICAgICAgcmV0dXJuIG1ldGFfaW5mb1snYXBsdXMtd2FpdGluZyddO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIOS9leaXtuaJp+ihjHNlbmRwduaJp+ihjOWFpeWPo++8jOmFjee9ruS6hmFwbHVzV2FpdGluZyDlubbkuJQg5pivYXBsdXPoh6rliqjmiZPngrnmiY3otbDov5nmrrXpgLvovpFcblx0ICAgICAqIDxtZXRhIG5hbWU9XCJhcGx1cy13YWl0aW5nXCIgY29udGVudD1cInh4eFwiIC8+XG5cdCAgICAgKiAgIHh4eDogJ01BTicgLSDkuI3lj5HpgIFwdueahOagh+ivhlxuXHQgICAgICogICB4eHg6ICcxJyAtIOWwneivleetieW+hTbnp5LlkI7lj5FwdlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSBbU3RyaW5nXSBzdGF0ZSDnirbmgIFcblx0ICAgICAqIEBwYXJhbSBbRnVuY3Rpb25dIGNiICDlm57osINcblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJuIFwiZG9uZVwiKOe7iOatouS4remXtOS7tuaJp+ihjCkgfCB1bmRlZmluZWRcblx0ICAgICAqL1xuXHQgICAgcnVuOiBmdW5jdGlvbihzdGF0ZSwgY2IpIHtcblx0ICAgICAgdmFyIGNvbmZpZyA9IHRoaXMub3B0aW9ucy5jb25maWcgfHwge307XG5cdCAgICAgIHZhciBhcGx1c1dhaXRpbmcgPSB0aGlzLmdldEFwbHVzV2FpdGluZygpO1xuXHQgICAgICBpZiAoYXBsdXNXYWl0aW5nICYmIGNvbmZpZy5pc19hdXRvKSB7XG5cdCAgICAgICAgYXBsdXNXYWl0aW5nID0gdGhpcy5nZXRBcGx1c1dhaXRpbmcoKSArICcnO1xuXHQgICAgICAgIHRoaXMub3B0aW9ucy5jb250ZXh0LndoZW5fdG9fc2VuZHB2ID0ge1xuXHQgICAgICAgICAgYXBsdXNXYWl0aW5nOiBhcGx1c1dhaXRpbmdcblx0ICAgICAgICB9O1xuXHQgICAgICAgIHN3aXRjaChhcGx1c1dhaXRpbmcpIHtcblx0ICAgICAgICBjYXNlIGFwbHVzU3RhdGljLl9VU0VSX0lEOlxuXHQgICAgICAgIGNhc2UgYXBsdXNTdGF0aWMuX0FOT05ZX0lEOlxuXHQgICAgICAgIGNhc2UgJ01BTic6XG5cdCAgICAgICAgICByZXR1cm4gJ2RvbmUnO1xuXHQgICAgICAgIGNhc2UgJzEnOlxuXHQgICAgICAgICAgdGhpcy5vcHRpb25zLmNvbnRleHQud2hlbl90b19zZW5kcHYuaXNXYWl0ID0gdHJ1ZTtcblx0ICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcblx0ICAgICAgICAgICAgY2IoKTtcblx0ICAgICAgICAgIH0sIDYwMDApO1xuXHQgICAgICAgICAgcmV0dXJuIDYwMDA7XG5cdCAgICAgICAgZGVmYXVsdDpcblx0ICAgICAgICAgIHZhciBuID0gYXBsdXNXYWl0aW5nICogMTtcblx0ICAgICAgICAgIGlmICgobiArICcnKSAhPT0gJ05hTicpIHtcblx0ICAgICAgICAgICAgdGhpcy5vcHRpb25zLmNvbnRleHQud2hlbl90b19zZW5kcHYuaXNXYWl0ID0gdHJ1ZTtcblx0ICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuXHQgICAgICAgICAgICAgIGNiKCk7XG5cdCAgICAgICAgICAgIH0sIG4pO1xuXHQgICAgICAgICAgICByZXR1cm4gbjtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfSxcblx0ICB9O1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogNjcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKlxuXHQgKiBGaWxlOiB3aGVyZV90b19zZW5kX21pbmlfdW0uanNcblx0ICogUHJvamVjdDogQGFsaS9hcGx1c1xuXHQgKiAgICAgIFxuXHQgKiBBdXRob3I6IOmSsOaYrSAoY2hhbmdsaWFuZy5sY2xAdW1lbmcuY29tKVxuXHQgKiAgICAgIFxuXHQgKiBDb3B5cmlnaHQgLSAyMDIxIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuXHQgKi9cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIHV0aWxHb2xkbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0Ly8gdmFyIHV0aWxMb2dnZXIgPSByZXF1aXJlKCdAdXRpbHMvdXRpbExvZ2dlcicpO1xuXHR2YXIgdWxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHR2YXIgbWluaSA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdHZhciBhcGx1c1N0YXRpYyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdHZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuXHQgIHJldHVybiB7XG5cdCAgICAvKipcblx0ICAgICAqIOiOt+WPliBtZXRhX2luZm8gXG5cdCAgICAqL1xuXHQgICAgZ2V0TWV0YUluZm86IGZ1bmN0aW9uKGtleSkge1xuXHQgICAgICB2YXIgXyQgPSB1dGlsR29sZGxvZy5nZXRHb2xkbG9nVmFsKCdfJCcpIHx8IHt9O1xuXHQgICAgICByZXR1cm4gKF8kLm1ldGFfaW5mbyB8fCB7fSlba2V5XTtcblx0ICAgIH0sXG5cdFxuXHQgICAgZ2V0SG9zdFVybDogZnVuY3Rpb24oKSB7XG5cdCAgICAgIHZhciByaG9zdCA9IHRoaXMuZ2V0TWV0YUluZm8oYXBsdXNTdGF0aWMuQVBMVVNfUFZfRE9NQUlOKTtcblx0ICAgICAgaWYgKCF1dGlsLmNoZWNrRG9tYWluKHJob3N0KSkge1xuXHQgICAgICAgIHJldHVybiAnJztcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdmFyIGxvZ0RvbWFpbiA9IG1pbmkuZ2V0TG9nRG9tYWluKCk7XG5cdCAgICAgIGlmICghbG9nRG9tYWluKSB7XG5cdCAgICAgICAgdWxvZygpLnRpcF93KCflvZPliY3lsI/nqIvluo/moYbmnrbmnKrmlK/mjIHvvIzor7fogZTns7tRVOS6pOS7mOWQjOWtpuWvu+axguW4ruWKqe+8ge+8gScpO1xuXHQgICAgICAgIHJldHVybiAnJzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuXHQgICAgICB9XG5cdCAgICAgIHZhciB1cmwgPSBbJy8vJywgcmhvc3QsIGxvZ0RvbWFpbl07XG5cdCAgICAgIHJldHVybiB1cmwuam9pbignJyk7XG5cdCAgICB9LFxuXHRcblx0XG5cdCAgICBydW46IGZ1bmN0aW9uKCkge1xuXHQgICAgICB0aGlzLm9wdGlvbnMuY29udGV4dC53aGVyZV90b19zZW5kLm1ldGhvZCA9ICdQT1NUJztcblx0ICAgICAgdmFyIHVybCA9IHRoaXMuZ2V0SG9zdFVybCgpO1xuXHQgICAgICBpZiAoIXVybCkge1xuXHQgICAgICAgIHJldHVybiAnZG9uZSc7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmICh1cmwuaW5kZXhPZignLy8nKSA9PT0gMCkge1xuXHQgICAgICAgIHZhciBwcm90b2NhbCA9IGFwbHVzU3RhdGljLkhUVFBTO1xuXHQgICAgICAgIGlmICgvKFxcZCtcXC4pezMsfVxcZCsvLnRlc3QodXJsKSkge1xuXHQgICAgICAgICAgcHJvdG9jYWwgPSAnaHR0cDonO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB1cmwgPSBwcm90b2NhbCArIHVybDtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB1bG9nKCkudygn5LiK5oql5Z+f5ZCN5peg5pWIOiAnICsgdXJsKTtcblx0ICAgICAgICAvLyB1dGlsTG9nZ2VyLmxvZ2dlcih7IFxuXHQgICAgICAgIC8vICAgbXNnOiAn5LiK5oql5Z+f5ZCN5peg5pWIOiAnICsgdXJsIFxuXHQgICAgICAgIC8vIH0pO1xuXHQgICAgICAgIHJldHVybiAnZG9uZSc7XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5vcHRpb25zLmNvbnRleHQud2hlcmVfdG9fc2VuZC51cmwgPSB1cmw7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICB9O1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDY4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyoqXG5cdCAqIGFsaWxvZy9zIC0gc3JjL2xpYl91L2NvbmZpZy9wbHVnaW5zL3doYXRfdG9fc2VuZC5qc1xuXHQgKlxuXHQgKiDkvZznlKjvvJrml6Xlv5flj5HpgIHln7rnoYDlj4LmlbDmlLbpm4bvvJpcblx0ICogICAgICDmjInpobrluo/lsIZhcGx1cy5wdl9kYXRhLmJhc2lj44CBZXhwYXJhbXPjgIFvbGRQYXJhbXPjgIFhcGx1cy5wdl9kYXRhLmV4dHJh5Zub5Lit57G75Z6L55qE5Y+C5pWwbWVyZ2XlnKjkuIDkuKrmlbDnu4TkuK1cblx0ICogZGVwczog5pegXG5cdCAqXG5cdCAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cblx0ICpcblx0ICogQXV0aG9yczpcblx0ICogICDosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuXHQgKi9cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIHV0aWxHb2xkbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0dmFyIGFwbHVzU3RhdGljID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0Ly8gdmFyIHV0aWxMb2dnZXIgPSByZXF1aXJlKCdAdXRpbHMvdXRpbExvZ2dlcicpO1xuXHR2YXIgdWxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHR2YXIgbWluaSA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7ICBcblx0dmFyIGxvZ0lkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OSk7XG5cdHZhciB1dGlsUGFyYW1zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MSk7XG5cdHZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cdHZhciBDTlQgPSBhcGx1c1N0YXRpYy5TUE1fQ05UO1xuXHR2YXIgVVJMID0gYXBsdXNTdGF0aWMuU1BNX1VSTDtcblx0dmFyIFBSRSA9IGFwbHVzU3RhdGljLlNQTV9QUkU7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcblx0ICByZXR1cm4ge1xuXHQgICAgZ2V0Q29tbW9uUGFyYW1zOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKGFwbHVzU3RhdGljLkFQTFVTKTtcblx0ICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLm9wdGlvbnMuY29udGV4dCB8fCB7fTtcblx0ICAgICAgdmFyIGV0YWcgPSBjb250ZXh0LmV0YWcgfHwge307XG5cdCAgICAgIHZhciB1c2VyZGF0YSA9IGNvbnRleHQudXNlcmRhdGEgfHwge307XG5cdCAgICAgIHZhciBfJCA9IHV0aWxHb2xkbG9nLmdldEdvbGRsb2dWYWwoJ18kJykgfHwge307XG5cdCAgICAgIHZhciBzcG0gPSBfJC5zcG0gfHwge307XG5cdCAgICAgIHZhciBjb25maWcgPSB0aGlzLm9wdGlvbnMuY29uZmlnIHx8IHt9O1xuXHQgICAgICB2YXIgcGxhdGZvcm1UeXBlID0gYXBsdXMuZ2V0TWV0YUluZm8oJ3BsYXRmb3JtVHlwZScpIHx8IG1pbmkuZ2V0UGxhdGZvcm1UeXBlKCk7XG5cdFxuXHQgICAgICB2YXIgdXNlckluZm8gPSB7XG5cdCAgICAgICAgX2Rldl9pZDogYXBsdXMuZ2V0TWV0YUluZm8oJ19kZXZfaWQnKSxcblx0ICAgICAgICBfYW5vbnlfaWQ6IGFwbHVzLmdldE1ldGFJbmZvKGFwbHVzU3RhdGljLl9BTk9OWV9JRCksXG5cdCAgICAgICAgX3VzZXJfaWQ6IGFwbHVzLmdldE1ldGFJbmZvKGFwbHVzU3RhdGljLl9VU0VSX0lEKSxcblx0ICAgICAgICBfdXNlcl9uaWNrOiBhcGx1cy5nZXRNZXRhSW5mbygnX3VzZXJfbmljaycpLFxuXHQgICAgICAgIF9zZXNzaW9uX2lkOiBhcGx1cy5nZXRNZXRhSW5mbygnX3Nlc3Npb25faWQnKSxcblx0ICAgICAgICB1YWlkOiAoYXBsdXMuZ2V0TWV0YUluZm8oJ3VhaWQnKSArICcnKSA9PT0gJzEnID8gMSA6IDAsXG5cdCAgICAgIH07XG5cdFxuXHQgICAgICB2YXIgY2xpZW50ID0gYXBsdXMuX2FwbHVzX2NsaWVudCB8fCB7fTtcblx0ICAgICAgdmFyIGdsb2JhbENvbmZpZyA9IGFwbHVzLmdsb2JhbENvbmZpZyB8fCB7fTtcblx0XG5cdCAgICAgIHZhciB1cmwgPSAnLSc7XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgdmFyIHBhZ2VJbnN0YW5jZSA9IGdldEN1cnJlbnRQYWdlcygpWzBdO1xuXHQgICAgICAgIHVybCA9IHBhZ2VJbnN0YW5jZS5yb3V0ZSB8fCBwYWdlSW5zdGFuY2UuaXM7XG5cdCAgICAgIH0gY2F0Y2ggKGUpIHt9XG5cdCAgICAgIFxuXHQgICAgICB2YXIgbG9nSWRLZXkgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSArIHVybDtcblx0ICAgICAgdmFyIGxvZ0lkS2V5MiA9IGNsaWVudC5tb2RlbCArIGNsaWVudC5uZXR3b3JrVHlwZSArIGNvbmZpZy50aXRsZSArIGV0YWcuY25hO1xuXHQgICAgICB2YXIgY2FjaGUgPSAoZ2xvYmFsQ29uZmlnLmlzRGVjb2RlVXJsID8gJ0RDXycgOiAnJykgKyBsb2dJZC5nZXRMb2dJZChsb2dJZEtleSwgbG9nSWRLZXkyKTtcblx0XG5cdCAgICAgIHZhciBhcHBLZXkgPSB1dGlsLmdldEFwcEtleSgpO1xuXHQgICAgICBpZiAoIWFwcEtleSkge1xuXHQgICAgICAgIHVsb2coKS53KCdwbGVhc2Ugc2V0IGFwcEtleSBpbiBhcGx1cyBtZXRhSW5mbyBiZWZvcmUgc2VuZFBWIScpO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBjb21tb25QYXJhbXMgPSAgT2JqZWN0LmFzc2lnbih7fSwge1xuXHQgICAgICAgIGFwcEtleTogYXBwS2V5LFxuXHQgICAgICAgIGNhY2hlOiBjYWNoZSxcblx0ICAgICAgICBjbmE6IGV0YWcuY25hLFxuXHQgICAgICAgIGV0YWc6IGV0YWcsXG5cdCAgICAgICAgcHJlOiBfJC5wYWdlX3JlZmVycmVyIHx8ICctJyxcblx0ICAgICAgICBzZGtfaW5mbzoge1xuXHQgICAgICAgICAganN2ZXI6IGdsb2JhbENvbmZpZy5zY3JpcHRfbmFtZSxcblx0ICAgICAgICAgIGx2ZXI6IGdsb2JhbENvbmZpZy5sdmVyLFxuXHQgICAgICAgICAgY3VzdG9tU2RrSWQ6IGFwbHVzLmdldE1ldGFJbmZvKCdjdXN0b21TZGtJZCcpIHx8ICcnLFxuXHQgICAgICAgICAgcGxhdGZvcm1UeXBlOiBwbGF0Zm9ybVR5cGUudG9Mb3dlckNhc2UoKSxcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHRpdGxlOiBjb25maWcudGl0bGUgfHwgJycsXG5cdCAgICAgICAgdXJsOiB1cmwgfHwgJy0nLFxuXHQgICAgICAgIGNsaWVudDogY2xpZW50LFxuXHQgICAgICAgIHRpbWVab25lOiB1dGlsUGFyYW1zLmdldFRpbWVab25lKCksXG5cdCAgICAgICAgZ21rZXk6IHVzZXJkYXRhLmdta2V5IHx8ICcnLFxuXHQgICAgICAgIG1ldGhvZDogdGhpcy5vcHRpb25zLmNvbnRleHQud2hlcmVfdG9fc2VuZC5tZXRob2Rcblx0ICAgICAgfSwgdXNlckluZm8pO1xuXHQgICAgICBcblx0ICAgICAgdmFyIGdva2V5ID0gdXNlckluZm87XG5cdFxuXHQgICAgICBpZiAoc3BtLnNwbV91cmwpIHtcblx0ICAgICAgICBnb2tleVtVUkxdID0gc3BtLnNwbV91cmwgfHwgJyc7ICBcblx0ICAgICAgfVxuXHQgICAgICBpZiAoc3BtLnNwbV9wcmUpIHtcblx0ICAgICAgICBnb2tleVtQUkVdID0gc3BtLnNwbV9wcmUgfHwgJyc7ICBcblx0ICAgICAgfVxuXHQgICAgICBcblx0ICAgICAgaWYgKHNwbS5zcG1fY250KSB7XG5cdCAgICAgICAgZ29rZXlbQ05UXSA9IHNwbS5zcG1fY250IHx8ICcnO1xuXHQgICAgICB9XG5cdCAgICAgIGdva2V5W2FwbHVzU3RhdGljLlBWSURdID0gYXBsdXMucHZpZCB8fCAnJztcblx0ICAgICAgY29tbW9uUGFyYW1zLnNlc3Npb25BcmdzID0gYXBsdXMuZ2V0TWV0YUluZm8oJ2FwbHVzLXNlc3Npb24tYXJncycpO1xuXHQgICAgICBjb21tb25QYXJhbXMuZ2xvYmFsQXJncyA9IGFwbHVzLmdldE1ldGFJbmZvKCdhcGx1cy1nbG9iYWwtYXJncycpOyAgLy8gMjAyMS0wMS0xNEDkuZ3plKHpnIDmsYJcblx0ICAgICAgLy8g6ZyA6KaB5Yig6Zmk55qE5Luj56CBLS0tLWVuZFxuXHQgICAgICBjb21tb25QYXJhbXMuZ29rZXkgPSBnb2tleTtcblx0ICAgICAgcmV0dXJuIGNvbW1vblBhcmFtcztcblx0ICAgIH0sXG5cdFxuXHRcblx0ICAgIGdldFB2UGFyYW1zOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKGFwbHVzU3RhdGljLkFQTFVTKTtcblx0ICAgICAgdmFyIGNvbW1vblBhcmFtcyA9IHRoaXMuZ2V0Q29tbW9uUGFyYW1zKCk7XG5cdCAgICAgIGlmICghdGhpcy5vcHRpb25zLmNvbmZpZy5pc19hdXRvKSB7XG5cdCAgICAgICAgY29tbW9uUGFyYW1zLnNka19pbmZvLm1hbnNuZGxvZyA9IDE7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGNvbW1vblBhcmFtcywge1xuXHQgICAgICAgIGV2ZW50X2NvZGU6IGFwbHVzU3RhdGljLlBWX0NPREUsXG5cdCAgICAgICAgbG9ndHlwZTogJzEnLFxuXHQgICAgICAgIGxvZ2tleTogJy92eC5naWYnLFxuXHQgICAgICAgIGV2ZW50X3RpbWVzdGFtcDogYXBsdXMuXyQuc2VuZF9wdl9jb3VudCA+IDAgPyBuZXcgRGF0ZSgpIDogYXBsdXMubG9nQ29uZmlnLnBhZ2VMb2FkVGltZSxcblx0ICAgICAgfSk7XG5cdCAgICB9LFxuXHRcblx0ICAgIGdldEhqbGpQYXJhbXM6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgLy8gdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoYXBsdXNTdGF0aWMuQVBMVVMpO1xuXHQgICAgICB2YXIgYyA9IHRoaXMub3B0aW9ucy5jb250ZXh0IHx8IHt9O1xuXHQgICAgICB2YXIgdXNlcmRhdGEgPSBjLnVzZXJkYXRhIHx8IHt9O1xuXHRcblx0ICAgICAgdmFyIGhqbGpQYXJhbXMgPSB7XG5cdCAgICAgICAgZXZlbnRfY29kZTogYXBsdXNTdGF0aWMuRVZFTlRfSURfTUFQW3VzZXJkYXRhLmdta2V5XSB8fCB1c2VyZGF0YS5nbWtleSwgLy8gYXBsdXNTdGF0aWMuT1RIRVJfQ09ERSxcblx0ICAgICAgICBsb2d0eXBlOiAnMicsXG5cdCAgICAgICAgbG9na2V5OiB1c2VyZGF0YS5sb2drZXksXG5cdCAgICAgICAgZXZlbnRfdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuXHQgICAgICAgIC8vIG1hbnNuZGxvZzogJzEnLFxuXHQgICAgICB9O1xuXHRcblx0ICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZ2V0Q29tbW9uUGFyYW1zKCksIGhqbGpQYXJhbXMpO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIOS9leaXtuaJp+ihjHNlbmRwduaJp+ihjOWFpeWPo1xuXHQgICAgICog6L+U5ZueXCJkb25lXCLnu4jmraLkuK3pl7Tku7bmiafooYxcblx0ICAgICAqIDEuIGFwbHVz6buY6K6k6ZyA6KaB6YeH6ZuG55qE5Y+C5pWwOiBiYXNpY0xpc3Rcblx0ICAgICAqIDIuIGJlYWNvbuaJqeWxleWPguaVsDogZXhwYXJhbXNcblx0ICAgICAqIDMuIGFwbHVz6buY6K6k6ZyA6KaB6YeH6ZuG55qE5a6i5oi356uv5Y+C5pWwOiBleHRyYUxpc3Rcblx0ICAgICAqIOS4remAlOWkhOeQhl8k5YWo5bGA5Y+Y6YePOiBwcm9jZXNzTG9kYXNoRG9sbGFyXG5cdCAgICAgKiA0LiBsb2NhbFN0b3JhZ2XkuK3lrZjlgqjnmoTkuIrkuIDpobVzcG3kv6Hmga86IHNwbWFidGVzdFxuXHQgICAgICog5Lul5LiKNOmDqOWIhuaLvOijheaIkHB2ZGF0YVxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm4gXCJkb25lXCIgfHwgdW5kZWZpbmVkXG5cdCAgICAgKi9cblx0ICAgIHJ1bjogZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgcGFyYW1zID0ge307XG5cdCAgICAgIGlmICh0aGlzLm9wdGlvbnMuY29uZmlnLnJlY29yZFR5cGUgPT09IFwiUFZcIikge1xuXHQgICAgICAgIHBhcmFtcyA9IHRoaXMuZ2V0UHZQYXJhbXMoKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBwYXJhbXMgPSB0aGlzLmdldEhqbGpQYXJhbXMoKTtcblx0ICAgICAgfVxuXHQgICAgICB0aGlzLm9wdGlvbnMuY29udGV4dC53aGF0X3RvX3NlbmQubG9nZGF0YSA9IHBhcmFtcztcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgIH07XG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiA2OSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiBwcm9qZWN0IC0gZmlsZXBhdGhcblx0ICogcHZpZFxuXHQgKlxuXHQgKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG5cdCAqXG5cdCAqIEF1dGhvcnM6XG5cdCAqICAg6LCL5aOrIDxxaW5nbGlhbmcuaHFsQGFsaWJhYmEtaW5jLmNvbT5cblx0ICovXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciB1dGlsSGFzaCA9IF9fd2VicGFja19yZXF1aXJlX18oNzApO1xuXHRcblx0dmFyIGdldFJhbmRvbUlkID0gZnVuY3Rpb24gKHNpemUpIHtcblx0ICAvKipcblx0ICAgKiDnlJ/miJDmnKzpobXnmoQgcHYgaWRcblx0ICAgKiBwdiBpZCDlj6rpnIDopoHlvZPliY3nlKjmiLfkvJror53llK/kuIDljbPlj6/vvIzov5nlhL/kvb/nlKjkuIDkuKogNiDkvY3nmoQgMTYg6L+b5Yi25pWw5a2XXG5cdCAgICovXG5cdCAgdmFyIHJuZF9zdHJzID0gJyc7XG5cdCAgdmFyIGNoYXJzID0gJzAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaJztcblx0ICB2YXIgaGFuZGxlZCA9IGZhbHNlO1xuXHQgIHZhciBjaGFyO1xuXHRcblx0ICAvKipcblx0ICAgKiDop6PlhrPpg6jliIYgc3BtIOiiqyBHRlcg5aKZ5LqG55qE5oOF5Ya177yM5aaCIDIyLmdsXG5cdCAgICog5o6S6ZmkIHB2aWQg5LulIGdsIOW8gOWktOeahOaDheWGtVxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIGhhbmRsZVBWSWQgKGNoYXJQb3MpIHtcblx0ICAgIHZhciBjaGFyc1dpdGhvdXRHID0gJzAxMjM0NTY3ODlhYmNkZWZoaWprbG1ub3BxcnN0dXZ3eHl6QUJDREVGSElKS0xNTk9QUVJTVFVWV1hZWic7XG5cdCAgICB2YXIgY2hhcnNXaXRob3V0TCA9ICcwMTIzNDU2Nzg5YWJjZGVmZ2hpamttbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTU5PUFFSU1RVVldYWVonO1xuXHRcblx0ICAgIGlmIChjaGFyUG9zID09IDEpIHtcblx0ICAgICAgcmV0dXJuIGNoYXJzV2l0aG91dEcuc3Vic3RyKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDYwKSwgMSk7XG5cdCAgICB9IGVsc2UgaWYgKGNoYXJQb3MgPT0gMikge1xuXHQgICAgICByZXR1cm4gY2hhcnNXaXRob3V0TC5zdWJzdHIoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNjApLCAxKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiAnMCc7XG5cdCAgfTtcblx0XG5cdCAgd2hpbGUgKHJuZF9zdHJzLmxlbmd0aCA8IHNpemUpIHtcblx0ICAgIGNoYXIgPSBjaGFycy5zdWJzdHIoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNjIpLCAxKTtcblx0ICAgIC8vIOWkhOeQhuiiq+WimeeahOaDheWGte+8jOebruWJjeWPqumSiOWvuWds5byA5aS055qEXG5cdCAgICBpZiAoIWhhbmRsZWQgJiYgcm5kX3N0cnMubGVuZ3RoIDw9IDIgJiYgKGNoYXIudG9Mb3dlckNhc2UoKSA9PSAnZycgfHwgY2hhci50b0xvd2VyQ2FzZSgpID09ICdsJykpIHtcblx0ICAgICAgaWYgKHJuZF9zdHJzLmxlbmd0aCA9PT0gMCAmJiBjaGFyLnRvTG93ZXJDYXNlKCkgPT0gJ2cnKSB7XG5cdCAgICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPCAwLjUpIHtcblx0ICAgICAgICAgIGNoYXIgPSBoYW5kbGVQVklkKDEpO1xuXHQgICAgICAgICAgaGFuZGxlZCA9IHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGVsc2UgaWYgKHJuZF9zdHJzLmxlbmd0aCA9PSAxICYmIGNoYXIudG9Mb3dlckNhc2UoKSA9PSAnbCcgJiYgcm5kX3N0cnMuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgPT0gJ2cnKSB7XG5cdCAgICAgICAgY2hhciA9IGhhbmRsZVBWSWQoMik7XG5cdCAgICAgICAgaGFuZGxlZCA9IHRydWU7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJuZF9zdHJzICs9IGNoYXI7XG5cdCAgfVxuXHQgIHJldHVybiBybmRfc3Rycztcblx0fTtcblx0XG5cdGZ1bmN0aW9uIGdldENoYXJzIChhcmdzLCBzaXplLCBkZWZhdWx0VmFsKSB7XG5cdCAgaWYgKGFyZ3MpIHtcblx0ICAgIHJldHVybiB1dGlsSGFzaC5oYXNoKGVuY29kZVVSSUNvbXBvbmVudChhcmdzKSkuc3Vic3RyKDAsIHNpemUpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICByZXR1cm4gZGVmYXVsdFZhbDtcblx0ICB9XG5cdH1cblx0XG5cdGV4cG9ydHMuZ2V0TG9nSWQgPSBmdW5jdGlvbiAocGFnZVVybCwgbG9nTmFtZSkge1xuXHQgIHZhciByYW5kb204Q2hhcnMgPSBnZXRSYW5kb21JZCg4KTtcblx0ICB2YXIgcmFuZG9tNENoYXJzID0gcmFuZG9tOENoYXJzLnN1YnN0cigwLCA0KTtcblx0ICB2YXIgcmFuZG9tNkNoYXJzID0gcmFuZG9tOENoYXJzLnN1YnN0cigwLCA2KTtcblx0ICByZXR1cm4gW1xuXHQgICAgZ2V0Q2hhcnMocGFnZVVybCwgNCwgcmFuZG9tNENoYXJzKSxcblx0ICAgIGdldENoYXJzKGxvZ05hbWUsIDQsIHJhbmRvbTRDaGFycyksXG5cdCAgICByYW5kb202Q2hhcnNcblx0ICBdLmpvaW4oJycpO1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogNzAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKipcblx0ICogcHJvamVjdCAtIGZpbGVwYXRoXG5cdCAqIGRlc2NyaXB0aW9uXG5cdCAqXG5cdCAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cblx0ICpcblx0ICogQXV0aG9yczpcblx0ICogICDosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuXHQgKi9cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0Ly8g5qC55o2u5a+G6ZKlc+WvueWtl+espuS4snN0cui/m+ihjOi9rOS5iVxuXHRleHBvcnRzLmhhc2ggPSBmdW5jdGlvbihzdHIsIHMpIHtcblx0ICB2YXIgZGVmX3YgPSAxMzE1NDIzOTExO1xuXHQgIHZhciBoYXNoID0gcyB8fCBkZWZfdiwgaSwgY2g7XG5cdCAgZm9yIChpID0gc3RyLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdCAgICBjaCA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuXHQgICAgaGFzaCBePSAoKGhhc2ggPDwgNSkgKyBjaCArIChoYXNoID4+IDIpKTtcblx0ICB9XG5cdCAgdmFyIHJzID0gKGhhc2ggJiAweDdGRkZGRkZGKS50b1N0cmluZygxNik7XG5cdCAgcmV0dXJuIHJzO1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogNzEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKipcblx0ICog6L+U5ZueR01U5qC85byP55qE5pe25Yy677yM5aaC77yaR01UKzA1OjQ1LCBHTVQtMDc6MDAsIEdNVCswODowMFxuXHQgKi9cblx0ZXhwb3J0cy5nZXRUaW1lWm9uZSA9IGZ1bmN0aW9uICgpIHtcblx0ICB2YXIgX3RpbWVab25lID0gLW5ldyBEYXRlKCkuZ2V0VGltZXpvbmVPZmZzZXQoKSAvIDYwO1xuXHQgIHZhciBfYW5kID0gJysnO1xuXHQgIGlmIChfdGltZVpvbmUgPCAwKSB7XG5cdCAgICBfYW5kID0gJy0nO1xuXHQgIH1cblx0ICB2YXIgem9uZSA9IE1hdGguYWJzKHBhcnNlSW50KF90aW1lWm9uZSkpO1xuXHQgIHZhciByZW1haW5kZXIgPSBNYXRoLmFicyhwYXJzZUludChfdGltZVpvbmUpIC0gX3RpbWVab25lKTtcblx0ICB2YXIgcmVtYWluZGVyWm9uZSA9ICcwMCc7XG5cdCAgaWYgKHJlbWFpbmRlciA+IDApIHtcblx0ICAgIHJlbWFpbmRlclpvbmUgPSA2MCAqIHJlbWFpbmRlcjtcblx0ICB9XG5cdCAgcmV0dXJuICdHTVQnICsgX2FuZCArICh6b25lID4gOSA/IHpvbmUgOiAoJzAnICsgem9uZSkpICsgJzonICsgcmVtYWluZGVyWm9uZTtcblx0fTtcblxuXG4vKioqLyB9KSxcbi8qIDcyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyoqXG5cdCAqIGFsaWxvZy9zIC0gc3JjL3BsdWdpbnMvbGliX2xvZy9taWRkbGV3YXJlL2NvbW1vbi9taW5pYXBwX2RhdGEuanNcblx0ICpcblx0ICog5L2c55So77ya5pel5b+X5Y+R6YCB5Z+656GA5Y+C5pWw5pS26ZuG77yaXG5cdCAqICAgICAg5oyJ6aG65bqP5bCGYXBsdXMucHZfZGF0YS5iYXNpY+OAgWV4cGFyYW1z44CBb2xkUGFyYW1z44CBYXBsdXMucHZfZGF0YS5leHRyYeWbm+S4reexu+Wei+eahOWPguaVsG1lcmdl5Zyo5LiA5Liq5pWw57uE5LitXG5cdCAqIGRlcHM6IOaXoFxuXHQgKlxuXHQgKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG5cdCAqXG5cdCAqIEF1dGhvcnM6XG5cdCAqICAg6LCL5aOrIDxxaW5nbGlhbmcuaHFsQGFsaWJhYmEtaW5jLmNvbT5cblx0ICovXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBhcGx1c1N0YXRpYyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdHZhciB1dGlsR29sZGxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdHZhciBtaW5pID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuXHQgIHJldHVybiB7XG5cdCAgICAvKipcblx0ICAgICAqIOS9leaXtuaJp+ihjHNlbmRwduaJp+ihjOWFpeWPo1xuXHQgICAgICog6L+U5ZueXCJkb25lXCLnu4jmraLkuK3pl7Tku7bmiafooYxcblx0ICAgICAqIDEuIGFwbHVz6buY6K6k6ZyA6KaB6YeH6ZuG55qE5Y+C5pWwOiBiYXNpY0xpc3Rcblx0ICAgICAqIDIuIGJlYWNvbuaJqeWxleWPguaVsDogZXhwYXJhbXNcblx0ICAgICAqIDMuIGFwbHVz6buY6K6k6ZyA6KaB6YeH6ZuG55qE5a6i5oi356uv5Y+C5pWwOiBleHRyYUxpc3Rcblx0ICAgICAqIOS4remAlOWkhOeQhl8k5YWo5bGA5Y+Y6YePOiBwcm9jZXNzTG9kYXNoRG9sbGFyXG5cdCAgICAgKiA0LiBsb2NhbFN0b3JhZ2XkuK3lrZjlgqjnmoTkuIrkuIDpobVzcG3kv6Hmga86IHNwbWFidGVzdFxuXHQgICAgICog5Lul5LiKNOmDqOWIhuaLvOijheaIkHB2ZGF0YVxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm4gXCJkb25lXCIgfHwgdW5kZWZpbmVkXG5cdCAgICAgKi9cblx0ICAgIHJ1bjogZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgaXNUQkVudiA9IG1pbmkuaXNUQigpO1xuXHQgICAgICB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZShhcGx1c1N0YXRpYy5BUExVUyk7XG5cdCAgICAgIHZhciBsb2dkYXRhID0gdGhpcy5vcHRpb25zLmNvbnRleHQud2hhdF90b19zZW5kLmxvZ2RhdGEgfHwge307XG5cdCAgICAgIHZhciBwYWdlcyA9IGdldEN1cnJlbnRQYWdlcygpO1xuXHQgICAgICB2YXIgY3VycmVudFBhZ2UgID0gcGFnZXNbcGFnZXMubGVuZ3RoIC0gMV0gfHwge307XG5cdCAgICAgIGlmIChjdXJyZW50UGFnZSAmJiAhbG9nZGF0YS50aXRsZSkge1xuXHQgICAgICAgIGxvZ2RhdGEudGl0bGUgPSBjdXJyZW50UGFnZS5yb3V0ZSB8fCAnJzsgIFxuXHQgICAgICB9XG5cdCAgICAgIGxvZ2RhdGEudXJsID0gKCFpc1RCRW52ICYmIGFwbHVzLmdsb2JhbENvbmZpZy5pc0FsaSA/ICdodHRwczovLycgOiAnJykgKyAoY3VycmVudFBhZ2Uucm91dGUgIHx8IGN1cnJlbnRQYWdlLmlzIHx8ICctJyk7XG5cdFxuXHQgICAgICB2YXIgcHJlID0gJy0nO1xuXHQgICAgICBpZiAocGFnZXMubGVuZ3RoID4gMSkge1xuXHQgICAgICAgIHZhciBwcmVQYWdlID0gcGFnZXNbcGFnZXMubGVuZ3RoIC0gMl0gfHwge307XG5cdCAgICAgICAgcHJlID0gKCFpc1RCRW52ICYmIGFwbHVzLmdsb2JhbENvbmZpZy5pc0FsaSA/ICdodHRwczovLycgOiAnJykgKyAocHJlUGFnZS5yb3V0ZSB8fCBwcmVQYWdlLmlzIHx8ICctJyk7XG5cdCAgICAgIH1cblx0ICAgICAgbG9nZGF0YS5wcmUgPSBwcmU7XG5cdCAgICAgIGlmIChsb2dkYXRhLnNka19pbmZvKSB7XG5cdCAgICAgICAgbG9nZGF0YS5zZGtfaW5mby53aW5kbWlsbCA9ICcxJztcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdGhpcy5vcHRpb25zLmNvbnRleHQud2hhdF90b19zZW5kLmxvZ2RhdGEgPSBsb2dkYXRhO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgfTtcblx0fTtcblxuXG4vKioqLyB9KSxcbi8qIDczICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyoqXG5cdCAqIGFsaWxvZy9zIC0gc3JjL2xpYl91L3BsdWdpbnMvcHYvd2hhdF90b19zZW5kcHZfdXNlcmRhdGEuanNcblx0ICpcblx0ICogIOaPkuS7tuS9nOeUqO+8muaUtumbhuW6lOeUqOaWueiHquWumuS5iXB25Y+C5pWwXG5cdCAqICAgICAgICAgICDlubblsIbmlLbpm4bliLDnmoToh6rlrprkuYnlj4LmlbDku6XmlbDnu4TmoLzlvI/ov73liqDliLBwdmRhdGHlkI7pnaLvvJpwdmRhdGEuY29uY2F0KHVzZXJkYXRhKVxuXHQgKiAgZGVwczogd2hhdF90b19zZW5kcHZcblx0ICpcblx0ICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuXHQgKlxuXHQgKiBBdXRob3JzOlxuXHQgKiAgIOiwi+WjqyA8cWluZ2xpYW5nLmhxbEBhbGliYWJhLWluYy5jb20+XG5cdCAqL1xuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgZm9ybWF0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMik7XG5cdHZhciBpc0FycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG5cdHZhciB1dGlsR29sZGxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdHZhciBhcGx1c1N0YXRpYyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdHZhciBtaW5pID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0Ly8gdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoJ2FwbHVzJyk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuXHQgIHJldHVybiB7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiDph4fpm4bkuKrmgKfljJblj4LmlbBcblx0ICAgICAqXG5cdCAgICAgKiBnb2tleTpcblx0ICAgICAqICAg6L+Z5Z2X5Li65a+55Y6G5Y+ydXNlcmRhdGHkvKDpgJLnmoTlhbzlrrnlgZrms5XvvIxUT0RP77ya5o6o5Yqo5bqU55So5pa55Y+Y5pu0XG5cdCAgICAgKiAgIOW6lOeUqOaWueS8oOmAkueahGdva2V55qC85byP5bqU55So5pa56Ieq6KGM5Yaz5a6a77yMXG5cdCAgICAgKiAgICAg5aaCIGdva2V5PVwiYT0xJmI9MlwiIOaIliB7XCJhXCI6W3tcImtleVwiOjIwMTYxMjI2MTU1MCxcInZhbHVlXCI6MC4xfSx7XCJrZXlcIjoyMDE2MTIyNjE2MDAsXCJ2YWx1ZVwiOjAuNX0se1wia2V5XCI6MjAxNjEyMjYxNjEwLFwidmFsdWVcIjoxfV19XG5cdCAgICAgKiAgIOi/meWdl+mAu+i+keaYr+mAoOaIkGV4dGVuZGFyZ3PlhoXpg6jlh7rnjrDlpJrkuKrmlpzmnaDnmoTlhYPlh7bvvIHvvIHvvIFcblx0ICAgICAqIHBhZ2VfaWQ6XG5cdCAgICAgKiAgIOaciXBhZ2VfaWTlsLHlnKhzcG1i5Lit5re75Yqg5a2Q5Y+C5pWwXG5cdCAgICAgKiAgIOaXoHBhZ2VfaWTlsLHmuIXpmaRzcG1i5Lit55qE5a2Q5Y+C5pWwXG5cdCAgICAgKiBzcG1fY250XG5cdCAgICAgKiAgIOabtOaUueWujHNwbWLkvY3ov5jpnIDopoHmm7TmlrBzcG1fY250IEDosIvlo6sgaW4gMjAxOC0wMy0yMCAg5Lul5YWNdG9VVOeahHNwbS1jbnTkuKLlpLHliIbmobblj7dcblx0ICAgICAqIOS4quaAp+WMluWPguaVsO+8mlxuXHQgICAgICogICAxLiAoYXBsdXPmpI3lhaUpOiA8bWV0YSBuYW1lPVwiYXBsdXMtY3B2ZGF0YVwiIGNvbnRlbnQ9XCJKU09Oc3RyaW5nXCI+XG5cdCAgICAgKiAgIDIuIOaWueazleS8oOWFpTogYXBsdXMuc2VuZFBWKHtDT05GSUd9LCB7VVNFUkRBVEV9KTtcblx0ICAgICAqIOWPjeS9nOW8iueahOaWh+aho+WuvemrmDogX3B3LF9waFxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm4ge09iamVjdH0gey4uLn1cblx0ICAgICAqL1xuXHQgICAgZ2V0VXNlcmRhdGE6IGZ1bmN0aW9uKCkge1xuXHQgICAgICB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZSgnYXBsdXMnKTtcblx0ICAgICAgdmFyIGNvbmZpZyA9IHRoaXMub3B0aW9ucy5jb25maWcgfHwge307XG5cdCAgICAgIHZhciBkID0ge307XG5cdFxuXHQgICAgICBpZiAoY29uZmlnICYmICFjb25maWcuaXNfYXV0bykge1xuXHQgICAgICAgIGlmIChjb25maWcuZ29rZXkpIHtcblx0ICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnLmdva2V5ID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgICAgICBkID0gZm9ybWF0LnBhcmFtMm9iaihjb25maWcuZ29rZXkpO1xuXHQgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY29uZmlnLmdva2V5ID09PSAnb2JqZWN0Jykge1xuXHQgICAgICAgICAgICBkID0gY29uZmlnLmdva2V5O1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHRcblx0ICAgICAgdmFyIGNvbWJvVXNlcmRhdGEgPSBmdW5jdGlvbihfZGF0YSkge1xuXHQgICAgICAgIGlmKGlzQXJyYXkoX2RhdGEpKXtcblx0ICAgICAgICAgIF9kYXRhLmZvckVhY2goZnVuY3Rpb24oaXRlbSl7XG5cdCAgICAgICAgICAgIGQgPSBPYmplY3QuYXNzaWduKHt9LCBkLCBpdGVtKTtcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBkID0gT2JqZWN0LmFzc2lnbih7fSwgZCwgX2RhdGEpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfTtcblx0ICAgICAgY29tYm9Vc2VyZGF0YShhcGx1cy5nZXRNZXRhSW5mbygnYXBsdXMtY3B2ZGF0YScpKTtcblx0XG5cdCAgICAgIHZhciBjdXJyZW50UGFnZSA9IG1pbmkuZ2V0Q3VycmVudFBhZ2UoKTtcblx0ICAgICAgdmFyIHBhZ2VOYW1lID0gY3VycmVudFBhZ2Uucm91dGUgfHwgY3VycmVudFBhZ2UuaXMgfHwgJ3BhZ2UnO1xuXHQgICAgICB2YXIgcGFnZVByb3BlcnRpZXMgPSBhcGx1cy5nZXRNZXRhSW5mbygnYXBsdXMtcGFnZS1wcm9wZXJ0aWVzJykgfHwge307XG5cdCAgICAgIHZhciBwYWdlUHJvcGVydHkgPSBwYWdlUHJvcGVydGllc1twYWdlTmFtZV07XG5cdCAgICAgIGlmICh0eXBlb2YgcGFnZVByb3BlcnR5ID09PSAnb2JqZWN0Jykge1xuXHQgICAgICAgIGNvbWJvVXNlcmRhdGEocGFnZVByb3BlcnR5KTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLm9wdGlvbnMuY29udGV4dCB8fCB7fTtcblx0ICAgICAgdmFyIHVzZXJkYXRhID0gY29udGV4dC51c2VyZGF0YSB8fCB7fTtcblx0ICAgICAgY29tYm9Vc2VyZGF0YSh1c2VyZGF0YSk7XG5cdFxuXHQgICAgICByZXR1cm4gZDtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiDmm7TmlrBwcmXvvIjlnKjov5nph4zlgZrnmoTljp/lm6DmmK/vvIxwcmXlj4LmlbDlsZ7kuo5iYXNpY+WPguaVsO+8jOS9huaYr3VzZXJkYXRh5Lit5aaC5Lyg6YCS5LqGcmVmZXJyZXLvvIzlj6/ku6Xopobnm5ZwcmXvvIlcblx0ICAgICAqL1xuXHQgICAgdXBkYXRlUHJlOiBmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICB2YXIgY29uZmlnID0gdGhpcy5vcHRpb25zLmNvbmZpZyB8fCB7fTtcblx0ICAgICAgdmFyIF8kID0gdXRpbEdvbGRsb2cuZ2V0R29sZGxvZ1ZhbCgnXyQnKSB8fCB7fTtcblx0ICAgICAgaWYgKGNvbmZpZyAmJiBjb25maWcucmVmZXJyZXIpIHtcblx0ICAgICAgICBfJC5wYWdlX3JlZmVycmVyID0gY29uZmlnLnJlZmVycmVyO1xuXHQgICAgICAgIGRhdGEucHJlID0gY29uZmlnLnJlZmVycmVyO1xuXHQgICAgICB9XG5cdCAgICAgIHV0aWxHb2xkbG9nLnNldEdvbGRsb2dWYWwoJ18kJywgXyQpO1xuXHQgICAgICByZXR1cm4gZGF0YTtcblx0ICAgIH0sXG5cdCAgICAvKipcblx0ICAgICAqIOabtOaWsOmhtemdoueahFVybFxuXHQgICAgICovXG5cdCAgICB1cGRhdGVVcmw6ZnVuY3Rpb24oZGF0YSl7XG5cdCAgICAgIHZhciBjb25maWcgPSB0aGlzLm9wdGlvbnMuY29uZmlnIHx8IHt9O1xuXHQgICAgICBpZihjb25maWcmJmNvbmZpZy5wYWdlVXJsKXtcblx0ICAgICAgICBkYXRhLnVybCA9IGNvbmZpZy5wYWdlVXJsO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBkYXRhO1xuXHQgICAgfSxcblx0ICAgIC8qKlxuXHQgICAgICog5pu05paw5p2l5rqQc3BtXG5cdCAgICAgKi9cblx0ICAgIHVwZGF0ZVNwbVVybDpmdW5jdGlvbihkYXRhKXtcblx0ICAgICAgdmFyIGNvbmZpZyA9IHRoaXMub3B0aW9ucy5jb25maWcgfHwge307XG5cdCAgICAgIHZhciBzcG1VcmwgPSBjb25maWdbYXBsdXNTdGF0aWMuU1BNX1VSTF18fGNvbmZpZy5zcG1Vcmw7XG5cdCAgICAgIGlmKHNwbVVybCl7XG5cdCAgICAgICAgZGF0YS5nb2tleVthcGx1c1N0YXRpYy5TUE1fVVJMXSA9IHNwbVVybDtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gZGF0YTtcblx0ICAgIH0sXG5cdCAgICAvKipcblx0ICAgICAqIOS9leaXtuaJp+ihjHNlbmRwduaJp+ihjOWFpeWPo1xuXHQgICAgICog6L+U5ZueXCJkb25lXCLnu4jmraLkuK3pl7Tku7bmiafooYxcblx0ICAgICAqIEBwYXJhbSBbU3RyaW5nXSBzdGF0ZSDnirbmgIFcblx0ICAgICAqIEBwYXJhbSBbRnVuY3Rpb25dIGNiICDlm57osINcblx0ICAgICAqIEByZXR1cm4gXCJkb25lXCIgfCB1bmRlZmluZWRcblx0ICAgICAqL1xuXHQgICAgcnVuOiBmdW5jdGlvbigpIHtcblx0ICAgICAgdmFyIGQgPSB0aGlzLm9wdGlvbnMuY29udGV4dC53aGF0X3RvX3NlbmQubG9nZGF0YTtcblx0ICAgICAgdmFyIHVzZXJkYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5nZXRVc2VyZGF0YSgpLCBkLnVzZXJkYXRhIHx8IHt9KTtcblx0ICAgICAgZC5nb2tleSA9IE9iamVjdC5hc3NpZ24oe30sIGQuZ29rZXksIHVzZXJkYXRhKTtcblx0ICAgICAgZCA9IHRoaXMudXBkYXRlUHJlKGQpO1xuXHQgICAgICBkID0gdGhpcy51cGRhdGVVcmwoZCk7XG5cdCAgICAgIGQgPSB0aGlzLnVwZGF0ZVNwbVVybChkKTtcblx0ICAgICAgdGhpcy5vcHRpb25zLmNvbnRleHQud2hhdF90b19zZW5kLmxvZ2RhdGEgPSBkO1xuXHQgICAgICB0aGlzLm9wdGlvbnMuY29udGV4dC51c2VyZGF0YSA9IGQuZ29rZXk7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICB9O1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogNzQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKipcblx0ICogYWxpbG9nL3MgLSBzcmMvbGliX3UvY29uZmlnL3BsdWdpbnMvY2FuX3RvX3NlbmRwdi5qc1xuXHQgKlxuXHQgKiDkvZznlKjvvJrliKTmlq1wduiDveWQpuWPkemAge+8jOS4jeWPr+S7peWPkemAgeWImeS8muS4reaWreWQjue7reaJgOacieS4remXtOS7tuaJp+ihjFxuXHQgKiBkZXBzOiDml6Bcblx0ICpcblx0ICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuXHQgKlxuXHQgKiBBdXRob3JzOlxuXHQgKiAgIOiwi+WjqyA8cWluZ2xpYW5nLmhxbEBhbGliYWJhLWluYy5jb20+XG5cdCAqL1xuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgdXRpbEdvbGRsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0ICByZXR1cm4ge1xuXHQgICAgLyoqXG5cdCAgICAgKiDmmK/lkKbopoHmiafooYxzZW5kcHbnmoTlhaXlj6Ncblx0ICAgICAqIOi/lOWbnlwiZG9uZVwi57uI5q2i5Lit6Ze05Lu25omn6KGMXG5cdCAgICAgKiBAcGFyYW0gW1N0cmluZ10gc3RhdGUg54q25oCBXG5cdCAgICAgKiBAcGFyYW0gW0Z1bmN0aW9uXSBjYiAg5Zue6LCDXG5cdCAgICAgKiBAcmV0dXJuIFwiZG9uZVwiIHwgdW5kZWZpbmVkXG5cdCAgICAgKi9cblx0ICAgIHJ1bjogZnVuY3Rpb24oKSB7XG5cdCAgICAgIHZhciBfJCA9IHV0aWxHb2xkbG9nLmdldEdvbGRsb2dWYWwoJ18kJykgfHwge307XG5cdCAgICAgIHZhciBjb3VudCA9IF8kLnNlbmRfcHZfY291bnQgfHwgMDtcblx0ICAgICAgXyQuc2VuZF9wdl9jb3VudCA9ICsrY291bnQ7XG5cdCAgICAgIHV0aWxHb2xkbG9nLnNldEdvbGRsb2dWYWwoJ18kJywgXyQpO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9LFxuXHQgIH07XG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiA3NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiBhbGlsb2cvcyAtIHNyYy9saWJfdS9wbHVnaW5zL3B2L3doYXRfdG9faGpsal91c2VyZGF0YS5qc1xuXHQgKlxuXHQgKiAg5o+S5Lu25L2c55So77ya5pS26ZuG5bqU55So5pa56Ieq5a6a5LmJcHblj4LmlbBcblx0ICogICAgICAgICAgIOW5tuWwhuaUtumbhuWIsOeahOiHquWumuS5ieWPguaVsOS7peaVsOe7hOagvOW8j+i/veWKoOWIsGxvZ2RhdGHlkI7pnaLvvJpsb2dkYXRhLmNvbmNhdCh1c2VyZGF0YSlcblx0ICogIGRlcHM6IHdoYXRfdG9faGpsalxuXHQgKlxuXHQgKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG5cdCAqXG5cdCAqIEF1dGhvcnM6XG5cdCAqICAg6LCL5aOrIDxxaW5nbGlhbmcuaHFsQGFsaWJhYmEtaW5jLmNvbT5cblx0ICovXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBmb3JtYXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKTtcblx0dmFyIGlzQXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcblx0Ly8gdmFyIHV0aWxEYXNoID0gcmVxdWlyZSgnQHV0aWxzL3V0aWxEYXNoJyk7XG5cdHZhciB1dGlsR29sZGxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHQvLyB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZSgnYXBsdXMnKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG5cdCAgcmV0dXJuIHtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIOmHh+mbhuS4quaAp+WMluWPguaVsFxuXHQgICAgICpcblx0ICAgICAqIHJlY29yZChsb2drZXksIGdta2V5LCBnb2tleSkgQVBJ5Lit55qEZ29rZXlcblx0ICAgICAqIG1ldGE6YXBsdXMtZXhpbmZv5L+h5oGvLCBtZXRhOmFwbHVzLWV4ZGF0YeS/oeaBr1xuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm4ge09iamVjdH0gey4uLn1cblx0ICAgICAqL1xuXHQgICAgZ2V0VXNlckRhdGE6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoJ2FwbHVzJyk7XG5cdCAgICAgIHZhciBjID0gdGhpcy5vcHRpb25zLmNvbnRleHQgfHwge307XG5cdCAgICAgIHZhciB1c2VyZGF0YSA9IGMudXNlcmRhdGEgfHwge307XG5cdCAgICAgIHZhciBnb2tleSA9IGMud2hhdF90b19zZW5kLmxvZ2RhdGEuZ29rZXk7XG5cdCAgICAgIGdva2V5ID0gT2JqZWN0LmFzc2lnbih7fSwgZ29rZXksIGZvcm1hdC5wYXJhbTJvYmoodXNlcmRhdGEuZ29rZXkpKTtcblx0ICAgICAgZ29rZXkgPSBPYmplY3QuYXNzaWduKHt9LCBnb2tleSwgZm9ybWF0LnBhcmFtMm9iaihhcGx1cy5nZXRNZXRhSW5mbygnYXBsdXMtZXhpbmZvJyl8fHt9KSk7XG5cdCAgICAgIHZhciBleGRhdGEgPSBhcGx1cy5nZXRNZXRhSW5mbygnYXBsdXMtZXhkYXRhJyk7XG5cdCAgICAgIGlmIChpc0FycmF5KGV4ZGF0YSkpIHtcblx0ICAgICAgICBleGRhdGEuZm9yRWFjaChmdW5jdGlvbihpdGVtKXtcblx0ICAgICAgICAgIGdva2V5ID0gT2JqZWN0LmFzc2lnbih7fSwgZ29rZXksIGl0ZW0pO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGdva2V5ID0gT2JqZWN0LmFzc2lnbih7fSwgZ29rZXksIGV4ZGF0YSB8fCB7fSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGdva2V5O1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIOS9leaXtuaJp+ihjHNlbmRwduaJp+ihjOWFpeWPo1xuXHQgICAgICog6L+U5ZueJ2RvbmUn57uI5q2i5Lit6Ze05Lu25omn6KGMXG5cdCAgICAgKiBAcGFyYW0gW1N0cmluZ10gc3RhdGUg54q25oCBXG5cdCAgICAgKiBAcGFyYW0gW0Z1bmN0aW9uXSBjYiAg5Zue6LCDXG5cdCAgICAgKiBAcmV0dXJuICdkb25lJyB8IHVuZGVmaW5lZFxuXHQgICAgICovXG5cdCAgICBydW46IGZ1bmN0aW9uKCkge1xuXHQgICAgICB2YXIgbG9nZGF0YSA9IHRoaXMub3B0aW9ucy5jb250ZXh0LndoYXRfdG9fc2VuZC5sb2dkYXRhO1xuXHQgICAgICB2YXIgZ29rZXkgPSB0aGlzLmdldFVzZXJEYXRhKCk7XG5cdCAgICAgIC8vIOW6lOeUqOmAgOWHuuS6i+S7tuavlOi+g+eJueauiu+8jGR1cmF0aW9u5Y2zYXJnMSBA5paH6Z2SXG5cdCAgICAgIGlmIChsb2dkYXRhLmdta2V5ID09PSAnMTAxMCcpIHtcblx0ICAgICAgICBsb2dkYXRhLmFyZzEgPSBnb2tleS5kdXJhdGlvbiB8fCBsb2dkYXRhLmxvZ2tleTtcblx0ICAgICAgfVxuXHQgICAgICBsb2dkYXRhLmdva2V5ID0gZ29rZXk7XG5cdCAgICAgIHRoaXMub3B0aW9ucy5jb250ZXh0LndoYXRfdG9fc2VuZC5sb2dkYXRhID0gbG9nZGF0YTtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgIH07XG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiA3NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiBhbGlsb2cvcyAtIHNyYy9wbHVnaW5zL2xpYl9hcGkvbWFpbi5qc1xuXHQgKiBBUEnmj5Lku7Zcblx0ICpcblx0ICpcblx0ICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuXHQgKlxuXHQgKiBBdXRob3JzOlxuXHQgKiAgIFJpY2hhcmR86LCL5aOrIDxxaW5nbGlhbmcuaHFsQGFsaWJhYmEtaW5jLmNvbT5cblx0ICovXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuXHQgIHJldHVybiB7XG5cdCAgICBydW46IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXyg3NykodGhpcy5vcHRpb25zLmNvbnRleHQubG9nQ29uZmlnKTtcblx0ICAgIH1cblx0ICB9O1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogNzcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKipcblx0ICogYWxpbG9nL3MgLSBzcmMvcGx1Z2lucy9saWJfYXBpL21haW4uanNcblx0ICogQVBJ5o+S5Lu2XG5cdCAqXG5cdCAqXG5cdCAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cblx0ICpcblx0ICogQXV0aG9yczpcblx0ICogICBSaWNoYXJkfOiwi+WjqyA8cWluZ2xpYW5nLmhxbEBhbGliYWJhLWluYy5jb20+XG5cdCAqL1xuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgdXRpbFB1YnN1YiA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xuXHR2YXIgYXBsdXNTdGF0aWMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgdXRpbEdvbGRsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0LyoqXG5cdCAqIEBwYXJhbXMge09iamVjdH0gbG9nQ29uZmlnIHtcblx0ICogICAgcHY6IHtcblx0ICogICAgICBwbHVnaW5zOiByZXF1aXJlKCcuL2xpYl9sb2cvcGx1Z2luc19wdicpLFxuXHQgKiAgICAgIGNvbnRleHQ6IHJlcXVpcmUoJy4vbGliX2xvZy9jb25maWcvY29uZmlnX3UnKVxuXHQgKiAgICB9LFxuXHQgKiAgICBoamxqOiB7XG5cdCAqICAgICAgcGx1Z2luczogcmVxdWlyZSgnLi9saWJfbG9nL3BsdWdpbnNfaGpsaicpLFxuXHQgKiAgICAgIGNvbnRleHQ6IHJlcXVpcmUoJy4vbGliX2xvZy9jb25maWcvY29uZmlnX2hqbGpfdScpXG5cdCAqICAgIH1cblx0ICogIH1cblx0ICovXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxvZ0NvbmZpZykge1xuXHQgIHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKGFwbHVzU3RhdGljLkFQTFVTKTtcblx0ICBpZiAoYXBsdXMuX2FwbHVzX2FwaSkge1xuXHQgICAgcmV0dXJuO1xuXHQgIH0gZWxzZSB7XG5cdCAgICBhcGx1cy5fYXBsdXNfYXBpID0ge1xuXHQgICAgICBzdGF0dXM6IGFwbHVzU3RhdGljLkNPTVBMRVRFXG5cdCAgICB9O1xuXHQgIH1cblx0XG5cdCAgdmFyIGFwbHVzT2JqID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3OCkucnVuLmNyZWF0ZSh7XG5cdCAgICBsb2dDb25maWc6IGxvZ0NvbmZpZ1xuXHQgIH0pO1xuXHQgIGZvciAodmFyIGsgaW4gYXBsdXNPYmopIHtcblx0ICAgIGFwbHVzW2tdID0gYXBsdXNPYmpba107XG5cdCAgfVxuXHQgIHV0aWxHb2xkbG9nLnNldEdsb2JhbFZhbHVlKGFwbHVzU3RhdGljLkFQTFVTLCBhcGx1cyk7XG5cdCAgdmFyIG1zZ0FyciA9IFthcGx1c1N0YXRpYy5BUExVUyArICdSZWFkeScsIGFwbHVzU3RhdGljLkNPTVBMRVRFXTtcblx0ICB1dGlsUHVic3ViLmRvUHViTXNnKG1zZ0Fycik7XG5cdCAgdXRpbFB1YnN1Yi5kb0NhY2hlUHVicyhtc2dBcnIpO1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogNzggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKipcblx0ICogcHJvamVjdCAtIGZpbGVwYXRoXG5cdCAqIGRlc2NyaXB0aW9uXG5cdCAqXG5cdCAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cblx0ICpcblx0ICogQXV0aG9yczpcblx0ICogICDosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuXHQgKi9cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIEJhc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3KTtcblx0dmFyIGlzRnVuY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHR2YXIgbWluaSA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdHZhciBpc0FycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG5cdHZhciBhcGx1c1N0YXRpYyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdHZhciB1dGlsUHVic3ViID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7XG5cdHZhciBjbG9uZURlZXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHR2YXIgdXRpbEdvbGRsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHR2YXIgUmVkdWNlciA9IF9fd2VicGFja19yZXF1aXJlX18oNzkpO1xuXHR2YXIgbWV0YUluZm8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcblx0dmFyIGlzVHJpdmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Myk7XG5cdC8vIHZhciB1dGlsTG9nZ2VyID0gcmVxdWlyZSgnQHV0aWxzL3V0aWxMb2dnZXInKTtcblx0dmFyIHVsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0dmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0dmFyIFBhZ2VNYW5hZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5cdFxuXHQvLyB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZShhcGx1c1N0YXRpYy5BUExVUyk7XG5cdHZhciBfZ2V0UGFnZVNwbSA9IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuXHQgIGlmIChteSAmJiBteS5jYWxsICYmIHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgbXkuY2FsbCgnaGFuZGxlTG9nZ2luZ0FjdGlvbicsIHtcblx0ICAgICAgJ3R5cGUnOiAnYmVoYXZpb3InLFxuXHQgICAgICAnc3ViVHlwZSc6IG9wdHMuc3ViVHlwZVxuXHQgICAgfSwgZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICB2YXIgcnMgPSB7fTtcblx0ICAgICAgcnNbb3B0cy5zcG1UeXBlXSA9IHJlc1tvcHRzLnNwbVR5cGVdO1xuXHQgICAgICBjYWxsYmFjayhycyk7XG5cdCAgICB9KTtcblx0ICB9XG5cdH07XG5cdFxuXHR2YXIgcnVuID0gQmFzZS5leHRlbmQoe1xuXHRcblx0ICAvKipcblx0ICAgKiBHRVQg6K+35rGC5LiA5Liq5Zu+54mH5Zyw5Z2A77yM5ZCR5pyN5Yqh5Zmo5Y+R6YCB5omT54K5XG5cdCAgICpcblx0ICAgKiBAcGFyYW0gdXJsIHtTdHJpbmd9XG5cdCAgICogQHBhcmFtIFtkYXRhU3RyXSB7U3RyaW5nIHx8IE9iamVjdH1cblx0ICAgKiBAcGFyYW0gW21ldGhvZF0ge1N0cmluZ30gIC8vIFBPU1QgT1IgR0VUXG5cdCAgICogQHJldHVybiB7U3RyaW5nfVxuXHQgICAqL1xuXHQgIF9zZW5kOiBmdW5jdGlvbiAodXJsLCBkYXRhLCBtZXRob2QsIHN1Y2Nlc3NDYWxsYmFjaywgZmFpbHVyZUNhbGxiYWNrKSB7XG5cdCAgICB1cmwgPSB1dGlsLmNhbjJodHRwcyh1cmwpO1xuXHQgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnb2JqZWN0JyAmJiBtZXRob2QgPT09ICdQT1NUJykge1xuXHQgICAgICBtaW5pLnJlcXVlc3QodXJsLCB7XG5cdCAgICAgICAgbWV0aG9kOiBtZXRob2QsXG5cdCAgICAgICAgZGF0YTogZGF0YSxcblx0ICAgICAgICBkYXRhVHlwZTogJ2Jhc2U2NCdcblx0ICAgICAgfSwgc3VjY2Vzc0NhbGxiYWNrLCBmYWlsdXJlQ2FsbGJhY2spO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgbWluaS5yZXF1ZXN0KHVybCArICc/JyArIGRhdGEsIHtcblx0ICAgICAgICBtZXRob2Q6IG1ldGhvZCxcblx0ICAgICAgICBkYXRhVHlwZTogJ2Jhc2U2NCdcblx0ICAgICAgfSwgc3VjY2Vzc0NhbGxiYWNrLCBmYWlsdXJlQ2FsbGJhY2spO1xuXHQgICAgfVxuXHQgICAgXG5cdCAgICByZXR1cm4gdXJsO1xuXHQgIH0sXG5cdFxuXHQgIC8qKlxuXHQgICAqIEdFVCDor7fmsYLkuIDkuKrlj6/op4bljJbphY3nva7kv6Hmga/vvIzlkJHmnI3liqHlmajlj5Fcblx0ICAgKlxuXHQgICAqIEBwYXJhbSB1cmwge1N0cmluZ31cblx0ICAgKi9cblx0ICBfcmVxdWVzdFZUQ29uZmlnOiBmdW5jdGlvbih1cmwsIHN1Y2Nlc3NDYWxsYmFjaywgZmFpbHVyZUNhbGxiYWNrKSB7XG5cdCAgICBpZiAodXJsLmluZGV4T2YoJy8vJykgPT09IDApIHtcblx0ICAgICAgLy8gdXJsID0gYXBsdXNTdGF0aWMuSFRUUFMgKyB1cmw7XG5cdCAgICAgIHZhciBwcm90b2NhbCA9IGFwbHVzU3RhdGljLkhUVFBTO1xuXHQgICAgICBpZiAoLyhcXGQrXFwuKXszLH1cXGQrLy50ZXN0KHVybCkpIHtcblx0ICAgICAgICBwcm90b2NhbCA9ICdodHRwOic7XG5cdCAgICAgIH1cblx0ICAgICAgdXJsID0gcHJvdG9jYWwgKyB1cmw7XG5cdCAgICB9XG5cdCAgICBtaW5pLnJlcXVlc3QodXJsLCB7IG1ldGhvZDogJ0dFVCcgfSwgc3VjY2Vzc0NhbGxiYWNrLCBmYWlsdXJlQ2FsbGJhY2spO1xuXHQgIH0sXG5cdFxuXHQgIC8qKlxuXHQgICAqIEBwYXJhbSBbT2JqZWN0XSBjb25maWc6IHtcblx0ICAgKiAgIGNoZWNrc3VtOiAxMTExMTExMSwgICAvLyDmoLnmja5zcG1hLHNwbWLoh6rliqjnlJ/miJDnmoTkuIDkuKrlrZfnrKbkuLJcblx0ICAgKiAgIGlzX2F1dG86IHRydWUvZmFsc2XvvIwgLy8g5qCH6K+G5piv5ZCm6Ieq5Yqo5omT54K577yM6buY6K6k5Li6dHJ1Ze+8jOWNlemhteW6lOeUqOmcgOimgeS8oGZhbHNlXG5cdCAgICogICBwYWdlX2lkOiAxMjMsICAgICAgICAgLy8g5bCG5Lya5L2T546w5Zyoc3BtYuS9jeS4ilxuXHQgICAqICAgZ29rZXk6ICcnLCAgICAgICAgICAgIC8vIOeUqOaIt+iHquWumuS5ieWPguaVsO+8iOWQkeS4i+WFvOWuue+8jFRPRE/lkI7nu63kuIvmjonvvIlcblx0ICAgKiB9XG5cdCAgICogQHBhcmFtIFtPYmplY3RdIHVzZXJkYXRhOiB7XG5cdCAgICogICByZWZlcnJlcjogJ2h0dHA6Ly93d3cudGFvYmFvLmNvbScgICAvLyDlsIbkvJrmm7/mjaJwduivt+axgueahHByZeWPguaVsFxuXHQgICAqICAgeHh4MTogJ3Z2djEnLFxuXHQgICAqICAgeHh4MjogJ3Z2djInLFxuXHQgICAqICAgeHh4TjogJ3Z2dk4nLFxuXHQgICAqIH0gICAvLyDlkITnp43oh6rlrprkuYlwduWPguaVsFxuXHQgICAqL1xuXHQgIF9zZW5kUFY6IGZ1bmN0aW9uIChjb25maWcsIHVzZXJkYXRhKSB7XG5cdCAgICB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZShhcGx1c1N0YXRpYy5BUExVUyk7XG5cdCAgICBjb25maWcgPSBjb25maWcgfHwge307XG5cdFxuXHQgICAgaWYgKGNvbmZpZy5wYWdlTmFtZSkge1xuXHQgICAgICBhcGx1cy5fc2V0TWV0YUluZm8oYXBsdXNTdGF0aWMuQVBMVVMgKyAnLXBhZ2VuYW1lJywgY29uZmlnLnBhZ2VOYW1lKTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgcmVkdWNlciA9IG5ldyBSZWR1Y2VyKCk7XG5cdCAgICBjb25maWcucmVjb3JkVHlwZSA9ICdQVic7IC8vIOWIpOaWreWNleWPjOWPkeeUqOeahO+8jOiAg+iZkeenu+mZpFxuXHQgICAgaWYgKCFjb25maWcubWV0aG9kKSB7XG5cdCAgICAgIGNvbmZpZy5tZXRob2QgPSAnR0VUJztcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgcHYgPSBhcGx1cy5sb2dDb25maWcucHY7XG5cdCAgICByZWR1Y2VyLnJ1bih7XG5cdCAgICAgIHBsdWdpbnM6IHB2LnBsdWdpbnMsXG5cdCAgICAgIGNvbnRleHQ6IGNsb25lRGVlcChwdi5jb250ZXh0KSAvLyDpmLLmraLmupDphY3nva7ooqvmsaHmn5Ncblx0ICAgIH0sIHtcblx0ICAgICAgY29uZmlnOiBjb25maWcsXG5cdCAgICAgIHVzZXJkYXRhOiB1c2VyZGF0YSB8fCB7fSxcblx0ICAgICAgcHVic3ViVHlwZTogJ3B2Jyxcblx0ICAgICAgLy8gbWVzc2FnZUZuUXVldWU6IGZuX2FmdGVyX3B2LFxuXHQgICAgICBtaWRkbGV3YXJlTWVzc2FnZUtleTogJ213X2NoYW5nZV9wdidcblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfSxcblx0XG5cdCAgLyoqXG5cdCAgICog6IGa5ZCI5LiK5oql5Luk566t5pel5b+XXG5cdCAgICpcblx0ICAgKiBAcGFyYW1zIHtTdHJpbmd9IGxvZ2tlee+8iOW/heWhq++8iVxuXHQgICAqIEBwYXJhbXMge1N0cmluZ30gZ21rZXnvvIjlv4XloavvvIkg5p6a5Li+5YC877yaIENMSyDlkowgRVhQXG5cdCAgICogQHBhcmFtcyB7QXJyYXlPYmplY3R9IGdva2V5c++8iOW/heWhq++8ieWGhee9rueahOWvueixoeWPguaVsOagvOW8j+Wmgu+8mlxuXHQgICAqICBbe1xuXHQgICAqICAgIFwiZXhhcmdzXCI6IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOS4iuaKpeeahOiHquWumuS5ieWPguaVsO+8jOWGheWuueWdh+S4uuWPr+mAie+8jOWmguaXoOiHquWumuS5ieWPguaVsOWImeS8oOepuuWvueixoVxuXHQgICAqICAgICAgXCJfd1wiOiAzNzUsICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOabneWFieaooeWdl+WuveW6plxuXHQgICAqICAgICAgXCJfaFwiOiAxODgsICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOabneWFieaooeWdl+mrmOW6plxuXHQgICAqICAgICAgXCJfeFwiOiAwLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOabneWFieaooeWdl+aoquWdkOagh1xuXHQgICAqICAgICAgXCJfeVwiOiA4NywgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOabneWFieaooeWdl+e6teWdkOagh1xuXHQgICAqICAgICAgXCJfcmF0ZVwiOiBcIjEuMDBcIiwgICAgICAgICAgICAgICAgICAgICAgLy8g5pud5YWJ6Z2i56ev5q+U5L6LXG5cdCAgICogICAgICBcIl92aWV3YWJpbGl0eVwiOiBcImludGVyc2VjdGlvblwiLCAgICAgICAvLyDmm53lhYnmlrnlvI8gaW50ZXJzZWN0aW9uIOaIliBmaWxsd2luZG93XG5cdCAgICogICAgICAvLyDpmaTkuobkuIrov7Dkv53nlZnlj4LmlbDlpJbnmoTlhbbku5blj4LmlbBrZXktdmFsdWXoh6rooYzlrprkuYnvvJpcblx0ICAgKiAgICAgIFwieW91cktleTFcIjogXCJ5b3VyVmFsdWUxXCIsICAgICAgICBcblx0ICAgKiAgICAgIFwieW91cktleTJcIjogXCIlRTQlQjglQUQlRTUlOUIlQkRcIiAgICAgIC8vIOWmguS4uuS4reaWh++8jOWImemcgOiHquihjOe8lueggVxuXHQgICAqICAgICAgLi4uLi4uXG5cdCAgICogICAgfSxcblx0ICAgKiAgICBcInNjbVwiOiBcImEuYi5jLmRcIiwgICAgICAgICAgICAgICAgICAgICAgIC8vIHNjbeS4uuWPr+mAieWPguaVsO+8jOWmguaXoOWImeS8oOepuuWAvFxuXHQgICAqICAgIFwic3BtXCI6IFwic3BtYS5zcG1iLnNwbWMuc3BtZFwiLCAgICAgICAgICAgLy8gc3Bt5Li65b+F6YCJ5Y+C5pWw77yM5L2/55So5qCH5YeG55qE5Zub5q615byPXG5cdCAgICogICAgXCJhcGx1c0NvbnRlbnRJZFwiOiBcIlwiICAgICAgICAgICAgICAgICAgICAvLyDkv53nlZnlrZfmrrXvvIzmmoLml7bkuI3pnIDopoHkvKBcblx0ICAgKiAgfV1cblx0ICAgKiBAcGFyYW1zIHtTdHJpbmd9IG1ldGhvZO+8iOWPr+mAie+8iSAgICAgICAgICAgICAgLy8g5p6a5Li+5YC877yaIEdFVOWSjFBPU1TvvIzpu5jorqTkvb/nlKhQT1NU5pa55byP5LiK5oqlXG5cdCAgICogQHBhcmFtcyB7RnVuY3Rpb259IGNiICAgICAgICAgICAgICAgICAgICAgIC8vIOS/neeVmeWxnuaAp++8jOaaguaXtuS4jemcgOimgeS8oFxuXHQgICAqL1xuXHQgIF9jb21iaW5lUmVjb3JkOiBmdW5jdGlvbihsb2drZXksIGdta2V5LCBnb2tleXMsIG1ldGhvZCkge1xuXHQgICAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoYXBsdXNTdGF0aWMuQVBMVVMpO1xuXHQgICAgdmFyIEVYUCA9ICdFWFAnO1xuXHQgICAgaWYgKGFwbHVzLmdsb2JhbENvbmZpZy5pc0FsaSAmJiAoZ21rZXkgPT09IEVYUCB8fCBnbWtleSA9PT0gJ0NMSycpKSB7XG5cdCAgICAgIGlmIChpc0FycmF5KGdva2V5cykpIHtcblx0ICAgICAgICBpZiAoIW1ldGhvZCkge1xuXHQgICAgICAgICAgbWV0aG9kID0gJ1BPU1QnO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgdXNlcmRhdGEgPSBbXTtcblx0ICAgICAgICB2YXIgc2VuZHRvbXkgPSAndHJ1ZSc7XG5cdCAgICAgICAgZ29rZXlzLmZvckVhY2goZnVuY3Rpb24odil7XG5cdCAgICAgICAgICB1c2VyZGF0YS5wdXNoKHtcblx0ICAgICAgICAgICAgZXhhcmdzOiB0eXBlb2Ygdi5leGFyZ3MgPT09ICdvYmplY3QnID8gdi5leGFyZ3MgOiB7fSxcblx0ICAgICAgICAgICAgc2NtOiB2LnNjbSxcblx0ICAgICAgICAgICAgc3BtOiB2LnNwbSxcblx0ICAgICAgICAgICAgYXBsdXNDb250ZW50SWQ6IHYuYXBsdXNDb250ZW50SWQsXG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICAgIGlmICh2Ll9hcGx1c19zZW5kdG9teSA9PT0gJ2ZhbHNlJyAmJiBzZW5kdG9teSA9PT0gJ3RydWUnKSB7XG5cdCAgICAgICAgICAgIHNlbmR0b215ID0gJ2ZhbHNlJztcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0ICAgICAgICB2YXIgX2dva2V5cyA9IFtdO1xuXHQgICAgICAgIF9nb2tleXMucHVzaCgoZ21rZXkgPT09IEVYUCA/ICdleHBkYXRhPScgOiAnY2xrZGF0YT0nKSArIEpTT04uc3RyaW5naWZ5KHVzZXJkYXRhKSk7XG5cdCAgICAgICAgX2dva2V5cy5wdXNoKGdta2V5ID09PSBFWFAgPyAnX2lzX2F1dG9fZXhwPTEnIDogJ19pc19hdXRvX2Nsaz0xJyk7XG5cdCAgICAgICAgX2dva2V5cy5wdXNoKCdfZXZlbnRUeXBlPWN1c3RvbScpO1xuXHQgICAgICAgIF9nb2tleXMucHVzaCgnX21ldGhvZD0nICsgbWV0aG9kKTtcblx0ICAgICAgICBfZ29rZXlzLnB1c2goJ19wa2dTaXplPScgKyBnb2tleXMubGVuZ3RoKTtcblx0ICAgICAgICBpZiAoc2VuZHRvbXkgPT09ICdmYWxzZScpIHtcblx0ICAgICAgICAgIF9nb2tleXMucHVzaCgnX2FwbHVzX3NlbmR0b215PWZhbHNlJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGFwbHVzLnJlY29yZChsb2drZXksIGdta2V5LCBfZ29rZXlzLmpvaW4oJyYnKSwgbWV0aG9kKTsgIFxuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGNvbnNvbGUud2FybigndHlwZSBvZiBnb2tleXMgbXVzdCBiZSBBcnJheU9iamVjdCEnKTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgY29uc29sZS53YXJuKCdvbmx5IHN1cHBvcnQgRVhQIG9yIENMSyBsb2cgdG8gY29tYmlsZSByZWNvcmQhJyk7XG5cdCAgICB9XG5cdCAgfSxcblx0XG5cdCAgLyoqXG5cdCAgICog5Y+R6YCB6buE6YeR5Luk566t5omT54K5XG5cdCAgICogQHBhcmFtIHtTdHJpbmd9IGxvZ2tleVxuXHQgICAqIEBwYXJhbSB7U3RyaW5nfSBnbWtleVxuXHQgICAqIEBwYXJhbSB7U3RyaW5nfSBnb2tleVxuXHQgICAqIEBwYXJhbSB7U3RyaW5nfSBtZXRob2Qg6K+35rGC5pa55rOV5Li6IFBPU1Qgb3IgR0VUXG5cdCAgICogQHBhcmFtIHtTdHJpbmd9IGNiXG5cdCAgICovXG5cdCAgX3JlY29yZDogZnVuY3Rpb24gKGxvZ2tleSwgZ21rZXksIGdva2V5LCBtZXRob2QsIGNiKSB7XG5cdCAgICB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZShhcGx1c1N0YXRpYy5BUExVUyk7XG5cdCAgICBsb2drZXkgPSBsb2drZXkgKyAnJztcblx0ICAgIGlmIChsb2drZXkgJiYgbG9na2V5LmluZGV4T2YoJy8nKSAhPT0gMCAmJiBhcGx1cy5nbG9iYWxDb25maWcuaXNBbGkpIHtcblx0ICAgICAgbG9na2V5ID0gJy8nICsgbG9na2V5O1xuXHQgICAgfVxuXHQgICAgdmFyIHJlZHVjZXIgPSBuZXcgUmVkdWNlcigpO1xuXHQgICAgdmFyIGhqbGogPSBhcGx1cy5sb2dDb25maWcuaGpsajtcblx0ICAgIHJlZHVjZXIucnVuKHtcblx0ICAgICAgcGx1Z2luczogaGpsai5wbHVnaW5zLFxuXHQgICAgICBjb250ZXh0OiBjbG9uZURlZXAoaGpsai5jb250ZXh0KSAvLyDpmLLmraLmupDphY3nva7ooqvmsaHmn5Ncblx0ICAgIH0sIHtcblx0ICAgICAgY29uZmlnOiB7XG5cdCAgICAgICAgcmVjb3JkVHlwZTogJ0NPTU1PTl9ISkxKJywgLy8g5Yik5pat5Y2V5Y+M5Y+R55So55qE77yM6ICD6JmR56e76ZmkXG5cdCAgICAgICAgbWV0aG9kOiBtZXRob2QgfHwgJ0dFVCdcblx0ICAgICAgfSxcblx0ICAgICAgdXNlcmRhdGE6IHtcblx0ICAgICAgICBsb2drZXk6IGxvZ2tleSxcblx0ICAgICAgICBnbWtleTogZ21rZXksXG5cdCAgICAgICAgZ29rZXk6IGdva2V5XG5cdCAgICAgIH0sXG5cdCAgICAgIHB1YnN1YlR5cGU6ICdoamxqJyxcblx0ICAgICAgLy8gbWVzc2FnZUZuUXVldWU6IGZuX2FmdGVyX3JlY29yZCxcblx0ICAgICAgbWlkZGxld2FyZU1lc3NhZ2VLZXk6ICdtd19jaGFuZ2VfaGpsaidcblx0ICAgIH0sIGZ1bmN0aW9uKCl7XG5cdCAgICAgIGlmIChpc0Z1bmN0aW9uKGNiKSkge1xuXHQgICAgICAgIGNiKCk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfSxcblx0ICBcblx0ICBnZXRQYWdlU1BNOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZShhcGx1c1N0YXRpYy5BUExVUyk7XG5cdCAgICB2YXIgXyQgPSBhcGx1cy5fJCB8fCB7fTtcblx0ICAgIHZhciBzcG0gPSBfJC5zcG0gfHwge307XG5cdCAgICB2YXIgZGF0YSA9IHNwbS5kYXRhIHx8IHt9O1xuXHQgICAgcmV0dXJuIFtkYXRhLmEsIGRhdGEuYl07XG5cdCAgfSxcblx0XG5cdCAgLyoqXG5cdCAgICog5pu05paw6aG16Z2i55qEIGHjgIFiIOS9jVxuXHQgICAqIOmcgOaxguWPguinge+8mmh0dHA6Ly9naXRsYWIuYWxpYmFiYS1pbmMuY29tL2FsaWxvZy9rYi9pc3N1ZXMvMTM3XG5cdCAgICogQHBhcmFtIGEge1N0cmluZ31cblx0ICAgKiBAcGFyYW0gW2JdIHtTdHJpbmd9XG5cdCAgICogQHBhcmFtIFtjYl0ge0Z1bmN0aW9ufVxuXHQgICAqL1xuXHQgIF9zZXRQYWdlU1BNOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgb2JqID0ge307XG5cdCAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcblx0ICAgIHZhciBjYjtcblx0ICAgIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgb2JqID0gYXJnc1swXTtcblx0ICAgICAgY2IgPSBhcmdzWzFdO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgb2JqLnNwbUNudCA9IFthcmdzWzBdLCBhcmdzWzFdLCAnMCcsICcwJ10uam9pbignLicpO1xuXHQgICAgICBjYiA9IGFyZ3NbMl07XG5cdCAgICB9XG5cdCAgICB2YXIgbXNncztcblx0ICAgIGlmICghb2JqLnNwbUNudCAmJiAhb2JqLnNwbVVybCAmJiBtZXRhSW5mby5nZXRNZXRhSW5mbygncGFnZUNvbmZpZycpKSB7XG5cdCAgICAgIG1zZ3MgPSBbJ2NsZWFyUGFnZVNQTSddO1xuXHQgICAgICB1dGlsUHVic3ViLmRvUHViTXNnKG1zZ3MpO1xuXHQgICAgICB1dGlsUHVic3ViLmRvQ2FjaGVQdWJzKG1zZ3MpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgLyoqXG5cdCAgICAgICAqIEBwYXJhbXMgb2JqIHtPYmplY3R9IHtcblx0ICAgICAgICogICBzcG1DbnQ6ICdhLmIuMC4wJ1xuXHQgICAgICAgKiAgIHNwbVVybDogJ2EuYi4wLjAnXG5cdCAgICAgICAqICAgc3BtUHJlOiAnYS5iLjAuMCdcblx0ICAgICAgICogfVxuXHQgICAgICAgKi9cblx0ICAgICAgbXNncyA9IFsnc2V0UGFnZVNQTScsIG9ial07XG5cdCAgICAgIHV0aWxQdWJzdWIuZG9QdWJNc2cobXNncyk7XG5cdCAgICAgIHV0aWxQdWJzdWIuZG9DYWNoZVB1YnMobXNncyk7XG5cdCAgICB9XG5cdCAgICB2YXIgY2FsbGJhY2sgPSB0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicgPyBjYiA6IGZ1bmN0aW9uICgpIHt9O1xuXHQgICAgY2FsbGJhY2sobXNncyk7XG5cdCAgfSxcblx0XG5cdCAgLyoqXG5cdCAgICog5Yqo5oCB6YWN572ubWV0YVxuXHQgICAqIEBwYXJhbSB7U3RyaW5nfSBrXG5cdCAgICogQHBhcmFtIHtPYmplY3R9IHZcblx0ICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cyB7XG5cdCAgICogICBmcm9tOiAnYXBwZW5kTWV0YUluZm8nXG5cdCAgICogfVxuXHQgICAqIEByZXR1cm4ge0Jvb2xlYW59XG5cdCAgICovXG5cdCAgX3NldE1ldGFJbmZvOiBmdW5jdGlvbihhcmcxLCB2YWx1ZSkge1xuXHQgICAgcmV0dXJuIG1ldGFJbmZvLl9zZXRNZXRhSW5mbyhhcmcxLCB2YWx1ZSk7XG5cdCAgfSxcblx0XG5cdCAgLyoqXG5cdCAgICogaHR0cHM6Ly95dXF1ZS5hbnRmaW4taW5jLmNvbS9hcGx1c2pzL3Byb2plY3QvYXBsdXNfY2xvdWQjMzMyZGU2MmNcblx0ICAgKiDkuI3mlK/mjIF1cGRhdGVQYWdlUHJvcGVydGllc++8jOaUueeUqOabv+S7o+aWueahiHNldE1ldGFJbmZvXG5cdCAgICogQHBhcmFtcyB7U3RyaW5nfSDpgI/kvKBqc29u5a2X56ym5Liy77yM5b+F6aG75piv5a2X56ym5LiyXG5cdCAgICovXG5cdCAgX3VwZGF0ZVBhZ2VQcm9wZXJ0aWVzOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBmdW5jdGlvbihwYXJhbXMpe1xuXHQgICAgaWYgKHR5cGVvZiBwYXJhbXMgPT09ICdvYmplY3QnKSB7XG5cdCAgICAgIC8vIOaWsOWuueWZqFRyaXZlcumHh+eUqHVwZGF0ZVBhZ2VQcm9wZXJ0aWVzXG5cdCAgICAgIGlmIChpc1RyaXZlcigpKSB7XG5cdCAgICAgICAgbXkucmVwb3J0QW5hbHl0aWNzKCd1cGRhdGVQYWdlUHJvcGVydGllcycsIHBhcmFtcyk7XG5cdCAgICAgIH0gZWxzZSBpZihtaW5pLmdldFBsYXRmb3JtVHlwZSgpPT09J215Jyl7XG5cdCAgICAgICAgbXkuY2FsbCgncmVwb3J0RGF0YScse1xuXHQgICAgICAgICAgc3BtRGV0YWlsOnBhcmFtcyxcblx0ICAgICAgICAgIGlnbm9yZURlZmF1bHRQYWdlTW9uaXRvcjp0cnVlXG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgICAgLy8g5ZCR5LiL5YW85a6577yM5LiN566h5oCO5LmI5qC36YO95b6AbWV0YUluZm/orr7nva7kuIDku71cblx0ICAgICAgdmFyIGN1cnJlbnRQYWdlID0gbWluaS5nZXRDdXJyZW50UGFnZSgpO1xuXHQgICAgICB2YXIgcGFnZU5hbWUgPSBjdXJyZW50UGFnZS5yb3V0ZSB8fCBjdXJyZW50UGFnZS5pcyB8fCAncGFnZSc7XG5cdCAgICAgIHZhciBkYXRhID0ge307XG5cdCAgICAgIGRhdGFbcGFnZU5hbWVdID0gcGFyYW1zO1xuXHQgICAgICBtZXRhSW5mby5hcHBlbmRNZXRhSW5mbygnYXBsdXMtcGFnZS1wcm9wZXJ0aWVzJywgZGF0YSk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICAvKipcblx0ICAgKiBodHRwczovL3l1cXVlLmFudGZpbi1pbmMuY29tL2FwbHVzanMvcHJvamVjdC9hcGx1c19jbG91ZCM2MDM0YzFkYVxuXHQgICAqL1xuXHQgIF91cGRhdGVOZXh0UGFnZVByb3BlcnRpZXM6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIGZ1bmN0aW9uIChwYXJhbXMpIHtcblx0ICAgIGlmICghcGFyYW1zKSB7XG5cdCAgICAgIHBhcmFtcyA9IHt9O1xuXHQgICAgfVxuXHQgICAgaWYgKG15KSB7XG5cdCAgICAgIHZhciBkYXRhID0ge1xuXHQgICAgICAgIHR5cGU6ICd1cGRhdGVOZXh0UHJvcCcsXG5cdCAgICAgICAgZXZlbnRJZDogLTEsXG5cdCAgICAgICAgZXZlbnRpZDogLTEsXG5cdCAgICAgICAgbmFtZTogJycsXG5cdCAgICAgICAgcGFnZU5hbWU6ICcnLFxuXHQgICAgICAgIGNvbU5hbWU6ICcnLFxuXHQgICAgICAgIGFyZzE6ICcnLFxuXHQgICAgICAgIGFyZzI6ICcnLFxuXHQgICAgICAgIGFyZzM6ICcnLFxuXHQgICAgICAgIHBhcmFtOiBwYXJhbXMsXG5cdCAgICAgICAgcGFyYW1zOiBwYXJhbXNcblx0ICAgICAgfTtcblx0ICAgICAgaWYgKG15LmNhbGxVc2VyVHJhY2spIHtcblx0ICAgICAgICBteS5jYWxsVXNlclRyYWNrKCdjb21taXR1dCcsIGRhdGEpO1xuXHQgICAgICB9IGVsc2UgaWYgKG15LnJlcG9ydEFuYWx5dGljcykge1xuXHQgICAgICAgIG15LnJlcG9ydEFuYWx5dGljcygnZW50ZXInLCBkYXRhKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cdFxuXHQgIC8qKlxuXHQgICAqIFRvIGFwcGVuZCBgbWV0YWAgdGFnIGlmIHRoZXJlJ3Mgbm9uZSBhcGx1cyBtZXRhLlxuXHQgICAqIE90aGVyd2lzZSwgbWVyZ2UgY29udGVudCBhdHRyaWJ1dGVzOlxuXHQgICAqICAtIGBBcnJheS5wcm90b3R5cGUuY29uY2F0YCBjYWxsZWQgb24gQXJyYXkgdmFsdWVzLlxuXHQgICAqICAtIGBPYmplY3QuYXNzaWduYCBjYWxsZWQgb24gT2JqZWN0IHZhbHVlcy5cblx0ICAgKiAgQHBhcmFtIGtcblx0ICAgKiAgQHBhcmFtIHZcblx0ICAgKi9cblx0ICBfYXBwZW5kTWV0YUluZm86IG1ldGFJbmZvLmFwcGVuZE1ldGFJbmZvLFxuXHRcblx0ICAvKipcblx0ICAgKiBnZXQgbWV0YUluZm8gYnkga2V5XG5cdCAgICogQHBhcmFtIHtTdHJpbmd9XG5cdCAgICogQHJldHVybiB7T2JqZWN0fVxuXHQgICAqL1xuXHQgIGdldE1ldGFJbmZvOiBmdW5jdGlvbiAoaykge1xuXHQgICAgcmV0dXJuIG1ldGFJbmZvLmdldE1ldGFJbmZvKGspO1xuXHQgIH0sXG5cdFxuXHQgIC8vIOa3seW6puWFi+mahu+8jOS7juaguOW/g+W6k+aatOmcsuWHuuWOu+S+m2FwbHVzSlPmj5Lku7bkvb/nlKhcblx0ICBjbG9uZURlZXA6IGNsb25lRGVlcCxcblx0ICAvKipcblx0ICAgKiDlpoLmnpzlrrnlmajlrp7njrDkuoZhcHBlYXLjgIFkaXNhcHBlYXLvvIzkvYbkuJrliqHlj4jmg7PmiYvliqjmjqfliLbmiZPngrnnlJ/lkb3lkajmnJ/ml7bkvb/nlKhcblx0ICAgKlxuXHQgICAqIEByZXR1cm4ge1VuZGVmaW5lZH1cblx0ICAgKi9cblx0ICBfc2tpcFBhZ2U6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIGZ1bmN0aW9uICgpIHtcblx0ICAgIC8vIFVzZXJUcmFjay5za2lwUGFnZSgpO1xuXHQgICAgaWYgKG15ICYmIG15LmNhbGxVc2VyVHJhY2spIHtcblx0ICAgICAgbXkuY2FsbFVzZXJUcmFjaygnc2tpcFBhZ2UnKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIC8qKlxuXHQgICAqIOWmguaenOWuueWZqOacquaPkOS+m2FwcGVhcuOAgWRpc2FwcGVhcuaXtumcgOimgeS4muWKoeaJi+WKqOiwg+eUqFxuXHQgICAqXG5cdCAgICogQHJldHVybiB7VW5kZWZpbmVkfVxuXHQgICAqL1xuXHQgIF9wYWdlQXBwZWFyOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBmdW5jdGlvbigpe1xuXHQgICAgaWYgKG15ICYmIG15LmNhbGxVc2VyVHJhY2sgJiYgdGhpcy5pc1BhZ2VEaXNBcHBlYXIpIHtcblx0ICAgICAgdGhpcy5pc1BhZ2VEaXNBcHBlYXIgPSBmYWxzZTtcblx0ICAgICAgdGhpcy5pc1BhZ2VBcHBlYXIgPSB0cnVlO1xuXHQgICAgICBteS5jYWxsVXNlclRyYWNrKCdwYWdlQXBwZWFyJyk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICAvKipcblx0ICAgKiDlpoLmnpzlrrnlmajmnKrmj5DkvpthcHBlYXLjgIFkaXNhcHBlYXLml7bpnIDopoHkuJrliqHmiYvliqjosIPnlKhcblx0ICAgKlxuXHQgICAqIEByZXR1cm4ge1VuZGVmaW5lZH1cblx0ICAgKi9cblx0ICBfcGFnZURpc2FwcGVhcjogLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gZnVuY3Rpb24oKXtcblx0ICAgIGlmIChteSAmJiBteS5jYWxsVXNlclRyYWNrICYmIHRoaXMuaXNQYWdlQXBwZWFyKSB7XG5cdCAgICAgIHRoaXMuaXNQYWdlRGlzQXBwZWFyID0gdHJ1ZTtcblx0ICAgICAgdGhpcy5pc1BhZ2VBcHBlYXIgPSBmYWxzZTtcblx0ICAgICAgbXkuY2FsbFVzZXJUcmFjaygncGFnZURpc2FwcGVhcicpO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgX3VwZGF0ZVBhZ2VVdHBhcmFtOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBmdW5jdGlvbiAocGFyYW1zKSB7XG5cdCAgICBpZiAoIXBhcmFtcykge1xuXHQgICAgICBwYXJhbXMgPSB7fTtcblx0ICAgIH1cblx0ICAgIGlmIChteSAmJiBteS5jYWxsVXNlclRyYWNrKSB7XG5cdCAgICAgIG15LmNhbGxVc2VyVHJhY2soJ3VwZGF0ZVBhZ2VVdHBhcmFtJywge1xuXHQgICAgICAgICd1dFBhcmFtSnNvbic6IEpTT04uc3RyaW5naWZ5KHBhcmFtcylcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSxcblx0XG5cdCAgX3VwZGF0ZU5leHRQYWdlVXRwYXJhbTogLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gZnVuY3Rpb24ocGFyYW1zKXtcblx0ICAgIGlmICghcGFyYW1zKSB7XG5cdCAgICAgIHBhcmFtcyA9IHt9O1xuXHQgICAgfVxuXHQgICAgaWYgKG15ICYmIG15LmNhbGxVc2VyVHJhY2spIHtcblx0ICAgICAgbXkuY2FsbFVzZXJUcmFjaygndXBkYXRlTmV4dFBhZ2VVdHBhcmFtJywge1xuXHQgICAgICAgICd1dFBhcmFtSnNvbic6IEpTT04uc3RyaW5naWZ5KHBhcmFtcylcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSxcblx0XG5cdCAgLyoqXG5cdCAgICog5LuF5omL5reY77yIVjkuMTAuMO+8ieWwj+eoi+W6j+aUr+aMgVxuXHQgICAqIEBwYXJhbXMge09iamVjdH0gcHJvcGVydGllc1xuXHQgICAqIEByZXR1cm4ge1VuZGVmaW5lZH1cblx0ICAgKi9cblx0ICBfdXBkYXRlU2Vzc2lvblByb3BlcnRpZXM6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIGZ1bmN0aW9uIChwcm9wZXJ0aWVzKSB7XG5cdCAgICAvLyBpZiAobXkgJiYgbXkucmVwb3J0QW5hbHl0aWNzICYmIHR5cGVvZiBwcm9wZXJ0aWVzID09PSAnb2JqZWN0Jykge1xuXHQgICAgLy8gICBteS5yZXBvcnRBbmFseXRpY3MoJ3VwZGF0ZVNlc3Npb25Qcm9wZXJ0aWVzJywgcHJvcGVydGllcyk7XG5cdCAgICAvLyB9XG5cdCAgICBpZiAobXkgJiYgbXkuY2FsbCAmJiB0eXBlb2YgcHJvcGVydGllcyA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgbXkuY2FsbCgnaGFuZGxlTG9nZ2luZ0FjdGlvbicsIHtcblx0ICAgICAgICB0eXBlOiAnYmVoYXZpb3InLFxuXHQgICAgICAgIHN1YlR5cGU6ICd1cGRhdGVTZXNzaW9uUHJvcGVydGllcycsXG5cdCAgICAgICAgZXh0RGF0YTogcHJvcGVydGllcyxcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICAvKipcblx0ICAgKiDku4XmiYvmt5jvvIhWOS45LjDvvInlsI/nqIvluo/mlK/mjIFcblx0ICAgKiBAcGFyYW1zIHtGdW5jdGlvbn0gY2FsbGJhY2s6IHtzcG1Vcmw6ICcnfVxuXHQgICAqL1xuXHQgIF9nZXRQYWdlU3BtVXJsOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBmdW5jdGlvbiAoY2FsbGJhY2spIHtcblx0ICAgIF9nZXRQYWdlU3BtKHtcblx0ICAgICAgc3ViVHlwZTogJ2dldFBhZ2VTcG1VcmwnLFxuXHQgICAgICBzcG1UeXBlOiAnc3BtVXJsJ1xuXHQgICAgfSwgY2FsbGJhY2spO1xuXHQgIH0sXG5cdFxuXHQgIC8qKlxuXHQgICAqIOS7heaJi+a3mO+8iFY5LjkuMO+8ieWwj+eoi+W6j+aUr+aMgVxuXHQgICAqIEBwYXJhbXMge0Z1bmN0aW9ufSBjYWxsYmFjayA6IHtzcG1QcmU6ICcnfVxuXHQgICAqL1xuXHQgIF9nZXRQYWdlU3BtUHJlOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBmdW5jdGlvbiAoY2FsbGJhY2spIHtcblx0ICAgIF9nZXRQYWdlU3BtKHtcblx0ICAgICAgc3ViVHlwZTogJ2dldFBhZ2VTcG1QcmUnLFxuXHQgICAgICBzcG1UeXBlOiAnc3BtUHJlJ1xuXHQgICAgfSwgY2FsbGJhY2spO1xuXHQgIH0sXG5cdFxuXHQgIC8qKlxuXHQgICAqIOiuvue9rlBhZ2VOYW1lIFxuXHQgICovXG5cdCAgX3NldFBhZ2VOYW1lOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBmdW5jdGlvbihwYWdlTmFtZSwgcGF0aCkge1xuXHQgICAgaWYgKCFwYWdlTmFtZSkge1xuXHQgICAgICB1bG9nKCkudygnc2V0UGFnZU5hbWUgZmFpbGVkOiAnICsgJyBwYWdlTmFtZT0nICsgcGFnZU5hbWUpO1xuXHQgICAgICAvLyB1dGlsTG9nZ2VyLmxvZ2dlcih7XG5cdCAgICAgIC8vICAgbXNnOiAnc2V0UGFnZU5hbWUgZmFpbGVkOiAnICsgJyBwYWdlTmFtZT0nICsgcGFnZU5hbWUgXG5cdCAgICAgIC8vIH0pO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICB2YXIgY3VyUGF0aCA9IHBhdGggfHwgUGFnZU1hbmFnZXIuZ2V0Q3VycmVudFBhZ2VQYXRoKCk7XG5cdCAgICBcblx0ICAgIHZhciBwYWdlTWV0YSA9IGNsb25lRGVlcChtZXRhSW5mby5nZXRNZXRhSW5mbygncGFnZUNvbmZpZycpIHx8IHt9KTtcblx0ICAgIHBhZ2VNZXRhW2N1clBhdGhdID0gcGFnZU5hbWU7XG5cdCAgICBtZXRhSW5mby5hcHBlbmRNZXRhSW5mbygncGFnZUNvbmZpZycsIHBhZ2VNZXRhKTtcblx0ICB9LFxuXHRcblx0ICAvKipcblx0ICAgKiDojrflj5ZQYWdlTmFtZVxuXHQgICovXG5cdCAgZ2V0UGFnZU5hbWU6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIGZ1bmN0aW9uKHBhdGgpIHtcblx0ICAgIHJldHVybiBQYWdlTWFuYWdlci5nZXRQYWdlQ29kZShwYXRoKTtcblx0ICB9LFxuXHRcblx0ICAvKipcblx0ICAgKiDojrflj5blhYPntKDnmoRzcG1cblx0ICAgKiAqLyBcblx0ICBfZ2V0RWxlbWVudFNQTTogLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gZnVuY3Rpb24odGFyZ2V0LCBjYWxsYmFjaykge1xuXHQgICAgaWYgKCF0YXJnZXQpIHtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgXG5cdCAgICB2YXIgc3BtQiA9IFBhZ2VNYW5hZ2VyLmdldFBhZ2VDb2RlKCkgfHwgJyc7IFxuXHRcblx0ICAgIGlmICh0eXBlb2YgdGFyZ2V0ICE9PSAnc3RyaW5nJykge1xuXHQgICAgICB2YXIgdHJhY2tlclBhcmFtcyA9IHRhcmdldC5kYXRhc2V0ICYmIHRhcmdldC5kYXRhc2V0LnRyYWNrZXJQYXJhbXMgfHwgJyc7XG5cdCAgICAgIHZhciBzcG1DRCA9IHV0aWwuanNvbkxpa2VTdHIySlNPTih0cmFja2VyUGFyYW1zKTtcblx0ICAgICAgcmV0dXJuIFtzcG1CLCBzcG1DRC5zcG1DLCBzcG1DRC5zcG1EXS5qb2luKCcuJyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YXIgY3R4ID0gbWluaS5nZXRDb250ZXh0KCk7XG5cdCAgICAgIHZhciBhdXRvX2Nsa19tZXRhaW5mbyA9IG1ldGFJbmZvLmdldE1ldGFJbmZvKCdhcGx1cy1hdXRvLWNsaycpIHx8IFtdO1xuXHQgICAgICB2YXIgYXV0b19leHBfbWV0YWluZm8gPSBtZXRhSW5mby5nZXRNZXRhSW5mbygnYXBsdXMtYXV0by1leHAnKSB8fCBbXTtcblx0ICAgICAgdmFyIHRhcmdldFNwbTtcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICB2YXIgaTtcblx0ICAgICAgICAvL+iHquWKqOeCueWHu+S8mOWFiOe6p+abtOmrmFxuXHQgICAgICAgIGZvcihpID0gMDsgaSA8IGF1dG9fY2xrX21ldGFpbmZvLmxlbmd0aDsgaSsrKXtcblx0ICAgICAgICAgIHZhciBjbGtfaW5mbyA9IGF1dG9fY2xrX21ldGFpbmZvW2ldO1xuXHQgICAgICAgICAgaWYgKGNsa19pbmZvLmNzc1NlbGVjdG9yID09PSB0YXJnZXQpIHtcblx0ICAgICAgICAgICAgdGFyZ2V0U3BtID0gW3NwbUIsIGNsa19pbmZvLnNwbUMsIGNsa19pbmZvLnNwbURdLmpvaW4oJy4nKTtcblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBcblx0ICAgICAgICBmb3IoaSA9IDA7IGkgPCBhdXRvX2V4cF9tZXRhaW5mby5sZW5ndGg7IGkrKyl7XG5cdCAgICAgICAgICB2YXIgZXhwX2luZm8gPSBhdXRvX2V4cF9tZXRhaW5mb1tpXTtcblx0ICAgICAgICAgIGlmIChleHBfaW5mby5jc3NTZWxlY3RvciA9PT0gdGFyZ2V0KSB7XG5cdCAgICAgICAgICAgIHRhcmdldFNwbSA9IFtzcG1CLCBleHBfaW5mby5zcG1DLCBleHBfaW5mby5zcG1EXS5qb2luKCcuJyk7XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH07IFxuXHRcblx0ICAgICAgICB2YXIgZWxlbWVudHMgPSBjdHguY3JlYXRlU2VsZWN0b3JRdWVyeSgpLnNlbGVjdEFsbCh0YXJnZXQpO1xuXHQgICAgICAgIGlmICh0eXBlb2YgZWxlbWVudHMuZmllbGRzID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICBlbGVtZW50cy5maWVsZHMoe1xuXHQgICAgICAgICAgICBkYXRhc2V0OiB0cnVlLFxuXHQgICAgICAgICAgICBpZDogdHJ1ZSxcblx0ICAgICAgICAgIH0sIGZ1bmN0aW9uKHJldCkge1xuXHQgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XG5cdCAgICAgICAgICAgIGlmIChyZXQgJiYgcmV0Lmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSByZXQubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRhcmdldFNwbSArICdfJyArIGkpO1xuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICBpZiAoY2FsbGJhY2sgJiYgdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXN1bHQpOyAgXG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9KS5leGVjKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGNhdGNoIChlcnJvcikge1xuXHQgICAgICAgIHVsb2coKS53KCfor6XlubPlj7DkuI3mlK/mjIFkb23lhYPntKDmn6Xor6IsIGVyciA9ICcsIGVycm9yKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cdFxuXHQgIC8qKlxuXHQgICAqIOS5nemUoemcgOaxgu+8mmh0dHBzOi8veXVxdWUuYW50ZmluLWluYy5jb20vbHhsbjdoL2J2enltci9ha2I0OWYjaFBhWExcblx0ICAgKiBhcHDllKTotbfkuovku7bmjqXlj6PvvIzlrp7pmYXlsLHmmK9yZWNvcmRcblx0ICAgKi9cblx0ICBfcmVjb3JkQXBwTGluazogZnVuY3Rpb24gKGdva2V5LCBtZXRob2QsIGNiKSB7XG5cdCAgICBpZighZ29rZXkudGFyZ2V0QXBwS2V5KSB7XG5cdCAgICAgIHVsb2coKS53KCdzZW5kICQkX2FwcF9saW5rIGZhaWxlZDogdGFyZ2V0QXBwS2V5IGlzIG51bGwnKTtcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHQgICAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoYXBsdXNTdGF0aWMuQVBMVVMpO1xuXHQgICAgcmV0dXJuIGFwbHVzLl9yZWNvcmQoJyQkX2FwcF9saW5rJywgJ09USEVSJywgZ29rZXksIG1ldGhvZCwgY2IpO1xuXHQgIH0sXG5cdH0pO1xuXHRcblx0ZXhwb3J0cy5ydW4gPSBydW47XG5cblxuLyoqKi8gfSksXG4vKiA3OSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiBwcm9qZWN0IC0gZmlsZXBhdGhcblx0ICogZGVzY3JpcHRpb25cblx0ICpcblx0ICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuXHQgKlxuXHQgKiBBdXRob3JzOlxuXHQgKiAgIOiwi+WjqyA8cWluZ2xpYW5nLmhxbEBhbGliYWJhLWluYy5jb20+XG5cdCAqL1xuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgZWFjaCA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuXHR2YXIgdXRpbEdvbGRsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHR2YXIgaXNGdW5jdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdHZhciB1dGlsUHVic3ViID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7XG5cdHZhciB1dGlsTG9nZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4MCk7XG5cdHZhciBhcGx1c1N0YXRpYyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdHZhciBDb21wb3NlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4MSk7XG5cdHZhciBwbHVnaW5zTG9hZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Mik7XG5cdFxuXHQvKipcblx0ICogc2VucHZcblx0ICogQHBhcmFtIFtPYmplY3RdIGNvbmZpZzoge1xuXHQgKiAgIGNoZWNrc3VtOiAxMTExMTExMSwgICAvLyDmoLnmja5zcG1hLHNwbWLoh6rliqjnlJ/miJDnmoTkuIDkuKrlrZfnrKbkuLJcblx0ICogICBpc19hdXRvOiB0cnVlL2ZhbHNl77yMIC8vIOagh+ivhuaYr+WQpuiHquWKqOaJk+eCue+8jOm7mOiupOS4unRydWXvvIzljZXpobXlupTnlKjpnIDopoHkvKBmYWxzZVxuXHQgKiAgIHBhZ2VfaWQ6IDEyMywgICAgICAgIC8vIOWwhuS8muS9k+eOsOWcqHNwbWLkvY3kuIpcblx0ICogICBnb2tleTogJycsICAgICAgICAgICAvLyDnm67liY3lt7Lnu4/lpLHmlYhcblx0ICogICByZWZlcnJlcjogJ2h0dHA6Ly93d3cudGFvYmFvLmNvbScgICAvLyDlsIbkvJrmm7/mjaJwduivt+axgueahHByZeWPguaVsFxuXHQgKiB9IC8vIOWQjCBhcGx1cy5sYXVuY2jnrKzkuozkuKrlhaXlj4LigJxtYW51YWzigJ1cblx0ICpcblx0ICogQHBhcmFtIFtPYmplY3RdIHVzZXJkYXRhICAgLy8g5ZCE56eN6Ieq5a6a5LmJcHblj4LmlbBcblx0ICpcblx0ICogQHBhcmFtIFtPYmplY3RdIG9iaiAtIHtmbl9hZnRlcl9wdjogZm5fYWZ0ZXJfcHYsIHh4eDogeHh4fVxuXHQgKlxuXHQgKiBzdGVwMTogbG9hZGVyIHBsdWdpbnMgIG1pZGRsZXdhcmVcblx0ICogc3RlcDI6IGxvYWRlciBkb1NlbmRQdiBtaWRkbGV3YXJlXG5cdCAqIHN0ZXAzOiBydW4gbWlkZGxld2FyZXNcblx0ICovXG5cdFxuXHR2YXIgUmVkdWNlciA9IGZ1bmN0aW9uKCkge1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEBwYXJhbXMgT2JqZWN0IENPTkZJRyB7XG5cdCAqICAgY29udGV4dDogeHh4LFxuXHQgKiAgIHBsdWdpbnM6IHh4eCBcblx0ICogfVxuXHQgKiBAcGFyYW1zIE9iamVjdCBvcHRzIHtcblx0ICogICBjb25maWc6IGNvbmZpZyxcblx0ICogICB1c2VyZGF0YTogdXNlcmRhdGEsXG5cdCAqICAgcHVic3ViVHlwZTogJ3B2JyB8fCAnaGpsaicgfHwgJ3ByZXB2J1xuXHQgKiAgIG1pZGRsZXdhcmVNZXNzYWdlS2V5OiAnbXdfY2hhbmdlX3B2JyB8fCAnbXdfY2hhbmdlX2hqbGonIHx8ICdtd19jaGFuZ2VfcHJlcHYnXG5cdCAqICAgbWVzc2FnZUZuUXVldWU6IFtmbjEsIGZuMiAuLi5dXG5cdCAqIH1cblx0ICovXG5cdFJlZHVjZXIucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uIChDT05GSUcsIG9wdHMsIGNhbGxiYWNrKSB7XG5cdCAgLy8gMeOAgWluaXQgcGx1Z2luc1xuXHQgIHZhciBwbCA9IG5ldyBwbHVnaW5zTG9hZGVyKCk7XG5cdCAgcGwuaW5pdCh7XG5cdCAgICBtaWRkbGV3YXJlOiBbXSxcblx0ICAgIGNvbmZpZzogb3B0cy5jb25maWcsXG5cdCAgICBwbHVnaW5zOiBDT05GSUcucGx1Z2luc1xuXHQgIH0pO1xuXHQgIHZhciBtaWRkbGV3YXJlID0gcGwucnVuKCk7XG5cdFxuXHQgIC8vIOWIneWni+WMluS4iuS4i+aWh+eOr+Wig++8jGNvbnRleHTlhoXnmoRkYXRh5bCG5Lya5Zyo5ZCE5Liq5o+S5Lu25Lit6L+b6KGM6LWL5YC85oiW6ICF5L+u5pS577yI6YeN6KaB77yJXG5cdCAgdmFyIGNvbnRleHQgPSBpc0Z1bmN0aW9uKENPTkZJRy5jb250ZXh0KSA/IG5ldyBDT05GSUcuY29udGV4dCgpIDogQ09ORklHLmNvbnRleHQ7XG5cdCAgY29udGV4dC51c2VyZGF0YSA9IG9wdHMudXNlcmRhdGE7XG5cdCAgY29udGV4dC5sb2dnZXIgPSB1dGlsTG9nZ2VyLmxvZ2dlcjtcblx0XG5cdCAgdmFyIGFwcCA9IHtcblx0ICAgIGNvbnRleHQ6IGNvbnRleHQsXG5cdCAgICBwdWJzdWI6IHV0aWxHb2xkbG9nLmdldEdvbGRsb2dWYWwoJ2FwbHVzX3B1YnN1YicpLFxuXHQgICAgcHVic3ViVHlwZTogb3B0cyAmJiBvcHRzLnB1YnN1YlR5cGVcblx0ICB9O1xuXHRcblx0ICB2YXIgY29tcG9zZSA9IG5ldyBDb21wb3NlKCk7XG5cdCAgY29tcG9zZS5jcmVhdGUoYXBwKTtcblx0ICAvLyDmiafooYzkuK3pl7Tku7Zcblx0ICBjb21wb3NlLndyYXAobWlkZGxld2FyZSwgZnVuY3Rpb24oKSB7XG5cdCAgICBhcHAuY29udGV4dC5zdGF0dXMgPSBhcGx1c1N0YXRpYy5DT01QTEVURTtcblx0ICAgIGlmIChvcHRzKSB7XG5cdCAgICAgIGlmIChvcHRzLm1pZGRsZXdhcmVNZXNzYWdlS2V5KSB7XG5cdCAgICAgICAgdXRpbFB1YnN1Yi5kb1B1Yk1zZyhbb3B0cy5taWRkbGV3YXJlTWVzc2FnZUtleSwgYXBwLmNvbnRleHRdKTsgIFxuXHQgICAgICB9XG5cdCAgICAgIGlmIChvcHRzLm1lc3NhZ2VGblF1ZXVlKSB7XG5cdCAgICAgICAgZWFjaChvcHRzLm1lc3NhZ2VGblF1ZXVlLCBmdW5jdGlvbiAoZm4pIHtcblx0ICAgICAgICAgIGZuKHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKGFwbHVzU3RhdGljLkFQTFVTKSwgQ09ORklHKTtcblx0ICAgICAgICB9KTsgIFxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICBpZiAoaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcblx0ICAgICAgY2FsbGJhY2soYXBwLmNvbnRleHQpO1xuXHQgICAgfVxuXHQgIH0pKCk7XG5cdFxuXHR9O1xuXHRtb2R1bGUuZXhwb3J0cyA9IFJlZHVjZXI7XG5cblxuLyoqKi8gfSksXG4vKiA4MCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiBwcm9qZWN0IC0gZmlsZXBhdGhcblx0ICog5pel5b+X57G75bel5YW36ZuG5ZCIXG5cdCAqXG5cdCAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cblx0ICpcblx0ICogQXV0aG9yczpcblx0ICogICDosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuXHQgKi9cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0LyoqXG5cdCAqIEBwYXJhbXMge09iamVjdH0gbyA6e1xuXHQgKiAgIGxldmVsOiAnd2Fybi9pbmZvL2xvZycgZGVmYXVsdCBpcyB3YXJuXG5cdCAqICAgbXNnOiAnbXNnJ1xuXHQgKiB9XG5cdCAqL1xuXHR2YXIgcHJlZml4ID0gJ1tBUExVU10gLS0gJztcblx0ZXhwb3J0cy5sb2dnZXIgPSBmdW5jdGlvbiAobykge1xuXHQgIGlmICghbykge1xuXHQgICAgbyA9IHt9O1xuXHQgIH1cblx0ICB2YXIgbGV2ZWwgPSBvLmxldmVsIHx8ICd3YXJuJztcblx0ICBjb25zb2xlICYmIGNvbnNvbGVbbGV2ZWxdICYmIGNvbnNvbGVbbGV2ZWxdKHByZWZpeCtvLm1zZyk7XG5cdH07XG5cdFxuXHRleHBvcnRzLmRlYnVnTG9nID0gZnVuY3Rpb24obykge1xuXHQgIHZhciBhcGx1cyA9IF9fd2VicGFja19yZXF1aXJlX18oMikuZ2V0R2xvYmFsVmFsdWUoJ2FwbHVzJyk7XG5cdCAgaWYgKGFwbHVzICYmIGFwbHVzLmFwbHVzRGVidWcpIHtcblx0ICAgIHRoaXMubG9nZ2VyKG8pO1xuXHQgIH1cblx0fTtcblxuLyoqKi8gfSksXG4vKiA4MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiBhbGlsb2cvcyAtIHNyYy9saWJfdS9jb25maWcvY29tcG9zZS5qc1xuXHQgKiDlh73mlbDpmJ/liJfljIXoo4XlmaggRXhwb3NlIGNvbXBvc2l0b3Jcblx0ICpcblx0ICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuXHQgKlxuXHQgKiBBdXRob3JzOlxuXHQgKiAgIOiwi+WjqyA8cWluZ2xpYW5nLmhxbEBhbGliYWJhLWluYy5jb20+XG5cdCAqL1xuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgaXNGdW5jdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdHZhciB1dGlsQXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUxKTtcblx0Ly8gdmFyIHV0aWxMb2dnZXIgPSByZXF1aXJlKCdAdXRpbHMvdXRpbExvZ2dlcicpO1xuXHR2YXIgdWxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHRcblx0ZnVuY3Rpb24gY29tcG9zZSAoKSB7fTtcblx0XG5cdGNvbXBvc2UucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKHByb3BzKSB7XG5cdCAgLyoqXG5cdCAgICogY3JlYXRl5a6e6ZmF5LiK5piv5a+5bmV355qE5bCB6KOF77ybXG5cdCAgICogY3JlYXRl6L+U5Zue55qE5a6e5L6L5a6e6ZmF5LiK5bCx5pivbmV35p6E6YCg5Ye655qE5a6e5L6L77ybXG5cdCAgICogdGhpc+WNs+aMh+WQkeiwg+eUqOW9k+WJjWNyZWF0ZeeahOaehOmAoOWHveaVsO+8m1xuXHQgICAqL1xuXHQgIGZvciAodmFyIG5hbWUgaW4gcHJvcHMpIHtcblx0ICAgIGlmICh0eXBlb2YgdGhpc1tuYW1lXSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgdGhpc1tuYW1lXSA9IHByb3BzW25hbWVdO1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gdGhpcztcblx0fTtcblx0XG5cdGNvbXBvc2UucHJvdG90eXBlLmNhbGxlZExpc3QgPSBbXTtcblx0XG5cdGNvbXBvc2UucHJvdG90eXBlLnNldENhbGxlZExpc3QgPSBmdW5jdGlvbihpKSB7XG5cdCAgaWYgKHV0aWxBcnJheS5pbmRleG9mKHRoaXMuY2FsbGVkTGlzdCwgaSkgPT09IC0xKSB7XG5cdCAgICB0aGlzLmNhbGxlZExpc3QucHVzaChpKTtcblx0ICB9XG5cdH07XG5cdFxuXHRjb21wb3NlLnByb3RvdHlwZS5yZXNldENhbGxlZExpc3QgPSBmdW5jdGlvbigpIHtcblx0ICB0aGlzLmNhbGxlZExpc3QgPSBbXTtcblx0fTtcblx0XG5cdGNvbXBvc2UucHJvdG90eXBlLndyYXAgPSBmdW5jdGlvbihtdywgY2FsbGJhY2spIHtcblx0ICB2YXIgY29udGV4dCA9IHRoaXM7XG5cdCAgdmFyIGN0eCA9IHRoaXMuY29udGV4dCB8fCB7fTtcblx0ICB2YXIgY29tcG9zZSA9IGN0eC5jb21wb3NlIHx8IHt9O1xuXHQgIHZhciBtYXhUaW1lb3V0ID0gY29tcG9zZS5tYXhUaW1lb3V0IHx8IDEwICogMTAwMDtcblx0XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZSkge1xuXHQgICAgdmFyIHNpemUgPSBtdy5sZW5ndGg7IC8vIOS4remXtOS7tumYn+WIl+mVv+W6plxuXHQgICAgdmFyIGkgPSAwOyAvLyDkuK3pl7Tku7bntKLlvJVcblx0ICAgIHZhciBqID0gMDsgLy8g5LiA5Liq5qCH6K+G77yMMC3liJ3lp4vnirbmgIHvvIwxLeS4remXtOS7tuWbnuiwg+aJp+ihjOS6hlxuXHQgICAgdmFyIHNsZWVwSGFuZGVyMTtcblx0ICAgIHZhciBydW4gPSBmdW5jdGlvbihpbmRleCwgc3RhdHVzKSB7XG5cdCAgICAgIC8vIGNvbnRleHQucHVic3ViSW5mbyhjb250ZXh0LCBtd1tpXSk7XG5cdCAgICAgIC8vIOS4remXtOS7tumYn+WIl+aJp+ihjOWujOavleWQjui/lOWbnlxuXHQgICAgICBpZiAoaSA9PT0gc2l6ZSkge1xuXHQgICAgICAgIHN0YXRlID0gJ2RvbmUnO1xuXHQgICAgICAgIGNvbnRleHQucmVzZXRDYWxsZWRMaXN0KCk7IC8vIOmHjee9rmNhbGxlZExpc3Tlj5jph49cblx0ICAgICAgICAvLyBzdGF0dXPlpoLmnpznrYnkuo5kb25l77yM6K+05piO5piv5Lit6YCU6YCA5Ye655qE5Lit6Ze05Lu277yM5LiN6ZyA6KaB5omn6KGM5Zue6LCDXG5cdCAgICAgICAgaWYgKGlzRnVuY3Rpb24oY2FsbGJhY2spICYmIHN0YXR1cyAhPT0gc3RhdGUpIHtcblx0ICAgICAgICAgIGNhbGxiYWNrLmNhbGwoY29udGV4dCwgc3RhdGUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBjbGVhclRpbWVvdXQoc2xlZXBIYW5kZXIxKTtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgLy8gdmFyIGNiX3N0YXRlID0gbnVsbDtcblx0ICAgICAgLy8g5L+d6K+B5q+P5Liq5Lit6Ze05Lu25Y+q5Lya5omn6KGM5LiA5qyhXG5cdCAgICAgIGlmICh1dGlsQXJyYXkuaW5kZXhvZihjb250ZXh0LmNhbGxlZExpc3QsIGkpID09PSAtMSkge1xuXHQgICAgICAgIGNvbnRleHQuc2V0Q2FsbGVkTGlzdCAmJiBjb250ZXh0LnNldENhbGxlZExpc3QoaSk7XG5cdCAgICAgICAgaWYgKG13ICYmIG13W2ldICYmIGlzRnVuY3Rpb24obXdbaV1bMF0pKSB7XG5cdCAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAvKipcblx0ICAgICAgICAgICAgICogQHBhcmFtcyB7QXJyYXl9IG1pZGRsZXdhcmVcblx0ICAgICAgICAgICAgICogQHBhcmFtcyB7QXJyYXl9IG1zZ1xuXHQgICAgICAgICAgICAgKi9cblx0ICAgICAgICAgICAgc3RhdGUgPSBtd1tpXVswXS5jYWxsKGNvbnRleHQsIHN0YXRlLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgaSsrO1xuXHQgICAgICAgICAgICAgIGogPSAxOyAgLy8gMS3kuK3pl7Tku7blm57osIPmiafooYzkuoZcblx0ICAgICAgICAgICAgICBydW4oaSk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgICAgICB1bG9nKCkudyhlKTtcblx0ICAgICAgICAgICAgLy8gdXRpbExvZ2dlci5sb2dnZXIoe1xuXHQgICAgICAgICAgICAvLyAgIG1zZzogZVxuXHQgICAgICAgICAgICAvLyB9KTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICAvLyDnirbmgIHkuLpwYXVzZeetieW+hTIwMG1z6L2u6K+i77yM54q25oCB5Li6bnVtYmVy57G75Z6L55qE5pWw5YC8562J5b6Fc3RhdGVtc+i9ruivolxuXHQgICAgICB2YXIgaXNOdW1iZXIgPSB0eXBlb2Ygc3RhdGUgPT09ICdudW1iZXInO1xuXHQgICAgICBpZiAoc3RhdGUgPT09ICdwYXVzZScgfHwgaXNOdW1iZXIpIHtcblx0ICAgICAgICBqID0gMDtcblx0ICAgICAgICAvLyDmnIDlpKfnrYnlvoXml7bplb9cblx0ICAgICAgICB2YXIgX3RpbWVfb3V0ID0gaXNOdW1iZXIgPyBzdGF0ZSA6IG1heFRpbWVvdXQ7XG5cdCAgICAgICAgdmFyIF9td19uYW1lID0gbXdbaV0gPyBtd1tpXVsxXSA6ICcnO1xuXHQgICAgICAgIHNsZWVwSGFuZGVyMSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICBpZiAoaiA9PT0gMCkge1xuXHQgICAgICAgICAgICB1bG9nKCkudygnanVtcCB0aGUgbWlkZGxld2FyZSBhYm91dCAnICsgX213X25hbWUgKyAnLCBiZWNhdXNlIHdhaXRpbmcgdGltZW91dCBtYXhUaW1lb3V0ID0gJyArIF90aW1lX291dCk7XG5cdCAgICAgICAgICAgIC8vIHV0aWxMb2dnZXIubG9nZ2VyKHtcblx0ICAgICAgICAgICAgLy8gICBtc2c6ICdqdW1wIHRoZSBtaWRkbGV3YXJlIGFib3V0ICcgKyBfbXdfbmFtZSArICcsIGJlY2F1c2Ugd2FpdGluZyB0aW1lb3V0IG1heFRpbWVvdXQgPSAnICsgX3RpbWVfb3V0XG5cdCAgICAgICAgICAgIC8vIH0pO1xuXHQgICAgICAgICAgICBzdGF0ZSA9IG51bGw7XG5cdCAgICAgICAgICAgIGkrKztcblx0ICAgICAgICAgICAgcnVuKGkpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0sIF90aW1lX291dCk7XG5cdCAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09ICdkb25lJykge1xuXHQgICAgICAgIC8vIOeKtuaAgeS4umRvbmXooajnpLrnu5PmnZ/vvIzkuI3nrqHlkI7pnaLov5jmnInmsqHmnInkuK3pl7Tku7bpg73nu5PmnZ9cblx0ICAgICAgICBpID0gc2l6ZTtcblx0ICAgICAgICBydW4oaSwgc3RhdGUpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIC8vIOm7mOiupOeKtuaAge+8jOWPqueuoeaJp+ihjOS4remXtOS7tumYn+WIl1xuXHQgICAgICAgIGkrKztcblx0ICAgICAgICBydW4oaSk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdCAgICBpZiAoY29udGV4dC5jYWxsZWRMaXN0ICYmIGNvbnRleHQuY2FsbGVkTGlzdC5sZW5ndGggPiAwKSB7XG5cdCAgICAgIGNvbnRleHQucmVzZXRDYWxsZWRMaXN0KCk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcnVuKGkpO1xuXHQgIH07XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGNvbXBvc2U7XG5cbi8qKiovIH0pLFxuLyogODIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKipcblx0ICogYWxpbG9nL3MgLSBzcmMvbGliX3UvY29uZmlnL3BsdWdpbnMvcGx1Z2luc0xvYWRlci5qc1xuXHQgKiDmj5Lku7bliqDovb3lmahcblx0ICpcblx0ICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuXHQgKlxuXHQgKiBBdXRob3JzOlxuXHQgKiAgIOiwi+WjqyA8cWluZ2xpYW5nLmhxbEBhbGliYWJhLWluYy5jb20+XG5cdCAqL1xuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgYXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOCk7XG5cdC8vIHZhciB1dGlsTG9nZ2VyID0gcmVxdWlyZSgnQHV0aWxzL3V0aWxMb2dnZXInKTtcblx0dmFyIHVsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG5cdCAgcmV0dXJuIHtcblx0ICAgIC8qKlxuXHQgICAgICogQHBhcmFtcyBvcHRzIHtcblx0ICAgICAqICAgbWlkZGxld2FyZTogW10sXG5cdCAgICAgKiAgIHBsdWdpbnM6IFtdLFxuXHQgICAgICogICBjb25maWc6IHt9XG5cdCAgICAgKiB9XG5cdCAgICAgKi9cblx0ICAgIGluaXQ6IGZ1bmN0aW9uKG9wdHMpIHtcblx0ICAgICAgdGhpcy5vcHRzID0gb3B0cztcblx0ICAgICAgaWYgKG9wdHMgJiYgdHlwZW9mIG9wdHMubWlkZGxld2FyZSA9PT0gJ29iamVjdCcgJiYgb3B0cy5taWRkbGV3YXJlLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICB0aGlzLm1pZGRsZXdhcmUgPSBvcHRzLm1pZGRsZXdhcmU7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5taWRkbGV3YXJlID0gW107XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5wbHVnaW5zX25hbWUgPSBbXTtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiDliIblj5HorqLpmIXlj5jljJZcblx0ICAgICAqIEBwYXJhbSBvIHtcblx0ICAgICAqICAgcHVic3ViOiB7Li4ufSxcblx0ICAgICAqICAgY29udGV4dDogey4uLn1cblx0ICAgICAqIH0sXG5cdCAgICAgKiBAcGFyYW0gbXcg5b2T5YmN5omn6KGM55qE5Lit6Ze05Lu2XG5cdCAgICAgKi9cblx0ICAgIHB1YnN1YkluZm86IGZ1bmN0aW9uKGN0eCwgbXcpIHtcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICB2YXIgcHVic3ViID0gY3R4LnB1YnN1Yjtcblx0ICAgICAgICBpZiAocHVic3ViKSB7XG5cdCAgICAgICAgICBwdWJzdWIucHVibGlzaCgncGx1Z2luc19jaGFuZ2VfJyArIGN0eC5wdWJzdWJUeXBlLCBtdyk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgdWxvZygpLncoZSk7XG5cdCAgICAgICAgLy8gdXRpbExvZ2dlci5sb2dnZXIoe1xuXHQgICAgICAgIC8vICAgbXNnOiBlXG5cdCAgICAgICAgLy8gfSk7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdFxuXHQgICAgcnVuOiBmdW5jdGlvbiAoaW5kZXgpIHtcblx0ICAgICAgaWYoIWluZGV4KSBpbmRleCA9IDA7XG5cdCAgICAgIHZhciBfc2VsZiA9IHRoaXM7XG5cdCAgICAgIHZhciBtaWRkbGV3YXJlID0gdGhpcy5taWRkbGV3YXJlO1xuXHQgICAgICB2YXIgb3B0cyA9IHRoaXMub3B0cyB8fCB7fTtcblx0ICAgICAgdmFyIHBsdWdpbnMgPSBvcHRzLnBsdWdpbnM7XG5cdCAgICAgIGlmIChwbHVnaW5zICYmIHR5cGVvZiBwbHVnaW5zID09PSAnb2JqZWN0JyAmJiBwbHVnaW5zLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICB2YXIgcGx1Z2luID0gcGx1Z2luc1tpbmRleF07XG5cdCAgICAgICAgdGhpcy5wbHVnaW5zX25hbWUucHVzaChwbHVnaW4ubmFtZSk7XG5cdCAgICAgICAgbWlkZGxld2FyZS5wdXNoKFtmdW5jdGlvbihzdGF0ZSwgY2Ipe1xuXHQgICAgICAgICAgX3NlbGYucHVic3ViSW5mbyh0aGlzLCBwbHVnaW4pO1xuXHQgICAgICAgICAgLy8g6I635Y+W5o+S5Lu25qih5Z2X6Lev5b6E5bm25Yid5aeL5YyWXG5cdCAgICAgICAgICB2YXIgbSA9IG5ldyBwbHVnaW4ucGF0aCgpO1xuXHRcblx0ICAgICAgICAgIC8vIOS4uuiKguecgeS7o+eggemHj++8jOm7mOiupOeahOWIneWni+WMluaWueazleWcqOWKoOi9veWZqOWGheWBmuWFnOW6leWkhOeQhu+8jOWNs+aPkuS7tuWGheaXoOeJueauiuaDheWGteaXoOmcgOWunueOsGluaXTmlrnms5Vcblx0ICAgICAgICAgIGlmICghbS5pbml0KSB7XG5cdCAgICAgICAgICAgIG0uaW5pdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cdCAgICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIC8vIOWwhuS4iuS4i+aWh+azqOWFpeWIsOaPkuS7tuWGhVxuXHQgICAgICAgICAgbS5pbml0KHtcblx0ICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuXHQgICAgICAgICAgICBjb25maWc6IGFzc2lnbihwbHVnaW4uY29uZmlnIHx8IHt9LCBvcHRzLmNvbmZpZylcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgcmV0dXJuIG0ucnVuKHN0YXRlLCBmdW5jdGlvbiAobXNnKSB7XG5cdCAgICAgICAgICAgIC8vIOi/memHjOS9v+eUqDHmr6vnp5Llu7bov5/miafooYzvvIzpmLLmraLkuK3pl7Tku7bkuLvkvZPlhoXnmoRjYWxsYmFja+WFiOaJp+ihjO+8jOWvvOiHtOahhuaetuaLv+S4jeWIsOS4remXtOS7tnJldHVybueahOetieW+heaXtumVv++8jOS7juiAjOWvvOiHtOebkeaOp+W8guW4uFxuXHQgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICBjYihwbHVnaW4sIG1zZyk7XG5cdCAgICAgICAgICAgIH0sIDEpO1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfSwgcGx1Z2luLm5hbWVdKTtcblx0XG5cdCAgICAgICAgaW5kZXgrKztcblx0ICAgICAgICBpZihwbHVnaW5zW2luZGV4XSl7XG5cdCAgICAgICAgICByZXR1cm4gdGhpcy5ydW4oaW5kZXgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbWlkZGxld2FyZTtcblx0ICAgIH1cblx0ICB9O1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDgzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0ZnVuY3Rpb24gaXNUcml2ZXIoKSB7XG5cdCAgdHJ5IHtcblx0ICAgIHZhciBVQSA9IG5hdmlnYXRvciA/IChuYXZpZ2F0b3IudXNlckFnZW50IHx8IG5hdmlnYXRvci5zd3VzZXJBZ2VudCkgOiAnJztcblx0ICAgIHJldHVybiAvVHJpdmVyL2cudGVzdChVQSk7XG5cdCAgfSBjYXRjaCAoZSkge1xuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gaXNUcml2ZXI7XG5cdFxuXG5cbi8qKiovIH0pLFxuLyogODQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKipcblx0ICogYWxpbG9nL3MgLSBzcmMvbGliX3UvY29uZmlnL2luaXQvaW5pdExvYWRfYmFzZS5qc1xuXHQgKiDliJ3lp4vljJbln7rnoYDmqKHlnZfvvIzkuI3og73nm7TmjqXkvb/nlKjvvIzpnIDopoHpgJrov4dpbml0TG9hZF9wYy5qc+aIlmluaXRMb2FkX3dhcC5qc+etieWFt+S9k+eahOWcuuaZr+aooeWdl+iwg+eUqFxuXHQgKlxuXHQgKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG5cdCAqXG5cdCAqIEF1dGhvcnM6XG5cdCAqICAgQGF1dGhvciBqaXpoYS53eWogQGJsb2cgaHR0cDovL29sZGoubmV0XG5cdCAqICAg6LCL5aOrIDxxaW5nbGlhbmcuaHFsQGFsaWJhYmEtaW5jLmNvbT5cblx0ICovXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBhY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg1KTtcblx0dmFyIHV0aWxHb2xkbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuXHQgIHJldHVybiB7XG5cdCAgICBydW46ICBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBhcGx1c19jb25maWcgPSB0aGlzLm9wdGlvbnMuY29udGV4dC5hcGx1c19jb25maWc7XG5cdCAgICAgIHZhciBBUExVU19RVUVVRSA9IGFwbHVzX2NvbmZpZy5nbG9iYWxDb25maWcuQVBMVVNfUVVFVUU7XG5cdFxuXHQgICAgICB2YXIgY29udGV4dCA9IHV0aWxHb2xkbG9nLmdldENvbnRleHQoKTtcblx0ICAgICAgdmFyIHF1ZSA9IGNvbnRleHRbQVBMVVNfUVVFVUVdIHx8IFtdO1xuXHQgICAgICB2YXIgcnMgPSBhY3Rpb24uZ2V0Rm9ybWF0UXVldWUocXVlLCAnbWV0YVF1ZXVlJyk7XG5cdCAgICAgIGNvbnRleHRbQVBMVVNfUVVFVUVdID0gcnMucXVldWU7XG5cdCAgICAgIGFjdGlvbi5wcm9jZXNzR29sZGxvZ1F1ZXVlKHJzLmZvcm1hdFF1ZXVlLCB0aGlzLm9wdGlvbnMuY29uZmlnKTtcblx0ICAgIH1cblx0ICB9O1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogODUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcblx0dmFyIHV0aWxHb2xkbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0dmFyIHV0aWxBcnJheSA9IF9fd2VicGFja19yZXF1aXJlX18oNTEpO1xuXHR2YXIgaXNGdW5jdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdC8vIHZhciB1dGlsTG9nZ2VyID0gcmVxdWlyZSgnQHV0aWxzL3V0aWxMb2dnZXInKTtcblx0dmFyIHVsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0dmFyIGFwbHVzU3RhdGljID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdC8qKlxuXHQgKiBAcGFyYW1zIHtBcnJheX0gUVVFVUVcblx0ICogQHBhcmFtcyB7T2JqZWN0fSBvcHRzIHtcblx0ICogICBpc09wZW5BcGk6IHRydWUgfHwgZmFsc2UgXG5cdCAqIH1cblx0ICovXG5cdHZhciBwcm9jZXNzR29sZGxvZ1F1ZXVlID0gZnVuY3Rpb24gKFFVRVVFLCBvcHRzKSB7XG5cdCAgZnVuY3Rpb24gZigpIHtcblx0ICAgIGlmICghUVVFVUUgfHwgIXV0aWxBcnJheS5pc0FycmF5KFFVRVVFKSB8fCAhUVVFVUUubGVuZ3RoKSByZXR1cm47XG5cdCAgICAvLyDmjpLluo9cblx0ICAgIHZhciBxdWUgPSBnZXRGb3JtYXRRdWV1ZShRVUVVRSkucXVldWU7XG5cdCAgICB2YXIgdGFzayA9IHt9O1xuXHQgICAgdmFyIGRlbGF5VGFza3MgPSBbXTtcblx0ICAgIHdoaWxlICh0YXNrID0gcXVlLnNoaWZ0KCkpIHsgLy8g5L6d5qyh5omn6KGMIHdpbmRvdy5hcGx1c19xdWV1ZSDkuK3nmoTku7vliqFcblx0ICAgICAgcHJvY2Vzc1Rhc2sodGFzaywgb3B0cywgZnVuY3Rpb24gKHQpIHtcblx0ICAgICAgICBkZWxheVRhc2tzLnB1c2godCk7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgICAgaWYgKGRlbGF5VGFza3MubGVuZ3RoID4gMCkge1xuXHQgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB3aGlsZSAodGFzayA9IGRlbGF5VGFza3Muc2hpZnQoKSkge1xuXHQgICAgICAgICAgcHJvY2Vzc1Rhc2sodGFzaywgb3B0cyk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9LCAxMDApO1xuXHQgICAgfVxuXHQgIH07XG5cdCAgdHJ5IHtcblx0ICAgIGYoKTtcblx0ICB9IGNhdGNoKGUpIHtcblx0ICAgIHVsb2coKS53KGUpO1xuXHQgICAgLy8gdXRpbExvZ2dlci5sb2dnZXIoe1xuXHQgICAgLy8gICBtc2c6IGVcblx0ICAgIC8vIH0pO1xuXHQgIH1cblx0fTtcblx0ZXhwb3J0cy5wcm9jZXNzR29sZGxvZ1F1ZXVlID0gcHJvY2Vzc0dvbGRsb2dRdWV1ZTtcblx0XG5cdGZ1bmN0aW9uIGdldE1ldGFJbmZvKCkge1xuXHQgIHZhciBfJCA9IHV0aWxHb2xkbG9nLmdldEdvbGRsb2dWYWwoJ18kJykgfHwge307XG5cdCAgdmFyIG1ldGFfaW5mbyA9IF8kLm1ldGFfaW5mbzsgLy8gfHwgbWV0YUluZm8uZ2V0SW5mbygpO1xuXHQgIHJldHVybiBtZXRhX2luZm87XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldEFwbHVzSG9sZFR5cGUgKCkge1xuXHQgIHZhciBtZXRhX2luZm8gPSBnZXRNZXRhSW5mbygpIHx8IHt9O1xuXHQgIHZhciB1YWlkID0gbWV0YV9pbmZvLnVhaWQgKyAnJztcblx0ICBpZiAodWFpZCA9PT0gJzEnICYmICFtZXRhX2luZm8uX2Fub255X2lkKSB7XG5cdCAgICByZXR1cm4gJ0JMT0NLJztcblx0ICB9XG5cdCAgcmV0dXJuIG1ldGFfaW5mb1snX2hvbGQnXSB8fCBtZXRhX2luZm9bJ2FwbHVzLXdhaXRpbmcnXTtcblx0fVxuXHRcblx0dmFyIEFQTFVTX0hPTERfVVNFUklEX1FVRVVFID0gW107XG5cdHZhciBBUExVU19IT0xEX0FOT05ZX1FVRVVFID0gW107XG5cdHZhciBBUExVU19IT0xEX1FVRVVFID0gW107XG5cdFxuXHRmdW5jdGlvbiBmaWx0ZXJUYXNrICh0YXNrKSB7XG5cdCAgdmFyIGhvbGRUeXBlID0gZ2V0QXBsdXNIb2xkVHlwZSgpO1xuXHQgIC8vIGNvbnNvbGUubG9nKCdob2xkVHlwZSA9PT0gJywgaG9sZFR5cGUpO1xuXHQgIHZhciBtZXRhX2luZm8gPSBnZXRNZXRhSW5mbygpIHx8IHt9O1xuXHQgIHZhciBmbGFnID0gdHJ1ZTtcblx0XG5cdCAgLy8gMDogXCJfaG9sZFwiXG5cdCAgLy8gMTogXCJTVEFSVFwiXG5cdCAgdmFyIGFyZ3MgPSB0YXNrLmFyZ3VtZW50cyB8fCBbXTtcblx0ICB2YXIgbWV0YUtleSA9IGFyZ3NbMF07XG5cdCAgdmFyIG1ldGFWYWx1ZSA9IGFyZ3NbMV07XG5cdCAgdmFyIFNUQVJUID0gJ1NUQVJUJztcblx0ICBpZiAobWV0YUtleSA9PT0gJ19ob2xkJyAmJiBtZXRhVmFsdWUgPT09IFNUQVJUKSB7XG5cdCAgICByZXR1cm4gU1RBUlQ7XG5cdCAgfVxuXHQgIGlmIChtZXRhS2V5ID09PSAnX2Fub255X2lkJyAmJiBtZXRhVmFsdWUpIHtcblx0ICAgIHJldHVybiBTVEFSVDtcblx0ICB9XG5cdCAgaWYgKHRhc2sgJiYgL3NlbmRQVnxyZWNvcmR8c2V0UGFnZVNQTXxzZXRNZXRhSW5mb3xhcHBlbmRNZXRhSW5mbyQvLnRlc3QodGFzay5hY3Rpb24pKSB7XG5cdCAgICBzd2l0Y2ggKGhvbGRUeXBlKSB7XG5cdCAgICBjYXNlICdCTE9DSyc6XG5cdCAgICAgIGlmICghbWV0YV9pbmZvW2hvbGRUeXBlXSkge1xuXHQgICAgICAgIEFQTFVTX0hPTERfUVVFVUUucHVzaCh0YXNrKTtcblx0ICAgICAgICBmbGFnID0gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgICAgYnJlYWs7XG5cdCAgICBkZWZhdWx0OlxuXHQgICAgICBicmVhaztcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIGZsYWc7XG5cdH1cblx0XG5cdFxuXHQvLyB2YXIgcHJvY2Vzc2VkID0gZmFsc2U7XG5cdGZ1bmN0aW9uIHByb2Nlc3NIb2xkR29sZGxvZ1F1ZXVlIChvcHRzKSB7XG5cdCAgLy8gaWYgKCFwcm9jZXNzZWQpIHtcblx0ICAvLyAgIHByb2Nlc3NlZCA9IHRydWU7XG5cdCAgcHJvY2Vzc0dvbGRsb2dRdWV1ZShBUExVU19IT0xEX1VTRVJJRF9RVUVVRSwgb3B0cyk7XG5cdCAgcHJvY2Vzc0dvbGRsb2dRdWV1ZShBUExVU19IT0xEX0FOT05ZX1FVRVVFLCBvcHRzKTtcblx0ICBwcm9jZXNzR29sZGxvZ1F1ZXVlKEFQTFVTX0hPTERfUVVFVUUsIG9wdHMpOyAgXG5cdCAgLy8gfVxuXHR9XG5cdFxuXHQvKipcblx0ICogQHBhcmFtcyB7T2JqZWN0fSBxdWV1ZU5hbWU6IGFwbHVzX3F1ZXVlIHx8IGdvbGRsb2dfcXVldWVcblx0ICogQHBhcmFtcyB7T2JqZWN0fSBvcHRzIHtcblx0ICogICBpc09wZW5BcGk6IHRydWUgfHwgZmFsc2UgXG5cdCAqIH1cblx0ICovXG5cdGV4cG9ydHMuc3Vic2NyaWJlQW5kUHJvY2Vzc1F1ZXVlID0gZnVuY3Rpb24gKHF1ZXVlTmFtZSwgb3B0cykge1xuXHQgIHZhciBxdWUgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZShxdWV1ZU5hbWUpO1xuXHQgIHF1ZS5wdXNoKHtcblx0ICAgIGFjdGlvbjogYXBsdXNTdGF0aWMuU1VCU0NSSUJFLFxuXHQgICAgYXJndW1lbnRzOiBbYXBsdXNTdGF0aWMuU0VUX01FVEFfSU5GTywgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcblx0ICAgICAgaWYgKGtleSA9PT0gYXBsdXNTdGF0aWMuX1VTRVJfSUQgJiYgdmFsdWUpIHtcblx0ICAgICAgICBwcm9jZXNzR29sZGxvZ1F1ZXVlKEFQTFVTX0hPTERfVVNFUklEX1FVRVVFLCBvcHRzKTtcblx0ICAgICAgfSBlbHNlIGlmIChrZXkgPT09IGFwbHVzU3RhdGljLl9BTk9OWV9JRCAmJiB2YWx1ZSkge1xuXHQgICAgICAgIHByb2Nlc3NHb2xkbG9nUXVldWUoQVBMVVNfSE9MRF9BTk9OWV9RVUVVRSwgb3B0cyk7XG5cdCAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnX2hvbGQnICYmIHZhbHVlID09PSAnU1RBUlQnKSB7XG5cdCAgICAgICAgcHJvY2Vzc0hvbGRHb2xkbG9nUXVldWUob3B0cyk7XG5cdCAgICAgIH1cblx0ICAgIH1dXG5cdCAgfSk7XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBnZXRNZXRob2ROYW1lIChrZXksIGlzT3BlbkFwaSkge1xuXHQgIGlmIChpc09wZW5BcGkgJiYgYXBsdXNTdGF0aWMub3BlbkFQSXMuaW5kZXhPZihrZXkpID4gLTEpIHtcblx0ICAgIGtleSA9ICdfJyArIGtleTtcblx0ICB9XG5cdCAgcmV0dXJuIGtleTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIEBwYXJhbXMge09iamVjdH0gdGFza1xuXHQgKiBAcGFyYW1zIHtPYmplY3R9IG9wdHMge1xuXHQgKiAgIGlzT3BlbkFwaTogdHJ1ZSB8fCBmYWxzZSBcblx0ICogfVxuXHQgKi9cblx0dmFyIHByb2Nlc3NUYXNrID0gZnVuY3Rpb24odGFzaywgb3B0cywgY2FsbGJhY2spIHtcblx0ICB2YXIgaXNPcGVuQXBpID0gISFvcHRzLmlzT3BlbkFwaTtcblx0ICB2YXIgYWN0aW9uID0gdGFzayA/IHRhc2suYWN0aW9uIDogJyc7XG5cdCAgdmFyIGFyZ3MgPSB0YXNrID8gdGFzay5hcmd1bWVudHMgOiAnJztcblx0XG5cdCAgdmFyIHJlc3VsdCA9IGZpbHRlclRhc2sodGFzayk7XG5cdCAgaWYgKCFyZXN1bHQpIHtcblx0ICAgIHJldHVybjtcblx0ICB9XG5cdCAgdmFyIGNvbnRleHQgPSB1dGlsR29sZGxvZy5nZXRDb250ZXh0KCk7XG5cdCAgdHJ5IHsgLy8g56Gu5L+d5p+Q5Liq5Lu75Yqh5omn6KGM5aSx6LSl5LiN5Lya5b2x5ZON5YW25a6D5Lu75YqhXG5cdCAgICBpZiAoYWN0aW9uICYmIGFyZ3MgJiYgdXRpbEFycmF5LmlzQXJyYXkoYXJncykpIHtcblx0ICAgICAgdmFyIGEgPSBhY3Rpb24uc3BsaXQoJy4nKTtcblx0ICAgICAgdmFyIG9iaiA9IGNvbnRleHQ7XG5cdCAgICAgIHZhciBfZm4gPSBjb250ZXh0O1xuXHQgICAgICB2YXIgbWV0aG9kTmFtZTtcblx0ICAgICAgaWYgKGEubGVuZ3RoID09PSAzKSB7XG5cdCAgICAgICAgb2JqID0gY29udGV4dFthWzBdXVthWzFdXSB8fCB7fTtcblx0ICAgICAgICBtZXRob2ROYW1lID0gZ2V0TWV0aG9kTmFtZShhWzJdLCBpc09wZW5BcGkpO1xuXHQgICAgICAgIF9mbiA9IG9ialttZXRob2ROYW1lXSA/IG9ialttZXRob2ROYW1lXSA6ICcnO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHdoaWxlIChhLmxlbmd0aCkge1xuXHQgICAgICAgICAgbWV0aG9kTmFtZSA9IGdldE1ldGhvZE5hbWUoYS5zaGlmdCgpLCBpc09wZW5BcGkpO1xuXHQgICAgICAgICAgX2ZuID0gb2JqID0gb2JqW21ldGhvZE5hbWVdO1xuXHQgICAgICAgICAgaWYgKCFvYmopIHsgLy8g6Z2e5rOVIGFjdGlvblxuXHQgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcblx0ICAgICAgICAgICAgICBjYWxsYmFjayh0YXNrKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIGlmIChpc0Z1bmN0aW9uKF9mbikpIHtcblx0ICAgICAgICBfZm4uYXBwbHkob2JqLCBhcmdzKTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAocmVzdWx0ID09PSAnU1RBUlQnKSB7XG5cdCAgICAgICAgcHJvY2Vzc0hvbGRHb2xkbG9nUXVldWUob3B0cyk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9IGNhdGNoKGUpIHtcblx0ICAgIHVsb2coKS53KGUpO1xuXHQgICAgLy8gdXRpbExvZ2dlci5sb2dnZXIoe1xuXHQgICAgLy8gICBtc2c6IGVcblx0ICAgIC8vIH0pO1xuXHQgIH1cblx0fTtcblx0ZXhwb3J0cy5wcm9jZXNzVGFzayA9IHByb2Nlc3NUYXNrO1xuXHRcblx0dmFyIGdldEZvcm1hdFF1ZXVlID0gZnVuY3Rpb24gKHF1ZXVlLCB0eXBlKSB7XG5cdCAgdmFyIHF1ZXVlTWFwID0ge1xuXHQgICAgc3Vic2NyaWJlTXdDaGFuZ2VRdWV1ZTogW10sXG5cdCAgICBzdWJzY3JpYmVNZXRhUXVldWU6IFtdLFxuXHQgICAgc3Vic2NyaWJlUXVldWU6IFtdLFxuXHQgICAgbWV0YVF1ZXVlOiBbXSxcblx0ICAgIG90aGVyc1F1ZXVlOiBbXVxuXHQgIH07XG5cdFxuXHQgIHZhciBxID0gW107XG5cdCAgdmFyIHRhc2sgPSB7fTtcblx0ICB3aGlsZSAodGFzayA9IHF1ZXVlLnNoaWZ0KCkpIHsgLy8g5L6d5qyh5omn6KGMIHdpbmRvdy5hcGx1c19xdWV1ZSDkuK3nmoTku7vliqFcblx0ICAgIHRyeSB7XG5cdCAgICAgIHZhciBhYyA9IHRhc2suYWN0aW9uO1xuXHQgICAgICB2YXIga2V5ID0gdGFzay5hcmd1bWVudHNbMF07XG5cdCAgICAgIGlmICgvc3Vic2NyaWJlLy50ZXN0KGFjKSkge1xuXHQgICAgICAgIGlmIChrZXkgPT09ICdzZXRNZXRhSW5mbycpIHtcblx0ICAgICAgICAgIHF1ZXVlTWFwLnN1YnNjcmliZU1ldGFRdWV1ZS5wdXNoKHRhc2spO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSBhcGx1c1N0YXRpYy5NV19DSEFOR0VfUFYgfHwga2V5ID09PSBhcGx1c1N0YXRpYy5NV19DSEFOR0VfSEpMSikge1xuXHQgICAgICAgICAgcXVldWVNYXAuc3Vic2NyaWJlTXdDaGFuZ2VRdWV1ZS5wdXNoKHRhc2spO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBxdWV1ZU1hcC5zdWJzY3JpYmVRdWV1ZS5wdXNoKHRhc2spO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIGlmICgvTWV0YUluZm8vLnRlc3QoYWMpKSB7XG5cdCAgICAgICAgcXVldWVNYXAubWV0YVF1ZXVlLnB1c2godGFzayk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcXVldWVNYXAub3RoZXJzUXVldWUucHVzaCh0YXNrKTtcblx0ICAgICAgfVxuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICB1bG9nKCkudyhlKTtcblx0ICAgICAgLy8gdXRpbExvZ2dlci5sb2dnZXIoe1xuXHQgICAgICAvLyAgIG1zZzogZVxuXHQgICAgICAvLyB9KTtcblx0ICAgICAgcXVldWVNYXAub3RoZXJzUXVldWUucHVzaCh0YXNrKTtcblx0ICAgIH1cblx0ICB9XG5cdCAgdmFyIGZvcm1hdFF1ZXVlO1xuXHQgIGlmICh0eXBlICYmIHF1ZXVlTWFwW3R5cGVdKSB7XG5cdCAgICBmb3JtYXRRdWV1ZSA9IHF1ZXVlTWFwW3R5cGVdO1xuXHQgICAgcXVldWVNYXBbdHlwZV0gPSBbXTtcblx0ICB9XG5cdCAgcSA9IHF1ZXVlTWFwLnN1YnNjcmliZU13Q2hhbmdlUXVldWUuY29uY2F0KHF1ZXVlTWFwLm1ldGFRdWV1ZSk7XG5cdCAgcSA9IHEuY29uY2F0KHF1ZXVlTWFwLnN1YnNjcmliZVF1ZXVlKTtcblx0ICBxID0gcS5jb25jYXQocXVldWVNYXAuc3Vic2NyaWJlTWV0YVF1ZXVlLCBxdWV1ZU1hcC5vdGhlcnNRdWV1ZSk7XG5cdCAgcmV0dXJuIHtcblx0ICAgIHF1ZXVlOiBxLFxuXHQgICAgZm9ybWF0UXVldWU6IGZvcm1hdFF1ZXVlXG5cdCAgfTtcblx0fTtcblx0ZXhwb3J0cy5nZXRGb3JtYXRRdWV1ZSA9IGdldEZvcm1hdFF1ZXVlO1xuXG5cbi8qKiovIH0pLFxuLyogODYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKipcblx0ICogYWxpbG9nL3MgLSBzcmMvbGliX3UvY29uZmlnL2luaXQvaW5pdExvYWRfYmFzZS5qc1xuXHQgKiDliJ3lp4vljJbln7rnoYDmqKHlnZfvvIzkuI3og73nm7TmjqXkvb/nlKjvvIzpnIDopoHpgJrov4dpbml0TG9hZF9wYy5qc+aIlmluaXRMb2FkX3dhcC5qc+etieWFt+S9k+eahOWcuuaZr+aooeWdl+iwg+eUqFxuXHQgKlxuXHQgKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG5cdCAqXG5cdCAqIEF1dGhvcnM6XG5cdCAqICAgQGF1dGhvciBqaXpoYS53eWogQGJsb2cgaHR0cDovL29sZGoubmV0XG5cdCAqICAg6LCL5aOrIDxxaW5nbGlhbmcuaHFsQGFsaWJhYmEtaW5jLmNvbT5cblx0ICovXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBCYXNlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNyk7XG5cdHZhciB1dGlsR29sZGxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdHZhciBhY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg1KTtcblx0XG5cdHZhciBRdWV1ZSA9IEJhc2UuZXh0ZW5kKHtcblx0ICBwdXNoOiBmdW5jdGlvbih0YXNrKSB7XG5cdCAgICB0aGlzLmxlbmd0aCsrO1xuXHQgICAgYWN0aW9uLnByb2Nlc3NUYXNrKHRhc2ssIHRoaXMub3B0cyk7ICBcblx0ICB9LFxuXHR9KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuXHQgIHJldHVybiB7XG5cdCAgICBwcm9jZXNzQXBsdXNRdWV1ZTogZnVuY3Rpb24gKHF1ZXVlTmFtZSkge1xuXHQgICAgICB2YXIgb3B0cyA9IHRoaXMub3B0aW9ucy5jb25maWcgfHwge307XG5cdCAgICAgIHZhciBxdWUgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZShxdWV1ZU5hbWUpO1xuXHQgICAgICBhY3Rpb24ucHJvY2Vzc0dvbGRsb2dRdWV1ZShxdWUsIG9wdHMpO1xuXHQgICAgICB1dGlsR29sZGxvZy5zZXRHbG9iYWxWYWx1ZShxdWV1ZU5hbWUsIFF1ZXVlLmNyZWF0ZSh7XG5cdCAgICAgICAgb3B0czogb3B0cywgXG5cdCAgICAgICAgc3RhcnRMZW5ndGg6IHF1ZS5sZW5ndGgsXG5cdCAgICAgICAgbGVuZ3RoOiAwXG5cdCAgICAgIH0pKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBAcGFyYW1zIHtTdHJpbmd9IHR5cGVcblx0ICAgICAqL1xuXHQgICAgcnVuOiAgZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgYXBsdXNfY29uZmlnID0gdGhpcy5vcHRpb25zLmNvbnRleHQuYXBsdXNfY29uZmlnO1xuXHQgICAgICB2YXIgQVBMVVNfUVVFVUUgPSBhcGx1c19jb25maWcuZ2xvYmFsQ29uZmlnLkFQTFVTX1FVRVVFO1xuXHRcblx0ICAgICAgdGhpcy5wcm9jZXNzQXBsdXNRdWV1ZShBUExVU19RVUVVRSk7XG5cdFxuXHQgICAgICBpZiAoQVBMVVNfUVVFVUUgPT09ICdhcGx1c19xdWV1ZScpIHtcblx0ICAgICAgICB0aGlzLnByb2Nlc3NBcGx1c1F1ZXVlKCdnb2xkbG9nX3F1ZXVlJyk7XG5cdCAgICAgIH1cblx0ICAgICAgYWN0aW9uLnN1YnNjcmliZUFuZFByb2Nlc3NRdWV1ZShBUExVU19RVUVVRSwgdGhpcy5vcHRpb25zLmNvbmZpZyk7XG5cdCAgICB9XG5cdCAgfTtcblx0fTtcblxuXG4vKioqLyB9KSxcbi8qIDg3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyoqXG5cdCAqIOWPi+ebn+S6keadoeS7tuS4i+eahOiHquWKqOS6i+S7tuaPkuS7tiAgICAgXG5cdCAqIFxuXHQgKiAgICAgIFxuXHQgKiBDb3B5cmlnaHQgLSAyMDIxIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuXHQgKiBcblx0ICogQXV0aG9yOiBcblx0ICogICAg6ZKw5pitIChjaGFuZ2xpYW5nLmxjbEB1bWVuZy5jb20pXG5cdCAqL1xuXHRcblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIHV0aWxHb2xkbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0dmFyIGFwbHVzU3RhdGljID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0dmFyIG1pbmkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHR2YXIgRmV0Y2hDb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg4KTtcblx0dmFyIHV0aWxHUSA9IF9fd2VicGFja19yZXF1aXJlX18oNTgpO1xuXHR2YXIgTUlOSV9WVF9DT05GSUdfRk9STUFUID0gJ01pbmlWdENvbmZpZ0Zvcm1hdCc7XG5cdHZhciB1dGlsVlQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkxKTtcblx0dmFyIFBhZ2VNYW5hZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5cdHZhciB1bG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdFxuXHRmdW5jdGlvbiBhdXRvVHJhY2tlciAoKSB7XG5cdCAgdmFyIHJiX2NvbmZpZywgcGRyX2NvbmZpZywgc2hhcmVfY29uZmlnO1xuXHQgIC8vIHZhciBwcmVmaXggPSBtaW5pLmdldENvbnRleHQoKTtcblx0ICB2YXIgY3R4ID0gdXRpbEdvbGRsb2cuZ2V0Q29udGV4dCgpO1xuXHQgIHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKGFwbHVzU3RhdGljLkFQTFVTKTtcblx0ICB2YXIgYXBsdXNfcXVldWUgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZShhcGx1c1N0YXRpYy5BUExVU19RVUVVRSk7XG5cdCAgdmFyIF9oYXNUcmFja2VkID0gZmFsc2U7XG5cdCAgdmFyIF9jdXJyZW50UGFnZSA9IG51bGw7XG5cdCAgdmFyIGNvdW50ID0ge1xuXHQgICAgJ29uUHVsbERvd25SZWZyZXNoJzogMCxcblx0ICAgICdvblNoYXJlVGltZWxpbmUnOiAwLFxuXHQgICAgJ29uUmVhY2hCb3R0b20nOiAwLFxuXHQgICAgJ29uU2hhcmVBcHBNZXNzYWdlJzogMCxcblx0ICAgICdvbkNsaWNrJzogMFxuXHQgIH07XG5cdFxuXHQgIGZ1bmN0aW9uIGV2ZW50SGFuZGxlICgpIHtcblx0ICAgIHZhciBldmVudE5hbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiB2b2lkIDAgIT09IGFyZ3VtZW50c1swXSA/IGFyZ3VtZW50c1swXSA6ICcnO1xuXHQgICAgdmFyIHBhZ2VJbnN0YW5jZSA9IG1pbmkuZ2V0Q3VycmVudFBhZ2UoKTtcblx0ICAgIHZhciBjdXJyZW50UGFnZSA9IHBhZ2VJbnN0YW5jZS5yb3V0ZSB8fCBwYWdlSW5zdGFuY2UuaXM7XG5cdCAgICAvLyB2YXIgcDtcblx0ICAgIFxuXHQgICAgc3dpdGNoIChldmVudE5hbWUpIHtcblx0ICAgIGNhc2UgJ29uUHVsbERvd25SZWZyZXNoJzpcblx0ICAgICAgY291bnQub25QdWxsRG93blJlZnJlc2ggKz0gMTtcblx0ICAgICAgYXBsdXNfcXVldWUucHVzaCh7XG5cdCAgICAgICAgYWN0aW9uOiAnYXBsdXMucmVjb3JkJyxcblx0ICAgICAgICBhcmd1bWVudHM6IFtwZHJfY29uZmlnLmxvZ2tleSB8fCAnJCRfcHVsbF9kb3duX3JlZnJlc2gnLCAnQ0xLJywge1xuXHQgICAgICAgICAgZXZlbnQ6IGV2ZW50TmFtZSxcblx0ICAgICAgICAgIHBhZ2VuYW1lOiBQYWdlTWFuYWdlci5nZXRQYWdlQ29kZSgpIHx8IGN1cnJlbnRQYWdlLFxuXHQgICAgICAgICAgY291bnQ6IGNvdW50Lm9uUHVsbERvd25SZWZyZXNoXG5cdCAgICAgICAgfV1cblx0ICAgICAgfSk7XG5cdCAgICAgIGJyZWFrO1xuXHQgICAgY2FzZSAnb25SZWFjaEJvdHRvbSc6XG5cdCAgICAgIGNvdW50Lm9uUmVhY2hCb3R0b20gKz0gMTtcblx0ICAgICAgYXBsdXNfcXVldWUucHVzaCh7XG5cdCAgICAgICAgYWN0aW9uOiAnYXBsdXMucmVjb3JkJyxcblx0ICAgICAgICBhcmd1bWVudHM6IFtyYl9jb25maWcubG9na2V5IHx8ICckJF9yZWFjaF9ib3R0b20nLCAnQ0xLJywge1xuXHQgICAgICAgICAgZXZlbnQ6IGV2ZW50TmFtZSxcblx0ICAgICAgICAgIHBhZ2VuYW1lOiBQYWdlTWFuYWdlci5nZXRQYWdlQ29kZSgpIHx8IGN1cnJlbnRQYWdlLFxuXHQgICAgICAgICAgY291bnQ6IGNvdW50Lm9uUmVhY2hCb3R0b21cblx0ICAgICAgICB9XVxuXHQgICAgICB9KTtcblx0ICAgICAgYnJlYWs7XG5cdCAgICBjYXNlICdvblNoYXJlQXBwTWVzc2FnZSc6XG5cdCAgICAgIGNvdW50Lm9uU2hhcmVBcHBNZXNzYWdlICs9IDE7XG5cdCAgICAgIGFwbHVzX3F1ZXVlLnB1c2goe1xuXHQgICAgICAgIGFjdGlvbjogJ2FwbHVzLnJlY29yZCcsXG5cdCAgICAgICAgYXJndW1lbnRzOiBbc2hhcmVfY29uZmlnLmxvZ2tleSB8fCAnJCRfc2hhcmUnLCAnQ0xLJywge1xuXHQgICAgICAgICAgZXZlbnQ6IGV2ZW50TmFtZSxcblx0ICAgICAgICAgIHBhZ2VuYW1lOiBQYWdlTWFuYWdlci5nZXRQYWdlQ29kZSgpIHx8IGN1cnJlbnRQYWdlLFxuXHQgICAgICAgICAgY291bnQ6IGNvdW50Lm9uU2hhcmVBcHBNZXNzYWdlLFxuXHQgICAgICAgICAgc2hhcmVfdHlwZTogMVxuXHQgICAgICAgIH1dXG5cdCAgICAgIH0pO1xuXHQgICAgICBicmVhaztcblx0ICAgIGNhc2UgJ29uU2hhcmVUaW1lbGluZSc6IFxuXHQgICAgICBjb3VudC5vblNoYXJlVGltZWxpbmUgKz0gMTtcblx0ICAgICAgYXBsdXNfcXVldWUucHVzaCh7XG5cdCAgICAgICAgYWN0aW9uOiAnYXBsdXMucmVjb3JkJyxcblx0ICAgICAgICBhcmd1bWVudHM6IFtzaGFyZV9jb25maWcubG9na2V5IHx8ICckJF9zaGFyZScsICdDTEsnLCB7XG5cdCAgICAgICAgICBldmVudDogZXZlbnROYW1lLFxuXHQgICAgICAgICAgcGFnZW5hbWU6IFBhZ2VNYW5hZ2VyLmdldFBhZ2VDb2RlKCkgfHwgY3VycmVudFBhZ2UsXG5cdCAgICAgICAgICBjb3VudDogY291bnQub25TaGFyZVRpbWVsaW5lLFxuXHQgICAgICAgICAgc2hhcmVfdHlwZTogMFxuXHQgICAgICAgIH1dXG5cdCAgICAgIH0pO1xuXHQgICAgICBicmVhaztcblx0ICAgIGNhc2UgJ29uUGFnZVNob3cnOlxuXHQgICAgICBpZiAocGFnZUluc3RhbmNlLnJvdXRlICYmICFfaGFzVHJhY2tlZCkge1xuXHQgICAgICAgIF9jdXJyZW50UGFnZSA9IHtcblx0ICAgICAgICAgIHRzOiBEYXRlLm5vdygpLFxuXHQgICAgICAgICAgcGF0aDogcGFnZUluc3RhbmNlLnJvdXRlLFxuXHQgICAgICAgICAgcGFnZV9uYW1lOiBwYWdlSW5zdGFuY2Uucm91dGUsXG5cdCAgICAgICAgfTtcblx0ICAgICAgICBfaGFzVHJhY2tlZCA9IHRydWU7XG5cdCAgICAgIH1cblx0ICAgICAgYnJlYWs7XG5cdCAgICBjYXNlICdvblBhZ2VIaWRlJzogIFxuXHQgICAgICBpZiAoX2hhc1RyYWNrZWQpIHtcblx0ICAgICAgICB2YXIgZHVyYXRpb24gPSBEYXRlLm5vdygpIC0gX2N1cnJlbnRQYWdlLnRzO1xuXHQgICAgICAgIC8vIOWKoOi9veaXtuacuueahOmXrumimO+8jOaUvuWcqOatpOWkhOWPlnJlZmVycmVy55u45q+U5LqObWluaWFwcF9kYXRh5YeG56GuXG5cdCAgICAgICAgdmFyIHJlZmVycmVyID0gbWluaS5nZXRSZWZlcnJlclBhZ2UoKS5yb3V0ZSB8fCBtaW5pLmdldFJlZmVycmVyUGFnZSgpLmlzIHx8ICctJztcblx0ICAgICAgICB2YXIgZXh0cmFQYXJhbXMgPSAoUGFnZU1hbmFnZXIuZ2V0UGFnZU5hbWUoKSB8fCB7fSkuZXh0cmFQYXJhbXM7XG5cdCAgICAgICAgdmFyIHB2YXJncyA9IE9iamVjdC5hc3NpZ24oe30sIGV4dHJhUGFyYW1zLCB7XG5cdCAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXG5cdCAgICAgICAgICBwYXRoOiBfY3VycmVudFBhZ2UucGF0aCxcblx0ICAgICAgICAgIHBhZ2VfbmFtZTogUGFnZU1hbmFnZXIuZ2V0UGFnZUNvZGUoKSB8fCBfY3VycmVudFBhZ2UucGFnZV9uYW1lLFxuXHQgICAgICAgICAgcGFnZV9zdGFydDogX2N1cnJlbnRQYWdlLnRzLFxuXHQgICAgICAgICAgaXNNaW5pOiB0cnVlLFxuXHQgICAgICAgICAgX3BhZ2VfYXV0b19pZDogYXBsdXNTdGF0aWMuUEFHRV9FTkQsXG5cdCAgICAgICAgICBfcGFnZV9hdXRvX3B2OiB0cnVlLFxuXHQgICAgICAgICAgcmVmZXJyZXI6IHJlZmVycmVyXG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgYXBsdXMuc2VuZFBWKHsgaXNfYXV0bzogdHJ1ZSB9LCBwdmFyZ3MpO1xuXHQgICAgICAgIF9jdXJyZW50UGFnZSA9IG51bGw7XG5cdCAgICAgICAgX2hhc1RyYWNrZWQgPSBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgICBicmVhaztcblx0ICAgIGRlZmF1bHQ6XG5cdCAgICAgIGJyZWFrO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIGZ1bmN0aW9uIGdldENvbmZpZyAoKSB7XG5cdCAgICByYl9jb25maWcgPSBhcGx1cy5nZXRNZXRhSW5mbygncmJfY29uZmlnJyk7XG5cdCAgICBwZHJfY29uZmlnID0gYXBsdXMuZ2V0TWV0YUluZm8oJ3Bkcl9jb25maWcnKTtcblx0ICAgIHNoYXJlX2NvbmZpZyA9IGFwbHVzLmdldE1ldGFJbmZvKCdzaGFyZV9jb25maWcnKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGZldGNoVmVyaWZ5Q29uZmlnKGNvZGUsIGFwcEluZm9JZCkge1xuXHQgICAgaWYgKCFjb2RlIHx8ICFhcHBJbmZvSWQpIHtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIHRyeSB7IFxuXHQgICAgICB2YXIgYXBpX2hvc3QgPSBhcGx1cy5nZXRNZXRhSW5mbygnYXBsdXMtYXBpLWhvc3QnKTtcblx0ICAgICAgdmFyIHJlZyA9IC9bW2EtenxcXC18XFxffDAtOVxcLl0rW2EtenxcXC18XFxffDAtOV0oOlxcZCopPy87XG5cdCAgICAgIHZhciB2ZXJpZnlfaG9zdCA9IGFwaV9ob3N0Lm1hdGNoKHJlZyk7XG5cdCAgICAgIFxuXHQgICAgICBpZiAodmVyaWZ5X2hvc3QgJiYgdmVyaWZ5X2hvc3RbMF0pIHtcblx0ICAgICAgICB2YXIgcHJvdG9jYWwgPSBhcGx1c1N0YXRpYy5IVFRQUztcblx0ICAgICAgICBpZiAoLyhcXGQrXFwuKXszLH1cXGQrLy50ZXN0KHZlcmlmeV9ob3N0WzBdKSkge1xuXHQgICAgICAgICAgcHJvdG9jYWwgPSAnaHR0cDonO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgdmVyaWZ5VXJsID0gcHJvdG9jYWwgKyAnLy8nICsgYXBpX2hvc3QrICcvdnQvbG9hZFRyYW5zZmVyQ29uZmlnP2NvZGU9JyArIGNvZGUgKyAnJmFwcEluZm9JZD0nICsgYXBwSW5mb0lkO1xuXHQgICAgICAgIG1pbmkucmVxdWVzdCh2ZXJpZnlVcmwsIHt9LCBmdW5jdGlvbihyZXNwKXtcblx0ICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIHZhciBjZmdEYXRhID0gKHJlc3AuZGF0YSAmJiByZXNwLmRhdGEuZGF0YSAmJiByZXNwLmRhdGEuZGF0YS5jb25maWcpIHx8ICcnO1xuXHQgICAgICAgICAgICB2YXIgZGVidWdJZCA9IChyZXNwLmRhdGEgJiYgcmVzcC5kYXRhLmRhdGEgJiYgcmVzcC5kYXRhLmRhdGEuZGVidWdJZCkgfHwgJyc7XG5cdCAgICAgICAgICAgIGlmKGRlYnVnSWQpe1xuXHQgICAgICAgICAgICAgIGFwbHVzLmFwcGVuZE1ldGFJbmZvKCdhcGx1cy1nbG9iYWwtYXJncycse1xuXHQgICAgICAgICAgICAgICAgZGVidWdJZDpkZWJ1Z0lkXG5cdCAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdmFyIF9iZWdpbkxvYWQgPSAobmV3IERhdGUpLmdldFRpbWUoKTtcblx0ICAgICAgICAgICAgYXBsdXMuX21pbmljZmdfbG9hZCA9IChuZXcgRGF0ZSkuZ2V0VGltZSgpIC0gX2JlZ2luTG9hZDtcblx0ICAgICAgICAgICAgaWYgKGNmZ0RhdGEpIHtcblx0ICAgICAgICAgICAgICBhcGx1cy5fYXBsdXNfdnRfY2ZnID0gSlNPTi5wYXJzZShjZmdEYXRhKSB8fCB7fTtcblx0ICAgICAgICAgICAgICB1dGlsVlQudnQyYXV0b0V2ZW50KCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICAgICAgdWxvZygpLncoJ+aLieWPluWunuaXtuWPr+inhuWMluWfi+eCuemqjOivgeWksei0pSwg6ZSZ6K+v5L+h5oGv77yaJyArIGUpO1xuXHQgICAgICAgICAgICAvLyB1dGlsTG9nZ2VyLmxvZ2dlcih7XG5cdCAgICAgICAgICAgIC8vICAgbGV2ZWw6J2Vycm9yJyxcblx0ICAgICAgICAgICAgLy8gICBtc2c6J+aLieWPluWunuaXtuWPr+inhuWMluWfi+eCuemqjOivgeWksei0pSwg6ZSZ6K+v5L+h5oGv77yaJyArIGVcblx0ICAgICAgICAgICAgLy8gfSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH0gY2F0Y2ggKGVycm9yKSB7XG5cdCAgICAgIFxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgYXBsdXNfcXVldWUucHVzaCh7XG5cdCAgICBhY3Rpb246IGFwbHVzU3RhdGljLlNVQlNDUklCRSxcblx0ICAgIGFyZ3VtZW50czogWydhcGx1c1JlYWR5JywgZnVuY3Rpb24gKHN0YXR1cykge1xuXHQgICAgICBpZiAoc3RhdHVzID09PSAnY29tcGxldGUnKSB7XG5cdCAgICAgICAgZ2V0Q29uZmlnKCk7XG5cdCAgICAgIH1cblx0ICAgIH1dXG5cdCAgfSk7XG5cdFxuXHQgIGFwbHVzLmFwbHVzX3B1YnN1Yi5zdWJzY3JpYmUoJ29uTG9hZCcsIGZ1bmN0aW9uKG9wdCkge1xuXHQgICAgaWYgKG9wdC5zdGF0dXMgPT09ICdyZWFkeScpIHtcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICB2YXIgY29kZSA9IFBhZ2VNYW5hZ2VyLmdldFZUUmVhbHRpbWVDb2RlKCk7XG5cdCAgICAgICAgaWYgKGNvZGUpIHtcblx0ICAgICAgICAgIHZhciBhcHBJbmZvSWQgPSBhcGx1cy5nZXRNZXRhSW5mbygnYXBwSW5mb0lkJyk7XG5cdCAgICAgICAgICBmZXRjaFZlcmlmeUNvbmZpZyhjb2RlLCBhcHBJbmZvSWQpO1xuXHQgICAgICAgIH0gZWxzZSB7ICAgICAgICAgIFxuXHQgICAgICAgICAgISFhcGx1cy5nZXRNZXRhSW5mbygnYXBsdXMtdnQtY2ZnLXVybCcpICYmIHV0aWxWVC52dDJhdXRvRXZlbnQoKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gY2F0Y2goZSkge1xuXHQgICAgICAgIHVsb2coKS53KCfmi4nlj5blrp7ml7blj6/op4bljJbln4vngrnpqozor4Hkv6Hmga/lpLHotKXvvIwg6ZSZ6K+v5Y6f5Zug77yaJyArIGUpO1xuXHQgICAgICAgIC8vIHV0aWxMb2dnZXIubG9nZ2VyKHtcblx0ICAgICAgICAvLyAgIGxldmVsOiAnZXJyb3InLFxuXHQgICAgICAgIC8vICAgbXNnOiAn5ouJ5Y+W5a6e5pe25Y+v6KeG5YyW5Z+L54K56aqM6K+B5L+h5oGv5aSx6LSl77yMIOmUmeivr+WOn+WboO+8micgKyBlXG5cdCAgICAgICAgLy8gfSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9KTtcblx0XG5cdCAgYXBsdXMuYXBsdXNfcHVic3ViLnN1YnNjcmliZSgnb25TaG93JywgZnVuY3Rpb24gKG9wdCkge1xuXHQgICAgaWYgKG9wdC5zdGF0dXMgPT09ICdyZWFkeScpIHtcblx0ICAgICAgdmFyIGlzQXV0byA9IGN0eC5hcGx1cy5nZXRNZXRhSW5mbygnYXBsdXMtd2FpdGluZycpICE9PSAnTUFOJztcblx0ICAgICAgaXNBdXRvICYmIGV2ZW50SGFuZGxlKCdvblBhZ2VTaG93Jyk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdFxuXHQgIGFwbHVzLmFwbHVzX3B1YnN1Yi5zdWJzY3JpYmUoJ29uSGlkZScsIGZ1bmN0aW9uIChvcHQpIHtcblx0ICAgIGlmIChvcHQuc3RhdHVzID09PSAncmVhZHknKSB7XG5cdCAgICAgIHZhciBpc0F1dG8gPSBjdHguYXBsdXMuZ2V0TWV0YUluZm8oJ2FwbHVzLXdhaXRpbmcnKSAhPT0gJ01BTic7XG5cdCAgICAgIGlzQXV0byAmJiBldmVudEhhbmRsZSgnb25QYWdlSGlkZScpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHRcblx0ICBhcGx1cy5hcGx1c19wdWJzdWIuc3Vic2NyaWJlKCdvblB1bGxEb3duUmVmcmVzaCcsIGZ1bmN0aW9uIChvcHQpIHtcblx0ICAgIGlmIChvcHQuc3RhdHVzID09PSAncmVhZHknKSB7XG5cdCAgICAgIGV2ZW50SGFuZGxlKCdvblB1bGxEb3duUmVmcmVzaCcpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHRcblx0ICBhcGx1cy5hcGx1c19wdWJzdWIuc3Vic2NyaWJlKCdvblJlYWNoQm90dG9tJywgZnVuY3Rpb24gKG9wdCkge1xuXHQgICAgaWYgKG9wdC5zdGF0dXMgPT09ICdyZWFkeScpIHtcblx0ICAgICAgZXZlbnRIYW5kbGUoJ29uUmVhY2hCb3R0b20nKTtcblx0ICAgIH1cblx0ICB9KTtcblx0XG5cdCAgYXBsdXMuYXBsdXNfcHVic3ViLnN1YnNjcmliZSgnb25TaGFyZUFwcE1lc3NhZ2UnLCBmdW5jdGlvbiAob3B0KSB7XG5cdCAgICBpZiAob3B0LnN0YXR1cyA9PT0gJ3JlYWR5Jykge1xuXHQgICAgICBldmVudEhhbmRsZSgnb25TaGFyZUFwcE1lc3NhZ2UnKTtcblx0ICAgIH1cblx0ICB9KTtcblx0XG5cdCAgYXBsdXMuYXBsdXNfcHVic3ViLnN1YnNjcmliZSgnb25TaGFyZVRpbWVsaW5lJywgZnVuY3Rpb24gKG9wdCkge1xuXHQgICAgaWYgKG9wdC5zdGF0dXMgPT09ICdyZWFkeScpIHtcblx0ICAgICAgZXZlbnRIYW5kbGUoJ29uU2hhcmVUaW1lbGluZScpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHRcblx0ICBpZiAoISFhcGx1cy5nZXRNZXRhSW5mbygnYXBsdXMtdnQtY2ZnLXVybCcpKSB7XG5cdCAgICB1dGlsR1EucHVzaEludG9Hb2xkbG9nUXVldWUoYXBsdXNTdGF0aWMuU1VCU0NSSUJFLCBbTUlOSV9WVF9DT05GSUdfRk9STUFULCBmdW5jdGlvbihvcHRpb25zKXtcblx0ICAgICAgdmFyIHBhZ2VDb25maWcgPSBvcHRpb25zLnBhZ2VDb25maWc7XG5cdCAgICAgIGlmIChwYWdlQ29uZmlnICYmIHBhZ2VDb25maWcuZW5hYmxlZCkge1xuXHQgICAgICAgIGFwbHVzLl9hcGx1c192dF9jZmcgPSBwYWdlQ29uZmlnO1xuXHQgICAgICB9XG5cdCAgICB9XSk7XG5cdCAgfVxuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgcmV0dXJuIHtcblx0ICAgIHJ1bjogZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZSgnYXBsdXMnKTtcblx0ICAgICAgYXV0b1RyYWNrZXIoKTtcblx0ICAgICAgaWYgKCFhcGx1cy5fYXBsdXNfYWxlYWR5X2xvYWRfbWluaXZ0KXtcblx0ICAgICAgICBhcGx1cy5fYXBsdXNfYWxlYWR5X2xvYWRfbWluaXZ0ID0gMTtcblx0ICAgICAgICB2YXIgZmMgPSBGZXRjaENvbmZpZy5jcmVhdGUoKTtcblx0ICAgICAgICBmYy5ydW4oKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH07XG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiA4OCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiDlj6/op4bljJbln4vngrnphY3nva7kv6Hmga/or7fmsYIgXG5cdCAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cblx0ICpcblx0ICogQXV0aG9yczpcblx0ICogICBBYXJvbnzpkrDmmK0gPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuXHQgKi9cblx0XG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBCYXNlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNyk7XG5cdHZhciB1dGlsR1EgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU4KTtcblx0dmFyIHV0aWxDYXRjaCA9IF9fd2VicGFja19yZXF1aXJlX18oODkpO1xuXHR2YXIgZWFjaCA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuXHR2YXIgdXRpbERhc2ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KTtcblx0dmFyIG1pbml2dFN0b3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5MCk7XG5cdC8vIHZhciB1dGlsVXJsID0gcmVxdWlyZSgnQHV0aWxzL3V0aWxVcmwnKTtcblx0dmFyIGFwbHVzU3RhdGljID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0dmFyIHV0aWxHb2xkbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0Ly8gdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoJ2FwbHVzJyk7XG5cdHZhciBNSU5JX1ZUX0NPTkZJR19CQUNLID0gJ01pbmlWdENvbmZpZ0JhY2snO1xuXHR2YXIgTUlOSV9WVF9DT05GSUdfRk9STUFUID0gJ01pbmlWdENvbmZpZ0Zvcm1hdCc7XG5cdFxuXHR2YXIgR09MRExPR19QVUJMSVNIID0gYXBsdXNTdGF0aWMuUFVCTElTSDtcblx0Ly8gcHJvZDogaHR0cHM6Ly9hbGlkdC5hbGljZG4uY29tL2FsaWxvZy92dGRhaWx5LyR7Y29tcG9uZW50SUR9Lmpzb25cblx0Ly8gaHR0cHM6Ly9kLmFsaWNkbi5jb20vYWxpbG9nL3Z0L2ExejFkMV8xMjI3OTkxNC5qc29uXG5cdC8vIHZhciBIT1NUID0gJy8vZy5hbGljZG4uY29tL2FsaWxvZyc7XG5cdC8vIHZhciBIT1NUID0gJy8vZC5hbGljZG4uY29tL2FsaWxvZyc7XG5cdFxuXHQvLyBmdW5jdGlvbiBpc0RhaWx5ICgpIHtcblx0Ly8gICB2YXIgcnMgPSBmYWxzZTtcblx0Ly8gICBpZiAoYXBsdXMgJiYgYXBsdXMuYXBsdXNEZWJ1Zykge1xuXHQvLyAgICAgcmV0dXJuIHRydWU7XG5cdC8vICAgfVxuXHQvLyAgIHJldHVybiBycztcblx0Ly8gfVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBCYXNlLmV4dGVuZCh1dGlsRGFzaC5hc3NpZ24obWluaXZ0U3RvcmUsIHtcblx0XG5cdCAgcGF0aG5hbWU6ICcnLFxuXHRcblx0ICBwYWdlQ29uZmlnOiB7fSxcblx0XG5cdCAgb3JpZ2luU3BtOiB7XG5cdCAgICBzcG1BOiAnJyxcblx0ICAgIHNwbUI6ICcnXG5cdCAgfSxcblx0XG5cdCAgdXBkYXRlQ2ZnTHM6IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIF9zZWxmID0gdGhpcztcblx0ICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcblx0ICAgICAgX3NlbGYuZmV0Y2hGcm9tQ2RuKCk7XG5cdCAgICB9LDEwMDApO1xuXHQgIH0sXG5cdFxuXHQgIGZldGNoRnJvbUNkbjogZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIF9zZWxmID0gdGhpcztcblx0ICAgIHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKCdhcGx1cycpO1xuXHQgICAgdmFyIHBhdGggPSBhcGx1cy5nZXRNZXRhSW5mbygnYXBsdXMtdnQtY2ZnLXVybCcpO1xuXHQgICAgaWYgKCFwYXRoKSByZXR1cm47XG5cdCAgICB2YXIgX2JlZ2luTG9hZCA9IChuZXcgRGF0ZSkuZ2V0VGltZSgpO1xuXHQgICAgYXBsdXMucmVxdWVzdFZUQ29uZmlnKHBhdGgsIGZ1bmN0aW9uKHJlc3ApIHtcblx0ICAgICAgdmFyIGNmZ0RhdGEgPSByZXNwLmRhdGE7XG5cdCAgICAgIGFwbHVzLl9taW5pY2ZnX2xvYWQgPSAobmV3IERhdGUpLmdldFRpbWUoKSAtIF9iZWdpbkxvYWQ7XG5cdCAgICAgIGlmIChjZmdEYXRhKSB7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgIGFwbHVzLl9hcGx1c192dF9jZmcgPSB0eXBlb2YgY2ZnRGF0YSA9PT0gJ29iamVjdCcgPyBjZmdEYXRhIDogSlNPTi5wYXJzZShjZmdEYXRhKTtcblx0ICAgICAgICAgIGlmIChhcGx1cy5fYXBsdXNfdnRfY2ZnLnBvaW50cykge1xuXHQgICAgICAgICAgICBlYWNoKGFwbHVzLl9hcGx1c192dF9jZmcucG9pbnRzLCBmdW5jdGlvbiAodikge1xuXHQgICAgICAgICAgICAgIHYuc2VsZWN0b3IgPSBkZWNvZGVVUklDb21wb25lbnQodi5zZWxlY3Rvcik7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgX3NlbGYuc2V0Q29uZmlnSW50b0xzKGFwbHVzLl9hcGx1c192dF9jZmcpO1xuXHQgICAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICAgIGFwbHVzLl9hcGx1c192dF9jZmcgPSB7XG5cdCAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXG5cdCAgICAgICAgICB9O1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICB1dGlsR1EucHVzaEludG9Hb2xkbG9nUXVldWUoR09MRExPR19QVUJMSVNILCBbTUlOSV9WVF9DT05GSUdfQkFDSywge3BhZ2VDb25maWc6YXBsdXMuX2FwbHVzX3Z0X2NmZywgZW5hYmxlOiAwfV0pO1xuXHQgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICAgIGlmIChhcGx1cy5fYXBsdXNfdnRfY2ZnICYmIGFwbHVzLl9hcGx1c192dF9jZmcuZW5hYmxlZCkge1xuXHQgICAgICAgIHV0aWxHUS5wdXNoSW50b0dvbGRsb2dRdWV1ZShHT0xETE9HX1BVQkxJU0gsIFtNSU5JX1ZUX0NPTkZJR19CQUNLLCB7cGFnZUNvbmZpZzphcGx1cy5fYXBsdXNfdnRfY2ZnLCBlbmFibGU6IDB9XSk7ICBcblx0ICAgICAgfVxuXHQgICAgICB1dGlsQ2F0Y2guY2F0Y2hFeGNlcHRpb24oJ2dldFRyYWNrZXJDZmcnLCBlcnJvciwge1xuXHQgICAgICAgIG1zZzogcGF0aFxuXHQgICAgICB9KTtcblx0ICAgIH0sIHtcblx0ICAgICAgdGltZW91dDogNTAwMFxuXHQgICAgfSk7XG5cdCAgfSxcblx0XG5cdCAgZ2V0TWluaVZ0RGF0YTogZnVuY3Rpb24oY2RucGF0aCwgcHJlVXJsLCBmcm9tQ0ROKXtcblx0ICAgIHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKCdhcGx1cycpO1xuXHQgICAgYXBsdXMuX21pbmljZmdfbG9hZCA9IDA7XG5cdCAgICBpZiAoY2RucGF0aCkge1xuXHQgICAgICB2YXIgdnRDb25maWcgPSB0aGlzLmZldGNoRnJvbUxTKGNkbnBhdGgpO1xuXHQgICAgICBpZih0eXBlb2YgdnRDb25maWcgPT0gJ3N0cmluZycpIHtcblx0ICAgICAgICB0cnl7XG5cdCAgICAgICAgICB2dENvbmZpZyA9IEpTT04ucGFyc2UodnRDb25maWcpO1xuXHQgICAgICAgIH0gY2F0Y2goZSkge1xuXHQgICAgICAgICAgdnRDb25maWcgPSB7fTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmICh2dENvbmZpZyAmJiB2dENvbmZpZy5lbmFibGVkKSB7XG5cdCAgICAgICAgYXBsdXMuX2FwbHVzX3Z0X2NmZyA9IHZ0Q29uZmlnO1xuXHQgICAgICB9XG5cdCAgICAgIGlmKCAhZnJvbUNETikge1xuXHQgICAgICAgIHV0aWxHUS5wdXNoSW50b0dvbGRsb2dRdWV1ZShHT0xETE9HX1BVQkxJU0gsIFtNSU5JX1ZUX0NPTkZJR19CQUNLLCB7cGFnZUNvbmZpZzp2dENvbmZpZywgZW5hYmxlOiAwfV0pO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMuZmV0Y2hGcm9tQ2RuKGNkbnBhdGgsIHByZVVybCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LFxuXHRcblx0ICAvLyBodHRwczovL2QuYWxpY2RuLmNvbS9hbGlsb2cvdnRfZGFpbHkvYTF6MWQxXzEyMjc5OTE0Lmpzb25cblx0ICBzeW5jTWluaVZ0RGF0YTogZnVuY3Rpb24oKXtcblx0ICAgIC8vc3Vic2NyaWJlICB3cy5yZWFkeVxuXHQgICAgdmFyIGNkbnBhdGggPSB0aGlzLmdldFZ0Q29uZmlnUGF0aCgpO1xuXHQgICAgdGhpcy5nZXRNaW5pVnREYXRhKGNkbnBhdGgsICcnLCB0cnVlKTtcblx0ICB9LFxuXHRcblx0ICBpbml0OiBmdW5jdGlvbigpe1xuXHQgICAgdmFyIF9zZWxmID0gdGhpcztcblx0ICAgIFxuXHQgICAgdmFyIEdPTERMT0dfU1VCU0NSSUJFID0gYXBsdXNTdGF0aWMuU1VCU0NSSUJFO1xuXHQgICAgLy90aGlzIGV2ZW50IGZyb20gTFMgb3IgZnJvbSBXUyB0byBnZXQgY29uZmlnXG5cdCAgICB1dGlsR1EucHVzaEludG9Hb2xkbG9nUXVldWUoR09MRExPR19TVUJTQ1JJQkUsIFtNSU5JX1ZUX0NPTkZJR19CQUNLLCBmdW5jdGlvbiAob3JpRGF0YXMpIHtcblx0ICAgICAgaWYoIW9yaURhdGFzLmVuYWJsZSkge1xuXHQgICAgICAgIF9zZWxmLnBhZ2VDb25maWcgPSBvcmlEYXRhcy5wYWdlQ29uZmlnO1xuXHQgICAgICB9XG5cdCAgICAgIC8vdGhpcyBldmVudCB0byB1c2U7XG5cdCAgICAgIHV0aWxHUS5wdXNoSW50b0dvbGRsb2dRdWV1ZShHT0xETE9HX1BVQkxJU0gsIFtNSU5JX1ZUX0NPTkZJR19GT1JNQVQsIHtcblx0ICAgICAgICBwYWdlQ29uZmlnOiBfc2VsZi5wYWdlQ29uZmlnLFxuXHQgICAgICAgIG9yaWdpblNwbTogX3NlbGYub3JpZ2luU3BtXG5cdCAgICAgIH1dKTtcblx0ICAgICAgIW9yaURhdGFzLmVuYWJsZSAmJiBfc2VsZi5zZXRDb25maWdJbnRvTHMoX3NlbGYucGFnZUNvbmZpZyk7XG5cdCAgICB9XSk7XG5cdCAgICBfc2VsZi5zeW5jTWluaVZ0RGF0YSgpO1xuXHQgIH0sXG5cdFxuXHQgIHJ1bjogZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy5pbml0KCk7XG5cdCAgICByZXR1cm4gdGhpcztcblx0ICB9XG5cdH0pKTtcblxuXG4vKioqLyB9KSxcbi8qIDg5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogaXN0YW5idWwgaWdub3JlIGZpbGUgKi9cblx0LyoqXG5cdCAqIGFsaWxvZy9zL3NyYy9saWJfdS91dGlscy91dGlsQXR0cmlidXRlLmpzXG5cdCAqXG5cdCAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cblx0ICpcblx0ICogQXV0aG9yczpcblx0ICogICDosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuXHQgKi9cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIHV0aWxHUSA9IF9fd2VicGFja19yZXF1aXJlX18oNTgpO1xuXHRcblx0ZXhwb3J0cy5jYXRjaEV4Y2VwdGlvbiA9IGZ1bmN0aW9uIChmaWxlbmFtZSwgZXJyb3IpIHtcblx0ICB2YXIgbWVzc2FnZSA9IGZpbGVuYW1lO1xuXHQgIGlmICh0eXBlb2YgZXJyb3IgPT09ICdvYmplY3QnICYmIGVycm9yLm1lc3NhZ2UpIHtcblx0ICAgIG1lc3NhZ2UgPSBtZXNzYWdlICsgJ18nICsgZXJyb3IubWVzc2FnZTtcblx0ICB9XG5cdCAgdXRpbEdRLnB1c2hJbnRvR29sZGxvZ1F1ZXVlKCdhcGx1cy5fYXBsdXNfY3BsdWdpbl9tLmRvX3RyYWNrZXJfanNlcnJvcicsIFt7XG5cdCAgICBtZXNzYWdlOiBtZXNzYWdlLFxuXHQgICAgZXJyb3I6IEpTT04uc3RyaW5naWZ5KGVycm9yKSxcblx0ICAgIGZpbGVuYW1lOiBmaWxlbmFtZVxuXHQgIH1dKTtcblx0fTtcblxuLyoqKi8gfSksXG4vKiA5MCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIGlzdGFuYnVsIGlnbm9yZSBmaWxlICovXG5cdC8qKlxuXHQgKiBwcm9qZWN0IC0gZmlsZXBhdGhcblx0KiBkZXNjcmlwdGlvblxuXHQqXG5cdCogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuXHQqXG5cdCogQXV0aG9yczpcblx0KiAgIEFhcm9uIHwg6ZKw5pitIDxjaGFuZ2xpYW5nLmxjbEB1bWVuZy5jb20+XG5cdCovXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciB1dGlsR29sZGxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdC8vIHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKCdhcGx1cycpO1xuXHR2YXIgbWluaSA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdHZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIGxzTWluaXZ0Q29uZmlnS2V5OiAnQVBMVVNfTUlOSV9DT05GSUcnLFxuXHRcblx0ICAvKipcblx0ICAgKiDlhazlhbHmqKHmnb/lnLrmma/vvIzlpoLmnpx0dXJub249PT0nMScg5ouJ5Y+WdmFsdWXlhoXnmoTlhoXlrrlcblx0ICAgKiBtZXRhSW5mbzoge1xuXHQgICAqICAnYXBsdXMtdHJhY2stY29uZmlnLWlkJzoge1xuXHQgICAqICAgICd2YWx1ZSc6ICdwYUN3WmxHMld2N2xsaGhtJyxcblx0ICAgKiAgICAndHVybm9uJzogJzAnIG9yICcxJyAgIFxuXHQgICAqICB9XG5cdCAgICogfVxuXHQgICAqL1xuXHQgIGdldE1pbmlWdFRwbENkblBhdGg6IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoJ2FwbHVzJyk7XG5cdCAgICB2YXIgYXBsdXNUcmFja0NvbmZpZ0lkSW5mbyA9IGFwbHVzLmdldE1ldGFJbmZvKCdhcGx1cy10cmFjay1jb25maWctaWQnKTtcblx0ICAgIHZhciB0dXJub24gPSBhcGx1c1RyYWNrQ29uZmlnSWRJbmZvICYmIGFwbHVzVHJhY2tDb25maWdJZEluZm8udHVybm9uO1xuXHQgICAgdmFyIHZhbHVlID0gYXBsdXNUcmFja0NvbmZpZ0lkSW5mbyAmJiBhcGx1c1RyYWNrQ29uZmlnSWRJbmZvLnZhbHVlO1xuXHQgICAgaWYgKHR1cm5vbiA9PT0gJzEnICYmIHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiB2YWx1ZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiAnJztcblx0ICB9LFxuXHRcblx0ICBnZXRWdENvbmZpZ1BhdGg6IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIHRlbXBsYXRlVmFsID0gdGhpcy5nZXRNaW5pVnRUcGxDZG5QYXRoKCk7XG5cdCAgICB2YXIgc3BtQUIgPSBbXTtcblx0ICAgIHZhciBzcG1JZDtcblx0ICAgIHZhciBhcHBrZXkgPSB1dGlsLmdldEFwcEtleSgpO1xuXHQgICAgaWYgKGFwcGtleSkge1xuXHQgICAgICBzcG1JZCA9IGFwcGtleTtcblx0ICAgIH1cblx0ICAgIFxuXHQgICAgaWYgKHNwbUlkKSB7XG5cdCAgICAgIHNwbUFCID0gc3BtSWQuc3BsaXQoJy4nKTtcblx0ICAgIH0gXG5cdCAgICAvLyByZW1vdmUgZWxzZSBsb2dpYyBpbnNpZGUgd2VidnRTdG9yZSwgYmVjYXVzZSBtaW5pX2Nsb3VkIGRvbnQgc3VwcG9ydCBzcG1cblx0ICAgIGlmIChzcG1BQi5sZW5ndGggPT09IDIpIHtcblx0ICAgICAgdGhpcy5vcmlnaW5TcG0gPSB7XG5cdCAgICAgICAgc3BtQTogc3BtQUJbMF0sXG5cdCAgICAgICAgc3BtQjogc3BtQUJbMV1cblx0ICAgICAgfTtcblx0ICAgIH0gZWxzZSBpZiAoc3BtQUIubGVuZ3RoID09PSAxKSB7XG5cdCAgICAgIHRoaXMub3JpZ2luU3BtLnNwbUEgPSBzcG1BQlswXTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAodGVtcGxhdGVWYWwpIHtcblx0ICAgICAgcmV0dXJuIHRlbXBsYXRlVmFsO1xuXHQgICAgfVxuXHQgICAgaWYgKHNwbUFCLmxlbmd0aCA9PT0gMikge1xuXHQgICAgICByZXR1cm4gc3BtQUIuam9pbignXycpO1xuXHQgICAgfSBlbHNlIGlmIChzcG1BQi5sZW5ndGggPT09IDEpIHtcblx0ICAgICAgcmV0dXJuIHNwbUFCWzBdO1xuXHQgICAgfVxuXHQgIH0sXG5cdFxuXHQgIGZldGNoRnJvbUxTOiBmdW5jdGlvbiAoY2RucGF0aCkge1xuXHQgICAgaWYgKCF0aGlzLmNkbnBhdGgpIHtcblx0ICAgICAgdGhpcy5jZG5wYXRoID0gY2RucGF0aCB8fCB0aGlzLmdldE1pbmlWdFRwbENkblBhdGgoKTtcblx0ICAgIH1cblx0ICAgIHZhciBjdHggPSBtaW5pLmdldENvbnRleHQoKTtcblx0ICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoY3R4LmdldFN0b3JhZ2VTeW5jKHRoaXMubHNNaW5pdnRDb25maWdLZXkgKyAnLScgKyBjZG5wYXRoKSkgfHwge307XG5cdCAgfSxcblx0XG5cdCAgc2V0Q29uZmlnSW50b0xzOiBmdW5jdGlvbihjb25maWcpIHtcblx0ICAgIGlmICghdGhpcy5jZG5wYXRoKSB7XG5cdCAgICAgIHRoaXMuY2RucGF0aCA9IHRoaXMuZ2V0VnRDb25maWdQYXRoKCk7XG5cdCAgICB9XG5cdCAgICB2YXIgY3R4ID0gbWluaS5nZXRDb250ZXh0KCk7XG5cdCAgICBjdHguc2V0U3RvcmFnZVN5bmModGhpcy5sc01pbml2dENvbmZpZ0tleSArICctJyArIHRoaXMuY2RucGF0aCwgZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNvbmZpZykpKTtcblx0ICAgIC8vIHV0aWxTdG9yZS5zZXQodGhpcy5sc01pbml2dENvbmZpZ0tleSArICctJyArIHRoaXMuY2RucGF0aCwgZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNvbmZpZykpKTtcblx0ICB9XG5cdFxuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDkxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Lypcblx0ICogRmlsZTogdXRpbFZULmpzXG5cdCAqIOWPr+inhuWMlumFjee9riDop6PmnpDphY3nva7kv6Hmga/kuLroh6rliqjngrnlh7vjgIHoh6rliqjmm53lhYnjgIHoh6rliqhwduWFrOWFseWHveaVsFxuXHQgKiBQcm9qZWN0OiBAYWxpL2FwbHVzXG5cdCAqICAgICAgXG5cdCAqIEF1dGhvcjog6ZKw5pitIChjaGFuZ2xpYW5nLmxjbEB1bWVuZy5jb20pXG5cdCAqICAgICAgXG5cdCAqIENvcHlyaWdodCAtIDIwMjEgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG5cdCAqL1xuXHRcblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgbWluaSA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdHZhciB1dGlsR29sZGxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdHZhciBlYWNoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG5cdHZhciBpc0FycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG5cdHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKCdhcGx1cycpO1xuXHR2YXIgUGFnZU1hbmFnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblx0XG5cdGV4cG9ydHMuZ2V0Q3VycmVudFBhZ2VWVENmZyA9IGZ1bmN0aW9uKCkge1xuXHQgIHZhciB2dENmZyA9IGFwbHVzLl9hcGx1c192dF9jZmc7XG5cdCAgaWYgKCF2dENmZykge1xuXHQgICAgcmV0dXJuO1xuXHQgIH1cblx0ICB2YXIgcGF0aCA9IFBhZ2VNYW5hZ2VyLmdldEN1cnJlbnRQYWdlUGF0aCgpO1xuXHRcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IHZ0Q2ZnLnBhZ2VzLmxlbmd0aDsgaSsrICl7XG5cdCAgICB2YXIgcGFnZUNvbmZpZyA9IHZ0Q2ZnLnBhZ2VzW2ldO1xuXHQgICAgaWYgKHBhZ2VDb25maWcubWF0Y2hVcmwgPT09IHBhdGgpIHtcblx0ICAgICAgcmV0dXJuIHBhZ2VDb25maWc7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICByZXR1cm47XG5cdH07XG5cdFxuXHRcblx0XG5cdGZ1bmN0aW9uIGNvbXBsZW1lbnRBcnJheShvcmksIHRhcmdldCwga2V5KSB7XG5cdCAgdmFyIHJlc3VsdCA9IFtdO1xuXHQgIGlmICghaXNBcnJheSh0YXJnZXQpKSB7XG5cdCAgICByZXR1cm4gcmVzdWx0O1xuXHQgIH1cblx0ICBpZiAob3JpICYmIHRhcmdldCAmJiBpc0FycmF5KG9yaSkgJiYgaXNBcnJheSh0YXJnZXQpKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRhcmdldC5sZW5ndGg7IGkrKykge1xuXHQgICAgICBpZiAoIW9yaS5zb21lKGZ1bmN0aW9uKGEpIHtcblx0ICAgICAgICByZXR1cm4gYVtrZXldID09PSB0YXJnZXRbaV1ba2V5XTtcblx0ICAgICAgfSkpIHtcblx0ICAgICAgICByZXN1bHQucHVzaCh0YXJnZXRbaV0pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiByZXN1bHQ7XG5cdH07XG5cdFxuXHRleHBvcnRzLnZ0MmF1dG9FdmVudCA9IGZ1bmN0aW9uKCkge1xuXHQgIHZhciB2dF9jZmcgPSBhcGx1cy5fYXBsdXNfdnRfY2ZnO1xuXHQgIGlmICghdnRfY2ZnKSByZXR1cm47XG5cdCAgdmFyIHBhZ2VJbnN0YW5jZSA9IG1pbmkuZ2V0Q3VycmVudFBhZ2UoKTtcblx0ICB2YXIgY3VycmVudFBhZ2UgPSBwYWdlSW5zdGFuY2Uucm91dGUgfHwgcGFnZUluc3RhbmNlLmlzO1xuXHQgIGVhY2godnRfY2ZnLnBhZ2VzLCBmdW5jdGlvbihwYykge1xuXHQgICAgYXBsdXMuc2V0UGFnZU5hbWUoeyBwYWdlTmFtZTogcGMuc3BtQiwgZXh0cmFQYXJhbXM6IHBjLmV4dHJhUGFyYW1zIH0sIHBjLm1hdGNoVXJsKTtcblx0ICAgIGlmIChwYy5tYXRjaFVybCA9PT0gY3VycmVudFBhZ2UpIHtcblx0ICAgICAgdmFyIGF1dG9fZXhwX2FyciA9IFtdLCBhdXRvX2Nsa19hcnIgPSBbXTtcblx0ICAgICAgZWFjaCh2dF9jZmcucG9pbnRzLCBmdW5jdGlvbihwKXtcblx0ICAgICAgICBpZiAocGMuc3BtQiA9PT0gcC5zcG1CKSB7XG5cdCAgICAgICAgICBpZiAocC50cmFja2VyVHlwZSA9PT0gXCJleHBvc3VyZVwiKSB7IFxuXHQgICAgICAgICAgICBhdXRvX2V4cF9hcnIucHVzaCh7XG5cdCAgICAgICAgICAgICAgJ2Nzc1NlbGVjdG9yJzogcC5zZWxlY3Rvcixcblx0ICAgICAgICAgICAgICAnbG9na2V5JzogcC5sb2drZXksXG5cdCAgICAgICAgICAgICAgJ3Byb3BzJzogcC5zZWxlY3RvclR5cGUsXG5cdCAgICAgICAgICAgICAgJ3NwbUMnOiBwLnNwbUMsXG5cdCAgICAgICAgICAgICAgJ3NwbUQnOiBwLnNwbUQsXG5cdCAgICAgICAgICAgICAgJ2N1c3RvbUFyZ3MnOiBwLmN1c3RvbUFyZ3MsXG5cdCAgICAgICAgICAgICAgJ192dCc6IHBjLnRlbXBsYXRlIHx8IHBjLnN0ZElkID8gMiA6IDFcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBhdXRvX2Nsa19hcnIucHVzaCh7XG5cdCAgICAgICAgICAgICAgJ2Nzc1NlbGVjdG9yJzogcC5zZWxlY3Rvcixcblx0ICAgICAgICAgICAgICAnbG9na2V5JzogcC5sb2drZXksXG5cdCAgICAgICAgICAgICAgJ3Byb3BzJzogcC5zZWxlY3RvclR5cGUsIFxuXHQgICAgICAgICAgICAgICdzcG1DJzogcC5zcG1DLFxuXHQgICAgICAgICAgICAgICdzcG1EJzogcC5zcG1ELFxuXHQgICAgICAgICAgICAgICdjdXN0b21BcmdzJzogcC5jdXN0b21BcmdzLFxuXHQgICAgICAgICAgICAgICdfdnQnOiBwYy50ZW1wbGF0ZSB8fCBwYy5zdGRJZCA/IDIgOiAxXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICAgIHZhciBvcmlfYXV0b19leHBfYXJyID0gYXBsdXMuZ2V0TWV0YUluZm8oXCJhcGx1cy1hdXRvLWV4cFwiKSB8fCBbXTtcblx0ICAgICAgdmFyIG9yaV9hdXRvX2Nsa19hciA9IGFwbHVzLmdldE1ldGFJbmZvKFwiYXBsdXMtYXV0by1jbGtcIikgfHwgW107XG5cdCAgICAgIHZhciB0YXJnZXRfZXhwX2FyciA9IGNvbXBsZW1lbnRBcnJheShvcmlfYXV0b19leHBfYXJyLCBhdXRvX2V4cF9hcnIsICdjc3NTZWxlY3RvcicpO1xuXHQgICAgICB2YXIgdGFyZ2V0X2Nsa19hcnIgPSBjb21wbGVtZW50QXJyYXkob3JpX2F1dG9fY2xrX2FyLCBhdXRvX2Nsa19hcnIsICdjc3NTZWxlY3RvcicpO1xuXHQgICAgICBpZiAodGFyZ2V0X2V4cF9hcnIubGVuZ3RoID4gMCkge1xuXHQgICAgICAgIGFwbHVzLmFwcGVuZE1ldGFJbmZvKCdhcGx1cy1hdXRvLWV4cCcsIHRhcmdldF9leHBfYXJyKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKHRhcmdldF9jbGtfYXJyLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICBhcGx1cy5hcHBlbmRNZXRhSW5mbygnYXBsdXMtYXV0by1jbGsnLCB0YXJnZXRfY2xrX2Fycik7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9KTtcblx0fTtcblx0XG5cblxuLyoqKi8gfSksXG4vKiA5MiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIGlzdGFuYnVsIGlnbm9yZSBmaWxlICovXG5cdC8qKlxuXHQgKiBhcGx1c19taW5pX2Jhc2ljXG5cdCAqIOWwj+eoi+W6j+aooeWdl+WMlueahGFwbHVzSnPlhaXlj6Ncblx0ICpcblx0ICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuXHQgKlxuXHQgKiBBdXRob3JzOlxuXHQgKiAgIOm+mempuSA8Y2hlbmdwaW5nLnJjcEBhbGliYWJhLWluYy5jb20+XG5cdCAqL1xuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcHBDb25maWcsYXBsdXNfY29uZmlnKSB7XG5cdCAgdmFyIHV0aWxHb2xkbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0ICAvLyByZXF1aXJlKCdAdXRpbHMvZGVidWcnKS5pc0RlYnVnQXBsdXModHJ1ZSk7XG5cdFxuXHQgIHZhciB1dGlsUHVic3ViID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7XG5cdCAgLy8gdmFyIHV0aWxMb2dnZXIgPSByZXF1aXJlKCdAdXRpbHMvdXRpbExvZ2dlcicpO1xuXHQgIHZhciB1bG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdCAgdmFyIGVhY2ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTtcblx0ICB2YXIgbWluaSA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdCAgdmFyIGFwbHVzaW5pdCA9IF9fd2VicGFja19yZXF1aXJlX18oOTMpO1xuXHQgIG1pbmkuaW5pdElzVEIoKTtcblx0XG5cdCAgaWYgKHR5cGVvZiBhcHBDb25maWcgPT09ICdvYmplY3QnKSB7XG5cdCAgICBpZiAoYXBwQ29uZmlnLnNpdGVJZCkge1xuXHQgICAgICBhcGx1c19jb25maWcuZ2xvYmFsQ29uZmlnLnNpdGVJZCA9IGFwcENvbmZpZy5zaXRlSWQ7XG5cdCAgICB9XG5cdCAgICBhcGx1c19jb25maWcubWV0YUluZm8gPSBPYmplY3QuYXNzaWduKHt9LCBhcGx1c19jb25maWcubWV0YUluZm8sIGFwcENvbmZpZy5tZXRhSW5mbyk7XG5cdCAgfVxuXHRcblx0ICB2YXIgUlVOTklORyA9ICdydW5uaW5nJztcblx0ICB2YXIgQ09NUExFVEUgPSAnY29tcGxldGUnO1xuXHQgIHZhciBhcGx1c1N0YXR1cyA9IFsnYXBsdXNSZWFkeScsIFJVTk5JTkddO1xuXHRcblx0ICB1dGlsUHVic3ViLmRvUHViTXNnKGFwbHVzU3RhdHVzKTtcblx0XG5cdCAgYXBsdXNpbml0LnJ1bih7XG5cdCAgICBwbHVnaW5zOiBhcGx1c19jb25maWcucGx1Z2lucyxcblx0ICAgIGNvbnRleHQ6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdmFyIGNvbmZpZ19wdl9jb250ZXh0ID0ge1xuXHQgICAgICAgIFBBR0VfTE9BRF9USU1FOiBuZXcgRGF0ZSgpXG5cdCAgICAgIH07XG5cdCAgICAgIHZhciBQTFVHSU5TX1BWID0gW107XG5cdCAgICAgIGVhY2goYXBsdXNfY29uZmlnLnBsdWdpbnMsIGZ1bmN0aW9uICh2KSB7XG5cdCAgICAgICAgY29uZmlnX3B2X2NvbnRleHRbdi5uYW1lXSA9IHYuY29uZmlnO1xuXHQgICAgICAgIGlmICh2Lm5hbWUgPT09ICdhcGx1c19sb2dfaW5qZWN0JyAmJiB2LmNvbmZpZyAmJiB2LmNvbmZpZy5wbHVnaW5zKSB7XG5cdCAgICAgICAgICBQTFVHSU5TX1BWID0gdi5jb25maWcucGx1Z2lucy5wdjtcblx0ICAgICAgICAgIGVhY2goUExVR0lOU19QViwgZnVuY3Rpb24gKHYpIHtcblx0ICAgICAgICAgICAgY29uZmlnX3B2X2NvbnRleHRbdi5uYW1lXSA9IHYuY29uZmlnO1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGNvbmZpZ19wdl9jb250ZXh0LCB7XG5cdCAgICAgICAgYXBsdXNfY29uZmlnOiBhcGx1c19jb25maWdcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwgZnVuY3Rpb24gKCkge1xuXHQgICAgdWxvZygpLncoJ0FQTFVTIElOSVQgU1VDQ0VTUycpO1xuXHQgICAgLy8gYXBsdXPlh4blpIflpb3kuobvvIzliIblj5HkuIDkuKpyZWFkeeS6i+S7tlxuXHQgICAgYXBsdXNTdGF0dXNbMV0gPSBDT01QTEVURTtcblx0ICAgIHV0aWxQdWJzdWIuZG9QdWJNc2coYXBsdXNTdGF0dXMpO1xuXHQgIH0pO1xuXHRcblx0ICAvLyByZXR1cm4gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoYXBsdXNfY29uZmlnLmdsb2JhbENvbmZpZy5BUExVU19RVUVVRSk7XG5cdCAgcmV0dXJuIHV0aWxHb2xkbG9nLmdldENvbnRleHQoKTtcblx0fTtcblx0XG5cblxuLyoqKi8gfSksXG4vKiA5MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiBwcm9qZWN0IC0gZmlsZXBhdGhcblx0ICogYXBsdXMgQVBJXG5cdCAqXG5cdCAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cblx0ICpcblx0ICogQXV0aG9yczpcblx0ICogICDosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuXHQgKi9cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIFJlZHVjZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc5KTtcblx0dmFyIGlzRnVuY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHR2YXIgdXRpbFB1YnN1YiA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xuXHRcblx0LyoqXG5cdCAqIOWwhuWQjue7reeahGluaXTliqjkvZzpg73lgZrmiJDmj5Lku7bvvIznm67liY3lj6rmnIl3aGVyZV90b19zZW5kcHbkuIDpoblcblx0ICpcblx0ICogQHBhcmFtcyB7T2JqZWN0fSBvcHRzIHtcblx0ICogICBwbHVnaW5zXG5cdCAqICAgY29udGV4dFxuXHQgKiB9XG5cdCAqIEBwYXJhbXMge0Z1bmN0aW9ufSBjYWxsYmFja1xuXHQgKlxuXHQgKi9cblx0ZXhwb3J0cy5ydW4gPSBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcblx0ICB2YXIgcmVkdWNlciA9IG5ldyBSZWR1Y2VyKCk7XG5cdCAgcmVkdWNlci5ydW4oe1xuXHQgICAgcGx1Z2luczogb3B0cy5wbHVnaW5zLFxuXHQgICAgY29udGV4dDogb3B0cy5jb250ZXh0XG5cdCAgfSwge1xuXHQgICAgY29uZmlnOiB7fSxcblx0ICAgIHVzZXJkYXRhOiB7fSxcblx0ICAgIHB1YnN1YlR5cGU6ICdhcGx1c2luaXQnLFxuXHQgICAgbWVzc2FnZUZuUXVldWU6IFtdLFxuXHQgICAgbWlkZGxld2FyZU1lc3NhZ2VLZXk6ICdtd19jaGFuZ2VfYXBsdXNpbml0J1xuXHQgIH0sIGZ1bmN0aW9uIChjdHgpIHtcblx0ICAgIHZhciBtc2dzID0gWydhcGx1c0luaXRDb250ZXh0JywgY3R4XTtcblx0ICAgIHV0aWxQdWJzdWIuZG9QdWJNc2cobXNncyk7XG5cdCAgICB1dGlsUHVic3ViLmRvQ2FjaGVQdWJzKG1zZ3MpO1xuXHQgICAgaWYgKGlzRnVuY3Rpb24oY2FsbGJhY2spKSB7XG5cdCAgICAgIGNhbGxiYWNrKGN0eCk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdH07XG5cblxuLyoqKi8gfSlcbi8qKioqKiovIF0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBhcGx1c19taW5pX2Nsb3VkX3VtLmpzIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGlkOiBtb2R1bGVJZCxcbiBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgYTZiZDk0ZmUyZmQ0M2QyOTE3NzUiLCIvKiBpc3RhbmJ1bCBpZ25vcmUgZmlsZSAqL1xuLyoqXG4gKiBhcGx1c19taW5pX2Nsb3VkLmpzXG4gKiDkupHkuIrlsI/nqIvluo/mqKHlnZfljJbnmoRhcGx1c0pz5YWl5Y+jXG4gKlxuICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuICpcbiAqIEF1dGhvcnM6XG4gKiAgIOm+mempuSA8Y2hlbmdwaW5nLnJjcEBhbGliYWJhLWluYy5jb20+XG4gKi9cbid1c2Ugc3RyaWN0JztcbnJlcXVpcmUoJ0B1dGlscy91dGlsR29sZGxvZycpLmluaXRHbG9iYWwoKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFwcENvbmZpZykge1xuICB2YXIgYXBsdXNfY29uZmlnID0gcmVxdWlyZSgnLi9hcGx1c19taW5pX2Nsb3VkX3VtX2NvbmZpZycpOyBcbiAgcmV0dXJuIHJlcXVpcmUoJy4vYXBsdXNfbWluaV9iYXNpYycpKGFwcENvbmZpZyxhcGx1c19jb25maWcpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2FwbHVzX21pbmlfY2xvdWRfdW0uanNcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBwcm9qZWN0IC0gZmlsZXBhdGhcbiAqIOaTjeS9nGFwbHVz55qE5bel5YW357G7XG4gKlxuICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuICpcbiAqIEF1dGhvcnM6XG4gKiAgIOiwi+WjqyA8cWluZ2xpYW5nLmhxbEBhbGliYWJhLWluYy5jb20+XG4gKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIGFwbHVzU3RhdGljID0gcmVxdWlyZSgnQHV0aWxzL2FwbHVzU3RhdGljJyk7XG5cbnZhciBBUExVUyA9IGFwbHVzU3RhdGljLkFQTFVTO1xudmFyIEFQTFVTX1FVRVVFID0gYXBsdXNTdGF0aWMuQVBMVVNfUVVFVUU7XG5cbnZhciBHT0xETE9HID0gYXBsdXNTdGF0aWMuR09MRExPRztcbnZhciBHT0xETE9HX1FVRVVFID0gYXBsdXNTdGF0aWMuR09MRExPR19RVUVVRTtcblxudmFyIF9hcGx1c19jb250ZXh0O1xudmFyIGlzV2ViID0gZmFsc2U7XG50cnkge1xuICBfYXBsdXNfY29udGV4dCA9IHdpbmRvdztcbiAgaXNXZWIgPSB0cnVlO1xufSBjYXRjaCAoZSkge1xuICBfYXBsdXNfY29udGV4dCA9IHt9O1xufVxuXG5leHBvcnRzLmdldENvbnRleHQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBfYXBsdXNfY29udGV4dDtcbn07XG5cbmV4cG9ydHMuaW5pdEdsb2JhbCA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0KSB7XG4gICAgX2FwbHVzX2NvbnRleHQgPSBjb250ZXh0O1xuICB9IGVsc2Uge1xuICAgIF9hcGx1c19jb250ZXh0ID0ge1xuICAgICAgdjogMSxcbiAgICAgIGFwbHVzOiB7fSxcbiAgICAgIGFwbHVzX3F1ZXVlOiBbXVxuICAgIH07XG4gIH1cbiAgdmFyIF9hcGx1c0RlZmF1bHRWYWx1ZTtcbiAgdmFyIF9hcGx1c1F1ZXVlRGVmYXVsdFZhbHVlO1xuICBpZiAoaXNXZWIpIHtcbiAgICB0cnkge1xuICAgICAgX2FwbHVzRGVmYXVsdFZhbHVlID0gKF9hcGx1c19jb250ZXh0LmFwbHVzIHx8IChfYXBsdXNfY29udGV4dC5hcGx1cyA9IHt9KSk7XG4gICAgICB2YXIgX2dvbGRsb2dfcXVldWUgPSAoX2FwbHVzX2NvbnRleHQuZ29sZGxvZ19xdWV1ZSB8fCAoX2FwbHVzX2NvbnRleHQuZ29sZGxvZ19xdWV1ZSA9IFtdKSk7XG4gICAgICBfYXBsdXNRdWV1ZURlZmF1bHRWYWx1ZSA9IChfYXBsdXNfY29udGV4dC5hcGx1c19xdWV1ZSB8fCAoX2FwbHVzX2NvbnRleHQuYXBsdXNfcXVldWUgPSBbXSkpO1xuICAgICAgX2FwbHVzUXVldWVEZWZhdWx0VmFsdWUgPSBfZ29sZGxvZ19xdWV1ZS5jb25jYXQoX2FwbHVzUXVldWVEZWZhdWx0VmFsdWUpOyAgXG4gICAgfSBjYXRjaCAoZSkge31cbiAgfSBlbHNlIHtcbiAgICBfYXBsdXNEZWZhdWx0VmFsdWUgPSBfYXBsdXNfY29udGV4dC5hcGx1cztcbiAgICBfYXBsdXNRdWV1ZURlZmF1bHRWYWx1ZSA9IF9hcGx1c19jb250ZXh0LmFwbHVzX3F1ZXVlO1xuICB9XG4gIFxuICBfYXBsdXNfY29udGV4dC5hcGx1cyA9IF9hcGx1c19jb250ZXh0LmdvbGRsb2cgPSBfYXBsdXNEZWZhdWx0VmFsdWU7XG4gIF9hcGx1c19jb250ZXh0LmFwbHVzX3F1ZXVlID0gX2FwbHVzX2NvbnRleHQuZ29sZGxvZ19xdWV1ZSA9IF9hcGx1c1F1ZXVlRGVmYXVsdFZhbHVlO1xuICBcbiAgcmV0dXJuIF9hcGx1c19jb250ZXh0O1xufTtcblxudmFyIGdldEdsb2JhbFZhbHVlID0gZnVuY3Rpb24gKGtleSkge1xuICBpZiAoa2V5ID09PSBBUExVUyB8fCBrZXkgPT09IEdPTERMT0cpIHtcbiAgICB2YXIgZyA9IF9hcGx1c19jb250ZXh0W0FQTFVTXSB8fCBfYXBsdXNfY29udGV4dFtHT0xETE9HXTtcbiAgICBpZiAoIWcpIHtcbiAgICAgIGcgPSBfYXBsdXNfY29udGV4dFtBUExVU10gPSBfYXBsdXNfY29udGV4dFtHT0xETE9HXSA9IHt9O1xuICAgIH1cbiAgICByZXR1cm4gZztcbiAgfVxuICB2YXIgZ29sZGxvZ19xdWV1ZSA9IEdPTERMT0dfUVVFVUU7XG4gIHZhciBhcGx1c19xdWV1ZSA9IEFQTFVTX1FVRVVFO1xuICBpZiAoa2V5ID09PSBhcGx1c19xdWV1ZSB8fCBrZXkgPT09IGdvbGRsb2dfcXVldWUpIHtcbiAgICB2YXIgcSA9IF9hcGx1c19jb250ZXh0W2FwbHVzX3F1ZXVlXSB8fCBfYXBsdXNfY29udGV4dFtnb2xkbG9nX3F1ZXVlXTtcbiAgICBpZiAoIXEpIHtcbiAgICAgIHEgPSBfYXBsdXNfY29udGV4dFthcGx1c19xdWV1ZV0gPSBfYXBsdXNfY29udGV4dFtnb2xkbG9nX3F1ZXVlXSA9IFtdO1xuICAgIH1cbiAgICByZXR1cm4gcTtcbiAgfVxufTtcbmV4cG9ydHMuZ2V0R2xvYmFsVmFsdWUgPSBnZXRHbG9iYWxWYWx1ZTtcblxuZXhwb3J0cy5zZXRHbG9iYWxWYWx1ZSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gIF9hcGx1c19jb250ZXh0W2tleV0gPSB2YWx1ZTtcbn07XG5cbi8qKlxuICog6I635Y+WYXBsdXPlhoXpg6jlj5jph49cbiAqIEBwYXJhbXMgW1N0cmluZ10ga2V5XG4gKiBAcmV0dXJuIFtPYmplY3R8U3RyaW5nfE51bWJlcnxCb29sZWFuXVxuICovXG52YXIgZ2V0R29sZGxvZ1ZhbCA9IGZ1bmN0aW9uKGtleSkge1xuICB2YXIgdjtcbiAgdHJ5IHtcbiAgICB2YXIgYXBsdXMgPSBnZXRHbG9iYWxWYWx1ZShBUExVUyk7XG4gICAgdiA9IGFwbHVzW2tleV07XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB2ID0gJyc7XG4gIH0gZmluYWxseSB7XG4gICAgcmV0dXJuIHY7XG4gIH1cbn07XG5leHBvcnRzLmdldEdvbGRsb2dWYWwgPSBnZXRHb2xkbG9nVmFsO1xuLyoqXG4gKiDorr7nva5hcGx1c+WGhemDqOWPmOmHj1xuICogQHBhcmFtcyBbU3RyaW5nXSBrZXlcbiAqIEBwYXJhbXMgW09iamVjdHxTdHJpbmd8TnVtYmVyfEJvb2xlYW5dIHZhbFxuICogQHJldHVybiBbQm9vbGVhbl1cbiAqL1xudmFyIHNldEdvbGRsb2dWYWwgPSBmdW5jdGlvbihrZXksIHZhbCkge1xuICB2YXIgZiA9IGZhbHNlO1xuICB0cnkge1xuICAgIHZhciBhcGx1cyA9IGdldEdsb2JhbFZhbHVlKEFQTFVTKTtcbiAgICBpZiAoa2V5KSB7XG4gICAgICBhcGx1c1trZXldID0gdmFsO1xuICAgICAgZiA9IHRydWU7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgZiA9IGZhbHNlO1xuICB9IGZpbmFsbHkge1xuICAgIHJldHVybiBmO1xuICB9XG59O1xuZXhwb3J0cy5zZXRHb2xkbG9nVmFsID0gc2V0R29sZGxvZ1ZhbDtcblxuLyoqXG4gKiDojrflj5ZjbGllbnRJbmZvKOa1j+iniOWZqOOAgeiuvuWkh+etieS/oeaBrylcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqICAgdmVyc2lvbjogMixcbiAqICAgdWFfaW5mbzoge1xuICogICAgIGI6IFwiY2hyb21lNThcIlxuICogICAgIGlzbTogXCJtYWNcIlxuICogICAgIG14OiBcIjM2MGVlXCJcbiAqICAgICBvOiBcIm1hY1wiXG4gKiAgICAgcDogMVxuICogICAgIHM6IFwiMTkyMHgxMDgwXCJcbiAqICAgICB3OiBcIndlYmtpdFwiXG4gKiAgIH1cbiAqIH1cbiAqL1xuZXhwb3J0cy5nZXRDbGllbnRJbmZvID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBnZXRHb2xkbG9nVmFsKCdfYXBsdXNfY2xpZW50JykgfHwge307XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvbGliX3UvdXRpbHMvdXRpbEdvbGRsb2cuanNcbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIEFQTFVTID0gJ2FwbHVzJztcbnZhciBHT0xETE9HID0gJ2dvbGRsb2cnO1xudmFyIEFQTFVTX1FVRVVFID0gQVBMVVMgKyAnX3F1ZXVlJztcbnZhciBHT0xETE9HX1FVRVVFID0gR09MRExPRyArICdfcXVldWUnO1xudmFyIE1XX0NIQU5HRSA9ICdtd19jaGFuZ2UnO1xudmFyIE1FVEFfSU5GTyA9ICdNZXRhSW5mbyc7XG52YXIgQVBQRU5EX01FVEFfSU5GTyA9ICdhcHBlbmQnICsgTUVUQV9JTkZPO1xudmFyIFNFVF9NRVRBX0lORk8gPSAnc2V0JyArIE1FVEFfSU5GTztcbnZhciBIVFRQID0gJ2h0dHAnO1xudmFyIF9wdWJzdWIgPSAnX3B1YnN1Yic7XG5cbnZhciBkZWZhdWx0Q29kZSA9ICdvdGhlcic7XG52YXIgQ0xLID0gJzIxMDEnO1xudmFyIEVYUCA9ICcyMjAxJztcbnZhciBJTVBFWFAgPSAnMjIwMic7XG52YXIgT1RIRVIgPSAnMTk5OTknO1xudmFyIEFQUF9TSE9XID0gJzEwMjMnO1xudmFyIEFQUF9ISURFX09SX1VOTE9BRCA9ICcxMDEwJzsgXG52YXIgU0VTU0lPTl9JTlRFUlZBTCA9IDMwMDAwOyAvLyBzZXNzaW9uSWTov4fmnJ/ml7bpl7QgMzDnp5JcbnZhciBTSEFSRV9DQUNIRV9JTlRFUlZBTCA9IDEwMDAgKiA2MCAqIDMwO1xudmFyIEVLVlMgPSAnZWt2cyc7XG52YXIgRVZFTlRfTUFYX0NPVU5UID0gMTAwMDA7IC8vIOacrOWcsOacgOWkmuWtmOWCqOi/meS5iOWkmmVrduaVsOaNrlxudmFyIE1FTU9SWV9NQVhfQ09VTlQgPSAxOyAvLyDlhoXlrZjkuK3lrZjlgqjnmoTmnIDlpKfmlbDmja7mlbDph4/vvIzotoXov4fliJnnvJPlrZjliLDmnKzlnLBcbnZhciBFVkVOVF9TRU5EX0RFRkFVTFRfSU5URVJWQUwgPSAzMDAwOyAvLyBla3bpu5jorqTlj5HpgIHpl7TpmpTml7bpl7Q6IDPnp5JcbnZhciBQQUdFX1NUQVJUID0gJyQkX3BhZ2Vfc3RhcnQnO1xudmFyIFBBR0VfRU5EID0gJyQkX3BhZ2VfZW5kJztcbnZhciBBUFBfU1RBUlQgPSAnJCRfYXBwX3N0YXJ0JztcbnZhciBBUFBfRU5EID0gJyQkX2FwcF9lbmQnO1xudmFyIFVTRVJfUFJPRklMRV9LRVkgPSAnYXBsdXNfdXNlcl9wcm9maWxlJztcbnZhciBJTVBSSU5UID0gJ2ltcHJpbnQnO1xudmFyIElEX1RZUEUgPSAnYXBsdXMtaWR0eXBlJztcbnZhciBKU0JSSURHRV9PTkxZID0gJ2FwbHVzLWpzYnJpZGdlLW9ubHknO1xudmFyIFBBR0VfQ09ORklHID0gJ2FwbHVzLXBhZ2UtY29uZmlnJzsgXG52YXIgQVBMVVNfU0tJUF9BUFZfUlVMRVMgPSAnYXBsdXMtc2tpcC1hcHYtcnVsZXMnO1xudmFyIEFQTFVTX1BWX0RPTUFJTiA9ICdhcGx1cy1yaG9zdC12JztcbnZhciBBUExVU19FS1ZfRE9NQUlOID0gJ2FwbHVzLXJob3N0LWcnO1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIFBBR0VfRU5URVI6ICdQQUdFX0VOVEVSJyxcbiAgQ1VSUkVOVF9QQUdFX0NPTkZJRzogJ0NVUlJFTlRfUEFHRV9DT05GSUcnLFxuICBfQU5PTllfSUQ6ICdfYW5vbnlfaWQnLFxuICBfVVNFUl9JRDogJ191c2VyX2lkJyxcbiAgREVGQVVMVF9DT0RFOiBkZWZhdWx0Q29kZSxcbiAgT1RIRVI6IE9USEVSLFxuICBFVkVOVF9NQVA6IHtcbiAgICAnMjEwMSc6ICdjbGljaycsXG4gICAgJzIyMDEnOiAnZXhwb3N1cmUnLFxuICAgICcyMjAyJzogJ2V4cG9zdXJlJyxcbiAgICAnMTk5OTknOiBkZWZhdWx0Q29kZSxcbiAgICAnMTAyMyc6ICdhcHBfc2hvdycsXG4gICAgJzEwMTAnOiAnYXBwX2hpZGVfb3JfdW5sb2FkJ1xuICB9LFxuICBFVkVOVF9JRF9NQVA6IHtcbiAgICAnRVhQJzogRVhQLFxuICAgICdJTVBFWFAnOiBJTVBFWFAsXG4gICAgJ0NMSyc6IENMSyxcbiAgICAnT1RIRVInOiBPVEhFUixcbiAgICAnU0hPVyc6IEFQUF9TSE9XLFxuICAgICdIX09SX1UnOiBBUFBfSElERV9PUl9VTkxPQURcbiAgfSxcbiAgQVBMVVM6IEFQTFVTLFxuICBHT0xETE9HOiBHT0xETE9HLFxuICBVTlNVQlNDUklCRTogQVBMVVMgKyAnLicgKyBBUExVUyArIF9wdWJzdWIgKyAnLnVuc3Vic2NyaWJlJyxcbiAgU1VCU0NSSUJFOiBBUExVUyArICcuJyArIEFQTFVTICsgX3B1YnN1YiArICcuc3Vic2NyaWJlJyxcbiAgUFVCTElTSDogQVBMVVMgKyAnLicgKyBBUExVUyArIF9wdWJzdWIgKyAnLnB1Ymxpc2gnLFxuICBDQUNIRV9QVUJTOiBBUExVUyArICcuJyArIEFQTFVTICsgX3B1YnN1YiArICcuY2FjaGVQdWJzJyxcbiAgQVBMVVNfVU5JVkVSU0FMOiBBUExVUyArICdfdW5pdmVyc2FsJyxcbiAgQVBMVVNfUVVFVUU6IEFQTFVTX1FVRVVFLFxuICBHT0xETE9HX1FVRVVFOiBHT0xETE9HX1FVRVVFLFxuICBDT01QTEVURTogJ2NvbXBsZXRlJyxcbiAgUFZfQ09ERTogJzIwMDEnLFxuICBFWFBfQ09ERTogRVhQLFxuICBDTEtfQ09ERTogQ0xLLFxuICBPVEhFUl9DT0RFOiBPVEhFUixcbiAgQ0xLOiAnQ0xLJyxcbiAgRVhQOiAnRVhQJyxcbiAgLy8gT1RIRVI6ICdPVEhFUicsXG4gIFNQTV9DTlQ6ICdzcG0tY250JyxcbiAgU1BNX1VSTDogJ3NwbS11cmwnLFxuICBTUE1fUFJFOiAnc3BtLXByZScsXG4gIE1XX0NIQU5HRV9QVjogTVdfQ0hBTkdFICsgJ19wdicsXG4gIE1XX0NIQU5HRV9ISkxKOiBNV19DSEFOR0UgKyAnX2hqbGonLFxuICBIVFRQOiBIVFRQICsgJzonLFxuICBIVFRQUzogJ2h0dHBzOicsXG4gIEFQUEVORF9NRVRBX0lORk86IEFQUEVORF9NRVRBX0lORk8sXG4gIFNFVF9NRVRBX0lORk86IFNFVF9NRVRBX0lORk8sXG4gIEFQTFVTX0FQUEVORF9NRVRBX0lORk86IEFQTFVTICsgJy4nICsgQVBQRU5EX01FVEFfSU5GTyxcbiAgQVBMVVNfU0VUX01FVEFfSU5GTzogQVBMVVMgKyAnLicgKyBTRVRfTUVUQV9JTkZPLFxuICBQVklEOidwdmlkJyxcbiAgQVBMVVNfTE9HX1BJUEU6J2FwbHVzLWxvZy1waXBlJyxcbiAgb3BlbkFQSXM6IFtcbiAgICAnc2VuZCcsICdlbnRlcicsICdzZW5kUFYnLCAncmVjb3JkJywgJ2NvbWJpbmVSZWNvcmQnLCAncmVjb3JkVWRhdGEnLCAncmVxdWVzdFZUQ29uZmlnJyxcbiAgICAnc2V0UGFnZVNQTScsICdzZXRNZXRhSW5mbycsICdhcHBlbmRNZXRhSW5mbycsXG4gICAgJ3VwZGF0ZVBhZ2VQcm9wZXJ0aWVzJyxcbiAgICAndXBkYXRlTmV4dFBhZ2VQcm9wZXJ0aWVzJyxcbiAgICAndXBkYXRlUGFnZVV0cGFyYW0nLFxuICAgICd1cGRhdGVOZXh0UGFnZVV0cGFyYW0nLFxuICAgICdwYWdlQXBwZWFyJywgJ3BhZ2VEaXNhcHBlYXInLCAnc2tpcFBhZ2UnLFxuICAgICd1cGRhdGVTZXNzaW9uUHJvcGVydGllcycsICdnZXRQYWdlU3BtVXJsJywgJ2dldFBhZ2VTcG1QcmUnLFxuICAgICdzZXRQYWdlTmFtZScsICdnZXRFbGVtZW50U1BNJywgJ3JlY29yZEFwcExpbmsnXG4gIF0sXG4gIFNFU1NJT05fSU5URVJWQUw6IFNFU1NJT05fSU5URVJWQUwsXG4gIFNFU1NJT05fUEFVU0VfVElNRTogJ3Nlc3Npb25fcGF1c2VfdGltZScsXG4gIElNUFJJTlQ6ICdpbXByaW50JyxcbiAgQ1VSUkVOVF9TRVNTSU9OOiAnY3VycmVudF9zZXNzaW9uJyxcbiAgTUFYX0VWRU5USURfTEVOR1RIOiAxMjgsXG4gIE1BWF9QUk9QRVJUWV9LRVlfTEVOR1RIOiAyNTYsXG4gIE1BWF9QUk9QRVJUWV9LRVlTX0NPVU5UOiAxMDAsXG4gIFJFUVVFU1RTOiAncmVxdWVzdHMnLFxuICBTSEFSRVM6ICdzaGFyZXMnLFxuICBBUExVU19TU1JDOiAnX2FwbHVzX3NzcmMnLFxuICBFS1ZTOiBFS1ZTLFxuICBFVkVOVF9NQVhfQ09VTlQ6IEVWRU5UX01BWF9DT1VOVCxcbiAgTUVNT1JZX01BWF9DT1VOVDogTUVNT1JZX01BWF9DT1VOVCxcbiAgRVZFTlRfU0VORF9ERUZBVUxUX0lOVEVSVkFMOiBFVkVOVF9TRU5EX0RFRkFVTFRfSU5URVJWQUwsXG4gIFBBR0VfU1RBUlQ6IFBBR0VfU1RBUlQsXG4gIFBBR0VfRU5EOiBQQUdFX0VORCxcbiAgQVBQX1NUQVJUOiBBUFBfU1RBUlQsXG4gIEFQUF9FTkQ6IEFQUF9FTkQsXG4gIFVTRVJfUFJPRklMRV9LRVk6IFVTRVJfUFJPRklMRV9LRVksXG4gIFNIQVJFX0NBQ0hFX0lOVEVSVkFMOiBTSEFSRV9DQUNIRV9JTlRFUlZBTCxcbiAgSU1QUklOVDogSU1QUklOVCxcbiAgSURfVFlQRTogSURfVFlQRSxcbiAgR0xPQkFMX1BST1BFUlRZOiAnZ2xvYmFscHJvcGVydHknLFxuICAvLyBVVE1fS0VZUzogWyd1dG1fc291cmNlJywgJ3V0bV9jb250ZW50JywgJ3V0bV9tZWRpdW0nLCAndXRtX2NhbXBhaWduJywgJ3V0bV90ZXJtJ10sXG4gIEpTQlJJREdFX09OTFk6IEpTQlJJREdFX09OTFksXG4gIFBBR0VfQ09ORklHOiBQQUdFX0NPTkZJRyxcbiAgQVBMVVNfU0tJUF9BUFZfUlVMRVM6IEFQTFVTX1NLSVBfQVBWX1JVTEVTLFxuICBBUExVU19QVl9ET01BSU46IEFQTFVTX1BWX0RPTUFJTixcbiAgQVBMVVNfRUtWX0RPTUFJTjogQVBMVVNfRUtWX0RPTUFJTlxufTtcblxuLy8gdmFyIG9wZW5BUElzID0gW1xuLy8gICAnc2VuZCcsICdlbnRlcicsICdzZW5kUFYnLCAncmVjb3JkJyxcbi8vICAgJ3NldFBhZ2VTUE0nLCAnc2V0TWV0YUluZm8nLCAnYXBwZW5kTWV0YUluZm8nLFxuLy8gICBVUERBVEUgKyAnUGFnZVByb3BlcnRpZXMnLFxuLy8gICBVUERBVEUgKyAnTmV4dFBhZ2VQcm9wZXJ0aWVzJyxcbi8vICAgVVBEQVRFICsgJ1BhZ2VVdHBhcmFtJyxcbi8vICAgVVBEQVRFICsgJ05leHRQYWdlVXRwYXJhbScsXG4vLyAgICdwYWdlQXBwZWFyJywgJ3BhZ2VEaXNhcHBlYXInLFxuLy8gICAnc2tpcFBhZ2UnXG4vLyBdO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2xpYl91L3V0aWxzL2FwbHVzU3RhdGljLmpzXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0ge1xuICBcIm1ldGFJbmZvXCI6IHtcbiAgICBcImFwbHVzLXJob3N0LXZcIjogXCJcIixcbiAgICBcImFwbHVzLXJob3N0LWdcIjogXCJcIixcbiAgICBcImFwbHVzLW1tc3RhdC10aW1lb3V0XCI6IFwiMTAwMDBcIixcbiAgICBcInNka0lkXCI6IFwiYXBsdXNfbWluaV9jbG91ZF91bVwiXG4gIH0sXG4gIFwiZ2xvYmFsQ29uZmlnXCI6IHtcbiAgICBcImlzQWxpXCI6IGZhbHNlLFxuICAgIFwiaXNEZWNvZGVVcmxcIjogdHJ1ZSxcbiAgICBcIkFQTFVTX1FVRVVFXCI6IFwiYXBsdXNfcXVldWVcIixcbiAgICBcIkVUQUdfU1RPUkFHRV9LRVlcIjogXCJfX0VUQUdfX0NOQV9fSURfX1wiLFxuICAgIFwic2NyaXB0X25hbWVcIjogXCJhcGx1c19taW5pLmpzXCIsXG4gICAgXCJhcGx1cy1nbG9iYWxkYXRhXCI6IHt9LFxuICAgIFwibHZlclwiOiBcIjEuNy4xMlwiXG4gIH0sXG4gIFwicGx1Z2luc1wiOiBbXG4gICAge1xuICAgICAgXCJuYW1lXCI6IFwiaW5qZWN0X2FwcF91bVwiLFxuICAgICAgXCJwYXRoXCI6IHJlcXVpcmUoJy4vcGx1Z2luc19taW5pL2luamVjdF9hcHBfdW0uanMnKVxuICAgIH0sXG4gICAge1xuICAgICAgXCJuYW1lXCI6IFwiaW5qZWN0X3BhZ2VfdW1cIixcbiAgICAgIFwicGF0aFwiOiByZXF1aXJlKCcuL3BsdWdpbnNfbWluaS9pbmplY3RfcGFnZV91bS5qcycpXG4gICAgfSxcbiAgICB7XG4gICAgICBcIm5hbWVcIjogXCJvcGVuX2FwaVwiLFxuICAgICAgXCJwYXRoXCI6IHJlcXVpcmUoJy4vcGx1Z2luc19taW5pL29wZW5fYXBpLmpzJylcbiAgICB9LFxuICAgIHtcbiAgICAgIFwibmFtZVwiOiBcImFwbHVzX2NsaWVudFwiLFxuICAgICAgXCJwYXRoXCI6IHJlcXVpcmUoJy4vcGx1Z2lucy9hcGx1c19jbGllbnRfbWluaS5qcycpXG4gICAgfSxcbiAgICB7XG4gICAgICBcIm5hbWVcIjogXCJwdWJzdWJcIixcbiAgICAgIFwicGF0aFwiOiByZXF1aXJlKCcuL3BsdWdpbnMvbGliX21lc3NhZ2VyL3B1YnN1Yl9taW5pLmpzJylcbiAgICB9LFxuICAgIHtcbiAgICAgIFwibmFtZVwiOiBcImFwbHVzX21ldGFfaW5qZWN0XCIsXG4gICAgICBcInBhdGhcIjogcmVxdWlyZSgnLi9wbHVnaW5zL2FwbHVzX21ldGFfaW5qZWN0X21pbmkuanMnKVxuICAgIH0sXG4gICAge1xuICAgICAgXCJuYW1lXCI6IFwiYXBsdXNfYWNcIixcbiAgICAgIFwicGF0aFwiOiByZXF1aXJlKCcuL3BsdWdpbnNfbWluaS9hdXRvX3RyYWNrZXJfY2xrLmpzJyksXG4gICAgICBcImRlcHNcIjogW1xuICAgICAgICBcImluamVjdF9wYWdlX3VtXCJcbiAgICAgIF1cbiAgICB9LFxuICAgIHtcbiAgICAgIFwibmFtZVwiOiBcImFwbHVzX2FlXCIsXG4gICAgICBcInBhdGhcIjogcmVxdWlyZSgnLi9wbHVnaW5zX21pbmkvYXV0b190cmFja2VyX2V4cC5qcycpLFxuICAgICAgXCJkZXBzXCI6IFtcbiAgICAgICAgXCJpbmplY3RfcGFnZV91bVwiXG4gICAgICBdXG4gICAgfSxcbiAgICB7XG4gICAgICBcIm5hbWVcIjogXCJhcGx1c19taW5pX3NwbVwiLFxuICAgICAgXCJwYXRoXCI6IHJlcXVpcmUoJy4vcGx1Z2luc19taW5pL21pbmlfc3BtLmpzJylcbiAgICB9LFxuICAgIHtcbiAgICAgIFwibmFtZVwiOiBcImFwbHVzX21pbmlfcmVwb3J0X3VtXCIsXG4gICAgICBcInBhdGhcIjogcmVxdWlyZSgnLi9wbHVnaW5zL2FwbHVzX21pbmlfcmVwb3J0X3VtLmpzJylcbiAgICB9LFxuICAgIHtcbiAgICAgIFwibmFtZVwiOiBcImFwbHVzX2xvZ19pbmplY3RcIixcbiAgICAgIFwicGF0aFwiOiByZXF1aXJlKCcuL3BsdWdpbnMvYXBsdXNfbG9nX2luamVjdC5qcycpLFxuICAgICAgXCJkZXBzXCI6IFtcbiAgICAgICAgXCJhcGx1c19tZXRhX2luamVjdFwiXG4gICAgICBdLFxuICAgICAgXCJjb25maWdcIjoge1xuICAgICAgICBcInBsdWdpbnNcIjoge1xuICAgICAgICAgIFwicHZcIjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBcIm5hbWVcIjogXCJldGFnXCIsXG4gICAgICAgICAgICAgIFwicGF0aFwiOiByZXF1aXJlKCcuL3BsdWdpbnMvbGliX2xvZy9taWRkbGV3YXJlL2NvbW1vbi9ldGFnX21pbmkuanMnKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCJuYW1lXCI6IFwid2hlbl90b19zZW5kcHZcIixcbiAgICAgICAgICAgICAgXCJwYXRoXCI6IHJlcXVpcmUoJy4vcGx1Z2lucy9saWJfbG9nL21pZGRsZXdhcmUvcHYvd2hlbl90b19zZW5kcHYuanMnKSxcbiAgICAgICAgICAgICAgXCJjb25maWdcIjoge1xuICAgICAgICAgICAgICAgIFwiYXBsdXNXYWl0aW5nXCI6IFwiXCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCJuYW1lXCI6IFwid2hlcmVfdG9fc2VuZFwiLFxuICAgICAgICAgICAgICBcInBhdGhcIjogcmVxdWlyZSgnLi9wbHVnaW5zL2xpYl9sb2cvbWlkZGxld2FyZS9jb21tb24vd2hlcmVfdG9fc2VuZF9taW5pX3VtLmpzJylcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIFwibmFtZVwiOiBcIndoYXRfdG9fc2VuZFwiLFxuICAgICAgICAgICAgICBcInBhdGhcIjogcmVxdWlyZSgnLi9wbHVnaW5zL2xpYl9sb2cvbWlkZGxld2FyZS9jb21tb24vd2hhdF90b19zZW5kX21pbmlfY2xvdWQuanMnKSxcbiAgICAgICAgICAgICAgXCJjb25maWdcIjoge1xuICAgICAgICAgICAgICAgIFwibG9nZGF0YVRvVXRcIjoge31cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCJuYW1lXCI6IFwibWluaWFwcF9kYXRhXCIsXG4gICAgICAgICAgICAgIFwicGF0aFwiOiByZXF1aXJlKCcuL3BsdWdpbnMvbGliX2xvZy9taWRkbGV3YXJlL2NvbW1vbi9taW5pYXBwX2RhdGEuanMnKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCJuYW1lXCI6IFwid2hhdF90b19zZW5kcHZfdXNlcmRhdGFcIixcbiAgICAgICAgICAgICAgXCJwYXRoXCI6IHJlcXVpcmUoJy4vcGx1Z2lucy9saWJfbG9nL21pZGRsZXdhcmUvcHYvd2hhdF90b19zZW5kcHZfdXNlcmRhdGFfbWluaS5qcycpLFxuICAgICAgICAgICAgICBcImRlcHNcIjogW1xuICAgICAgICAgICAgICAgIFwid2hhdF90b19zZW5kXCJcbiAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiY2FuX3RvX3NlbmRwdlwiLFxuICAgICAgICAgICAgICBcInBhdGhcIjogcmVxdWlyZSgnLi9wbHVnaW5zL2xpYl9sb2cvbWlkZGxld2FyZS9wdi9jYW5fdG9fc2VuZHB2X21pbmkuanMnKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF0sXG4gICAgICAgICAgXCJoamxqXCI6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiZXRhZ1wiLFxuICAgICAgICAgICAgICBcInBhdGhcIjogcmVxdWlyZSgnLi9wbHVnaW5zL2xpYl9sb2cvbWlkZGxld2FyZS9jb21tb24vZXRhZ19taW5pLmpzJylcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIFwibmFtZVwiOiBcIndoZXJlX3RvX3NlbmRcIixcbiAgICAgICAgICAgICAgXCJwYXRoXCI6IHJlcXVpcmUoJy4vcGx1Z2lucy9saWJfbG9nL21pZGRsZXdhcmUvY29tbW9uL3doZXJlX3RvX3NlbmRfbWluaV91bS5qcycpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBcIm5hbWVcIjogXCJ3aGF0X3RvX3NlbmRcIixcbiAgICAgICAgICAgICAgXCJwYXRoXCI6IHJlcXVpcmUoJy4vcGx1Z2lucy9saWJfbG9nL21pZGRsZXdhcmUvY29tbW9uL3doYXRfdG9fc2VuZF9taW5pX2Nsb3VkLmpzJyksXG4gICAgICAgICAgICAgIFwiZGVwc1wiOiBbXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCJuYW1lXCI6IFwibWluaWFwcF9kYXRhXCIsXG4gICAgICAgICAgICAgIFwicGF0aFwiOiByZXF1aXJlKCcuL3BsdWdpbnMvbGliX2xvZy9taWRkbGV3YXJlL2NvbW1vbi9taW5pYXBwX2RhdGEuanMnKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCJuYW1lXCI6IFwid2hhdF90b19oamxqX3VzZXJkYXRhXCIsXG4gICAgICAgICAgICAgIFwicGF0aFwiOiByZXF1aXJlKCcuL3BsdWdpbnMvbGliX2xvZy9taWRkbGV3YXJlL2hqbGovd2hhdF90b19oamxqX3VzZXJkYXRhX21pbmkuanMnKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgXCJuYW1lXCI6IFwiYXBsdXNfYXBpXCIsXG4gICAgICBcInBhdGhcIjogcmVxdWlyZSgnLi9wbHVnaW5zL2FwbHVzX2FwaV9taW5pLmpzJyksXG4gICAgICBcImRlcHNcIjogW1xuICAgICAgICBcImFwbHVzX2xvZ19pbmplY3RcIixcbiAgICAgICAgXCJhcGx1c19tZXRhX2luamVjdFwiXG4gICAgICBdXG4gICAgfSxcbiAgICB7XG4gICAgICBcIm5hbWVcIjogXCJtZXRhX3F1ZXVlXCIsXG4gICAgICBcInBhdGhcIjogcmVxdWlyZSgnLi9wbHVnaW5zL2xpYl9xdWV1ZS9tZXRhX3F1ZXVlLmpzJyksXG4gICAgICBcImNvbmZpZ1wiOiB7XG4gICAgICAgIFwiaXNPcGVuQXBpXCI6IHRydWVcbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIFwibmFtZVwiOiBcImV0YWdcIixcbiAgICAgIFwicGF0aFwiOiByZXF1aXJlKCcuL3BsdWdpbnMvbGliX2xvZy9taWRkbGV3YXJlL2NvbW1vbi9ldGFnX21pbmkuanMnKVxuICAgIH0sXG4gICAge1xuICAgICAgXCJuYW1lXCI6IFwiYXBsdXNfcXVldWVcIixcbiAgICAgIFwicGF0aFwiOiByZXF1aXJlKCcuL3BsdWdpbnMvbGliX3F1ZXVlL2FwbHVzX3F1ZXVlLmpzJyksXG4gICAgICBcImNvbmZpZ1wiOiB7XG4gICAgICAgIFwiaXNPcGVuQXBpXCI6IHRydWVcbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIFwibmFtZVwiOiBcImF1dG9fdHJhY2tlcl91bVwiLFxuICAgICAgXCJwYXRoXCI6IHJlcXVpcmUoJy4vcGx1Z2luc19taW5pL2F1dG9fdHJhY2tlcl91bS5qcycpLFxuICAgICAgXCJkZXBzXCI6IFtcbiAgICAgICAgXCJpbmplY3RfcGFnZV91bVwiXG4gICAgICBdXG4gICAgfVxuICBdXG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2FwbHVzX21pbmlfY2xvdWRfdW1fY29uZmlnLmpzXG4vLyBtb2R1bGUgaWQgPSA0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogYWxpbG9nL3MgLSBzcmMvcGx1Z2luc19taW5pL2luamVjdF9hcHBfdW1fbmV3LmpzXG4gKiDmlrDniYjoh6rliqjph4fpm4blsI/nqIvluo/kv6Hmga/nmoTmj5Lku7YgLSBhcHDms6jlhaVcbiAqXG4gKiDpgJrov4fph43lhpl3eOeahGFwaeadpeaooeaLn+eUn+WRveWRqOacn++8jOS7peatpOe7lei/h+S4ieaWueahhuaetuWvueeUn+WRveWRqOacn+eahOmHjeWGmeacuuWItlxuICpcbiAqIEF1dGhvcnM6XG4gKiAgIOiChuWPgSA8c2lzYW4ucWxAYWxpYmFiYS1pbmMuY29tPlxuICovXG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgdXRpbEdvbGRsb2cgPSByZXF1aXJlKCdAdXRpbHMvdXRpbEdvbGRsb2cnKTtcbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMvdXRpbHMnKTtcbnZhciBhcGx1c1N0YXRpYyA9IHJlcXVpcmUoJ0B1dGlscy9hcGx1c1N0YXRpYycpO1xudmFyIGNsb25lRGVlcCA9IHJlcXVpcmUoJ0B1dGlscy9jbG9uZURlZXAnKTtcbnZhciBtaW5pID0gcmVxdWlyZSgnQHV0aWxzL21pbmknKTtcbnZhciBzZXNzaW9uTWFuYWdlciA9IHJlcXVpcmUoJ0AvcGx1Z2lucy9saWJfdW0vdW1fc2Vzc2lvbl9tYW5hZ2VyJyk7XG52YXIgZXZlbnRNYW5hZ2VyID0gcmVxdWlyZSgnQC9wbHVnaW5zL2xpYl91bS9ldmVudE1hbmFnZXInKTtcbnZhciByZXF1ZXN0UXVldWUgPSByZXF1aXJlKCdAL3BsdWdpbnMvbGliX3VtL3JlcXVlc3RRdWV1ZScpO1xudmFyIGNhY2hlID0gcmVxdWlyZSgnQC9wbHVnaW5zL2xpYl91bS9jYWNoZScpO1xudmFyIHVtVXRpbHMgPSByZXF1aXJlKCdAL3BsdWdpbnMvbGliX3VtL3V0aWxzJyk7XG4vLyB2YXIgdXRpbExvZ2dlciA9IHJlcXVpcmUoJ0B1dGlscy91dGlsTG9nZ2VyJyk7XG52YXIgdWxvZyA9IHJlcXVpcmUoJ0B1dGlscy91bG9nJyk7XG52YXIgUGFnZU1hbmFnZXIgPSByZXF1aXJlKCdAL3BsdWdpbnMvbGliX3VtL3BhZ2VNYW5hZ2VyJyk7XG52YXIgdXRpbERhc2ggPSByZXF1aXJlKCdAdXRpbHMvdXRpbERhc2gnKTtcbnZhciBpc0Z1bmN0aW9uID0gcmVxdWlyZSgnQHV0aWxzL2lzRnVuY3Rpb24nKTtcblxudmFyIEFQUF9MQVVOQ0hfVFlQRSA9IDA7XG5cbmZ1bmN0aW9uIGdldEdsb2JhbEFyZ3MocXVlcnksIHNjZW5lKSB7XG4gIHZhciBnbG9iYWxfYXJncyA9IHt9O1xuICBpZiAoc2NlbmUpIHtcbiAgICBnbG9iYWxfYXJncy5zY2VuZSA9IHNjZW5lO1xuICB9XG4gIGlmIChxdWVyeSAmJiBxdWVyeS5taW5pYXBwRGVidWdJZCkge1xuICAgIGdsb2JhbF9hcmdzLmRlYnVnSWQgPSBxdWVyeS5taW5pYXBwRGVidWdJZDtcbiAgfVxuICBmb3IgKHZhciBrIGluIHF1ZXJ5KSB7XG4gICAgaWYgKGsgPT09ICckJF9zaGFyZV91aWQnIHx8IGsuaW5kZXhPZignJCRfdXRtXycpID09PSAwKSB7XG4gICAgICBnbG9iYWxfYXJnc1trXSA9IHF1ZXJ5W2tdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZ2xvYmFsX2FyZ3M7XG59XG5cbmZ1bmN0aW9uIHNlc3Npb25TdGFydChvcHRpb25zKSB7XG4gIGNhY2hlKCkubG9hZChmdW5jdGlvbigpe1xuICAgIHVsb2coKS53KCdjYWNoZSBpbml0IHN1Y2Nlc3MnKTtcbiAgfSk7XG5cbiAgdmFyIG5ld09wdGlvbnMgPSB7fTtcbiAgdmFyIGRlZXBDbG9uZSA9IGNsb25lRGVlcChvcHRpb25zKTtcbiAgZm9yICh2YXIgaSBpbiBkZWVwQ2xvbmUpIHtcbiAgICBpZiAodHlwZW9mIGRlZXBDbG9uZVtpXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIG5ld09wdGlvbnMgPSB1dGlsRGFzaC5hc3NpZ24oZGVlcENsb25lW2ldLCBuZXdPcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGRlZXBDbG9uZVtpXSkge1xuICAgICAgICBuZXdPcHRpb25zW2ldID0gZGVlcENsb25lW2ldO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXF1ZXN0UXVldWUoKS5sb2FkKCk7XG4gIHZhciBpc05ld1Nlc3Npb24gPSBzZXNzaW9uTWFuYWdlcigpLnJlc3VtZShuZXdPcHRpb25zKTtcbiAgdmFyIHNlc3Npb25JZCA9IHNlc3Npb25NYW5hZ2VyKCkuZ2V0Q3VycmVudFNlc3Npb25JZCgpO1xuICBldmVudE1hbmFnZXIoKS5zZXRTZXNzaW9uSWQoc2Vzc2lvbklkKTtcbiAgaWYgKGlzTmV3U2Vzc2lvbikge1xuICAgIHJlcXVlc3RRdWV1ZSgpLmFkZCh1bVV0aWxzLkRhdGFUeXBlLkhBTEZfU0VTU0lPTiwge30sIGZ1bmN0aW9uKCkge1xuICAgICAgdWxvZygpLncoJ2JlZm9yZSBzZW5kIHNlc3Npb24nKTtcbiAgICAgIHJlcXVlc3RRdWV1ZSgpLnNlbmQoKTtcbiAgICB9KTtcbiAgfVxufTtcblxuZnVuY3Rpb24gc2Vzc2lvbkVuZCgpIHtcbiAgc2Vzc2lvbk1hbmFnZXIoKS5wYXVzZSgpO1xuICByZXF1ZXN0UXVldWUoKS5zZW5kKHVtVXRpbHMuRGF0YVR5cGUuQ0xPU0VfU0VTU0lPTiwge30sIGZ1bmN0aW9uKCl7XG4gICAgcmVxdWVzdFF1ZXVlKCkuc2F2ZSgpO1xuICAgIGNhY2hlKCkuc2F2ZSgpO1xuICAgIHVsb2coKS53KFwiYWZ0ZXIgc2VuZCBzZXNzaW9uXCIpO1xuICB9KTtcbn07XG5cbmZ1bmN0aW9uIGluamVjdEFwcCgpIHtcblxuICB2YXIgYXBwQmFrID0gQXBwO1xuICB2YXIgYWxyZWFkeVN0YXJ0ZWQgPSBmYWxzZTtcbiAgdmFyIGxhbnVjaGVkID0gZmFsc2U7XG4gIHZhciBjdHggPSB1dGlsR29sZGxvZy5nZXRDb250ZXh0KCk7XG4gIHZhciBjb250ZXh0ID0gbWluaS5nZXRDb250ZXh0KCk7ICAgLy8g5bmz5Y+w5LiK5LiL5paH77yaIHd444CBZGTjgIFteeOAgXR044CBc3dhblxuICB2YXIgZm4gPSB7XG4gICAgb25MYXVuY2g6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICBtaW5pLmluaXRJc1RCKCk7XG4gICAgICB2YXIgcXVlcnkgPSBvcHRpb25zID8gb3B0aW9ucy5xdWVyeSA6IHt9O1xuICAgICAgdmFyIHJlZmVycmVySW5mbyA9IG9wdGlvbnMgPyBvcHRpb25zLnJlZmVycmVySW5mbyA6IHt9O1xuICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2FwaS9iYXNlL2FwcC9saWZlLWN5Y2xlL3d4LmdldExhdW5jaE9wdGlvbnNTeW5jLmh0bWwjJUU4JUJGJTk0JUU1JTlCJTlFJUU2JTlDJTg5JUU2JTk1JTg4JTIwcmVmZXJyZXJJbmZvJTIwJUU3JTlBJTg0JUU1JTlDJUJBJUU2JTk5JUFGXG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbXMge09iamVjdH0gcmVmZXJyZXJJbmZvIHtcbiAgICAgICAqICAgYXBwSWQgIHN0cmluZyAg5p2l5rqQ5bCP56iL5bqP44CB5YWs5LyX5Y+35oiWIEFwcCDnmoQgYXBwSWRcbiAgICAgICAqICAgZXh0cmFEYXRhICBPYmplY3QgIOadpea6kOWwj+eoi+W6j+S8oOi/h+adpeeahOaVsOaNru+8jHNjZW5lPTEwMzfmiJYxMDM45pe25pSv5oyBXG4gICAgICAgKiB9XG4gICAgICAgKi9cblxuICAgICAgQVBQX0xBVU5DSF9UWVBFICs9IDE7XG5cbiAgICAgIGN0eC5hcGx1c19xdWV1ZS5wdXNoKHtcbiAgICAgICAgYWN0aW9uOiAnYXBsdXMuYXBwZW5kTWV0YUluZm8nLFxuICAgICAgICBhcmd1bWVudHM6IFsnYXBsdXMtc2Vzc2lvbi1hcmdzJywgdXRpbERhc2guYXNzaWduKHJlZmVycmVySW5mbywge1xuICAgICAgICAgIHNjZW5lOiBvcHRpb25zLnNjZW5lIHx8ICcnXG4gICAgICAgIH0pXVxuICAgICAgfSk7XG4gICAgICBpZiAocXVlcnkpIHtcbiAgICAgICAgdmFyIHF1ZXJ5RGF0YSA9IHt9OyAvLyBjbG9uZURlZXAocXVlcnkpO1xuICAgICAgICBpZiAocXVlcnkuc3BtKSB7XG4gICAgICAgICAgY3R4LmFwbHVzLnNwbV9vcmlnbiA9IHF1ZXJ5LnNwbTtcbiAgICAgICAgICAvLyBkZWxldGUgcXVlcnlEYXRhLnNwbTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5zY2VuZSkge1xuICAgICAgICAgIHF1ZXJ5RGF0YS5zY2VuZSA9IG9wdGlvbnMuc2NlbmU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHF1ZXJ5Lm1pbmlhcHBEZWJ1Z0lkKSB7XG4gICAgICAgICAgdmFyIGRlYnVnSWQgPSBxdWVyeS5taW5pYXBwRGVidWdJZC50cmltKCk7XG4gICAgICAgICAgdmFyIGRlYnVnSW5mb3MgPSBkZWJ1Z0lkLnNwbGl0KCdfJyk7XG4gICAgICAgICAgcXVlcnlEYXRhID0gdXRpbERhc2guYXNzaWduKHF1ZXJ5RGF0YSwge1xuICAgICAgICAgICAgYXBsdXNfd29ya19ubzogZGVidWdJbmZvcy5sZW5ndGggPiAyID8gZGVidWdJbmZvc1sxXSA6IGRlYnVnSWQsXG4gICAgICAgICAgICBhcGx1c190cmFja19kZWJ1Z19pZDogZGVidWdJZCxcbiAgICAgICAgICAgIGFwbHVzX2ZsYWc6ICdhcGx1c190ZXN0J1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIC8vIGRlbGV0ZSBxdWVyeURhdGEubWluaWFwcERlYnVnSWQ7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LmFwbHVzX3F1ZXVlLnB1c2goe1xuICAgICAgICAgIGFjdGlvbjogJ2FwbHVzLmFwcGVuZE1ldGFJbmZvJyxcbiAgICAgICAgICBhcmd1bWVudHM6IFsnYXBsdXMtZXhkYXRhJywgcXVlcnlEYXRhXVxuICAgICAgICB9KTtcbiAgICAgICAgY3R4LmFwbHVzX3F1ZXVlLnB1c2goe1xuICAgICAgICAgIGFjdGlvbjogJ2FwbHVzLmFwcGVuZE1ldGFJbmZvJyxcbiAgICAgICAgICBhcmd1bWVudHM6IFsnYXBsdXMtY3B2ZGF0YScsIHF1ZXJ5RGF0YV1cbiAgICAgICAgfSk7XG4gICAgICAgIGN0eC5hcGx1c19xdWV1ZS5wdXNoKHtcbiAgICAgICAgICBhY3Rpb246ICdhcGx1cy5hcHBlbmRNZXRhSW5mbycsXG4gICAgICAgICAgYXJndW1lbnRzOiBbJ2FwbHVzLWdsb2JhbC1hcmdzJywgZ2V0R2xvYmFsQXJncyhxdWVyeSwgb3B0aW9ucy5zY2VuZSldXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgb25TaG93OiBmdW5jdGlvbiAob3B0cykge1xuXG4gICAgICBBUFBfTEFVTkNIX1RZUEUgKz0gMTtcbiAgICAgIHZhciBxdWVyeSA9IG9wdHMgPyBvcHRzLnF1ZXJ5IDoge307XG4gICAgICB2YXIgc2NlbmUgPSBvcHRzID8gb3B0cy5zY2VuZSA6ICcnO1xuICAgICAgdmFyIHN0YXJ0X3R5cGU7IC8v5bCP56iL5bqP5ZCv5Yqo57G75Z6LIFxuICAgICAgY3R4LmFwbHVzX3F1ZXVlLnB1c2goe1xuICAgICAgICBhY3Rpb246ICdhcGx1cy5zZXRNZXRhSW5mbycsICAvLyDmraTlpITpnIDopoHnlKhzZXRNZXRhSW5mb+WBmuimhuebluW8j+abtOaWsO+8jOWboOS4uuW+ruS/oeWwj+eoi+W6j+S8muaciee8k+WtmFxuICAgICAgICBhcmd1bWVudHM6IFsnYXBsdXMtZ2xvYmFsLWFyZ3MnLCBnZXRHbG9iYWxBcmdzKHF1ZXJ5LCBzY2VuZSldXG4gICAgICB9KTtcbiAgICAgIGlmIChzY2VuZSkge1xuICAgICAgICBjdHguYXBsdXNfcXVldWUucHVzaCh7XG4gICAgICAgICAgYWN0aW9uOiAnYXBsdXMuYXBwZW5kTWV0YUluZm8nLFxuICAgICAgICAgIGFyZ3VtZW50czogWydhcGx1cy1leGRhdGEnLCB7XG4gICAgICAgICAgICBzY2VuZTogc2NlbmVcbiAgICAgICAgICB9XVxuICAgICAgICB9KTtcbiAgICAgICAgY3R4LmFwbHVzX3F1ZXVlLnB1c2goe1xuICAgICAgICAgIGFjdGlvbjogJ2FwbHVzLmFwcGVuZE1ldGFJbmZvJyxcbiAgICAgICAgICBhcmd1bWVudHM6IFsnYXBsdXMtY3B2ZGF0YScsIHtcbiAgICAgICAgICAgIHNjZW5lOiBzY2VuZVxuICAgICAgICAgIH1dXG4gICAgICAgIH0pO1xuICAgICAgICBjdHguYXBsdXNfcXVldWUucHVzaCh7XG4gICAgICAgICAgYWN0aW9uOiAnYXBsdXMuYXBwZW5kTWV0YUluZm8nLFxuICAgICAgICAgIGFyZ3VtZW50czogWydhcGx1cy1zZXNzaW9uLWFyZ3MnLCB7XG4gICAgICAgICAgICBzY2VuZTogc2NlbmVcbiAgICAgICAgICB9XVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChBUFBfTEFVTkNIX1RZUEUgPT09IDIpIHtcbiAgICAgICAgc3RhcnRfdHlwZSA9IDE7XG4gICAgICB9IGVsc2UgaWYgKEFQUF9MQVVOQ0hfVFlQRSA9PT0gMSkge1xuICAgICAgICBzdGFydF90eXBlID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVsb2coKS53KCdBUFBfTEFVTkNIX1RZUEUgc2hvdWxkIG5vdCByZWFjaCB0aGlzLCB2YWx1ZSA9ICcgKyAgQVBQX0xBVU5DSF9UWVBFKTtcbiAgICAgICAgLy8gdXRpbExvZ2dlci5sb2dnZXIoe1xuICAgICAgICAvLyAgIG1zZzogJ0FQUF9MQVVOQ0hfVFlQRSBzaG91bGQgbm90IHJlYWNoIHRoaXMsIHZhbHVlID0gJyArICBBUFBfTEFVTkNIX1RZUEVcbiAgICAgICAgLy8gfSk7XG4gICAgICB9XG4gICAgICB1dGlscy5vbkFwbHVzUmVhZHkoY3R4LmFwbHVzX3F1ZXVlLCBhcGx1c1N0YXRpYy5TVUJTQ1JJQkUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFhbHJlYWR5U3RhcnRlZCkge1xuICAgICAgICAgIGFscmVhZHlTdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICBzZXNzaW9uU3RhcnQob3B0cyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZ2xvYmFsQ29uZmlnID0gY3R4LmFwbHVzLmdsb2JhbENvbmZpZyB8fCB7fTtcbiAgICAgICAgaWYgKCFnbG9iYWxDb25maWcuaXNBbGkpIHtcbiAgICAgICAgICB2YXIgcGFnZUNvZGUgPSBQYWdlTWFuYWdlci5nZXRQYWdlQ29kZSgpO1xuICAgICAgICAgIGN0eC5vbkFwcFNob3dUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgY3R4LmFwbHVzX3F1ZXVlLnB1c2goe1xuICAgICAgICAgICAgYWN0aW9uOiAnYXBsdXMucmVjb3JkJyxcbiAgICAgICAgICAgIGFyZ3VtZW50czogW2FwbHVzU3RhdGljLkFQUF9TVEFSVCwgJ1NIT1cnLCB7XG4gICAgICAgICAgICAgIC8vIHNjZW5lOiBzY2VuZSxcbiAgICAgICAgICAgICAgc3RhcnRfdHlwZTogc3RhcnRfdHlwZSxcbiAgICAgICAgICAgICAgcGFnZV9uYW1lOiBwYWdlQ29kZSB8fCBvcHRzLnBhdGggfHwgJy0nLFxuICAgICAgICAgICAgICB1cmw6IG9wdHMucGF0aCB8fCAnLSdcbiAgICAgICAgICAgIH1dXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb25IaWRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB1dGlscy5vbkFwbHVzUmVhZHkoY3R4LmFwbHVzX3F1ZXVlLCBhcGx1c1N0YXRpYy5TVUJTQ1JJQkUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdsb2JhbENvbmZpZyA9IGN0eC5hcGx1cy5nbG9iYWxDb25maWcgfHwge307XG4gICAgICAgIHZhciBwYWdlQ29kZSA9IFBhZ2VNYW5hZ2VyLmdldFBhZ2VDb2RlKCk7XG4gICAgICAgIGlmICghZ2xvYmFsQ29uZmlnLmlzQWxpKSB7XG4gICAgICAgICAgdmFyIHVybCA9IFBhZ2VNYW5hZ2VyLmdldEN1cnJlbnRQYWdlUGF0aCgpO1xuICAgICAgICAgIHZhciBkdXJhdGlvbiA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gY3R4Lm9uQXBwU2hvd1RpbWU7XG4gICAgICAgICAgY3R4LmFwbHVzX3F1ZXVlLnB1c2goe1xuICAgICAgICAgICAgYWN0aW9uOiAnYXBsdXMucmVjb3JkJyxcbiAgICAgICAgICAgIGFyZ3VtZW50czogW2FwbHVzU3RhdGljLkFQUF9FTkQsICdIX09SX1UnLCB7XG4gICAgICAgICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcbiAgICAgICAgICAgICAgZW5kX3R5cGU6IDAsXG4gICAgICAgICAgICAgIHBhZ2VfbmFtZTogcGFnZUNvZGUgfHwgdXJsIHx8ICctJyxcbiAgICAgICAgICAgICAgdXJsOiB1cmwgfHwgJy0nLFxuICAgICAgICAgICAgICBzdGFydF90aW1lOiBjdHgub25BcHBTaG93VGltZVxuICAgICAgICAgICAgfV1cbiAgICAgICAgICB9KTsgICAgICAgICAgICBcbiAgICAgICAgfVxuICAgICAgICBhbHJlYWR5U3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICBzZXNzaW9uRW5kKCk7XG4gICAgICB9KTtcbiAgICAgIEFQUF9MQVVOQ0hfVFlQRSA9IDA7XG4gICAgfVxuICB9O1xuXG4gIEFwcCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIGN0eCA9IHV0aWxHb2xkbG9nLmdldENvbnRleHQoKTtcbiAgICBlLmFwbHVzID0gY3R4LCAvLyDms6jlhozlhajlsYDlj5jph49cbiAgICBhcHBCYWsoZSk7XG4gIH07XG5cbiAgY29udGV4dC5vbkFwcFNob3coZnVuY3Rpb24gKGUpIHtcbiAgICAvLyDpgJrov4d3eC5nZXRMYXVuY2hPcHRpb25zU3luY+aWueazle+8jOWunueOsOWvuW9uTGFudWNo55qE55uR5ZCsXG4gICAgaWYoIWxhbnVjaGVkKSB7XG4gICAgICAvLyDnmb7luqbkuI3mlK/mjIFnZXRMYXVuY2hPcHRpb25zU3luY++8jOeUqG9uU2hvd+eahG9wdGlvbnPku6Pmm79cbiAgICAgIHZhciBvcHRzID0ge307XG4gICAgICBpZihpc0Z1bmN0aW9uKGNvbnRleHQuZ2V0TGF1bmNoT3B0aW9uc1N5bmMpKSB7XG4gICAgICAgIG9wdHMgPSBjb250ZXh0LmdldExhdW5jaE9wdGlvbnNTeW5jKCkgfHwge307XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHRzID0gZTtcbiAgICAgIH1cbiAgICAgIGZuLm9uTGF1bmNoKG9wdHMpO1xuICAgICAgbGFudWNoZWQgPSB0cnVlO1xuICAgIH07XG4gICAgLy8gb25TaG93XG4gICAgZm4ub25TaG93KGUpO1xuICB9KSxcblxuICBjb250ZXh0Lm9uQXBwSGlkZShmdW5jdGlvbiAoKSB7XG4gICAgLy8gb25IaWRlXG4gICAgZm4ub25IaWRlKCk7XG4gIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgcnVuOiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoWydvYmplY3QnLCAnZnVuY3Rpb24nXS5pbmRleE9mKHR5cGVvZiBBcHApID4gLTEpIHtcbiAgICAgICAgaW5qZWN0QXBwKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9wbHVnaW5zX21pbmkvaW5qZWN0X2FwcF91bS5qc1xuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgcmVzZXRGbjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiB2b2lkIDAgIT09IGFyZ3VtZW50c1swXSA/IGFyZ3VtZW50c1swXSA6IHt9LFxuICAgICAgdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIHZvaWQgMCAhPT0gYXJndW1lbnRzWzFdID8gYXJndW1lbnRzWzFdIDogJycsXG4gICAgICBuID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgdm9pZCAwICE9PSBhcmd1bWVudHNbMl0gPyBhcmd1bWVudHNbMl0gOiBmdW5jdGlvbiAoKSB7IH0sXG4gICAgICBpID0gZVt0XTtcbiAgICBlW3RdID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHJzID0gaSAmJiBpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IC8vIGFwcOacrOi6q+eahGZ1bmN0aW9uXG4gICAgICBpZiAocnMpIHtcbiAgICAgICAgcmV0dXJuIG4uY2FsbCh0aGlzLCBycyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyB0YXJvMXjjgIF0YXJvMngg5b+F6aG75Yqg5Liq6aKd5aSW55qE6K+t5Y+lbi5hcHBseeaJjeiDveaJp+ihjO+8jOavlOWmgnRyeWNhdGNo77yM5Y+Y6YeP5aOw5piO562J77yM5q2k5aSE5Yqg5LqGcmV0dXJuXG4gICAgICAgIHJldHVybiBuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgfTtcbiAgfSxcblxuICByZXdyaXRlRm46IGZ1bmN0aW9uKG9iaiwgbmFtZSwgbmV3Rm4pIHtcbiAgICB2YXIgb2xkRm4gPSBvYmpbbmFtZV07XG4gICAgb2JqW25hbWVdID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIG5ld0ZuLmNhbGwodGhpcywgZSk7XG4gICAgICBvbGRGbiAmJiBvbGRGbi5jYWxsKHRoaXMsIGUpO1xuICAgIH07XG4gIH0sXG5cbiAgb25BcGx1c1JlYWR5OiBmdW5jdGlvbiAoYXBsdXNfcXVldWUsIFNVQlNDUklCRSwgY2FsbGJhY2spIHtcbiAgICBhcGx1c19xdWV1ZS5wdXNoKHtcbiAgICAgIGFjdGlvbjogU1VCU0NSSUJFLFxuICAgICAgYXJndW1lbnRzOiBbJ2FwbHVzUmVhZHknLCBmdW5jdGlvbiAoc3RhdHVzKSB7XG4gICAgICAgIGlmIChzdGF0dXMgPT09ICdjb21wbGV0ZScgJiYgdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgfV1cbiAgICB9KTtcbiAgfVxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3BsdWdpbnNfbWluaS91dGlscy91dGlscy5qc1xuLy8gbW9kdWxlIGlkID0gNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIOWFi+mahuS4gOS4qm9iamVjdFxuICovXG5mdW5jdGlvbiBjbG9uZURlZXAgKG9iaikge1xuICB2YXIgc3RyO1xuICB2YXIgbmV3b2JqID0gQXJyYXkuaXNBcnJheShvYmopID8gW10gOiB7fTsgLy9GaXggb2JqLmNvbnRydWN0b3IgdHlwZUVycm9yIGNvbnN0cnVjdG9yIHVuZGVmaW5lZFxuICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm47XG4gIH0gZWxzZSBpZiAoSlNPTiAmJiBKU09OLnBhcnNlKSB7XG4gICAgc3RyID0gSlNPTi5zdHJpbmdpZnkob2JqKTsgLy/ns7vliJfljJblr7nosaFcbiAgICBuZXdvYmogPSBKU09OLnBhcnNlKHN0cik7IC8v6L+Y5Y6fXG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIgaSBpbiBvYmopIHtcbiAgICAgIG5ld29ialtpXSA9IHR5cGVvZiBvYmpbaV0gPT09ICdvYmplY3QnID8gY2xvbmVEZWVwKG9ialtpXSkgOiBvYmpbaV07XG4gICAgfVxuICB9XG4gIHJldHVybiBuZXdvYmo7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGNsb25lRGVlcDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9saWJfdS91dGlscy9jbG9uZURlZXAuanNcbi8vIG1vZHVsZSBpZCA9IDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBwcm9qZWN0IC0gZmlsZXBhdGhcbiAqIOWwj+eoi+W6j+W3peWFt1xuICpcbiAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cbiAqXG4gKiBBdXRob3JzOlxuICogICDosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuICovXG4ndXNlIHN0cmljdCc7IFxuXG52YXIgaXNGdW5jdGlvbiA9IHJlcXVpcmUoJ0B1dGlscy9pc0Z1bmN0aW9uJyk7XG52YXIgdXRpbEdvbGRsb2cgPSByZXF1aXJlKCdAdXRpbHMvdXRpbEdvbGRsb2cnKTtcbi8vIHZhciBhcGx1c1N0YXRpYyA9IHJlcXVpcmUoJ0B1dGlscy9hcGx1c1N0YXRpYy5qcycpO1xudmFyIHV0aWwgPSByZXF1aXJlKCdAdXRpbHMvdXRpbCcpO1xudmFyIHVsb2cgPSByZXF1aXJlKCdAdXRpbHMvdWxvZycpO1xuXG5leHBvcnRzLmdldEN1cnJlbnRQYWdlID0gZnVuY3Rpb24gKCkge1xuICB2YXIgcGFnZXMgPSBnZXRDdXJyZW50UGFnZXMoKTtcbiAgcmV0dXJuIHBhZ2VzW3BhZ2VzLmxlbmd0aCAtIDFdIHx8IHt9O1xufTtcblxuZXhwb3J0cy5nZXRSZWZlcnJlclBhZ2UgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHBhZ2VzID0gZ2V0Q3VycmVudFBhZ2VzKCk7XG4gIHJldHVybiBwYWdlc1twYWdlcy5sZW5ndGggLSAyXSB8fCB7fTtcbn07XG5cbnZhciBfaXNUYjtcbi8vIOWNlemhtea1i+ivlemcgOimgVxuZXhwb3J0cy5yZXNldElzVEIgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgX2lzVGIgPSB2YWx1ZTtcbn07XG5cbmZ1bmN0aW9uIGluaXRJc1RCICgpIHtcbiAgaWYgKHR5cGVvZiBfaXNUYiA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgcmV0dXJuIF9pc1RiO1xuICB9IGVsc2Uge1xuICAgIHZhciByZXN1bHQgPSBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgdmFyIFVBID0gbmF2aWdhdG9yID8gKG5hdmlnYXRvci51c2VyQWdlbnQgfHwgbmF2aWdhdG9yLnN3dXNlckFnZW50KSA6ICcnO1xuICAgICAgcmVzdWx0ID0gISEvQWxpQXBwL2kudGVzdChVQSk7XG4gICAgICBpZiAoL0FsaUFwcFxcKEFQL2kudGVzdChVQSkgfHwgL0FsaUFwcFxcKERpbmdUYWxrL2kudGVzdChVQSkgfHwgL0FsaUFwcFxcKEFNQVAvaS50ZXN0KFVBKSkge1xuICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmICgvQWxpQXBwXFwoS0IvaS50ZXN0KFVBKSkge1xuICAgICAgICByZXN1bHQgPSAhIS9NaXN0Ly50ZXN0KFVBKTtcbiAgICAgIH1cbiAgICAgIC8vSURFLea3mOWunS3llYblrrblupTnlKjkuIvmnJ/mnJvov5Tlm550cnVlXG4gICAgICBpZigvQWxpcGF5SURFIFRhb2Jhby8udGVzdChVQSkpe1xuICAgICAgICByZXN1bHQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIGN0eCA9IGdldFBsYXRmb3JtVHlwZSgpLmN0eDtcbiAgICAgIGlmICh0eXBlb2YgY3R4LmNhbklVc2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmVzdWx0ID0gISFjdHguY2FuSVVzZSgnY2FsbFVzZXJUcmFjaycpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgX2lzVGIgPSByZXN1bHQ7XG4gICAgcmV0dXJuIHJlc3VsdDsgIFxuICB9XG59XG5leHBvcnRzLmluaXRJc1RCID0gaW5pdElzVEI7XG5cbmZ1bmN0aW9uIGlzVEIoKSB7XG4gIGlmICh0eXBlb2YgX2lzVGIgPT09ICdib29sZWFuJykge1xuICAgIHJldHVybiAhIV9pc1RiOyAgXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGluaXRJc1RCKCk7XG4gIH1cbn1cblxudmFyIGdldFBsYXRmb3JtVHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4ge1xuICAgICAgY3R4OiBkZCxcbiAgICAgIHBsYXRUeXBlOiAnZGQnLFxuICAgICAgc2RrVHlwZTogJ2RkbXAnLFxuICAgICAgbG9nRG9tYWluOiAnL2RkbV9sb2dzJ1xuICAgIH07XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY3R4OiBteSxcbiAgICAgICAgcGxhdFR5cGU6IG15ICYmIG15LnRiID8gJ3Rhb2JhbycgOiAnbXknLFxuICAgICAgICBzZGtUeXBlOiBteSAmJiBteS50YiA/ICd0YW9iYW9tcCcgOiAnbXltcCcsXG4gICAgICAgIGxvZ0RvbWFpbjogJy9hbGlwYXltX2xvZ3MnXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgY3R4OiB0dCxcbiAgICAgICAgICBwbGF0VHlwZTogJ3R0JyxcbiAgICAgICAgICBzZGtUeXBlOiAndHRtcCcsXG4gICAgICAgICAgbG9nRG9tYWluOiAnL2J5dGVkYW5jZW1fbG9ncydcbiAgICAgICAgfTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY3R4OiBzd2FuLFxuICAgICAgICAgICAgcGxhdFR5cGU6ICdiZCcsXG4gICAgICAgICAgICBzZGtUeXBlOiAnYmRtcCcsXG4gICAgICAgICAgICBsb2dEb21haW46ICcvYmFpZHVtX2xvZ3MnXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBjdHg6IHd4LFxuICAgICAgICAgICAgICBwbGF0VHlwZTogJ3d4JyxcbiAgICAgICAgICAgICAgc2RrVHlwZTogJ3d4bXAnLFxuICAgICAgICAgICAgICBsb2dEb21haW46ICcvd3htX2xvZ3MnXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGN0eDoge30sXG4gICAgICAgICAgICAgIHBsYXRUeXBlOiAnVU5LTk9XJyxcbiAgICAgICAgICAgICAgc2RrVHlwZTogJ1VOS05PVydcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuZXhwb3J0cy5pc1RCID0gaXNUQjtcbmV4cG9ydHMuZ2V0UGxhdGZvcm1UeXBlID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZ2V0UGxhdGZvcm1UeXBlKCkucGxhdFR5cGU7XG59O1xuZXhwb3J0cy5nZXRTZGtUeXBlID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZ2V0UGxhdGZvcm1UeXBlKCkuc2RrVHlwZTtcbn07XG5leHBvcnRzLmdldENvbnRleHQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBnZXRQbGF0Zm9ybVR5cGUoKS5jdHg7XG59O1xuZXhwb3J0cy5nZXRMb2dEb21haW4gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGdldFBsYXRmb3JtVHlwZSgpLmxvZ0RvbWFpbjtcbn07XG5cblxudmFyIEhUVFBfUkVRVUVTVCA9ICdodHRwUmVxdWVzdCc7XG52YXIgUkVRVUVTVCA9ICdyZXF1ZXN0JztcbnZhciBGTiA9IGZ1bmN0aW9uICgpIHt9O1xuXG4vKipcbiAqIOWPkemAgUdFVOivt+axglxuICogQHBhcmFtcyB7U3RyaW5nfSB1cmxcbiAqIEBwYXJhbXMge1N0cmluZ30gb3B0cyB7XG4gKiAgIHRpbWVvdXQ6IDUwMDBcbiAqIH1cbiAqIEBwYXJhbXMge0Z1bmN0aW9ufSBjYWxsYmFjayB7XG4gKiAgIHRpbWVvdXQ6IDUwMDBcbiAqIH1cbiAqL1xuZXhwb3J0cy5yZXF1ZXN0ID0gZnVuY3Rpb24gKHVybCwgb3B0cywgc3VjY2Vzc0NhbGxiYWNrLCBmYWlsdXJlQ2FsbGJhY2spIHtcbiAgdmFyIGN0eCA9IGdldFBsYXRmb3JtVHlwZSgpLmN0eDtcbiAgaWYgKCFvcHRzKSB7XG4gICAgb3B0cyA9IHt9O1xuICB9XG4gIGlmICghaXNGdW5jdGlvbihmYWlsdXJlQ2FsbGJhY2spKSB7XG4gICAgZmFpbHVyZUNhbGxiYWNrID0gRk47XG4gIH1cbiAgaWYgKCFpc0Z1bmN0aW9uKHN1Y2Nlc3NDYWxsYmFjaykpIHtcbiAgICBzdWNjZXNzQ2FsbGJhY2sgPSBGTjtcbiAgfVxuICB2YXIgbWV0aG9kTmFtZSA9IG9wdHMucmVxdWVzdE1ldGhvZE5hbWUgfHwgUkVRVUVTVDtcbiAgdmFyIHJlcSA9IGN0eFttZXRob2ROYW1lXTtcblxuICBpZiAoIWlzRnVuY3Rpb24ocmVxKSkge1xuICAgIGlmIChtZXRob2ROYW1lICE9PSBSRVFVRVNUKSB7XG4gICAgICBtZXRob2ROYW1lID0gUkVRVUVTVDtcbiAgICB9IGVsc2UgaWYgKG1ldGhvZE5hbWUgIT09IEhUVFBfUkVRVUVTVCkge1xuICAgICAgbWV0aG9kTmFtZSA9IEhUVFBfUkVRVUVTVDtcbiAgICB9XG4gICAgcmVxID0gY3R4W21ldGhvZE5hbWVdO1xuICB9XG4gIHZhciBkYXRhVHlwZSA9IG9wdHMuZGF0YVR5cGUgfHwgJ2pzb24nO1xuICB2YXIgdGltZW91dCA9IG9wdHMudGltZW91dCB8fCA1MDAwO1xuICB2YXIgbWV0aG9kID0gb3B0cy5tZXRob2QgfHwgJ0dFVCc7XG5cbiAgLy8g5aaC5p6cdXJs5rKh5pyJ5bim5Y2P6K6u77yM6L+Z6YeM6KGl5YWF5a6M5pW0XG4gIHVybCA9IHV0aWwuY2FuMmh0dHBzKHVybCk7XG4gIC8vIGlmICh1cmwuaW5kZXhPZignLy8nKSA9PT0gMCkge1xuICAvLyAgIHZhciBwcm90b2NhbCA9IGFwbHVzU3RhdGljLkhUVFBTO1xuICAvLyAgIGlmICgvKFxcZCtcXC4pezMsfVxcZCsvLnRlc3QodXJsKSkge1xuICAvLyAgICAgcHJvdG9jYWwgPSAnaHR0cDonO1xuICAvLyAgIH1cbiAgLy8gICB1cmwgPSBwcm90b2NhbCArIHVybDtcbiAgLy8gfVxuICB2YXIgbXNnO1xuICBpZiAoaXNGdW5jdGlvbihyZXEpKSB7XG4gICAgdmFyIHJlcU9wdGlvbnMgPSB7XG4gICAgICB1cmw6IHVybCxcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgZGF0YVR5cGU6IGRhdGFUeXBlLFxuICAgICAgdGltZW91dDogdGltZW91dCxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgLy8gY29uc29sZSAmJiBjb25zb2xlLndhcm4oJ3JlcXVlc3QgJyArIHVybCArICcgc3VjY2VzcywgdGhlIG1zZyBpcyAnLCByZXMpO1xuICAgICAgICBzdWNjZXNzQ2FsbGJhY2socmVzKTtcbiAgICAgIH0sXG4gICAgICBmYWlsOiBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIHVsb2coKS53KCdyZXF1ZXN0ICcgKyB1cmwgKyAnIGZhaWx1cmUsIHRoZSBtc2cgaXMgJywgcmVzKTtcbiAgICAgICAgLy8gY29uc29sZSAmJiBjb25zb2xlLndhcm4oJ3JlcXVlc3QgJyArIHVybCArICcgZmFpbHVyZSwgdGhlIG1zZyBpcyAnLCByZXMpO1xuICAgICAgICBmYWlsdXJlQ2FsbGJhY2socmVzKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmICh0eXBlb2Ygb3B0cy5kYXRhID09PSAnb2JqZWN0JyAmJiBtZXRob2QgPT09ICdQT1NUJykge1xuICAgICAgcmVxT3B0aW9ucy5kYXRhID0gb3B0cy5kYXRhO1xuICAgICAgcmVxT3B0aW9ucy51cmwgPSByZXFPcHRpb25zLnVybC5zcGxpdCgnPycpWzBdO1xuICAgIH1cbiAgICB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZSgnYXBsdXMnKTtcbiAgICB2YXIgX2V4dEluZm8gPSBhcGx1cy5nZXRNZXRhSW5mbygnYXBsdXMtcmVxdWVzdC1leHRpbmZvJyk7XG4gICAgaWYgKHR5cGVvZiBfZXh0SW5mbyA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJlcU9wdGlvbnMuX2V4dEluZm8gPSBfZXh0SW5mbztcbiAgICB9XG4gICAgcmVxKHJlcU9wdGlvbnMpO1xuICB9IGVsc2Uge1xuICAgIHVsb2coKS53KCdjYW4gbm90IGZpbmQgXCInICsgbWV0aG9kTmFtZSArICdcIiEnKTtcbiAgICAvLyBjb25zb2xlICYmIGNvbnNvbGUud2FybignY2FuIG5vdCBmaW5kIFwiJyArIG1ldGhvZE5hbWUgKyAnXCIhJyk7XG4gICAgZmFpbHVyZUNhbGxiYWNrKG1zZyk7XG4gIH1cbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9saWJfdS91dGlscy9taW5pLmpzXG4vLyBtb2R1bGUgaWQgPSA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogcHJvamVjdCAtIGZpbGVwYXRoXG4gKlxuICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuICpcbiAqIEF1dGhvcnM6XG4gKiAgIOiwi+WjqyA8cWluZ2xpYW5nLmhxbEBhbGliYWJhLWluYy5jb20+XG4gKi9cbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobykge1xuICByZXR1cm4gdHlwZW9mIG8gPT09ICdmdW5jdGlvbic7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2xpYl91L3V0aWxzL2lzRnVuY3Rpb24uanNcbi8vIG1vZHVsZSBpZCA9IDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBwcm9qZWN0IC0gZmlsZXBhdGhcbiAqIOagh+WHhuW3peWFt+exu1xuICpcbiAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cbiAqXG4gKiBBdXRob3JzOlxuICogICDosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuICovXG4ndXNlIHN0cmljdCc7XG5cbi8vIHZhciB1dGlsQXJyYXkgPSByZXF1aXJlKCcuL3V0aWxBcnJheScpO1xuLy8gdmFyIGZvcm1hdCA9IHJlcXVpcmUoJy4vZm9ybWF0Jyk7XG5cbnZhciBzX3BsYWluX29iaiA9ICc6Oi1wbGFpbi06Oic7XG5leHBvcnRzLm1rUGxhaW5LZXkgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBzX3BsYWluX29iaiArIE1hdGgucmFuZG9tKCk7XG59O1xuZXhwb3J0cy5zX3BsYWluX29iaiA9IHNfcGxhaW5fb2JqO1xuXG4vLyAyMDE2LTA4LTI0IOeQrOWtkOmcgOaxgu+8jGV4cGFyYW1z5Y2V54us5aSE55CG77yMd2luZHZhbmXph4zpnIDopoEgQOiwi+Wjq1xuZXhwb3J0cy5ta1BsYWluS2V5Rm9yRXhwYXJhbXMgPSBmdW5jdGlvbihrZXlfcHJlZml4KSB7XG4gIHZhciBfa2V5ID0ga2V5X3ByZWZpeCB8fCBzX3BsYWluX29iajtcbiAgcmV0dXJuIF9rZXkgKyAnZXhwYXJhbXMnO1xufTtcblxuLyoqXG4gKiBhcnJheSB0byBwYXJhbVxuICog5bCG5LiA5Liq566A5Y2V55qE5pWw57uE6L2s5YyW5Li6IHVybCDlj4LmlbDnmoTlvaLlvI/vvIxcbiAqIOWFtuS4reaVsOe7hOS4ulxuICogICAgICBbW2sxLCB2MV0sIFtrMiwgdjJdLCBbazMsIHYzXSwgLi4uXVxuICog55qE5b2i5byP44CCXG4gKiDkuI4gb2JqMnBhcmFtIOebuOavlO+8jOi/meS4quaWueazleeahOWlveWkhOaYr+WPr+S7peS/neivgeacgOWQjuWPguaVsOeahOmhuuW6j1xuICogQHBhcmFtIGFyciB7QXJyYXl9XG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGFycjJwYXJhbShhcnIpIHtcbiAgdmFyIGEgPSBbXSxcbiAgICBrLFxuICAgIHYsXG4gICAgaSxcbiAgICBsZW4gPSBhcnIubGVuZ3RoO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGsgPSBhcnJbaV1bMF07XG4gICAgdiA9IGFycltpXVsxXTtcbiAgICBhLnB1c2goay5pbmRleE9mKHNfcGxhaW5fb2JqKSA9PT0gMCA/IHYgOiAoayArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2KSkpO1xuICB9XG4gIHJldHVybiBhLmpvaW4oJyYnKTtcbn07XG5leHBvcnRzLmFycjJwYXJhbSA9IGFycjJwYXJhbTtcblxuXG4vKipcbiAqIHBhcmFtIHRvIGFycmF5XG4gKiAyMDE2LTA4LTI0IOaUvuW8gO+8jOeUqOadpeWkhOeQhmV4cGFyYW1zIEDosIvlo6tcbiAqIOWwhuS4gOS4queugOWNleeahOW9ouWmgiBhPTEmYj0yJmM9MyDov5nmoLfnmoTlj4LmlbDovazljJbkuLrnroDljZXnmoQgYXJyYXkg5qC85byP77yM5aaC77yaXG4gKiBbW1wiYVwiLCBcIjFcIl0sIFtcImJcIiwgXCIyXCJdLCBbXCJjXCIsIFwiM1wiXV1cbiAqXG4gKiBAcGFyYW0gcGFyYW1zIHtTdHJpbmd9XG4gKi9cbmV4cG9ydHMucGFyYW0yYXJyID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICB2YXIgYSA9IHBhcmFtcy5zcGxpdChcIiZcIiksXG4gICAgaSA9IDAsIGwgPSBhLmxlbmd0aCxcbiAgICBpdGVtLFxuICAgIGFyciA9IFtdO1xuICBmb3IgKDsgaSA8IGw7IGkrKykge1xuICAgIGl0ZW0gPSBhW2ldLnNwbGl0KFwiPVwiKTtcbiAgICBhcnIucHVzaChbaXRlbS5zaGlmdCgpLCBpdGVtLmpvaW4oXCI9XCIpXSk7XG4gIH1cblxuICByZXR1cm4gYXJyO1xufTtcblxuZXhwb3J0cy5hcnIyb2JqID0gZnVuY3Rpb24gKGFycikge1xuICB2YXIgcmV0ID0ge307XG4gIHZhciBrO1xuICB2YXIgdjtcbiAgdmFyIGk7XG4gIHZhciBsZW4gPSBhcnIubGVuZ3RoO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGsgPSBhcnJbaV1bMF07XG4gICAgdiA9IGFycltpXVsxXTtcbiAgICByZXRba10gPSB2O1xuICB9XG4gIHJldHVybiByZXQ7XG59O1xuLy8g5LuF5pSv5oyB5LiA57qnanNvbue7k+aehFxuZXhwb3J0cy5qc29uTGlrZVN0cjJKU09OID0gZnVuY3Rpb24oanNvblN0cikge1xuICBpZiAoIWpzb25TdHIgfHwgdHlwZW9mIGpzb25TdHIgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG4gIHZhciBzdHIgPSBqc29uU3RyLnJlcGxhY2UoL1snXCJ7fV0rL2csICcnKTtcbiAgdmFyIGFycjEgPSBzdHIuc3BsaXQoJywnKTsgXG4gIHZhciBhcnIyID0gW107IFxuICBmb3IgKHZhciBpID0gMDsgaSA8IGFycjEubGVuZ3RoOyBpKyspIHtcbiAgICBhcnIyLnB1c2goYXJyMVtpXS5zcGxpdCgnOicpKTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gdGhpcy5hcnIyb2JqKGFycjIpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuZXhwb3J0cy5jYW4yaHR0cHMgPSBmdW5jdGlvbih1cmwpIHtcbiAgaWYgKHVybC5pbmRleE9mKCcvLycpID09PSAwKSB7XG4gICAgdmFyIHByb3RvY2FsID0gJ2h0dHBzOic7XG4gICAgaWYgKC8oXFxkK1xcLil7Myx9XFxkKy8udGVzdCh1cmwpKSB7XG4gICAgICBwcm90b2NhbCA9ICdodHRwOic7XG4gICAgfVxuICAgIHVybCA9IHByb3RvY2FsICsgdXJsO1xuICB9XG4gIHJldHVybiB1cmw7XG59O1xuXG5leHBvcnRzLmdldEFwcEtleSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgYXBsdXMgPSByZXF1aXJlKCdAdXRpbHMvdXRpbEdvbGRsb2cnKS5nZXRHbG9iYWxWYWx1ZShcImFwbHVzXCIpO1xuICByZXR1cm4gYXBsdXMuZ2V0TWV0YUluZm8oJ2FwcGtleScpIHx8IGFwbHVzLmdldE1ldGFJbmZvKCdhcHBJZCcpIHx8IGFwbHVzLmdldE1ldGFJbmZvKCdhcHBLZXknKTtcbn07XG5cbmV4cG9ydHMuY2hlY2tFbXB0eU9iaiA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgaWYgKHR5cGVvZiBkYXRhICE9PSAnb2JqZWN0JyB8fCAoT2JqZWN0LmtleXMoZGF0YSkubGVuZ3RoID09PSAwKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbmV4cG9ydHMuY2hlY2tEb21haW4gPSBmdW5jdGlvbih1cmwpIHtcbiAgY29uc3QgcmVnID0gbmV3IFJlZ0V4cCgvXlthLXpBLVowLTldWy1hLXpBLVowLTldezAsNjJ9KFxcLlthLXpBLVowLTldWy1hLXpBLVowLTldezAsNjJ9KSsoOlswLTldezEsNX0pKiQvKTtcbiAgaWYgKCF1cmwgfHwgIXVybC5tYXRjaChyZWcpKSB7XG4gICAgdmFyIHVsb2cgPSByZXF1aXJlKCdAdXRpbHMvdWxvZycpO1xuICAgIHVsb2coKS50aXBfdyh1bG9nKCkucmVwZWF0KFwiIVwiKSk7XG4gICAgdWxvZygpLnRpcF93KFwi5pS25pWw5Z+f5ZCN6YWN572u6ZSZ6K+vLOivt+ajgOafpWFwbHVzLXJob3N0LXblj5blgLznmoTlhoXlrrksIOato+ehruagvOW8jyBlZy4gdGVzdC1xdHJhY2tpbmcteHh4LmNvbTrnq6/lj6Plj7flj6/pgIkgXCIpO1xuICAgIHVsb2coKS50aXBfdyh1bG9nKCkucmVwZWF0KFwiIVwiKSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IFxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmV4cG9ydHMuY2hlY2tPcGVuaWQgPSBmdW5jdGlvbihvZCkge1xuICBpZiAoIW9kKSB7XG4gICAgdmFyIHVsb2cgPSByZXF1aXJlKCdAdXRpbHMvdWxvZycpO1xuICAgIHVsb2coKS50aXBfdyh1bG9nKCkucmVwZWF0KCchJykpO1xuICAgIHVsb2coKS50aXBfdyhcIlFU55qEVVborqHnrpfkvp3otZblsI/nqIvluo/nmoTnlKjmiLfllK/kuIDmoIfor4YsIOivt+ehruS/nemSiOWvueeUqOaIt+WUr+S4gOagh+ivhueahOS4iuaKpe+8ge+8gVwiKTtcbiAgICB1bG9nKCkudGlwX3coXCLphY3nva7lj4LogIPku6PnoIE6IGFwbHVzX3F1ZXVlLnB1c2goe2FjdGlvbjogJ2FwbHVzLnNldE1ldGFJbmZvJywgYXJndW1lbnRzOiBbJ19hbm9ueV9pZCcsIOW+hemFjee9ruWPluWAvF19KTtcIik7XG4gICAgdWxvZygpLnRpcF93KFwi6I635Y+W5bCP56iL5bqP5ZSv5LiA5qCH6K+G6K+35Y+C6ICD6ZO+5o6lOiBodHRwczovL3QudGIuY24vMWRUSGpUVFFGMFVqT1ROSGlDa2FDU1wiKTtcbiAgICB1bG9nKCkudGlwX3codWxvZygpLnJlcGVhdCgnIScpKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvbGliX3UvdXRpbHMvdXRpbC5qc1xuLy8gbW9kdWxlIGlkID0gMTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyogaXN0YW5idWwgaWdub3JlIGZpbGUgKi9cbnZhciBMT0dfUFJFRklYID0gJ1tBUExVU10gLS0gJztcblxubW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24gKCkge1xuICB2YXIgX2luc3RhbmNlID0gbnVsbDtcbiAgdmFyIF9kZWJ1ZyA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIFVMb2coKSB7XG4gICAgdGhpcy5zZXREZWJ1ZyA9IGZ1bmN0aW9uIChkZWJ1Zykge1xuICAgICAgX2RlYnVnID0gZGVidWc7XG4gICAgfTtcblxuICAgIHRoaXMuaSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgYXJndW1lbnRzWzBdID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGFyZ3VtZW50c1swXSA9IExPR19QUkVGSVggKyBhcmd1bWVudHNbMF07XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5pbmZvLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGVcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5lID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF9kZWJ1Zykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICh0eXBlb2YgYXJndW1lbnRzWzBdID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgYXJndW1lbnRzWzBdID0gTE9HX1BSRUZJWCArIGFyZ3VtZW50c1swXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc29sZS5lcnJvci5hcHBseShjb25zb2xlLCBhcmd1bWVudHMpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMudyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgYXJndW1lbnRzWzBdID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGFyZ3VtZW50c1swXSA9IExPR19QUkVGSVggKyBhcmd1bWVudHNbMF07XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS53YXJuLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGVcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy52ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF9kZWJ1Zykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICh0eXBlb2YgYXJndW1lbnRzWzBdID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgYXJndW1lbnRzWzBdID0gTE9HX1BSRUZJWCArIGFyZ3VtZW50c1swXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgYXJndW1lbnRzKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnRpcF93ID0gZnVuY3Rpb24gKG1zZykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgJyVjICcgKyBMT0dfUFJFRklYICsgbXNnLFxuICAgICAgICAgICdiYWNrZ3JvdW5kOnJlZDsgcGFkZGluZzogNHB4OyBwYWRkaW5nLXJpZ2h0OiA4cHg7IGJvcmRlci1yYWRpdXM6IDRweDsgY29sb3I6ICNmZmY7J1xuICAgICAgICApO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBlXG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMucmVwZWF0ID0gZnVuY3Rpb24oY2hhcikge1xuICAgICAgdmFyIHJlcyA9IGNoYXI7XG4gICAgICB3aGlsZSAocmVzLmxlbmd0aCA8IDg2KSB7XG4gICAgICAgIHJlcyA9IHJlcyArIGNoYXI7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmIChfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIF9pbnN0YW5jZSA9IG5ldyBVTG9nKCk7XG4gICAgfVxuICAgIHJldHVybiBfaW5zdGFuY2U7XG4gIH07XG59KSgpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2xpYl91L3V0aWxzL3Vsb2cuanNcbi8vIG1vZHVsZSBpZCA9IDExXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBjYWNoZSA9IHJlcXVpcmUoJy4vY2FjaGUnKTtcbnZhciB1bG9nID0gcmVxdWlyZSgnQHV0aWxzL3Vsb2cnKTtcbnZhciBhcGx1c1N0YXRpYyA9IHJlcXVpcmUoJ0B1dGlscy9hcGx1c1N0YXRpYycpO1xudmFyIG1pbmkgPSByZXF1aXJlKCdAdXRpbHMvbWluaScpO1xudmFyIGNsb25lRGVlcCA9IHJlcXVpcmUoJ0B1dGlscy9jbG9uZURlZXAnKTtcbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcbnZhciB1dGlsR29sZGxvZyA9IHJlcXVpcmUoJ0B1dGlscy91dGlsR29sZGxvZycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpe1xuICB2YXIgX2luc3RhbmNlID0gbnVsbDtcbiAgdmFyIF9yZXN1bWVUaW1lID0gbnVsbDtcbiAgdmFyIF9jdXJyZW50U2Vzc2lvbiA9IG51bGw7IC8vIOW9k+WJjXNlc3Npb27lr7nosaFcblxuICBmdW5jdGlvbiBpbml0KCl7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3VtZTogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG5ld1Nlc3Npb24gPSBmYWxzZTtcblxuICAgICAgICBpZiAoIV9jdXJyZW50U2Vzc2lvbikge1xuICAgICAgICAgIF9jdXJyZW50U2Vzc2lvbiA9IGNhY2hlKCkuZ2V0KGFwbHVzU3RhdGljLkNVUlJFTlRfU0VTU0lPTik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIF9yZXN1bWVUaW1lID0gZGF0ZS5nZXRUaW1lKCk7XG4gICAgICAgIGlmICghX2N1cnJlbnRTZXNzaW9uXG4gICAgICAgICAgfHwgIV9jdXJyZW50U2Vzc2lvbi5lbmRfdGltZVxuICAgICAgICAgIHx8IF9yZXN1bWVUaW1lIC0gX2N1cnJlbnRTZXNzaW9uLmVuZF90aW1lID4gYXBsdXNTdGF0aWMuU0VTU0lPTl9JTlRFUlZBTCkge1xuICAgICAgICAgIG5ld1Nlc3Npb24gPSB0cnVlO1xuICAgICAgICAgIF9jcmVhdGVOZXdTZXNzaW9uKG9wdGlvbnMpO1xuICAgICAgICAgIHVsb2coKS52KCflvIDlp4vmlrDnmoRzZXNzaW9uKCVzKTogJywgX2N1cnJlbnRTZXNzaW9uLmlkLCBfY3VycmVudFNlc3Npb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVsb2coKS52KCflu7bnu63kuIrkuIDmrKFzZXNzaW9uKCVzKTogJXMgJywgX2N1cnJlbnRTZXNzaW9uLmlkLCBkYXRlLnRvTG9jYWxlVGltZVN0cmluZygpLCBfY3VycmVudFNlc3Npb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdTZXNzaW9uO1xuICAgICAgfSxcblxuICAgICAgLy8g5Zyob25IaWRl5pa55rOV5pe26Zet5ZCIc2Vzc2lvblxuICAgICAgcGF1c2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX2VuZFNlc3Npb24oKTtcbiAgICAgIH0sXG5cbiAgICAgIC8vIOiOt+WPluW9k+WJjeeahHNlc3Npb25JZO+8jOayoeacieWImei/lOWbnuepulxuICAgICAgZ2V0Q3VycmVudFNlc3Npb25JZDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKF9jdXJyZW50U2Vzc2lvbiB8fCB7fSkuaWQ7XG4gICAgICB9LFxuXG4gICAgICBnZXRDdXJyZW50U2Vzc2lvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX2N1cnJlbnRTZXNzaW9uO1xuICAgICAgfSxcblxuICAgICAgY2xvbmVDdXJyZW50U2Vzc2lvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY2xvbmVEZWVwKF9jdXJyZW50U2Vzc2lvbik7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZXRVbVBhcmFtcyhxdWVyeSkge1xuICAgIHZhciBhcGx1c19xdWVyeSA9IHt9O1xuICAgIGZvciAodmFyIGkgaW4gcXVlcnkpIHtcbiAgICAgIGFwbHVzX3F1ZXJ5W2ldID0gcXVlcnlbaV07XG4gICAgfVxuXG4gICAgdWxvZygpLnYoJ3F1ZXJ5OiAnLCBxdWVyeSk7XG4gICAgcmV0dXJuIGFwbHVzX3F1ZXJ5O1xuICB9XG5cbiAgLy8g5byA5aeL5LiA5Liq5pawc2Vzc2lvblxuICBmdW5jdGlvbiBfY3JlYXRlTmV3U2Vzc2lvbihuZXdPcHRpb25zKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBwcmV2T3B0aW9ucyA9IChfY3VycmVudFNlc3Npb24gfHwge30pLm9wdGlvbnMgfHwge307XG4gICAgICBcbiAgICAgIHZhciBsYXVuY2hPcHRpb25zID0gdXRpbHMuYXNzaWduKHt9LCBfZ2V0VW1QYXJhbXMobmV3T3B0aW9ucy5xdWVyeSkpO1xuICAgICAgbGF1bmNoT3B0aW9ucy5wYXRoID0gbmV3T3B0aW9ucy5wYXRoIHx8IHByZXZPcHRpb25zLnBhdGg7XG4gICAgICBsYXVuY2hPcHRpb25zLnNjZW5lID0gbmV3T3B0aW9ucy5zY2VuZVxuICAgICAgICA/IG1pbmkuZ2V0UGxhdGZvcm1UeXBlKCkgKyAnXycgKyBuZXdPcHRpb25zLnNjZW5lXG4gICAgICAgIDogcHJldk9wdGlvbnMuc2NlbmU7XG5cbiAgICAgIHZhciByZWZlcnJlckluZm8gPSBuZXdPcHRpb25zLnJlZmVycmVySW5mbztcbiAgICAgIGlmIChyZWZlcnJlckluZm8pIHtcbiAgICAgICAgbGF1bmNoT3B0aW9ucy5yZWZlcnJlckFwcElkID0gcmVmZXJyZXJJbmZvLmFwcElkO1xuICAgICAgfVxuXG4gICAgICB1bG9nKCkudignc2Vzc2lvbiBvcHRpb25zOiAnLCBsYXVuY2hPcHRpb25zKTtcbiAgICAgIHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKCdhcGx1cycpO1xuICAgICAgdmFyIGdwID0gYXBsdXMuZ2V0TWV0YUluZm8oJ2dsb2JhbHByb3BlcnR5Jyk7XG4gICAgICB2YXIgdHMgPSBEYXRlLm5vdygpO1xuICAgICAgX2N1cnJlbnRTZXNzaW9uID0ge1xuICAgICAgICBpZDogdXRpbHMuZ2V0UmFuZG9tU3RyKDEwKSArIHRzLFxuICAgICAgICBzdGFydF90aW1lOiB0cyxcbiAgICAgICAgb3B0aW9uczogbGF1bmNoT3B0aW9ucyxcbiAgICAgICAgc3RhdGVfczogMVxuICAgICAgfTsgXG4gICAgICBpZiAoZ3ApIHtcbiAgICAgICAgX2N1cnJlbnRTZXNzaW9uWydncCddID0gZ3A7XG4gICAgICB9IFxuXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdWxvZygpLmUoJ+eUn+aIkOaWsHNlc3Npb27lpLHotKU6ICcsIGUpO1xuICAgIH1cbiAgfVxuXG4gIC8vIOe7k+adn+W9k+WJjXNlc3Npb27vvIznlLHkuo4zMOenkuacuuWItu+8jOS4gOS4qnNlc3Npb27kvJrooqvnu5PmnZ/lpJrmrKFcbiAgZnVuY3Rpb24gX2VuZFNlc3Npb24oKSB7XG4gICAgaWYgKF9jdXJyZW50U2Vzc2lvbikge1xuICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgX2N1cnJlbnRTZXNzaW9uLmVuZF90aW1lID0gZGF0ZS5nZXRUaW1lKCk7XG4gICAgICBpZiAodHlwZW9mIF9jdXJyZW50U2Vzc2lvbi5kdXJhdGlvbiAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgX2N1cnJlbnRTZXNzaW9uLmR1cmF0aW9uID0gMDtcbiAgICAgIH1cbiAgICAgIF9jdXJyZW50U2Vzc2lvbi5kdXJhdGlvbiA9IF9jdXJyZW50U2Vzc2lvbi5lbmRfdGltZSAtIF9yZXN1bWVUaW1lO1xuICAgICAgX2N1cnJlbnRTZXNzaW9uLnN0YXRlX3MgPSAwO1xuICAgICAgY2FjaGUoKS5zZXQoYXBsdXNTdGF0aWMuQ1VSUkVOVF9TRVNTSU9OLCBfY3VycmVudFNlc3Npb24pO1xuXG4gICAgICB1bG9nKCkudign6YCA5Ye65Lya6K+dKCVzKTogJXMgJywgX2N1cnJlbnRTZXNzaW9uLmlkLCBkYXRlLnRvTG9jYWxlVGltZVN0cmluZygpLCBfY3VycmVudFNlc3Npb24pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFfaW5zdGFuY2UpIHtcbiAgICAgIF9pbnN0YW5jZSA9IGluaXQoKTtcbiAgICB9XG4gICAgcmV0dXJuIF9pbnN0YW5jZTtcbiAgfTtcblxufSkoKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9wbHVnaW5zL2xpYl91bS91bV9zZXNzaW9uX21hbmFnZXIuanNcbi8vIG1vZHVsZSBpZCA9IDEyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBtaW5pID0gcmVxdWlyZSgnQHV0aWxzL21pbmknKTtcbnZhciBpc0Z1bmN0aW9uID0gcmVxdWlyZSgnQHV0aWxzL2lzRnVuY3Rpb24nKTtcbnZhciBqc29uVXRpbCA9IHJlcXVpcmUoJy4vanNvblV0aWwnKTtcbnZhciB1bG9nID0gcmVxdWlyZSgnQHV0aWxzL3Vsb2cnKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnQHV0aWxzL3V0aWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oKXtcbiAgdmFyIF9pbnN0YW5jZSA9IG51bGw7XG4gIHZhciBfbmFtZSA9ICcnO1xuICB2YXIgX2RhdGEgPSBudWxsO1xuICB2YXIgX2xvYWRlZCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIENhY2hlKCkge1xuICAgIHZhciBjdHggPSBtaW5pLmdldENvbnRleHQoKTtcbiAgICB0aGlzLmxvYWQgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICAgIGlmICghX2RhdGEpIHtcbiAgICAgICAgX25hbWUgPSAnYXBsdXNfY2FjaGVfJyArIHV0aWwuZ2V0QXBwS2V5KCkgfHwgJyc7XG4gICAgICAgIGN0eC5nZXRTdG9yYWdlKHtcbiAgICAgICAgICBrZXk6IF9uYW1lLFxuICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgIGlmIChyZXMgJiYgcmVzLmRhdGEpIHtcbiAgICAgICAgICAgICAgX2RhdGEgPSBqc29uVXRpbC5wYXJzZShyZXMuZGF0YSkgfHwge307XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBfZGF0YSA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX2xvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICBjdHgucmVtb3ZlU3RvcmFnZSh7XG4gICAgICAgICAgICAgIGtleTogX25hbWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaXNGdW5jdGlvbihjYikgJiYgY2IoKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZhaWw6IGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgICAgIHVsb2coKS52KF9uYW1lICsgJzogJyArIGUuZXJyTXNnKTtcbiAgICAgICAgICAgIF9kYXRhID0ge307XG4gICAgICAgICAgICBfbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGN0eC5yZW1vdmVTdG9yYWdlKHtcbiAgICAgICAgICAgICAga2V5OiBfbmFtZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpc0Z1bmN0aW9uKGNiKSAmJiBjYigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdHgucmVtb3ZlU3RvcmFnZSh7XG4gICAgICAgICAga2V5OiBfbmFtZVxuICAgICAgICB9KTtcbiAgICAgICAgaXNGdW5jdGlvbihjYikgJiYgY2IoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5zYXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF9kYXRhKSB7XG4gICAgICAgIGN0eC5zZXRTdG9yYWdlKHtcbiAgICAgICAgICBrZXk6IF9uYW1lLFxuICAgICAgICAgIGRhdGE6IGpzb25VdGlsLnN0cmluZ2Z5KF9kYXRhKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5zZXQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKF9kYXRhKSB7XG4gICAgICAgIF9kYXRhW2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5nZXQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gKF9kYXRhIHx8IHt9KVtrZXldO1xuICAgIH07XG5cbiAgICB0aGlzLnJlbW92ZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGlmIChfZGF0YSAmJiBfZGF0YVtrZXldKSB7XG4gICAgICAgIGRlbGV0ZSBfZGF0YVtrZXldO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmdldEFsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfZGF0YTtcbiAgICB9O1xuXG4gICAgdGhpcy5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF9kYXRhID0gbnVsbDtcbiAgICB9O1xuXG4gICAgdGhpcy5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gISF0aGlzLmdldChrZXkpO1xuICAgIH07XG5cbiAgICB0aGlzLmlzTG9hZGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF9sb2FkZWQ7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFfaW5zdGFuY2UpIHtcbiAgICAgIF9pbnN0YW5jZSA9IG5ldyBDYWNoZSgpO1xuICAgIH1cblxuICAgIHJldHVybiBfaW5zdGFuY2U7XG4gIH07XG59KSgpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3BsdWdpbnMvbGliX3VtL2NhY2hlLmpzXG4vLyBtb2R1bGUgaWQgPSAxM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcbmV4cG9ydHMuc3RyaW5nZnkgPSBmdW5jdGlvbihkYXRhKSB7XG4gIGlmIChkYXRhKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBlbXB0eVxuICAgIH1cbiAgfVxuICByZXR1cm4gJyc7XG59O1xuXG5leHBvcnRzLnBhcnNlID0gZnVuY3Rpb24oanNvbikge1xuICBpZiAoanNvbikge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBlbXB0eVxuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbmV4cG9ydHMucGFyc2VUb0FycmF5ID0gZnVuY3Rpb24oanNvbikge1xuICBpZiAoanNvbikge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBlbXB0eVxuICAgIH1cbiAgfVxuICByZXR1cm4gW107XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3BsdWdpbnMvbGliX3VtL2pzb25VdGlsLmpzXG4vLyBtb2R1bGUgaWQgPSAxNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzLmdldFJhbmRvbVN0ciA9IGZ1bmN0aW9uKGxlbikge1xuICB2YXIgc3RyID0gJyc7XG4gIHZhciBhcnIgPSBbJzAnLCAnMScsICcyJywgJzMnLCAnNCcsICc1JywgJzYnLCAnNycsICc4JywgJzknLCAnYScsICdiJywgJ2MnLCAnZCcsICdlJywgJ2YnLCAnZycsICdoJywgJ2knLCAnaicsICdrJywgJ2wnLCAnbScsICduJywgJ28nLCAncCcsICdxJywgJ3InLCAncycsICd0JywgJ3UnLCAndicsICd3JywgJ3gnLCAneScsICd6JywgJ0EnLCAnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLCAnTicsICdPJywgJ1AnLCAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWiddO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IE51bWJlcihsZW4pOyBpKyspIHtcbiAgICB2YXIgcG9zID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogKGFyci5sZW5ndGggLSAxKSk7XG4gICAgc3RyICs9IGFycltwb3NdO1xuICB9XG4gIHJldHVybiBzdHI7XG59O1xuXG5leHBvcnRzLnN0YXJ0c1dpdGggPSBmdW5jdGlvbihzdHIsIHNlYXJjaFZhbCkge1xuICBpZiAoIXN0ciB8fCAhc2VhcmNoVmFsIHx8IHNlYXJjaFZhbC5sZW5ndGggPT09IDAgfHwgc2VhcmNoVmFsLmxlbmd0aCA+IHN0ci5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHN0ci5zdWJzdHIoMCwgc2VhcmNoVmFsLmxlbmd0aCkgPT09IHNlYXJjaFZhbDtcbn07XG5cbmV4cG9ydHMuYXNzaWduID0gZnVuY3Rpb24odGFyZ2V0KSB7XG4gIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCB8fCB0YXJnZXQgPT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3QnKTtcbiAgfVxuXG4gIHZhciBvdXRwdXQgPSBPYmplY3QodGFyZ2V0KTtcbiAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8IGFyZ3VtZW50cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICBpZiAoc291cmNlKSB7XG4gICAgICBmb3IgKHZhciBuZXh0S2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwgbmV4dEtleSkpIHtcbiAgICAgICAgICBvdXRwdXRbbmV4dEtleV0gPSBzb3VyY2VbbmV4dEtleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG91dHB1dDtcbn07XG5cbi8vIDEuZWt25Lit5a2Y5Zyo6KeE5YiZ5LiN5ZCI5rOV5oOF5Ya177yM5Lii5byD5pW05p2h5LqL5Lu2XG4vLyAyLmV2ZW50aWTplb/luqbkuI3og73otoXov4cxMjjkuKrlrZfnrKZcbi8vIDMua2V56ZW/5bqm5LiN6IO96LaF6L+HMjU25Liq5a2X56ymXG4vLyA0Luavj+S4qmV2ZW505pC65bima2V55Liq5pWw5LiN6IO96LaF6L+HMTAw5LiqXG5leHBvcnRzLmNoZWNrRXZlbnQgPSBmdW5jdGlvbihldmVudElkLCBwcm9wZXJ0aWVzKSB7XG4gIHZhciBhcGx1c1N0YXRpYyA9IHJlcXVpcmUoJ0B1dGlscy9hcGx1c1N0YXRpYycpO1xuICB2YXIgdWxvZyA9IHJlcXVpcmUoJ0B1dGlscy91bG9nJyk7XG4gIGlmICghKGV2ZW50SWQgJiYgdHlwZW9mIGV2ZW50SWQgPT09ICdzdHJpbmcnKSkge1xuICAgIHVsb2coKS5lKCdwbGVhc2UgY2hlY2sgdHJhY2tFdmVudCBpZC4gaWQgc2hvdWxkIGJlIFwic3RyaW5nXCIgYW5kIG5vdCBudWxsJyk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8g5L+d55WZ5YWz6ZSu5a2XXG4gIHZhciByZXNlcnZlV29yZHMgPSBbJ2lkJywgJ2R1J107XG4gIHZhciByZXNlcnZlV29yZE1hcCA9IHt9O1xuXG4gIHJlc2VydmVXb3Jkcy5mb3JFYWNoKGZ1bmN0aW9uICh3b3JkKSB7XG4gICAgcmVzZXJ2ZVdvcmRNYXBbd29yZF0gPSAxO1xuICB9KTtcblxuICAvLyDmo4Dmn6VldmVudElk5piv5ZCm5LiO5L+d55WZ5YWz6ZSu5a2X5Yay56qBXG4gIGlmIChyZXNlcnZlV29yZE1hcFtldmVudElkXSkge1xuICAgIHVsb2coKS5lKCdldmVudElk5LiN6IO95LiO5Lul5LiL5L+d55WZ5a2X5Yay56qBOiAnICsgcmVzZXJ2ZVdvcmRzLmpvaW4oJywnKSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKGV2ZW50SWQubGVuZ3RoID4gYXBsdXNTdGF0aWMuTUFYX0VWRU5USURfTEVOR1RIKSB7XG4gICAgdWxvZygpLmUoJ1RoZSBtYXhpbXVtIGxlbmd0aCBvZiBldmVudCBpZCBzaGFsbCBub3QgZXhjZWVkICcgKyBhcGx1c1N0YXRpYy5NQVhfRVZFTlRJRF9MRU5HVEgpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIHByb3BlcnRpZXPnmoTlkIjms5XnsbvlnovkuLogc3RyaW5nIHwgb2JqZWN0KG5vdCBpbmNsdWRlIEFycmF5KVxuICBpZiAocHJvcGVydGllc1xuICAgICYmICh0eXBlb2YgcHJvcGVydGllcyAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheShwcm9wZXJ0aWVzKSlcbiAgICAmJiB0eXBlb2YgcHJvcGVydGllcyAhPT0gJ3N0cmluZycpIHtcbiAgICB1bG9nKCkuZSgncGxlYXNlIGNoZWNrIHRyYWNrRXZlbnQgcHJvcGVydGllcy4gcHJvcGVydGllcyBzaG91bGQgYmUgc3RyaW5nIG9yIG9iamVjdChub3QgaW5jbHVkZSBBcnJheSknKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAodHlwZW9mIHByb3BlcnRpZXMgPT09ICdvYmplY3QnKSB7XG4gICAgdmFyIGNvdW50ID0gMDtcbiAgICBmb3IgKHZhciBrZXkgaW4gcHJvcGVydGllcykge1xuICAgICAgaWYgKHt9Lmhhc093blByb3BlcnR5LmNhbGwocHJvcGVydGllcywga2V5KSkge1xuICAgICAgICBpZiAoa2V5Lmxlbmd0aCA+IGFwbHVzU3RhdGljLk1BWF9QUk9QRVJUWV9LRVlfTEVOR1RIKSB7XG4gICAgICAgICAgdWxvZygpLmUoJ1RoZSBtYXhpbXVtIGxlbmd0aCBvZiBwcm9wZXJ0eSBrZXkgc2hhbGwgbm90IGV4Y2VlZCAnICsgYXBsdXNTdGF0aWMuTUFYX1BST1BFUlRZX0tFWV9MRU5HVEgpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb3VudCA+PSBhcGx1c1N0YXRpYy5NQVhfUFJPUEVSVFlfS0VZU19DT1VOVCkge1xuICAgICAgICAgIHVsb2coKS5lKCdUaGUgbWF4aW11bSBjb3VudCBvZiBwcm9wZXJ0aWVzIHNoYWxsIG5vdCBleGNlZWQgJyArIGFwbHVzU3RhdGljLk1BWF9QUk9QRVJUWV9LRVlTX0NPVU5UKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVzZXJ2ZVdvcmRNYXBba2V5XSkge1xuICAgICAgICAgIHVsb2coKS5lKCflsZ7mgKfkuK3nmoRrZXnkuI3og73kuI7ku6XkuIvkv53nlZnlrZflhrLnqoE6ICcgKyByZXNlcnZlV29yZHMuam9pbignLCcpKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb3VudCArPSAxO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuXG52YXIgZWFjaCA9IHJlcXVpcmUoJ0B1dGlscy9lYWNoJyk7XG5cbmV4cG9ydHMuZGVsZXRlSW5mbyA9IGZ1bmN0aW9uKGdva2V5LCBhcnIpIHtcbiAgZWFjaChhcnIsIGZ1bmN0aW9uKHYpIHtcbiAgICBkZWxldGUgZ29rZXlbdl07XG4gIH0pO1xuICByZXR1cm4gZ29rZXk7XG59O1xuXG5leHBvcnRzLmNoZWNrRW1wdHlPYmogPSBmdW5jdGlvbihkYXRhKSB7XG4gIGlmICh0eXBlb2YgZGF0YSAhPT0gJ29iamVjdCcgfHwgKE9iamVjdC5rZXlzKGRhdGEpLmxlbmd0aCA9PT0gMCkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5cbmV4cG9ydHMuRGF0YVR5cGUgPSB7XG4gIEhBTEZfU0VTU0lPTjogJ2hhbGZfc2Vzc2lvbicsXG4gIENMT1NFX1NFU1NJT046ICdjbG9zZV9zZXNzaW9uJyxcbiAgRUtWOiAnZWt2JyxcbiAgRU5URVJfUEFHRTogJ2VudGVyX3BhZ2UnLFxuICBMRUFWRV9QQUdFOiAnbGVhdmVfcGFnZSdcbn07XG5cbmV4cG9ydHMuQWNjZXNzVHlwZSA9IHtcbiAgTU9CSUxFX05FVFdPUktfMkc6ICcyZycsXG4gIE1PQklMRV9ORVRXT1JLXzNHOiAnM2cnLFxuICBNT0JJTEVfTkVUV09SS180RzogJzRnJyxcbiAgTU9CSUxFX05FVFdPUktfTk9ORTogJ25vbmUnXG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3BsdWdpbnMvbGliX3VtL3V0aWxzLmpzXG4vLyBtb2R1bGUgaWQgPSAxNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIHByb2plY3QgLSBmaWxlcGF0aFxuICogZG9t5pON5L2c5bel5YW357G777yM6L+Z5Liq5Z+656GA5bel5YW357G75Lya6KKr5YW25LuW5bel5YW357G75byV55So77yM5pWF5Lil56aB5Zyo6L+Z6YeM5YaN5byV55So5YW25LuW5qih5Z2X5Lul5YWN5Ye6546w6Zeu6aKYXG4gKlxuICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuICpcbiAqIEF1dGhvcnM6XG4gKiAgIOiwi+WjqyA8cWluZ2xpYW5nLmhxbEBhbGliYWJhLWluYy5jb20+XG4gKi9cbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJyLCBmbikge1xuICB2YXIgaTtcbiAgdmFyIGwgPSBhcnIubGVuZ3RoO1xuICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgdmFyIHJzID0gZm4oYXJyW2ldLCBpKTtcbiAgICBpZiAocnMgPT09ICdicmVhaycpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9saWJfdS91dGlscy9lYWNoLmpzXG4vLyBtb2R1bGUgaWQgPSAxNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgY2FjaGUgPSByZXF1aXJlKCcuL2NhY2hlJyk7XG52YXIgdWxvZyA9IHJlcXVpcmUoJ0B1dGlscy91bG9nJyk7XG52YXIgYXBsdXNTdGF0aWMgPSByZXF1aXJlKCdAdXRpbHMvYXBsdXNTdGF0aWMnKTtcbnZhciBpc0FycmF5ID0gcmVxdWlyZSgnQHV0aWxzL2lzQXJyYXknKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oKXtcbiAgdmFyIF9pbnN0YW5jZTtcbiAgdmFyIF9zZXNzaW9uSWQ7XG4gIHZhciBfbWVtb3J5RXZlbnRzID0gW107XG5cbiAgLy8g5Zyo5Yib5bu6c2Vzc2lvbklk5YmN5re75Yqg55qE5LqL5Lu2XG4gIHZhciBfbm9TZXNzaW9uRXZlbnRzID0gW107XG5cbiAgZnVuY3Rpb24gX2NhY2hlRXZlbnRzKCkge1xuICAgIGlmIChfbWVtb3J5RXZlbnRzLmxlbmd0aCkge1xuICAgICAgdmFyIGVrdnMgPSBjYWNoZSgpLmdldChhcGx1c1N0YXRpYy5FS1ZTKTtcbiAgICAgIFxuICAgICAgLy8g5pys5Zyw5pyA5aSa5a2Y5YKoIEVWRU5UX01BWF9DT1VOVCDmnaHmlbDmja7vvIzjgIzlpJrkvZnmlbDmja7jgI3mmoLml7blhYjmipvlvINcbiAgICAgIGlmIChfZ2V0Q2FjaGVFdmVudHNMZW5ndGgoZWt2cykgKyBfbWVtb3J5RXZlbnRzLmxlbmd0aCA8PSBhcGx1c1N0YXRpYy5FVkVOVF9NQVhfQ09VTlQpIHtcbiAgICAgICAgZWt2cyA9IF9idWlsZEVrdnMoZWt2cywgX21lbW9yeUV2ZW50cyk7XG4gICAgICAgIFxuICAgICAgICBjYWNoZSgpLnNldChhcGx1c1N0YXRpYy5FS1ZTLCBla3ZzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfYnVpbGRFa3ZzKGVrdnMsIG1lbW9yeUV2ZW50cykge1xuICAgIGVrdnMgPSBla3ZzIHx8IHt9O1xuICAgIHZhciBldmVudHMgPSBla3ZzW19zZXNzaW9uSWRdO1xuICAgIGlmIChpc0FycmF5KGV2ZW50cykgJiYgZXZlbnRzLmxlbmd0aCkge1xuICAgICAgZWt2c1tfc2Vzc2lvbklkXSA9IGV2ZW50cy5jb25jYXQobWVtb3J5RXZlbnRzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWt2c1tfc2Vzc2lvbklkXSA9IFtdLmNvbmNhdChtZW1vcnlFdmVudHMpO1xuICAgIH1cblxuICAgIHJldHVybiBla3ZzO1xuICB9XG5cbiAgZnVuY3Rpb24gX2dldENhY2hlRXZlbnRzTGVuZ3RoKGV2ZW50c01hcCkge1xuICAgIHZhciBsZW4gPSAwO1xuICAgIGZvciAodmFyIGtleSBpbiBldmVudHNNYXApIHtcbiAgICAgIGlmIChpc0FycmF5KGV2ZW50c01hcFtrZXldKSkge1xuICAgICAgICBsZW4gKz0gZXZlbnRzTWFwW2tleV0ubGVuZ3RoO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbGVuO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWRkRXZlbnQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoIWV2ZW50KSByZXR1cm47XG4gICAgICAgIGlmIChfc2Vzc2lvbklkKSB7XG4gICAgICAgICAgX21lbW9yeUV2ZW50cy51bnNoaWZ0KGV2ZW50KTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoX21lbW9yeUV2ZW50cy5sZW5ndGggPiBhcGx1c1N0YXRpYy5NRU1PUllfTUFYX0NPVU5UKSB7XG4gICAgICAgICAgICBfY2FjaGVFdmVudHMoX3Nlc3Npb25JZCk7XG4gICAgICAgICAgICBfbWVtb3J5RXZlbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVsb2coKS53KCdzZXNzaW9uIGlkIGlzIG51bGw6ICcsIF9zZXNzaW9uSWQpO1xuICAgICAgICAgIFxuICAgICAgICAgIF9ub1Nlc3Npb25FdmVudHMudW5zaGlmdChldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIHNldFNlc3Npb25JZDogZnVuY3Rpb24gKHNlc3Npb25JZCkge1xuICAgICAgICBfc2Vzc2lvbklkID0gc2Vzc2lvbklkO1xuXG4gICAgICAgIHVsb2coKS52KCdzZXRTZXNzaW9uSWQ6ICcsIF9zZXNzaW9uSWQpO1xuICAgICAgICBpZiAoaXNBcnJheShfbm9TZXNzaW9uRXZlbnRzKSAmJiBfbm9TZXNzaW9uRXZlbnRzLmxlbmd0aCAmJiBfc2Vzc2lvbklkKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfbm9TZXNzaW9uRXZlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmFkZEV2ZW50KF9ub1Nlc3Npb25FdmVudHNbaV0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF9ub1Nlc3Npb25FdmVudHMubGVuZ3RoID0gMDtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgZ2V0RWt2czogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZWt2cyA9IGNhY2hlKCkuZ2V0KGFwbHVzU3RhdGljLkVLVlMpO1xuICAgICAgICBcbiAgICAgICAgaWYgKF9tZW1vcnlFdmVudHMgJiYgX21lbW9yeUV2ZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICBla3ZzID0gX2J1aWxkRWt2cyhla3ZzLCBfbWVtb3J5RXZlbnRzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWt2cztcbiAgICAgIH0sXG5cbiAgICAgIGNsZWFyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhY2hlKCkucmVtb3ZlKGFwbHVzU3RhdGljLkVLVlMpO1xuICAgICAgICBfbWVtb3J5RXZlbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIF9ub1Nlc3Npb25FdmVudHMubGVuZ3RoID0gMDtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIV9pbnN0YW5jZSkge1xuICAgICAgX2luc3RhbmNlID0gaW5pdCgpO1xuICAgIH1cbiAgICByZXR1cm4gX2luc3RhbmNlO1xuICB9O1xufSkoKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9wbHVnaW5zL2xpYl91bS9ldmVudE1hbmFnZXIuanNcbi8vIG1vZHVsZSBpZCA9IDE3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogcHJvamVjdCAtIGZpbGVwYXRoXG4gKiBkb23mk43kvZzlt6XlhbfnsbvvvIzov5nkuKrln7rnoYDlt6XlhbfnsbvkvJrooqvlhbbku5blt6XlhbfnsbvlvJXnlKjvvIzmlYXkuKXnpoHlnKjov5nph4zlho3lvJXnlKjlhbbku5bmqKHlnZfku6XlhY3lh7rnjrDpl67pophcbiAqXG4gKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG4gKlxuICogQXV0aG9yczpcbiAqICAg6LCL5aOrIDxxaW5nbGlhbmcuaHFsQGFsaWJhYmEtaW5jLmNvbT5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkobyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIC9BcnJheS8udGVzdChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykpO1xuICB9XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2xpYl91L3V0aWxzL2lzQXJyYXkuanNcbi8vIG1vZHVsZSBpZCA9IDE4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBIZWFkZXIgPSByZXF1aXJlKCcuL3VtX2hlYWRlcicpO1xudmFyIGNhY2hlID0gcmVxdWlyZSgnLi9jYWNoZScpO1xudmFyIGFwbHVzU3RhdGljID0gcmVxdWlyZSgnQHV0aWxzL2FwbHVzU3RhdGljJyk7XG52YXIgdWxvZyA9IHJlcXVpcmUoJ0B1dGlscy91bG9nJyk7XG52YXIgYnVpbGRCb2R5ID0gcmVxdWlyZSgnLi9ib2R5QnVpbGRlcicpO1xudmFyIHJlcXVlc3QgPSByZXF1aXJlKCcuL3JlcXVlc3QnKTtcbnZhciBRdWV1ZSA9IHJlcXVpcmUoJy4vcXVldWUnKTtcbnZhciBpc0Z1bmN0aW9uID0gcmVxdWlyZSgnQHV0aWxzL2lzRnVuY3Rpb24nKTtcbnZhciB1dGlsRGFzaCA9IHJlcXVpcmUoJ0B1dGlscy91dGlsRGFzaCcpO1xudmFyIGNsb25lRGVlcCA9IHJlcXVpcmUoJ0B1dGlscy9jbG9uZURlZXAnKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnQHV0aWxzL3V0aWwnKTtcbnZhciBNQVhfUVVFVUVfQ09VTlQgPSA1MDsgLy8g5Li66Ziy5q2i5Zug572R57uc5byC5bi45a+86Ie057yT5a2Y6L+H5aSn77yM6K6+572u57yT5a2Y5Liq5pWw5LiK6ZmQXG52YXIgdXRpbEdvbGRsb2cgPSByZXF1aXJlKCdAdXRpbHMvdXRpbEdvbGRsb2cnKTtcbm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCl7IFxuICB2YXIgX2luc3RhbmNlID0gbnVsbDtcbiAgdmFyIF9ydW5uaW5nID0gZmFsc2U7XG4gIHZhciBfZmFpbFJlcXVlc3RzID0gW107XG4gIHZhciBfcXVldWUgPSBuZXcgUXVldWUoTUFYX1FVRVVFX0NPVU5UKTtcblxuICBmdW5jdGlvbiBfZW5xdWV1ZVJlcXVlc3QoZGF0YVR5cGUsIG9wdGlvbnMsIGNiKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdmFyIGRhdGEgPSBidWlsZEJvZHkoZGF0YVR5cGUpO1xuICAgIGlmIChkYXRhKSB7XG4gICAgICB2YXIgdXRpbEdvbGRsb2cgPSByZXF1aXJlKCdAdXRpbHMvdXRpbEdvbGRsb2cnKTtcbiAgICAgIHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKGFwbHVzU3RhdGljLkFQTFVTKTtcbiAgICAgIHZhciBjbGllbnQgPSBhcGx1cy5fYXBsdXNfY2xpZW50IHx8IHt9O1xuICAgICAgZGF0YS5oZWFkZXIgPSB1dGlsRGFzaC5hc3NpZ24oZGF0YS5oZWFkZXIsIEhlYWRlci5nZXROZXRJbmZvKGNsaWVudCkpO1xuICAgICAgZGF0YS5ub0NhY2hlID0gb3B0aW9ucy5ub0NhY2hlO1xuICAgICAgX3F1ZXVlLmVucXVldWUoZGF0YSk7XG4gICAgfVxuICAgIGlzRnVuY3Rpb24oY2IpICYmIGNiKCk7XG4gIH1cbiAgZnVuY3Rpb24gX3NlbmRRdWV1ZShjb21wbGV0ZWRDYWxsYmFjaykge1xuICAgIHZhciBkYXRhID0gX3F1ZXVlLmZyb250KCk7XG4gICAgdmFyIHN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfcXVldWUuZGVxdWV1ZSgpO1xuICAgICAgX3NlbmRRdWV1ZShjb21wbGV0ZWRDYWxsYmFjayk7XG4gICAgfTtcblxuICAgIHZhciBmYWlsID0gZnVuY3Rpb24gKCkge1xuICAgICAgLy8g5Y+R6YCB5aSx6LSl5YiZ5bCG6K+l5p2h5pWw5o2u5re75Yqg5Yiw6Zif5YiX5bC+6YOo77yM6Ziy5q2i5b2x5ZON5ZCO57ut5pWw5o2u55qE5Y+R6YCBXG4gICAgICB2YXIgaXRlbSA9IF9xdWV1ZS5kZXF1ZXVlKCk7XG4gICAgICBpdGVtICYmICghaXRlbS5ub0NhY2hlKSAmJiBfZmFpbFJlcXVlc3RzLnB1c2goaXRlbSk7XG4gICAgICBfc2VuZFF1ZXVlKGNvbXBsZXRlZENhbGxiYWNrKTtcbiAgICB9O1xuICAgIGlmIChkYXRhKSB7XG4gICAgICByZXF1ZXN0KGRhdGEsIHN1Y2Nlc3MsIGZhaWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBfcHJvY2Vzc0ZhaWxSZXF1ZXN0cygpO1xuICAgICAgY29tcGxldGVkQ2FsbGJhY2soKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfcHJvY2Vzc0ZhaWxSZXF1ZXN0cygpIHtcbiAgICAvLyDlj5HpgIHlrozmiJDlkI7lsIblpLHotKXnmoTor7fmsYLph43mlrDmt7vliqDliLDpmJ/liJfkuK1cbiAgICBfZmFpbFJlcXVlc3RzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIF9xdWV1ZS5lbnF1ZXVlKGl0ZW0pO1xuICAgIH0pO1xuICAgIF9mYWlsUmVxdWVzdHMubGVuZ3RoID0gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zdGFydFNlbmQoY29tcGxldGVkQ2FsbGJhY2spIHtcbiAgICBpZiAoX3J1bm5pbmcpIHtcbiAgICAgIHVsb2coKS52KCfpmJ/liJfmraPlnKjlj5HpgIHkuK0nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgX3J1bm5pbmcgPSB0cnVlO1xuICAgIC8vIOWcqHRhcm8xeOOAgXRhcm8yeOahhuaetuS4re+8jOW/hemhu+mAmui/h+WPmOmHj+WjsOaYjueahOaWueW8j+S8oOWFpe+8jOWQpuWImV9zZW5kUXVldWXpmLvloZ7vvIzlm57osIPml6Dms5Xph43nva5fcnVubmluZ++8jOWvvOiHtOaXpeW/l+WPkemAgeS4jeWHuu+8m+WOn+WboOS4jeaYjlxuICAgIC8vIOWmguaenOWOu+aOiV9ydW5uaW5n55qE6K+d77yM5Lya5a+86Ie06YeN5aSN5LiK5oqlc2Vzc2lvbuaXpeW/l1xuICAgIHZhciBjYiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF9ydW5uaW5nID0gZmFsc2U7XG4gICAgICBpc0Z1bmN0aW9uKGNvbXBsZXRlZENhbGxiYWNrKSAmJiBjb21wbGV0ZWRDYWxsYmFjaygpO1xuICAgIH07XG4gICAgX3NlbmRRdWV1ZShjYik7XG4gIH1cblxuICBmdW5jdGlvbiBSZXF1ZXN0UXVldWUoKSB7XG4gICAgdGhpcy5zZW5kID0gZnVuY3Rpb24gKGRhdGFUeXBlLCBvcHRpb25zLCBjb21wbGV0ZWRDYWxsYmFjaykge1xuICAgICAgaWYgKGRhdGFUeXBlKSB7XG4gICAgICAgIHRoaXMuYWRkKGRhdGFUeXBlLCBvcHRpb25zLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3N0YXJ0U2VuZChjb21wbGV0ZWRDYWxsYmFjayk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3N0YXJ0U2VuZChjb21wbGV0ZWRDYWxsYmFjayk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuYWRkID0gZnVuY3Rpb24gKGRhdGFUeXBlLCBvcHRpb25zLCBjYikge1xuICAgICAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoYXBsdXNTdGF0aWMuQVBMVVMpO1xuICAgICAgaWYgKCF1dGlsLmNoZWNrT3BlbmlkKGFwbHVzLmdldE1ldGFJbmZvKGFwbHVzU3RhdGljLl9BTk9OWV9JRCkpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIF9lbnF1ZXVlUmVxdWVzdChkYXRhVHlwZSwgb3B0aW9ucywgY2IpO1xuICAgIH07XG5cbiAgICB0aGlzLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgaXRlbXMgPSBjYWNoZSgpLmdldChhcGx1c1N0YXRpYy5SRVFVRVNUUyk7XG4gICAgICBpZiAoaXRlbXMgJiYgaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgIGl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICBfcXVldWUuZW5xdWV1ZShpdGVtKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBjYWNoZSgpLnJlbW92ZShhcGx1c1N0YXRpYy5SRVFVRVNUUyk7XG4gICAgfTtcblxuICAgIHRoaXMuc2F2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhY2hlKCkuc2V0KGFwbHVzU3RhdGljLlJFUVVFU1RTLCBjbG9uZURlZXAoX3F1ZXVlLml0ZW1zKCkpKTtcbiAgICAgIF9xdWV1ZS5jbGVhcigpOyAvLyDkuIDlrpropoHlhYjkv53lrZjlho3muIXnqbrvvIzlkKbliJnkv53lrZjnmoTmsLjov5zmmK/nqbrmlbDmja5cbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIV9pbnN0YW5jZSkge1xuICAgICAgX2luc3RhbmNlID0gbmV3IFJlcXVlc3RRdWV1ZSgpO1xuICAgIH1cbiAgICByZXR1cm4gX2luc3RhbmNlO1xuICB9O1xufSkoKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9wbHVnaW5zL2xpYl91bS9yZXF1ZXN0UXVldWUuanNcbi8vIG1vZHVsZSBpZCA9IDE5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBtaW5pID0gcmVxdWlyZSgnQHV0aWxzL21pbmknKTtcbnZhciBhcGx1c1N0YXRpYyA9IHJlcXVpcmUoJ0B1dGlscy9hcGx1c1N0YXRpYycpO1xudmFyIGNhY2hlID0gcmVxdWlyZSgnLi9jYWNoZScpO1xudmFyIHV0aWxHb2xkbG9nID0gcmVxdWlyZSgnQHV0aWxzL3V0aWxHb2xkbG9nJyk7XG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJ0B1dGlscy91dGlsJyk7XG5cbmV4cG9ydHMuZ2V0TmV0SW5mbyA9IGZ1bmN0aW9uKGNsaWVudCl7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgdmFyIGFjY2VzcyA9IGNsaWVudC5uZXR3b3JrVHlwZTtcbiAgaWYgKGFjY2VzcyA9PT0gJ25vbmUnKSB7XG4gICAgYWNjZXNzID0gJ3Vua25vd24nO1xuICB9XG5cbiAgYWNjZXNzID0gYWNjZXNzID8gYWNjZXNzLnRvTG93ZXJDYXNlKCkgOiAnJztcbiAgc3dpdGNoIChhY2Nlc3MpIHtcbiAgY2FzZSB1dGlscy5BY2Nlc3NUeXBlLk1PQklMRV9ORVRXT1JLXzRHOlxuICAgIHJlc3VsdC5hY2Nlc3Nfc3VidHlwZSA9ICdMVEUnO1xuICAgIHJlc3VsdC5hY2Nlc3MgPSAnNEcnO1xuICAgIGJyZWFrO1xuICBjYXNlIHV0aWxzLkFjY2Vzc1R5cGUuTU9CSUxFX05FVFdPUktfM0c6XG4gICAgcmVzdWx0LmFjY2Vzc19zdWJ0eXBlID0gJ0NETUEnO1xuICAgIHJlc3VsdC5hY2Nlc3MgPSAnM0cnO1xuICAgIGJyZWFrO1xuICBjYXNlIHV0aWxzLkFjY2Vzc1R5cGUuTU9CSUxFX05FVFdPUktfMkc6XG4gICAgcmVzdWx0LmFjY2Vzc19zdWJ0eXBlID0gJ0dSUFMnO1xuICAgIHJlc3VsdC5hY2Nlc3MgPSAnMkcnO1xuICAgIGJyZWFrO1xuICBkZWZhdWx0OlxuICAgIHJlc3VsdC5hY2Nlc3MgPSBhY2Nlc3M7XG4gICAgZGVsZXRlIHJlc3VsdC5hY2Nlc3Nfc3VidHlwZTtcbiAgICBicmVhaztcbiAgfTtcblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuZXhwb3J0cy5nZXRIZWFkZXJJbmZvID0gZnVuY3Rpb24oKSB7XG4gIHZhciBoZWFkZXIgPSB7fTtcbiAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoYXBsdXNTdGF0aWMuQVBMVVMpO1xuXG4gIHZhciBnbG9iYWxDb25maWcgPSBhcGx1cy5nbG9iYWxDb25maWcgfHwge307XG4gIHZhciBjbGllbnQgPSBhcGx1cy5fYXBsdXNfY2xpZW50IHx8IHt9O1xuXG4gIHZhciBkYXRhID0gY2FjaGUoKS5nZXQoYXBsdXNTdGF0aWMuSU1QUklOVCk7XG4gIGlmIChkYXRhKSB7XG4gICAgaGVhZGVyLmltcHJpbnQgPSBkYXRhO1xuICB9XG5cbiAgaGVhZGVyLmRldmljZV90eXBlID0gJ1Bob25lJztcbiAgaGVhZGVyLnNka192ZXJzaW9uID0gZ2xvYmFsQ29uZmlnLmx2ZXI7XG4gIGhlYWRlci5hcHBrZXkgPSB1dGlsLmdldEFwcEtleSgpO1xuICBoZWFkZXIuZGV2aWNlX2luZm8gPSAnJztcbiAgaGVhZGVyLmFwcGlkID0gY2xpZW50LmFwcElkO1xuICBoZWFkZXIuYXBwX2VudiA9IGNsaWVudC5hcHBFbnY7XG4gIGhlYWRlci5hcHBfdmVyc2lvbiA9IGFwbHVzLmdldE1ldGFJbmZvKCdhcHBWZXJzaW9uJykgfHwgJ2RldnRvb2xzJztcblxuICB2YXIgZ2xvYmFsX2FyZ3MgPSBhcGx1cy5nZXRNZXRhSW5mbygnYXBsdXMtZ2xvYmFsLWFyZ3MnKTtcbiAgaWYgKGdsb2JhbF9hcmdzICYmIGdsb2JhbF9hcmdzLmRlYnVnSWQpIHtcbiAgICBoZWFkZXIubWluaWFwcERlYnVnSWQgPSBnbG9iYWxfYXJncy5kZWJ1Z0lkO1xuICB9XG5cbiAgdmFyIHN5c3RlbUluZm8gPSBjbGllbnQgfHwge307XG4gIHN5c3RlbUluZm8uc2FmZUFyZWEgPSBzeXN0ZW1JbmZvLnNhZmVBcmVhIHx8IHt9O1xuXG4gIHZhciBtb2RlbCA9IHN5c3RlbUluZm8ubW9kZWwgfHwgJyc7XG4gIHZhciBwbGF0Zm9ybSA9IHN5c3RlbUluZm8ucGxhdGZvcm0gfHwgJyc7XG4gIHZhciBicmFuZCA9IHN5c3RlbUluZm8uYnJhbmQgfHwgJyc7XG4gIHZhciBicmFuZEwgPSBicmFuZC50b0xvd2VyQ2FzZSgpO1xuXG4gIGhlYWRlci5zZGtfdHlwZSA9IG1pbmkuZ2V0U2RrVHlwZSgpO1xuICBoZWFkZXIucGxhdGZvcm0gPSBtaW5pLmdldFBsYXRmb3JtVHlwZSgpO1xuICBoZWFkZXIucGxhdGZvcm1fc2RrX3ZlcnNpb24gPSBzeXN0ZW1JbmZvLlNES1ZlcnNpb247XG4gIGhlYWRlci5wbGF0Zm9ybV92ZXJzaW9uID0gc3lzdGVtSW5mby5wbGF0Zm9ybVZlcnNpb247XG4gICAgXG4gIHZhciB3ID0gTWF0aC5yb3VuZChzeXN0ZW1JbmZvLnNjcmVlbldpZHRoICogc3lzdGVtSW5mby5waXhlbFJhdGlvKTtcbiAgdmFyIGggPSBNYXRoLnJvdW5kKHN5c3RlbUluZm8uc2NyZWVuSGVpZ2h0ICogc3lzdGVtSW5mby5waXhlbFJhdGlvKTtcbiAgaGVhZGVyLnJlc29sdXRpb24gPSB3ID4gaCA/IHcgKyAnKicgKyBoIDogaCArICcqJyArIHc7XG5cbiAgaGVhZGVyLnBpeGVsX3JhdGlvID0gc3lzdGVtSW5mby5waXhlbFJhdGlvO1xuICBoZWFkZXIub3MgPSBwbGF0Zm9ybTtcbiAgaGVhZGVyLmZvbnRfc2l6ZV9zZXR0aW5nID0gc3lzdGVtSW5mby5mb250U2l6ZVNldHRpbmc7XG4gIGhlYWRlci5kZXZpY2VfbW9kZWwgPSBtb2RlbDsgLy8g6K6+5aSH5Z6L5Y+3XG4gIGhlYWRlci5kZXZpY2VfYnJhbmQgPSBicmFuZDsgLy8g6K6+5aSH55Sf5Lqn5ZWGXG4gIC8vIF9oZWFkZXIuY2hhbm5lbCA9IGJyYW5kTDsgLy8g6L+Z6YeM5rig6YGT5pqC5pe25YWI55SoIOeUn+S6p+WVhueahOWQjeWtl1xuICBoZWFkZXIuZGV2aWNlX21hbnVmYWN0dXJlciA9IGJyYW5kTDtcbiAgaGVhZGVyLmRldmljZV9tYW51aWQgPSBtb2RlbDsgLy8g6K6+5aSH5ZOB54mML+Wei+WPt1xuICBoZWFkZXIuZGV2aWNlX25hbWUgPSBtb2RlbDsgLy8g5YaF6YOo5Lqn5ZOB5Luj5Y+3XG4gIGhlYWRlci5vc192ZXJzaW9uID0gc3lzdGVtSW5mby5vc192ZXJzaW9uOyAvLyBvc+eJiOacrOWPt1xuICBoZWFkZXIubGFuZ3VhZ2UgPSBzeXN0ZW1JbmZvLmxhbmd1YWdlOyAvLyDor63oqIDvvIx6aFxuXG4gIHZhciBuZXRJbmZvID0gdGhpcy5nZXROZXRJbmZvKGNsaWVudCk7XG4gIGhlYWRlci5hY2Nlc3MgPSBuZXRJbmZvLmFjY2VzcztcbiAgaWYgKG5ldEluZm8uYWNjZXNzX3N1YnR5cGUpIHtcbiAgICBoZWFkZXIuYWNjZXNzX3N1YnR5cGUgPSBuZXRJbmZvLmFjY2Vzc19zdWJ0eXBlO1xuICB9XG5cbiAgcmV0dXJuIGhlYWRlcjtcbn07XG5cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3BsdWdpbnMvbGliX3VtL3VtX2hlYWRlci5qc1xuLy8gbW9kdWxlIGlkID0gMjBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIHNlc3Npb25NYW5hZ2VyID0gcmVxdWlyZSgnLi91bV9zZXNzaW9uX21hbmFnZXInKTtcbnZhciBldmVudE1hbmFnZXIgPSByZXF1aXJlKCcuL2V2ZW50TWFuYWdlcicpO1xudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIGNsb25lRGVlcCA9IHJlcXVpcmUoJ0B1dGlscy9jbG9uZURlZXAnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZGF0YVR5cGUpIHtcbiAgdmFyIGRhdGEgPSBudWxsO1xuICBzd2l0Y2ggKGRhdGFUeXBlKSB7XG4gIGNhc2UgdXRpbHMuRGF0YVR5cGUuSEFMRl9TRVNTSU9OOlxuICAgIGRhdGEgPSBfYnVpbGRIYWxmU2Vzc2lvbigpO1xuICAgIGJyZWFrO1xuICBjYXNlIHV0aWxzLkRhdGFUeXBlLkNMT1NFX1NFU1NJT046XG4gICAgZGF0YSA9IF9idWlsZENsb3NlU2Vzc2lvbigpO1xuICAgIGJyZWFrO1xuICBjYXNlIHV0aWxzLkRhdGFUeXBlLkVLVjpcbiAgICBkYXRhID0gX2J1aWxkRWt2KCk7XG4gICAgYnJlYWs7XG4gIGRlZmF1bHQ6XG4gICAgYnJlYWs7XG4gIH1cbiAgcmV0dXJuIGRhdGE7XG59O1xuXG5mdW5jdGlvbiBfYnVpbGRIYWxmU2Vzc2lvbigpIHtcbiAgdmFyIGRhdGEgPSBudWxsO1xuICB2YXIgc2Vzc2lvbiA9IHNlc3Npb25NYW5hZ2VyKCkuY2xvbmVDdXJyZW50U2Vzc2lvbigpO1xuICBpZiAoc2Vzc2lvbikge1xuICAgIGRhdGEgPSB7XG4gICAgICBoZWFkZXI6IHtcbiAgICAgICAgc3Q6ICcxJ1xuICAgICAgfSxcbiAgICAgIGFuYWx5dGljczoge1xuICAgICAgICBzZXNzaW9uczogW3Nlc3Npb25dXG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufTtcblxuZnVuY3Rpb24gX2J1aWxkQ2xvc2VTZXNzaW9uKCkge1xuICB2YXIgZGF0YSA9IG51bGw7XG5cbiAgdmFyIGFuYWx5dGljcyA9IHt9O1xuXG4gIHZhciBzZXNzaW9uID0gc2Vzc2lvbk1hbmFnZXIoKS5jbG9uZUN1cnJlbnRTZXNzaW9uKCk7XG4gIGlmIChzZXNzaW9uKSB7XG4gICAgYW5hbHl0aWNzLnNlc3Npb25zID0gW3Nlc3Npb25dO1xuICB9XG5cbiAgdmFyIGVrdnMgPSBldmVudE1hbmFnZXIoKS5nZXRFa3ZzKCk7XG4gIGlmIChla3ZzKSB7XG4gICAgYW5hbHl0aWNzLmVrdnMgPSBjbG9uZURlZXAoZWt2cyk7XG4gICAgZXZlbnRNYW5hZ2VyKCkuY2xlYXIoKTtcbiAgfVxuXG4gIGlmIChhbmFseXRpY3Muc2Vzc2lvbnMgfHwgYW5hbHl0aWNzLmVrdnMpIHtcbiAgICBkYXRhID0ge1xuICAgICAgYW5hbHl0aWNzOiBhbmFseXRpY3NcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59O1xuXG5mdW5jdGlvbiBfYnVpbGRFa3YoKSB7XG4gIHZhciBkYXRhID0gbnVsbDtcblxuICB2YXIgZWt2cyA9IGV2ZW50TWFuYWdlcigpLmdldEVrdnMoKTtcbiAgaWYgKGVrdnMpIHtcbiAgICBkYXRhID0ge1xuICAgICAgYW5hbHl0aWNzOiB7XG4gICAgICAgIGVrdnM6IGNsb25lRGVlcChla3ZzKVxuICAgICAgfVxuICAgIH07XG4gICAgZXZlbnRNYW5hZ2VyKCkuY2xlYXIoKTtcbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3BsdWdpbnMvbGliX3VtL2JvZHlCdWlsZGVyLmpzXG4vLyBtb2R1bGUgaWQgPSAyMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgbWluaSA9IHJlcXVpcmUoJ0B1dGlscy9taW5pJyk7XG52YXIgSGVhZGVyID0gcmVxdWlyZSgnLi91bV9oZWFkZXInKTtcbnZhciBtYW5nbGUgPSByZXF1aXJlKCcuL21hbmdsZV9taW5pJyk7XG52YXIgaW1wcmludE1hbmFnZXIgPSByZXF1aXJlKCcuL2ltcHJpbnRNYW5hZ2VyJyk7XG52YXIgdWxvZyA9IHJlcXVpcmUoJ0B1dGlscy91bG9nJyk7XG52YXIganNvblV0aWwgPSByZXF1aXJlKCcuL2pzb25VdGlsJyk7XG52YXIgYmFzZTY0ID0gcmVxdWlyZSgnLi9iYXNlNjQnKTtcbnZhciB1dGlsR29sZGxvZyA9IHJlcXVpcmUoJ0B1dGlscy91dGlsR29sZGxvZycpO1xudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIGFwbHVzU3RhdGljID0gcmVxdWlyZSgnQHV0aWxzL2FwbHVzU3RhdGljJyk7XG52YXIgaXNGdW5jdGlvbiA9IHJlcXVpcmUoJ0B1dGlscy9pc0Z1bmN0aW9uJyk7XG5cbmZ1bmN0aW9uIGdldFVybCgpIHtcbiAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoYXBsdXNTdGF0aWMuQVBMVVMpO1xuICB2YXIgcmhvc3QgPSBhcGx1cy5nZXRNZXRhSW5mbyhhcGx1c1N0YXRpYy5BUExVU19QVl9ET01BSU4pO1xuICB2YXIgbG9nRG9tYWluID0gbWluaS5nZXRMb2dEb21haW4oKTtcbiAgaWYgKCFyaG9zdCB8fCAhbG9nRG9tYWluKSB7IFxuICAgIC8vIHV0aWxMb2dnZXIubG9nZ2VyKHtcbiAgICAvLyAgIG1zZzogJ2N1cnJlbnQgcmVxdWVzdCBkb21haW4gaW52YWxpZCwgcGxlYXNlIGNoZWNrIHlvdXIgYXBsdXMtcmhvc3QtdiB2YWx1ZSBpbnNpZGUgbWV0YWluZm8hJ1xuICAgIC8vIH0pO1xuICAgIHVsb2coKS53KCdjdXJyZW50IHJlcXVlc3QgZG9tYWluIGludmFsaWQsIHBsZWFzZSBjaGVjayB5b3VyIGFwbHVzLXJob3N0LXYgdmFsdWUgaW5zaWRlIG1ldGFpbmZvIScpO1xuICAgIHJldHVybiAnJztcbiAgfVxuICB2YXIgdXJsID0gWycvLycsIHJob3N0LCBsb2dEb21haW5dLmpvaW4oJycpO1xuICB2YXIgcHJvdG9jYWwgPSBhcGx1c1N0YXRpYy5IVFRQUztcbiAgaWYgKC8oXFxkK1xcLil7Myx9XFxkKy8udGVzdCh1cmwpKSB7XG4gICAgcHJvdG9jYWwgPSAnaHR0cDonO1xuICB9XG4gIHVybCA9IHByb3RvY2FsICsgdXJsO1xuICByZXR1cm4gdXJsO1xufTtcblxudmFyIE1BWF9SRVFVRVNUX1RJTUVPVVQgPSA1MDAwO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHJlcXVlc3QoZGF0YSwgc3VjY2Vzc0NhbGxiYWNrLCBmYWlsQ2FsbGJhY2ssIGNvbXBsZXRlZENhbGxiYWNrKSB7XG4gIHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKGFwbHVzU3RhdGljLkFQTFVTKTtcbiAgdmFyIHBfaGVhZGVyID0gSGVhZGVyLmdldEhlYWRlckluZm8oKTtcbiAgLy8gaWYgKCF1dGlsLmNoZWNrT3BlbmlkKGFwbHVzLmdldE1ldGFJbmZvKGFwbHVzU3RhdGljLl9BTk9OWV9JRCkpKSB7XG4gIC8vICAgcmV0dXJuO1xuICAvLyB9XG5cbiAgaWYgKG1pbmkuZ2V0UGxhdGZvcm1UeXBlKCkgPT09ICdteScgfHwgbWluaS5nZXRQbGF0Zm9ybVR5cGUoKSA9PT0gJ3Rhb2JhbycpIHtcbiAgICBwX2hlYWRlclsnaWRfdHlwZSddID0gJ2FsaXBheV9pZCc7XG4gICAgcF9oZWFkZXJbJ2lkX3RyYWNraW5nJ10gPSB7XG4gICAgICBhbGlwYXlfaWQ6IGFwbHVzLmdldE1ldGFJbmZvKGFwbHVzU3RhdGljLl9BTk9OWV9JRCkgfHwgJycsXG4gICAgICB1bmlvbmlkOiBhcGx1cy5nZXRNZXRhSW5mbygnX2Rldl9pZCcpIHx8ICcnLFxuICAgICAgdXNlcklkOiBhcGx1cy5nZXRNZXRhSW5mbyhhcGx1c1N0YXRpYy5fVVNFUl9JRCkgfHwgJycsXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBwX2hlYWRlclsnaWRfdHlwZSddID0gJ29wZW5pZCc7XG4gICAgcF9oZWFkZXJbJ2lkX3RyYWNraW5nJ10gPSB7XG4gICAgICBvcGVuaWQ6IGFwbHVzLmdldE1ldGFJbmZvKGFwbHVzU3RhdGljLl9BTk9OWV9JRCkgfHwgJycsXG4gICAgICB1bmlvbmlkOiBhcGx1cy5nZXRNZXRhSW5mbygnX2Rldl9pZCcpIHx8ICcnLFxuICAgICAgdXNlcklkOiBhcGx1cy5nZXRNZXRhSW5mbyhhcGx1c1N0YXRpYy5fVVNFUl9JRCkgfHwgJycsXG4gICAgfTtcbiAgfVxuXG4gIGlmIChpbXByaW50TWFuYWdlci5nZXQoKSkge1xuICAgIHBfaGVhZGVyW2FwbHVzU3RhdGljLklNUFJJTlRdID0gaW1wcmludE1hbmFnZXIuZ2V0KCk7XG4gIH1cblxuICBpZiAoZGF0YS5hbmFseXRpY3MpIHtcbiAgICB2YXIgdXNlcklkID0gYXBsdXMuZ2V0TWV0YUluZm8oYXBsdXNTdGF0aWMuX1VTRVJfSUQpO1xuICAgIHZhciB1c2VyX25pY2sgPSBhcGx1cy5nZXRNZXRhSW5mbygnX3VzZXJfbmljaycpO1xuICAgIGRhdGEuYW5hbHl0aWNzLmFjdGl2ZV91c2VyID0ge1xuICAgICAgcHVpZDogdXNlcklkLFxuICAgICAgcHJvdmlkZXI6IHVzZXJfbmlja1xuICAgIH07XG4gIH1cblxuICBkYXRhLmhlYWRlciA9IHV0aWxzLmFzc2lnbihwX2hlYWRlciwgZGF0YS5oZWFkZXIsIHtcbiAgICB0czogRGF0ZS5ub3coKSxcbiAgICB0cmFjZUlkOiB1dGlscy5nZXRSYW5kb21TdHIoMTApICsgRGF0ZS5ub3coKSArIHV0aWxzLmdldFJhbmRvbVN0cig5KVxuICB9KTtcbiAgdmFyIG1hbmdsZURhdGEgPSBtYW5nbGUoZGF0YSk7XG4gIHZhciByZXF1ZXN0RGF0YSA9IGpzb25VdGlsLnN0cmluZ2Z5KG1hbmdsZURhdGEpO1xuICB2YXIgdXJsID0gZ2V0VXJsKCk7XG4gIHZhciBjb25maWcgPSB7XG4gICAgdXJsOiB1cmwsXG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgZGF0YTogYmFzZTY0LmVuY29kZShyZXF1ZXN0RGF0YSksXG4gICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3ApIHtcbiAgICAgIHZhciBzdGF0dXNDb2RlID0gcmVzcC5jb2RlIHx8IHJlc3Auc3RhdHVzIHx8IHJlc3Auc3RhdHVzQ29kZTtcbiAgICAgIGlmIChzdGF0dXNDb2RlID09PSAyMDAgfHwgc3RhdHVzQ29kZSA9PT0gNDEzKSB7XG4gICAgICAgIHVsb2coKS5pKCfmlbDmja7lj5HpgIHmiJDlip86ICcsIGRhdGEsIHJlcXVlc3REYXRhKTtcblxuICAgICAgICAvLyDlnKjmraTlpITlsIZpbXByaW505YaF5a655Yqg5YWl5Yiw5pys5Zyw57yT5a2Y5LitXG4gICAgICAgIHNhdmVJbXByaW50KChyZXNwLmRhdGEgfHwge30pLmltcHJpbnQpO1xuICAgICAgICBpc0Z1bmN0aW9uKHN1Y2Nlc3NDYWxsYmFjaykgJiYgc3VjY2Vzc0NhbGxiYWNrKHJlc3ApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdWxvZygpLncoJ+aVsOaNruWPkemAgeWksei0pTogJywgcmVxdWVzdERhdGEpO1xuICAgICAgICBpc0Z1bmN0aW9uKGZhaWxDYWxsYmFjaykgJiYgZmFpbENhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBmYWlsOiBmdW5jdGlvbiAoaXNUaW1lb3V0KSB7XG4gICAgICB1bG9nKCkudygn5pWw5o2u5Y+R6YCBJyArIGlzVGltZW91dCA/ICfotoXml7Y6ICcgOiAn5aSx6LSlOiAnLCByZXF1ZXN0RGF0YSk7XG4gICAgICBpc0Z1bmN0aW9uKGZhaWxDYWxsYmFjaykgJiYgZmFpbENhbGxiYWNrKCk7XG4gICAgfSxcbiAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgaXNGdW5jdGlvbihjb21wbGV0ZWRDYWxsYmFjaykgJiYgY29tcGxldGVkQ2FsbGJhY2soKTtcbiAgICB9XG4gIH07XG5cbiAgc2RrUmVxdWVzdCh1dGlscy5hc3NpZ24oY29uZmlnLCBidWlsZEh0dHBIZWFkZXIoKSkpO1xufTtcblxuZnVuY3Rpb24gc2RrUmVxdWVzdChvcHRpb25zKSB7XG4gIHZhciBjdHggPSBtaW5pLmdldENvbnRleHQoKTtcbiAgdmFyIHNyY1N1Y2Nlc3MgPSBvcHRpb25zLnN1Y2Nlc3M7XG4gIHZhciBzcmNGYWlsID0gb3B0aW9ucy5mYWlsO1xuICB2YXIgaXNUaW1lb3V0ID0gZmFsc2U7XG4gIHZhciBzdCA9IG51bGw7XG5cbiAgb3B0aW9ucy5zdWNjZXNzID0gZnVuY3Rpb24gKHJlc3ApIHtcbiAgICBpZiAoIWlzVGltZW91dCkge1xuICAgICAgc3QgJiYgY2xlYXJUaW1lb3V0KHN0KTtcbiAgICAgIGlzRnVuY3Rpb24oc3JjU3VjY2VzcykgJiYgc3JjU3VjY2VzcyhyZXNwKTtcbiAgICB9XG4gIH07XG5cbiAgb3B0aW9ucy5mYWlsID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghaXNUaW1lb3V0KSB7XG4gICAgICBzdCAmJiBjbGVhclRpbWVvdXQoc3QpO1xuICAgICAgaXNGdW5jdGlvbihzcmNGYWlsKSAmJiBzcmNGYWlsKGZhbHNlKTtcbiAgICB9XG4gIH07XG4gIHRyeSB7XG4gICAgY3R4LnJlcXVlc3Qob3B0aW9ucyk7XG4gIH0gY2F0Y2goZSkge1xuICAgIHRyeSB7XG4gICAgICBkZCAmJiBkZC5odHRwUmVxdWVzdChvcHRpb25zKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB1bG9nKCkudygn6K+35rGC5Y+R6YCB5aSx6LSlOiAnLCBlKTtcbiAgICB9XG4gIH1cblxuICBzdCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIHN0ICYmIGNsZWFyVGltZW91dChzdCk7XG4gICAgaXNUaW1lb3V0ID0gdHJ1ZTtcblxuICAgIGlzRnVuY3Rpb24oc3JjRmFpbCkgJiYgc3JjRmFpbChpc1RpbWVvdXQpO1xuICB9LCBvcHRpb25zLnRpbWVvdXQgfHwgTUFYX1JFUVVFU1RfVElNRU9VVCk7XG59XG5cbi8vIOacjeWKoeerr+S4i+WPkeWPkemAgeetlueVpVxuZnVuY3Rpb24gc2F2ZUltcHJpbnQoaW1wcmludCkge1xuICBpZiAoaW1wcmludCkge1xuICAgIGltcHJpbnRNYW5hZ2VyLnNldChpbXByaW50KTtcbiAgICBpbXByaW50TWFuYWdlci5zYXZlKCk7XG5cbiAgICB1bG9nKCkudignaW1wcmludDogJywgaW1wcmludE1hbmFnZXIuZ2V0SW1wT2JqKCkpO1xuXG4gIH1cbn1cblxuZnVuY3Rpb24gYnVpbGRIdHRwSGVhZGVyKCkge1xuICB2YXIgaGVhZGVyVHlwZSA9IG1pbmkuZ2V0U2RrVHlwZSgpICsgJy9qc29uJztcbiAgdmFyIGlzTXkgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICBpZiAobXkpIHtcbiAgICAgIGlzTXkgPSB0cnVlO1xuICAgIH1cbiAgfSBjYXRjaChlKXt9O1xuXG4gIGlmIChpc015KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6IGhlYWRlclR5cGUsXG4gICAgICAgICdNc2ctVHlwZSc6IGhlYWRlclR5cGVcbiAgICAgIH1cbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7XG4gICAgICBoZWFkZXI6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6IGhlYWRlclR5cGUsXG4gICAgICAgICdNc2ctVHlwZSc6IGhlYWRlclR5cGVcbiAgICAgIH1cbiAgICB9O1xuICB9XG59XG5cblxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvcGx1Z2lucy9saWJfdW0vcmVxdWVzdC5qc1xuLy8gbW9kdWxlIGlkID0gMjJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGFuYWx5dGljc01hcCA9IHtcbiAgc2Vzc2lvbnM6ICdzbicsXG4gIC8vIHBhZ2VzOiAncCcsXG4gIC8vIHNoYXJlczogJ3NyJyxcbiAgZWt2czogJ2UnLFxuICBhY3RpdmVfdXNlcjogJ2FjdGl2ZV91c2VyJ1xufTtcblxudmFyIGhlYWRlck1hcCA9IHtcbiAgc2RrX3R5cGU6ICdzZHQnLFxuICBhY2Nlc3M6ICdhYycsXG4gIGFjY2Vzc19zdWJ0eXBlOiAnYWNzJyxcbiAgZGV2aWNlX21vZGVsOiAnZG0nLFxuICBsYW5ndWFnZTogJ2xhbmcnLFxuICBkZXZpY2VfdHlwZTogJ2R0JyxcbiAgZGV2aWNlX21hbnVmYWN0dXJlcjogJ2RtZicsXG4gIGRldmljZV9uYW1lOiAnZG4nLFxuICBwbGF0Zm9ybV92ZXJzaW9uOiAncHYnLFxuICBpZF90eXBlOiAnaXQnLFxuICBmb250X3NpemVfc2V0dGluZzogJ2ZzcycsXG4gIG9zX3ZlcnNpb246ICdvdicsXG4gIGRldmljZV9tYW51aWQ6ICdkaWQnLFxuICBwbGF0Zm9ybV9zZGtfdmVyc2lvbjogJ3BzdicsXG4gIGRldmljZV9icmFuZDogJ2RiJyxcbiAgYXBwa2V5OiAnYWsnLFxuICBfaWQ6ICdpZCcsXG4gIGlkX3RyYWNraW5nOiAnaXRyJyxcbiAgaW1wcmludDogJ2ltcCcsXG4gIHNka192ZXJzaW9uOiAnc3YnLFxuICByZXNvbHV0aW9uOiAncmwnLFxuICB0ZXN0VG9rZW46ICd0dG4nLFxuICBtaW5pYXBwRGVidWdJZDogJ2RrJyxcbiAgLy8gdGhlbWU6ICd0NScsXG4gIC8vIGJlbmNobWFya19sZXZlbDogJ2JtbCcsXG4gIC8vIHNjcmVlbl93aWR0aDogJ3N3JyxcbiAgLy8gc2NyZWVuX2hlaWdodDogJ3NoJyxcbiAgLy8gc3RhdHVzX2Jhcl9oZWlnaHQ6J3NiaCcsXG4gIC8vIHNhZmVfYXJlYV90b3A6ICdzYXQnLFxuICAvLyBzYWZlX2FyZWFfbGVmdDogJ3NhbCcsXG4gIC8vIHNhZmVfYXJlYV9yaWdodDogJ3NhcicsXG4gIC8vIHNhZmVfYXJlYV9ib3R0b206ICdzYWInLFxuICAvLyBzYWZlX2FyZWFfaGVpZ2h0OiAnc2FoJyxcbiAgLy8gc2FmZV9hcmVhX3dpZHRoOiAnc2F3JyxcbiAgcGl4ZWxfcmF0aW86ICdwcicsXG4gIC8vIHN0b3JhZ2U6ICdzNycsXG4gIC8vIGhvc3Q6ICdocydcbn07XG5cbnZhciBpZE1hcCA9IHtcbiAgdXVpZDogJ3VkJyxcbiAgdW5pb25pZDogJ3VuZCcsXG4gIG9wZW5pZDogJ29kJyxcbiAgYW5vbnltb3VzaWQ6ICduZCcsXG4gIGFsaXBheV9pZDogJ2FkJyxcbiAgZGV2aWNlX2lkOiAnZGQnLFxuICB1c2VyaWQ6ICdwdWlkJ1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihkYXRhKSB7XG4gIHJldHVybiB7XG4gICAgaDogX21hbmdsZUhlYWRlcihkYXRhLmhlYWRlciwgaGVhZGVyTWFwKSxcbiAgICBhOiBfbWFuZ2xlQW5hbHl0aWNzKGRhdGEuYW5hbHl0aWNzLCBhbmFseXRpY3NNYXApXG4gIH07XG59O1xuXG5mdW5jdGlvbiBfbWFuZ2xlSGVhZGVyKGhlYWRlciwgbWFwKSB7XG4gIHZhciByZXN1bHQgPSBfbWFuZ2xlT2JqKGhlYWRlciwgbWFwKTtcblxuICBpZiAoaGVhZGVyICYmIGhlYWRlci5pZF90cmFja2luZykge1xuICAgIHJlc3VsdFttYXAuaWRfdHJhY2tpbmcgfHwgJ2lkX3RyYWNraW5nJ10gPSBfbWFuZ2xlT2JqKGhlYWRlci5pZF90cmFja2luZywgaWRNYXApO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmZ1bmN0aW9uIF9tYW5nbGVPYmoob2JqLCBtYXApIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuXG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICBpZiAobWFwW2tleV0pIHtcbiAgICAgIHJlc3VsdFttYXBba2V5XV0gPSBvYmpba2V5XTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0W2tleV0gPSBvYmpba2V5XTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuZnVuY3Rpb24gX21hbmdsZUFuYWx5dGljcyhhbmFseXRpY3MsIG1hcCkge1xuICB2YXIgcmVzdWx0ID0ge307XG5cbiAgaWYgKGFuYWx5dGljcykge1xuICAgIGZvciAodmFyIHByb3AgaW4gYW5hbHl0aWNzKSB7XG4gICAgICBpZiAoYW5hbHl0aWNzW3Byb3BdKSB7XG4gICAgICAgIHJlc3VsdFttYXBbcHJvcF1dID0gYW5hbHl0aWNzW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvcGx1Z2lucy9saWJfdW0vbWFuZ2xlX21pbmkuanNcbi8vIG1vZHVsZSBpZCA9IDIzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBjYWNoZSA9IHJlcXVpcmUoJy4vY2FjaGUnKTtcbnZhciBqc29uVXRpbCA9IHJlcXVpcmUoJy4vanNvblV0aWwnKTtcbnZhciBiYXNlNjQgPSByZXF1aXJlKCcuL2Jhc2U2NCcpO1xudmFyIGFwbHVzU3RhdGljID0gcmVxdWlyZSgnQHV0aWxzL2FwbHVzU3RhdGljJyk7XG5cbmZ1bmN0aW9uIEltcHJpbnRNYW5hZ2VyKCkge1xuICB2YXIgX2ltcHJpbnQgPSAnJztcbiAgdmFyIHQgPSB0aGlzO1xuICB0aGlzLnNldCA9IGZ1bmN0aW9uIChpbXByaW50KSB7XG4gICAgX2ltcHJpbnQgPSBpbXByaW50O1xuICB9O1xuXG4gIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfaW1wcmludDtcbiAgfTtcbiAgdGhpcy5nZXRJbXBPYmogPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGpzb25VdGlsLnBhcnNlKGJhc2U2NC5kZWNvZGUoX2ltcHJpbnQpKTtcbiAgfTtcbiAgdGhpcy5nZXRJdGVtID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHZhciBpbXBvYmogPSB0LmdldEltcE9iaigpO1xuICAgIHJldHVybiBpbXBvYmogPyBpbXBvYmpbbmFtZV0gfHwgXCJcIiA6IFwiXCI7XG4gIH07XG5cbiAgdGhpcy5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgIF9pbXByaW50ID0gY2FjaGUoKS5nZXQoYXBsdXNTdGF0aWMuSU1QUklOVCk7XG4gIH07XG5cbiAgdGhpcy5zYXZlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChfaW1wcmludCkge1xuICAgICAgY2FjaGUoKS5zZXQoYXBsdXNTdGF0aWMuSU1QUklOVCwgX2ltcHJpbnQpO1xuICAgIH1cbiAgfTtcbn1cbnZhciBpbXByaW50TWFuYWdlciA9IG5ldyBJbXByaW50TWFuYWdlcigpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGltcHJpbnRNYW5hZ2VyO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3BsdWdpbnMvbGliX3VtL2ltcHJpbnRNYW5hZ2VyLmpzXG4vLyBtb2R1bGUgaWQgPSAyNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKiBpc3RhbmJ1bCBpZ25vcmUgZmlsZSAqL1xudmFyIGI2NGNoYXJzID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nO1xudmFyIGI2NHRhYiA9IChmdW5jdGlvbiAoYmluKSB7XG4gIHZhciB0ID0ge307XG4gIGZvciAodmFyIGkgPSAwLCBsID0gYmluLmxlbmd0aDsgaSA8IGw7IGkrKykgdFtiaW4uY2hhckF0KGkpXSA9IGk7XG4gIHJldHVybiB0O1xufSkoYjY0Y2hhcnMpO1xudmFyIGZyb21DaGFyQ29kZSA9IFN0cmluZy5mcm9tQ2hhckNvZGU7XG52YXIgY2JfdXRvYiA9IGZ1bmN0aW9uIChjKSB7XG4gIHZhciBjYztcbiAgaWYgKGMubGVuZ3RoIDwgMikge1xuICAgIGNjID0gYy5jaGFyQ29kZUF0KDApO1xuICAgIHJldHVybiBjYyA8IDEyOCA/IGMgOiBjYyA8IDIwNDggPyBmcm9tQ2hhckNvZGUoMTkyIHwgY2MgPj4+IDYpICsgZnJvbUNoYXJDb2RlKDEyOCB8IGNjICYgNjMpIDogZnJvbUNoYXJDb2RlKDIyNCB8IGNjID4+PiAxMiAmIDE1KSArIGZyb21DaGFyQ29kZSgxMjggfCBjYyA+Pj4gNiAmIDYzKSArIGZyb21DaGFyQ29kZSgxMjggfCBjYyAmIDYzKTtcbiAgfSBlbHNlIHtcbiAgICBjYyA9IDY1NTM2ICsgKGMuY2hhckNvZGVBdCgwKSAtIDU1Mjk2KSAqIDEwMjQgKyAoYy5jaGFyQ29kZUF0KDEpIC0gNTYzMjApO1xuICAgIHJldHVybiBmcm9tQ2hhckNvZGUoMjQwIHwgY2MgPj4+IDE4ICYgNykgKyBmcm9tQ2hhckNvZGUoMTI4IHwgY2MgPj4+IDEyICYgNjMpICsgZnJvbUNoYXJDb2RlKDEyOCB8IGNjID4+PiA2ICYgNjMpICsgZnJvbUNoYXJDb2RlKDEyOCB8IGNjICYgNjMpO1xuICB9XG59O1xudmFyIHJlX3V0b2IgPSAvW1xcdUQ4MDAtXFx1REJGRl1bXFx1REMwMC1cXHVERkZGRl18W15cXHgwMC1cXHg3Rl0vZztcbnZhciB1dG9iID0gZnVuY3Rpb24gKHUpIHtcbiAgcmV0dXJuIHUucmVwbGFjZShyZV91dG9iLCBjYl91dG9iKTtcbn07XG52YXIgY2JfZW5jb2RlID0gZnVuY3Rpb24gKGNjYykge1xuICB2YXIgcGFkbGVuID0gWzAsIDIsIDFdW2NjYy5sZW5ndGggJSAzXSxcbiAgICBvcmQgPSBjY2MuY2hhckNvZGVBdCgwKSA8PCAxNiB8IChjY2MubGVuZ3RoID4gMSA/IGNjYy5jaGFyQ29kZUF0KDEpIDogMCkgPDwgOCB8IChjY2MubGVuZ3RoID4gMiA/IGNjYy5jaGFyQ29kZUF0KDIpIDogMCksXG4gICAgY2hhcnMgPSBbYjY0Y2hhcnMuY2hhckF0KG9yZCA+Pj4gMTgpLCBiNjRjaGFycy5jaGFyQXQob3JkID4+PiAxMiAmIDYzKSwgcGFkbGVuID49IDIgPyAnPScgOiBiNjRjaGFycy5jaGFyQXQob3JkID4+PiA2ICYgNjMpLCBwYWRsZW4gPj0gMSA/ICc9JyA6IGI2NGNoYXJzLmNoYXJBdChvcmQgJiA2MyldO1xuICByZXR1cm4gY2hhcnMuam9pbignJyk7XG59O1xudmFyIGJ0b2EgPSBmdW5jdGlvbiAoYikge1xuICByZXR1cm4gYi5yZXBsYWNlKC9bXFxzXFxTXXsxLDN9L2csIGNiX2VuY29kZSk7XG59O1xudmFyIF9lbmNvZGUgPSBmdW5jdGlvbiAodSkge1xuICByZXR1cm4gYnRvYSh1dG9iKHUpKTtcbn07XG52YXIgZW5jb2RlID0gZnVuY3Rpb24gKHUsIHVyaXNhZmUpIHtcbiAgcmV0dXJuICF1cmlzYWZlID8gX2VuY29kZShTdHJpbmcodSkpIDogX2VuY29kZShTdHJpbmcodSkpLnJlcGxhY2UoL1srXFwvXS9nLCBmdW5jdGlvbiAobTApIHtcbiAgICByZXR1cm4gbTAgPT0gJysnID8gJy0nIDogJ18nO1xuICB9KS5yZXBsYWNlKC9cXD0vZywgJycpO1xufTtcbi8vIHZhciBlbmNvZGVVUkkgPSBmdW5jdGlvbiAodSkge1xuLy8gICByZXR1cm4gZW5jb2RlKHUsIHRydWUpO1xuLy8gfTtcbnZhciByZV9idG91ID0gbmV3IFJlZ0V4cChbJ1vDgC3Dn11bwoAtwr9dJywgJ1vDoC3Dr11bwoAtwr9dezJ9JywgJ1vDsC3Dt11bwoAtwr9dezN9J10uam9pbignfCcpLCAnZycpO1xudmFyIGNiX2J0b3UgPSBmdW5jdGlvbiAoY2NjYykge1xuICBzd2l0Y2ggKGNjY2MubGVuZ3RoKSB7XG4gIGNhc2UgNDpcbiAgICB2YXIgY3AgPSAoNyAmIGNjY2MuY2hhckNvZGVBdCgwKSkgPDwgMTggfCAoNjMgJiBjY2NjLmNoYXJDb2RlQXQoMSkpIDw8IDEyIHwgKDYzICYgY2NjYy5jaGFyQ29kZUF0KDIpKSA8PCA2IHwgNjMgJiBjY2NjLmNoYXJDb2RlQXQoMyksIG9mZnNldCA9IGNwIC0gNjU1MzY7XG4gICAgcmV0dXJuIGZyb21DaGFyQ29kZSgob2Zmc2V0ID4+PiAxMCkgKyA1NTI5NikgKyBmcm9tQ2hhckNvZGUoKG9mZnNldCAmIDEwMjMpICsgNTYzMjApO1xuICBjYXNlIDM6XG4gICAgcmV0dXJuIGZyb21DaGFyQ29kZSgoMTUgJiBjY2NjLmNoYXJDb2RlQXQoMCkpIDw8IDEyIHwgKDYzICYgY2NjYy5jaGFyQ29kZUF0KDEpKSA8PCA2IHwgNjMgJiBjY2NjLmNoYXJDb2RlQXQoMikpO1xuICBkZWZhdWx0OlxuICAgIHJldHVybiBmcm9tQ2hhckNvZGUoKDMxICYgY2NjYy5jaGFyQ29kZUF0KDApKSA8PCA2IHwgNjMgJiBjY2NjLmNoYXJDb2RlQXQoMSkpO1xuICB9XG59O1xudmFyIGJ0b3UgPSBmdW5jdGlvbiAoYikge1xuICByZXR1cm4gYi5yZXBsYWNlKHJlX2J0b3UsIGNiX2J0b3UpO1xufTtcbnZhciBjYl9kZWNvZGUgPSBmdW5jdGlvbiAoY2NjYykge1xuICB2YXIgbGVuID0gY2NjYy5sZW5ndGgsXG4gICAgcGFkbGVuID0gbGVuICUgNCxcbiAgICBuID0gKGxlbiA+IDAgPyBiNjR0YWJbY2NjYy5jaGFyQXQoMCldIDw8IDE4IDogMCkgfCAobGVuID4gMSA/IGI2NHRhYltjY2NjLmNoYXJBdCgxKV0gPDwgMTIgOiAwKSB8IChsZW4gPiAyID8gYjY0dGFiW2NjY2MuY2hhckF0KDIpXSA8PCA2IDogMCkgfCAobGVuID4gMyA/IGI2NHRhYltjY2NjLmNoYXJBdCgzKV0gOiAwKSxcbiAgICBjaGFycyA9IFtmcm9tQ2hhckNvZGUobiA+Pj4gMTYpLCBmcm9tQ2hhckNvZGUobiA+Pj4gOCAmIDI1NSksIGZyb21DaGFyQ29kZShuICYgMjU1KV07XG4gIGNoYXJzLmxlbmd0aCAtPSBbMCwgMCwgMiwgMV1bcGFkbGVuXTtcbiAgcmV0dXJuIGNoYXJzLmpvaW4oJycpO1xufTtcbnZhciBhdG9iID0gZnVuY3Rpb24gKGEpIHtcbiAgcmV0dXJuIGEucmVwbGFjZSgvW1xcc1xcU117MSw0fS9nLCBjYl9kZWNvZGUpO1xufTtcbnZhciBfZGVjb2RlID0gZnVuY3Rpb24gKGEpIHtcbiAgcmV0dXJuIGJ0b3UoYXRvYihhKSk7XG59O1xudmFyIGRlY29kZSA9IGZ1bmN0aW9uIChhKSB7XG4gIHJldHVybiBfZGVjb2RlKFN0cmluZyhhKS5yZXBsYWNlKC9bLV9dL2csIGZ1bmN0aW9uIChtMCkge1xuICAgIHJldHVybiBtMCA9PSAnLScgPyAnKycgOiAnLyc7XG4gIH0pLnJlcGxhY2UoL1teQS1aYS16MC05XFwrXFwvXS9nLCAnJykpO1xufTtcblxuZXhwb3J0cy5lbmNvZGUgPSBlbmNvZGU7XG5leHBvcnRzLmRlY29kZSA9IGRlY29kZTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9wbHVnaW5zL2xpYl91bS9iYXNlNjQuanNcbi8vIG1vZHVsZSBpZCA9IDI1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciB1bG9nID0gcmVxdWlyZSgnQHV0aWxzL3Vsb2cnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtYXhDb3VudCkge1xuICB2YXIgX21heENvdW50ID0gbWF4Q291bnQ7XG4gIHZhciBfaXRlbXMgPSBbXTtcblxuICB0aGlzLmVucXVldWUgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgIGlmICh0eXBlb2YgX21heENvdW50ID09PSAnbnVtYmVyJyAmJiB0aGlzLnNpemUoKSA+PSBfbWF4Q291bnQpIHtcbiAgICAgIHRoaXMuZGVxdWV1ZSgpO1xuICAgIH1cblxuICAgIF9pdGVtcy5wdXNoKGl0ZW0pO1xuICB9O1xuXG4gIHRoaXMuZGVxdWV1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX2l0ZW1zLnNoaWZ0KCk7XG4gIH07XG5cbiAgdGhpcy5mcm9udCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX2l0ZW1zWzBdO1xuICB9O1xuXG4gIHRoaXMuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX2l0ZW1zLmxlbmd0aCA9PT0gMDtcbiAgfTtcblxuICB0aGlzLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgIF9pdGVtcy5sZW5ndGggPSAwO1xuICB9O1xuXG4gIHRoaXMuc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX2l0ZW1zLmxlbmd0aDtcbiAgfTtcblxuICB0aGlzLml0ZW1zID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfaXRlbXM7XG4gIH07XG5cbiAgdGhpcy5wcmludCA9IGZ1bmN0aW9uICgpIHtcbiAgICB1bG9nKCkudignLS0tcXVldWU6ICcsIF9pdGVtcy50b1N0cmluZygpKTtcbiAgfTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvcGx1Z2lucy9saWJfdW0vcXVldWUuanNcbi8vIG1vZHVsZSBpZCA9IDI2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogcHJvamVjdCAtIGZpbGVwYXRoXG4gKiBkZXNjcmlwdGlvblxuICpcbiAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cbiAqXG4gKiBBdXRob3JzOlxuICogICDosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuICovXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuYXNzaWduID0gcmVxdWlyZSgnLi9hc3NpZ24nKTtcblxuLyoqXG4gKiDnlJ/miJDkuIDkuKrnlKjkuo7pgb/lhY3nvJPlrZjnmoTpmo/mnLrmlbBcbiAqIOS4uuS6huWHj+WwkSB1cmwg6ZW/5bqm77yM6L+Z5Liq6ZqP5py65pWw5o2u55qE6ZW/5bqm5a6a5Li6IDcg5L2N77yMXG4gKiDkuLrkuoblh4/lsJHnorDmkp7vvIzkvb/nlKggMTYg6L+b5Yi25pWw5a2XXG4gKlxuICogMjY4NDM1NDU2ID0gMiBeIDI4ID0gMHhmZmZmZmZmICsgMVxuICovXG5leHBvcnRzLm1ha2VDYWNoZU51bSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDI2ODQzNTQ1NikudG9TdHJpbmcoMTYpO1xufTtcblxuLyoqXG4gKiDliKTmlq3lrZfnrKbkuLIgczEg5piv5ZCm5Lul5a2X56ym5LiyIHMyIOW8gOWktFxuICogQHBhcmFtIHMxIHtTdHJpbmd9XG4gKiBAcGFyYW0gczIge1N0cmluZ31cbiAqL1xuZXhwb3J0cy5pc1N0YXJ0V2l0aCA9IGZ1bmN0aW9uKHMxLCBzMikge1xuICByZXR1cm4gczEuaW5kZXhPZihzMikgPT09IDA7XG59O1xuLyoqXG4gKiDliKTmlq3lrZfnrKbkuLIgczEg5piv5rue5Lul5a2X56ym5LiyIHMyIOe7k+WwvlxuICogQHBhcmFtIHMxIHtTdHJpbmd9XG4gKiBAcGFyYW0gczIge1N0cmluZ31cbiAqL1xuZXhwb3J0cy5pc0VuZFdpdGggPSBmdW5jdGlvbihzMSwgczIpIHtcbiAgdmFyIGwxID0gczEubGVuZ3RoLCBsMiA9IHMyLmxlbmd0aDtcbiAgcmV0dXJuIGwxID49IGwyICYmIHMxLmluZGV4T2YoczIpID09IChsMSAtIGwyKTtcbn07XG5cbmV4cG9ydHMuYW55ID0gZnVuY3Rpb24oYXJyLCBmbikge1xuICB2YXIgaTtcbiAgdmFyIGwgPSBhcnIubGVuZ3RoO1xuICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgaWYgKGZuKGFycltpXSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5leHBvcnRzLmlzTnVtYmVyID0gZnVuY3Rpb24odikge1xuICByZXR1cm4gdHlwZW9mIHYgPT09ICdudW1iZXInO1xufTtcblxuZXhwb3J0cy5pc05hTiA9IGZ1bmN0aW9uKHYpIHtcbiAgaWYoaXNOYU4pIHtcbiAgICByZXR1cm4gaXNOYU4odik7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHYgIT09IHY7XG4gIH1cbn07XG5cbi8qKlxuICog5Yik5pat5a2X56ym5LiyIHMxIOaYr+WQpuWMheWQq+Wtl+espuS4siBzMlxuICogQHBhcmFtIHMxIHtTdHJpbmd9XG4gKiBAcGFyYW0gczIge1N0cmluZ31cbiAqL1xuZXhwb3J0cy5pc0NvbnRhaW4gPSBmdW5jdGlvbiAoczEsIHMyKSB7XG4gIHJldHVybiBzMS5pbmRleE9mKHMyKSA+IC0xO1xufTtcblxuLyoqXG4gKiDlhYvpmobkuIDkuKpvYmplY3RcbiAqL1xudmFyIGNsb25lRGVlcCA9IGZ1bmN0aW9uKG9iaikge1xuICB2YXIgc3RyO1xuICB2YXIgbmV3b2JqID0gb2JqLmNvbnN0cnVjdG9yID09PSBBcnJheSA/IFtdIDoge307XG4gIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybjtcbiAgfSBlbHNlIGlmIChKU09OICYmIEpTT04ucGFyc2UpIHtcbiAgICBzdHIgPSBKU09OLnN0cmluZ2lmeShvYmopOyAvL+ezu+WIl+WMluWvueixoVxuICAgIG5ld29iaiA9IEpTT04ucGFyc2Uoc3RyKTsgLy/ov5jljp9cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpIGluIG9iaikge1xuICAgICAgbmV3b2JqW2ldID0gdHlwZW9mIG9ialtpXSA9PT0gJ29iamVjdCcgPyBjbG9uZURlZXAob2JqW2ldKSA6IG9ialtpXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ld29iajtcbn07XG5cbmV4cG9ydHMuY2xvbmVEZWVwID0gY2xvbmVEZWVwO1xuXG4vKipcbiAqIOiOt+WPlnVybOWPguaVsCzku4XpmZB3ZWLjgIFoNVxuICovXG52YXIgZ2V0VXJsUGFyYW1zID0gZnVuY3Rpb24gKCkge1xuICB2YXIgcmVnZXggPSAvWz8mXShbXj0jXSspPShbXiYjXSopL2c7XG4gIHZhciB1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgdmFyIHBhcmFtcyA9IHt9O1xuICB2YXIgbWF0Y2g7XG4gIHdoaWxlIChtYXRjaCA9IHJlZ2V4LmV4ZWModXJsKSkge1xuICAgIHBhcmFtc1ttYXRjaFsxXV0gPSBtYXRjaFsyXTtcbiAgfVxuICByZXR1cm4gcGFyYW1zO1xufTtcblxuZXhwb3J0cy5nZXRVcmxQYXJhbXMgPSBnZXRVcmxQYXJhbXM7XG5cbi8qKlxuICog5Yik5pat56m65a+56LGhXG4gKi9cbnZhciBpc0VtcHR5T2JqZWN0ID0gZnVuY3Rpb24obykge1xuICBpZighbykge1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICBmb3IgKHZhciBrIGluIG8pIHtcbiAgICBpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgaykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59O1xuZXhwb3J0cy5pc0VtcHR5T2JqZWN0ID0gaXNFbXB0eU9iamVjdDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9saWJfdS91dGlscy91dGlsRGFzaC5qc1xuLy8gbW9kdWxlIGlkID0gMjdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXG4vKipcbiAqIOWvueixoW1lcmdlXG4gKiAgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2Fzc2lnblxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh0YXJnZXRPYmosIGFyZ3NPYmopIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICh0eXBlb2YgT2JqZWN0LmFzc2lnbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICB2YXIgdG8gPSBPYmplY3QodGFyZ2V0KTtcbiAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBhcmd1bWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIHZhciBuZXh0U291cmNlID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgaWYgKG5leHRTb3VyY2UgIT09IG51bGwpIHsgLy8gU2tpcCBvdmVyIGlmIHVuZGVmaW5lZCBvciBudWxsXG4gICAgICAgICAgZm9yICh2YXIgbmV4dEtleSBpbiBuZXh0U291cmNlKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5leHRTb3VyY2UsIG5leHRLZXkpKSB7XG4gICAgICAgICAgICAgIHRvW25leHRLZXldID0gbmV4dFNvdXJjZVtuZXh0S2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0bztcbiAgICB9KHRhcmdldE9iaiwgYXJnc09iaik7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHRhcmdldE9iaiwgYXJnc09iaik7XG4gIH1cbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvbGliX3UvdXRpbHMvYXNzaWduLmpzXG4vLyBtb2R1bGUgaWQgPSAyOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgdXRpbEdvbGRsb2cgPSByZXF1aXJlKCdAdXRpbHMvdXRpbEdvbGRsb2cnKTtcblxudmFyIGN1cnJlbnRQYXRoID0gXCJcIjtcbnZhciBwYWdlT3B0aW9uTWFwID0ge307XG5cbmZ1bmN0aW9uIGJ1aWxkUGF0aChwYXRoLCBxdWVyeSkge1xuICBpZiAoIXBhdGgpIHtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuICB2YXIgcXMgPSBbXTtcbiAgZm9yICh2YXIgcSBpbiBxdWVyeSkge1xuICAgIHFzLnB1c2gocSArICc9JyArIHF1ZXJ5W3FdKTtcbiAgfVxuICB2YXIgcXNzID0gcXMuam9pbignJicpO1xuICByZXR1cm4gcXNzID8gcGF0aCArICc/JyArIHFzcyA6IHBhdGg7XG59O1xuXG5leHBvcnRzLmdldEN1cnJlbnRQYWdlUGF0aCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gY3VycmVudFBhdGg7XG59O1xuXG5leHBvcnRzLnNldEN1cnJlbnRQYXRoID0gZnVuY3Rpb24ocGF0aCkge1xuICBpZiAocGF0aCkge1xuICAgIGN1cnJlbnRQYXRoID0gcGF0aDtcbiAgfVxufTtcblxuZXhwb3J0cy5nZXRQYWdlUXVlcnkgPSBmdW5jdGlvbihwYXRoKSB7XG4gIGlmIChwYXRoKSB7XG4gICAgcmV0dXJuIHBhZ2VPcHRpb25NYXBbcGF0aF07XG4gIH1cbn07XG5cbmV4cG9ydHMuc2V0UGFnZVF1ZXJ5ID0gZnVuY3Rpb24ocGF0aCwgcXVlcnkpIHtcbiAgaWYgKHBhdGgpIHtcbiAgICBwYWdlT3B0aW9uTWFwW3BhdGhdID0gcXVlcnk7XG4gIH1cbn07XG5cbmV4cG9ydHMuZ2V0RnVsbFBhdGggPSBmdW5jdGlvbihwYXRoKSB7XG4gIHJldHVybiBidWlsZFBhdGgoY3VycmVudFBhdGgsIHBhZ2VPcHRpb25NYXBbcGF0aF0pO1xufTtcblxuZXhwb3J0cy5nZXRQYWdlTmFtZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoJ2FwbHVzJyk7XG4gIHZhciBtZXRhID0gYXBsdXMuZ2V0TWV0YUluZm8oJ3BhZ2VDb25maWcnKTtcbiAgdmFyIHJlYWxQYXRoID0gcGF0aCB8fCBjdXJyZW50UGF0aDtcbiAgdHJ5IHtcbiAgICAvLyDlr7nkuo7liqjmgIHot6/nlLHvvIzmlK/mjIHnlKjmiLfkvKDlhaXmraPliJnov5vooYzljLnphY1cbiAgICBpZiAobWV0YSAmJiB0eXBlb2YgbWV0YSA9PSAnb2JqZWN0Jykge1xuICAgICAgZm9yICh2YXIga2V5IGluIG1ldGEpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gcmVhbFBhdGgpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIGlmIChtZXRhW2tleV0gJiYgbWV0YVtrZXldLnJlZ1J1bGUpIHtcbiAgICAgICAgICByZWFsUGF0aCA9IG1ldGFba2V5XS5yZWdSdWxlLnRlc3QocGF0aCkgPyBrZXkgOiByZWFsUGF0aDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvL1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoKGUpIHtcbiAgICAvL1xuICB9XG4gIHJldHVybiBtZXRhW3JlYWxQYXRoXTtcbiAgLy8gaWYgKCFwYXRoKSB7XG4gIC8vICAgcmV0dXJuIG1ldGEgJiYgbWV0YVtjdXJyZW50UGF0aF07XG4gIC8vIH0gZWxzZSB7XG4gIC8vICAgcmV0dXJuIG1ldGEgJiYgbWV0YVtwYXRoXTtcbiAgLy8gfVxufTtcblxuZXhwb3J0cy5nZXRQYWdlQ29kZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgcmV0dXJuICh0aGlzLmdldFBhZ2VOYW1lKHBhdGgpIHx8IHt9KS5wYWdlTmFtZTtcbn07XG5cbmV4cG9ydHMuZ2V0VlRSZWFsdGltZUNvZGUgPSBmdW5jdGlvbigpIHtcbiAgaWYgKGN1cnJlbnRQYXRoKSB7XG4gICAgdmFyIHF1ZXJ5ID0gcGFnZU9wdGlvbk1hcFtjdXJyZW50UGF0aF0gfHwge307XG4gICAgdmFyIHJlZ0V4cCA9IC9eXFwkdnRfLztcbiAgICB2YXIgc2NlbmUgPSBkZWNvZGVVUklDb21wb25lbnQocXVlcnkuc2NlbmUpO1xuICAgIHJldHVybiBzY2VuZSAmJiByZWdFeHAudGVzdChzY2VuZSkgJiYgc2NlbmUucmVwbGFjZShyZWdFeHAsICcnKTtcbiAgfVxufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9wbHVnaW5zL2xpYl91bS9wYWdlTWFuYWdlci5qc1xuLy8gbW9kdWxlIGlkID0gMjlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBhbGlsb2cvcyAtIHNyYy9hcGx1c19wbHVnaW5fbWluaS9saWJfYXV0b19jb2xsZWN0L2luamVjdF9wYWdlLmpzXG4gKiDoh6rliqjph4fpm4blsI/nqIvluo/kv6Hmga/nmoTmj5Lku7YgLSDpobXpnaLms6jlhaVcbiAqXG4gKlxuICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuICpcbiAqIEF1dGhvcnM6XG4gKiAgIFJpY2hhcmR86LCL5aOrIDxxaW5nbGlhbmcuaHFsQGFsaWJhYmEtaW5jLmNvbT5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbEdvbGRsb2cgPSByZXF1aXJlKCdAdXRpbHMvdXRpbEdvbGRsb2cnKTtcbnZhciBhcGx1c1N0YXRpYyA9IHJlcXVpcmUoJ0B1dGlscy9hcGx1c1N0YXRpYycpO1xudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscy91dGlscycpO1xudmFyIGVhY2hNYXAgPSByZXF1aXJlKCdAdXRpbHMvZWFjaE1hcCcpO1xudmFyIHVtVXRpbHMgPSByZXF1aXJlKCcuLi9wbHVnaW5zL2xpYl91bS91dGlscycpO1xudmFyIGZvcm1hdCA9IHJlcXVpcmUoJ0B1dGlscy9mb3JtYXQnKTtcbnZhciB1bG9nID0gcmVxdWlyZSgnQHV0aWxzL3Vsb2cnKTtcbnZhciBQYWdlTWFuYWdlciA9IHJlcXVpcmUoJ0AvcGx1Z2lucy9saWJfdW0vcGFnZU1hbmFnZXInKTtcbnZhciBtaW5pID0gcmVxdWlyZSgnQHV0aWxzL21pbmknKTtcblxuZnVuY3Rpb24gZ2V0VXRtUGFyYW1zT2JqIChxKSB7XG4gIHZhciBvYmogPSB7fTtcbiAgdHJ5IHtcbiAgICBlYWNoTWFwKHEsIGZ1bmN0aW9uIChrLCB2KSB7XG4gICAgICAvLyDpgb/lhY3kuLrnqbrml7bph43lhplnbG9iYWxwcm9wZXJ0eeWGheeahOWxnuaAp1xuICAgICAgaWYoay5pbmRleE9mKCd1dG1fJykgPT09IDApIHtcbiAgICAgICAgb2JqW2tdID0gdjtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge31cbiAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gaGFuZGxlclNoYXJlQXBwTXNnIChvcHQsIG5hbWUpIHtcbiAgdmFyIGN0eCA9IHV0aWxHb2xkbG9nLmdldENvbnRleHQoKTtcbiAgdmFyIHBhZ2UgPSBtaW5pLmdldEN1cnJlbnRQYWdlKCk7XG4gIHZhciByb3V0ZSA9IHBhZ2Uucm91dGUgfHwgcGFnZS5pcyB8fCAnJztcbiAgdmFyIG9wdGlvbnMgPSBwYWdlLm9wdGlvbnMgfHwge307XG4gIHZhciBsaW5rUGFybWFzID0gZm9ybWF0Lm9iajJwYXJhbShvcHRpb25zLCB0cnVlKTtcbiAgLy8g5ou85o6lY3VycmVudFBhZ2XnmoR1cmzkuI5xdWVyeVxuICBpZihsaW5rUGFybWFzKSB7XG4gICAgcm91dGUgPSByb3V0ZSArICc/JyArIGxpbmtQYXJtYXM7XG4gIH0gXG4gIGlmICghb3B0LnF1ZXJ5KSB7XG4gICAgb3B0LnF1ZXJ5ID0ge307XG4gIH1cbiAgb3B0LnF1ZXJ5LiQkX3NoYXJlX3VpZCA9IGN0eC5hcGx1cy5nZXRNZXRhSW5mbygnX2Fub255X2lkJykgfHwgY3R4LmFwbHVzLl9fRVRBR19fQ05BX19JRF9fO1xuICBvcHQucXVlcnkuJCRfdXRtX21lZGl1bSA9IDM7XG5cbiAgLy8gb25TaGFyZUFwcE1lc3NhZ2XmsqHmnIlyZXR1cm4g5oiWIG9uU2hhcmVUaW1lbGluZeaXtu+8jOWFpeWPgm9wdOeahHBhdGjkuI5xdWVyeeS4uuepuu+8jOatpOaXtueUqGN1cnJlbnRQYWdl55qEcGF0aOWSjG9wdGlvbnPlhZzlupVcbiAgb3B0LnF1ZXJ5ID0gdW1VdGlscy5hc3NpZ24oe30sIG9wdGlvbnMsIG9wdC5xdWVyeSk7XG4gIHZhciBwYXRoID0gb3B0LnBhdGggfHwgcm91dGU7XG5cbiAgdmFyIGFwcGVuZFBhcmFtcyA9ICckJF9zaGFyZV91aWQ9JyArIG9wdC5xdWVyeS4kJF9zaGFyZV91aWQgKyAnJiQkX3V0bV9tZWRpdW09Myc7XG4gXG4gIGlmIChwYXRoLmluZGV4T2YoJz8nKSA+IC0xKSB7XG4gICAgb3B0LnBhdGggPSBwYXRoICsgJyYnICsgYXBwZW5kUGFyYW1zO1xuICB9IGVsc2Uge1xuICAgIG9wdC5wYXRoID0gcGF0aCArICc/JyArIGFwcGVuZFBhcmFtcztcbiAgfVxuICBvcHQuc3RhdHVzID0gJ3JlYWR5JztcbiAgY3R4LmFwbHVzX3F1ZXVlLnB1c2goe1xuICAgIGFjdGlvbjogYXBsdXNTdGF0aWMuUFVCTElTSCxcbiAgICBhcmd1bWVudHM6IFtuYW1lLCBvcHRdXG4gIH0pO1xuICByZXR1cm4gb3B0O1xufTtcblxuZnVuY3Rpb24gb25QdWxsRG93blJlZnJlc2goKSB7XG4gIHZhciBjdHggPSB1dGlsR29sZGxvZy5nZXRDb250ZXh0KCk7XG4gIHZhciBvcHQgPSB7XG4gICAgc3RhdHVzOiAncmVhZHknXG4gIH07XG4gIGN0eC5hcGx1c19xdWV1ZS5wdXNoKHtcbiAgICBhY3Rpb246IGFwbHVzU3RhdGljLlBVQkxJU0gsXG4gICAgYXJndW1lbnRzOiBbJ29uUHVsbERvd25SZWZyZXNoJywgb3B0XVxuICB9KTtcbn07XG5cbmZ1bmN0aW9uIG9uUmVhY2hCb3R0b20oKSB7XG4gIHZhciBjdHggPSB1dGlsR29sZGxvZy5nZXRDb250ZXh0KCk7XG4gIHZhciB0aGF0ID0gdGhpcztcbiAgdmFyIG9wdCA9IHtcbiAgICBzdGF0dXM6ICdyZWFkeScsXG4gICAgY29udGV4dDogdGhhdFxuICB9O1xuICBjdHguYXBsdXNfcXVldWUucHVzaCh7XG4gICAgYWN0aW9uOiBhcGx1c1N0YXRpYy5QVUJMSVNILFxuICAgIGFyZ3VtZW50czogWydvblJlYWNoQm90dG9tJywgb3B0XVxuICB9KTtcbn07XG5cbi8vIOmhtemdouWKoOi9vVxuZnVuY3Rpb24gb25QYWdlTG9hZChxdWVyeSkge1xuICB2YXIgY3R4ID0gdXRpbEdvbGRsb2cuZ2V0Q29udGV4dCgpO1xuICB0cnkge1xuICAgIFBhZ2VNYW5hZ2VyLnNldEN1cnJlbnRQYXRoKHRoaXMucm91dGUpO1xuICAgIGlmIChxdWVyeSkge1xuICAgICAgUGFnZU1hbmFnZXIuc2V0UGFnZVF1ZXJ5KHRoaXMucm91dGUsIHF1ZXJ5KTtcbiAgICB9XG4gICAgdWxvZygpLmkoJ1BhZ2Ugb25Mb2FkOiAnLCB0aGlzLnJvdXRlLCBxdWVyeSk7XG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgIHV0aWxzLm9uQXBsdXNSZWFkeShjdHguYXBsdXNfcXVldWUsIGFwbHVzU3RhdGljLlNVQlNDUklCRSwgZnVuY3Rpb24oKXtcbiAgICAgIC8vIOWFqOWxgOWxnuaAp+i/veWKoHV0beWPguaVsFxuICAgICAgY3R4LmFwbHVzLmFwcGVuZE1ldGFJbmZvKGFwbHVzU3RhdGljLkdMT0JBTF9QUk9QRVJUWSwgZ2V0VXRtUGFyYW1zT2JqKHF1ZXJ5KSk7XG4gICAgICBjdHguYXBsdXNfcXVldWUucHVzaCh7XG4gICAgICAgIGFjdGlvbjogYXBsdXNTdGF0aWMuUFVCTElTSCxcbiAgICAgICAgYXJndW1lbnRzOiBbJ29uTG9hZCcsIHtcbiAgICAgICAgICBzdGF0dXM6ICdyZWFkeScsXG4gICAgICAgICAgY29udGV4dDogdGhhdCxcbiAgICAgICAgfV1cbiAgICAgIH0pO1xuICAgICAgLy8g6aG16Z2i5Yqg6L295a6M5ZCO5re35YWlc2V0RGF0Ye+8jOaWueS+v+iHquWKqOabneWFieOAgeiHquWKqOeCueWHu+etieaPkuS7tuS9v+eUqFxuICAgICAgdmFyIF9jdXJyZW50UGFnZSA9IG1pbmkuZ2V0Q3VycmVudFBhZ2UoKTtcbiAgICAgIHV0aWxzLnJlc2V0Rm4oX2N1cnJlbnRQYWdlLCAnc2V0RGF0YScsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGN0eC5hcGx1c19xdWV1ZS5wdXNoKHtcbiAgICAgICAgICBhY3Rpb246IGFwbHVzU3RhdGljLlBVQkxJU0gsXG4gICAgICAgICAgYXJndW1lbnRzOiBbJ29uUGFnZURhdGFDaGFuZ2VkJywge1xuICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoYXRcbiAgICAgICAgICB9XVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9IGNhdGNoKGUpIHtcbiAgICB1bG9nKCkudygnb25QYWdlTG9hZDogJywgZSk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIG9uUGFnZVNob3coKSB7XG4gIHZhciBjdHggPSB1dGlsR29sZGxvZy5nZXRDb250ZXh0KCk7XG4gIHRyeSB7XG4gICAgUGFnZU1hbmFnZXIuc2V0Q3VycmVudFBhdGgodGhpcy5yb3V0ZSk7XG4gICAgdXRpbHMub25BcGx1c1JlYWR5KGN0eC5hcGx1c19xdWV1ZSwgYXBsdXNTdGF0aWMuU1VCU0NSSUJFLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICBjdHguYXBsdXNfcXVldWUucHVzaCh7XG4gICAgICAgIGFjdGlvbjogYXBsdXNTdGF0aWMuUFVCTElTSCxcbiAgICAgICAgYXJndW1lbnRzOiBbJ29uU2hvdycsIHtcbiAgICAgICAgICBzdGF0dXM6ICdyZWFkeScsXG4gICAgICAgICAgY29udGV4dDogdGhhdCxcbiAgICAgICAgfV1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9IGNhdGNoKGUpIHtcbiAgICB1bG9nKCkudygnb25QYWdlU2hvdzogJywgZSk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIG9uUGFnZVJlYWR5KCkge1xuICB2YXIgY3R4ID0gdXRpbEdvbGRsb2cuZ2V0Q29udGV4dCgpO1xuICB0cnkge1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICBjdHguYXBsdXNfcXVldWUucHVzaCh7XG4gICAgICBhY3Rpb246IGFwbHVzU3RhdGljLlBVQkxJU0gsXG4gICAgICBhcmd1bWVudHM6IFsnb25SZWFkeScsIHtcbiAgICAgICAgc3RhdHVzOiAncmVhZHknLFxuICAgICAgICBjb250ZXh0OiB0aGF0XG4gICAgICB9XVxuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdWxvZygpLncoJ29uUGFnZVJlYWR5OiAnLCBlKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gb25QYWdlSGlkZSgpIHtcbiAgdmFyIGN0eCA9IHV0aWxHb2xkbG9nLmdldENvbnRleHQoKTtcbiAgdHJ5IHtcbiAgICBjdHguYXBsdXNfcXVldWUucHVzaCh7XG4gICAgICBhY3Rpb246IGFwbHVzU3RhdGljLlBVQkxJU0gsXG4gICAgICBhcmd1bWVudHM6IFsnb25IaWRlJywge1xuICAgICAgICBzdGF0dXM6ICdyZWFkeScsXG4gICAgICB9XVxuICAgIH0pO1xuICB9IGNhdGNoKGUpIHtcbiAgICB1bG9nKCkudygnb25QYWdlSGlkZTogJywgZSk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIG9uUGFnZVVubG9hZCgpIHtcbiAgdmFyIGN0eCA9IHV0aWxHb2xkbG9nLmdldENvbnRleHQoKTtcbiAgdHJ5IHtcbiAgICBjdHguYXBsdXNfcXVldWUucHVzaCh7XG4gICAgICBhY3Rpb246IGFwbHVzU3RhdGljLlBVQkxJU0gsXG4gICAgICBhcmd1bWVudHM6IFsnb25IaWRlJywge1xuICAgICAgICBzdGF0dXM6ICdyZWFkeScsXG4gICAgICB9XVxuICAgIH0pO1xuICB9IGNhdGNoKGUpe1xuICAgIHVsb2coKS53KCdvblBhZ2VVbmxvYWQ6ICcsIGUpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBvbkFwbHVzQ2xrKGUpIHtcbiAgdmFyIGN0eCA9IHV0aWxHb2xkbG9nLmdldENvbnRleHQoKTtcbiAgY3R4LmFwbHVzX3F1ZXVlLnB1c2goe1xuICAgIGFjdGlvbjogYXBsdXNTdGF0aWMuUFVCTElTSCxcbiAgICBhcmd1bWVudHM6IFsnb25BcGx1c0NsaycsIHtcbiAgICAgIHN0YXR1czogJ3JlYWR5JyxcbiAgICAgIGV2ZW50OiBlLFxuICAgICAgY29udGV4dDogdGhpc1xuICAgIH1dXG4gIH0pO1xufTtcblxuLy/op6bmkbjkuovku7ZcbmZ1bmN0aW9uIG9uQXBsdXNUb3VjaChlKSB7XG4gIHZhciBjdHggPSB1dGlsR29sZGxvZy5nZXRDb250ZXh0KCk7XG4gIHZhciB0aGF0ID0gdGhpcztcbiAgY3R4LmFwbHVzX3F1ZXVlLnB1c2goe1xuICAgIGFjdGlvbjogYXBsdXNTdGF0aWMuUFVCTElTSCxcbiAgICBhcmd1bWVudHM6IFsnb25BcGx1c1RvdWNoJywge1xuICAgICAgc3RhdHVzOiAncmVhZHknLFxuICAgICAgY29udGV4dDogdGhhdCxcbiAgICAgIGV2ZW50OiBlLFxuICAgIH1dXG4gIH0pO1xufTtcblxuZnVuY3Rpb24gcmV3cml0ZVNoYXJlKG9wdCkge1xuICBpZiAob3B0Lm9uU2hhcmVBcHBNZXNzYWdlKSB7XG4gICAgdmFyIG9sZE9uU2hhcmVBcHBNZXNzYWdlID0gb3B0Lm9uU2hhcmVBcHBNZXNzYWdlO1xuICAgIG9wdC5vblNoYXJlQXBwTWVzc2FnZSA9IGZ1bmN0aW9uKHJlcykge1xuICAgICAgdmFyIHNoYXJlUmVzdWx0ID0gb2xkT25TaGFyZUFwcE1lc3NhZ2UuY2FsbCh0aGlzLCByZXMpIHx8IHt9O1xuICAgICAgcmV0dXJuIGhhbmRsZXJTaGFyZUFwcE1zZyhzaGFyZVJlc3VsdCwgJ29uU2hhcmVBcHBNZXNzYWdlJyk7XG4gICAgfTtcbiAgfVxufTtcblxuLy8g5YiG5Lqr5pyL5Y+L5ZyIXG5mdW5jdGlvbiByZXdyaXRlU2hhcmVUaW1lbGluZShvcHQpIHtcbiAgaWYgKG9wdC5vblNoYXJlVGltZWxpbmUpIHtcbiAgICB2YXIgb2xkT25TaGFyZVRpbWVsaW5lID0gb3B0Lm9uU2hhcmVUaW1lbGluZTtcbiAgICBvcHQub25TaGFyZVRpbWVsaW5lID0gZnVuY3Rpb24ocmVzKSB7XG4gICAgICB2YXIgc2hhcmVSZXN1bHQgPSBvbGRPblNoYXJlVGltZWxpbmUuY2FsbCh0aGlzLCByZXMpIHx8IHt9O1xuICAgICAgcmV0dXJuIGhhbmRsZXJTaGFyZUFwcE1zZyhzaGFyZVJlc3VsdCwgJ29uU2hhcmVUaW1lbGluZScpO1xuICAgIH07XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGluamVjdFBhZ2UoKSB7XG4gIHRyeSB7XG4gICAgdmFyIG9sZFBhZ2UgPSBQYWdlO1xuICAgIFBhZ2UgPSBmdW5jdGlvbihwYWdlT3B0aW9ucykge1xuICAgICAgdXRpbHMucmV3cml0ZUZuKHBhZ2VPcHRpb25zLCAnb25TaG93Jywgb25QYWdlU2hvdyk7XG4gICAgICB1dGlscy5yZXdyaXRlRm4ocGFnZU9wdGlvbnMsICdvbkhpZGUnLCBvblBhZ2VIaWRlKTtcbiAgICAgIHV0aWxzLnJld3JpdGVGbihwYWdlT3B0aW9ucywgJ29uVW5sb2FkJywgb25QYWdlVW5sb2FkKTtcbiAgICAgIHV0aWxzLnJld3JpdGVGbihwYWdlT3B0aW9ucywgJ29uTG9hZCcsIG9uUGFnZUxvYWQpO1xuICAgICAgdXRpbHMucmV3cml0ZUZuKHBhZ2VPcHRpb25zLCAnb25SZWFkeScsIG9uUGFnZVJlYWR5KTtcbiAgICAgIHV0aWxzLnJld3JpdGVGbihwYWdlT3B0aW9ucywgJ29uUHVsbERvd25SZWZyZXNoJywgb25QdWxsRG93blJlZnJlc2gpO1xuICAgICAgdXRpbHMucmV3cml0ZUZuKHBhZ2VPcHRpb25zLCAnb25SZWFjaEJvdHRvbScsIG9uUmVhY2hCb3R0b20pO1xuICAgICAgdXRpbHMucmV3cml0ZUZuKHBhZ2VPcHRpb25zLCAnb25BcGx1c0NsaycsIG9uQXBsdXNDbGspO1xuICAgICAgdXRpbHMucmV3cml0ZUZuKHBhZ2VPcHRpb25zLCAnb25BcGx1c1RvdWNoJywgb25BcGx1c1RvdWNoKTtcbiAgICAgIHJld3JpdGVTaGFyZShwYWdlT3B0aW9ucyk7XG4gICAgICByZXdyaXRlU2hhcmVUaW1lbGluZShwYWdlT3B0aW9ucyk7XG4gICAgICBvbGRQYWdlKHBhZ2VPcHRpb25zKTtcbiAgICB9O1xuICB9IGNhdGNoKGUpIHtcbiAgICB1bG9nKCkudygnUGFnZSDph43lhpnlvILluLgnKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gaW5qZWN0Q29tcG9uZW50KCkge1xuICB0cnkge1xuICAgIHZhciBvbGRDb21wb25lbnQgPSBDb21wb25lbnQ7XG4gICAgQ29tcG9uZW50ID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgb3B0aW9ucy5tZXRob2RzID0gb3B0aW9ucy5tZXRob2RzIHx8IHt9O1xuICAgICAgICB2YXIgbWV0aG9kcyA9IG9wdGlvbnMubWV0aG9kcztcbiAgICAgICAgdXRpbHMucmV3cml0ZUZuKG1ldGhvZHMsICdvblNob3cnLCBvblBhZ2VTaG93KTtcbiAgICAgICAgdXRpbHMucmV3cml0ZUZuKG1ldGhvZHMsICdvbkhpZGUnLCBvblBhZ2VIaWRlKTtcbiAgICAgICAgdXRpbHMucmV3cml0ZUZuKG1ldGhvZHMsICdvblVubG9hZCcsIG9uUGFnZUhpZGUpO1xuICAgICAgICB1dGlscy5yZXdyaXRlRm4obWV0aG9kcywgJ29uTG9hZCcsIG9uUGFnZUxvYWQpO1xuICAgICAgICByZXdyaXRlU2hhcmUobWV0aG9kcyk7XG4gICAgICAgIG9sZENvbXBvbmVudChvcHRpb25zKTtcbiAgICAgIH0gY2F0Y2godCkge1xuICAgICAgICBvbGRDb21wb25lbnQob3B0aW9ucyk7XG4gICAgICB9O1xuICAgIH07XG4gIH0gY2F0Y2goZSkge1xuICAgIHVsb2coKS53KCdDb21wb25lbnQg6YeN5YaZ5byC5bi4Jyk7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBpbmplY3RNaWR3YXkgKG1wQ3R4LCBuYW1lLCBjYWxsYmFjaykge1xuICBpZiAoWydvYmplY3QnLCAnZnVuY3Rpb24nXS5pbmRleE9mKHR5cGVvZiBtcEN0eCkgPiAtMSkge1xuICAgIGNhbGxiYWNrKCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gY29uc29sZS5sb2coJ3R5cGVvZiAnICsgbmFtZSArICcgaXMgbm90IG9iamVjdCBjYW50IHdhdGNoRXhwLicpO1xuICAgIHVsb2coKS53KCd0eXBlb2YgJyArIG5hbWUgKyAnIGlzIG5vdCBvYmplY3QgY2FudCB3YXRjaEV4cC4nKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICBydW46IGZ1bmN0aW9uICgpIHtcbiAgICAgIGluamVjdE1pZHdheShQYWdlLCAnUGFnZScsIGluamVjdFBhZ2UpO1xuICAgICAgaW5qZWN0TWlkd2F5KENvbXBvbmVudCwgJ0NvbXBvbmVudCcsIGluamVjdENvbXBvbmVudCk7XG4gICAgfVxuICB9O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3BsdWdpbnNfbWluaS9pbmplY3RfcGFnZV91bS5qc1xuLy8gbW9kdWxlIGlkID0gMzBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBwcm9qZWN0IC0gZmlsZXBhdGhcbiAqIOWvuW1hcOi/m+ihjOmrmOaAp+iDveeahOmBjeWOhlxuICpcbiAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cbiAqXG4gKiBBdXRob3JzOlxuICogICDosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuICovXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG1hcCwgY2FsbGJhY2spIHtcbiAgaWYgKE9iamVjdCAmJiBPYmplY3Qua2V5cykge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMobWFwKTtcbiAgICB2YXIgbGVuID0ga2V5cy5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgdmFyIGsxID0ga2V5c1tpXTtcbiAgICAgIGNhbGxiYWNrKGsxLCBtYXBbazFdKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIgayBpbiBtYXApIHtcbiAgICAgIGNhbGxiYWNrKGssIG1hcFtrXSk7XG4gICAgfVxuICB9XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvbGliX3UvdXRpbHMvZWFjaE1hcC5qc1xuLy8gbW9kdWxlIGlkID0gMzFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBhbGlsb2cvcy91dGlsL2Zvcm1hdC5qc1xuICog5bel5YW357G7XG4gKlxuICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuICpcbiAqIEF1dGhvcnM6XG4gKiAgIOiwi+WjqyA8cWluZ2xpYW5nLmhxbEBhbGliYWJhLWluYy5jb20+XG4gKi9cbid1c2Ugc3RyaWN0JztcblxuLy8gdmFyIHRyeVRvRGVjb2RlID0gcmVxdWlyZSgnLi90cnlUb0RlY29kZScpO1xuXG5leHBvcnRzLmFycjJvYmogPSBmdW5jdGlvbiAoYXJyKSB7XG4gIHZhciByZXQgPSB7fTtcbiAgdmFyIGs7XG4gIHZhciB2O1xuICB2YXIgaTtcbiAgdmFyIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgayA9IGFycltpXVswXTtcbiAgICB2ID0gYXJyW2ldWzFdO1xuICAgIHJldFtrXSA9IHY7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn07XG5cbi8qKlxuICogcGFyYW0gdG8gb2JqZWN0XG4gKiDlsIbkuIDkuKrnroDljZXnmoTlvaLlpoIgYT0xJmI9MiZjPTMg6L+Z5qC355qE5Y+C5pWw6L2s5YyW5Li6566A5Y2V55qEIG9iamVjdCDmoLzlvI/vvIzlpoLvvJpcbiAqIHtcbiAqICAgYTogXCIxXCIsXG4gKiAgIGI6IFwiMlwiLFxuICogICBjOiBcIjNcIlxuICogfVxuICogQHBhcmFtIHBhcmFtcyB7U3RyaW5nfVxuICovXG5leHBvcnRzLnBhcmFtMm9iaiA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgaWYgKHR5cGVvZiBwYXJhbXMgPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIHBhcmFtcztcbiAgfVxuICBpZiAoIXBhcmFtcykgcGFyYW1zID0gJyc7XG5cbiAgdmFyIG9iaiA9IHt9O1xuICB2YXIgYSA9IHBhcmFtcy5zcGxpdCgnJicpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGFbaV07XG4gICAgdmFyIGluZGV4ID0gaXRlbS5pbmRleE9mKCc9Jyk7XG4gICAgdmFyIGZyYWdtZW50ID0gaXRlbS5zcGxpdCgnPScpO1xuICAgIHZhciBsZW4gPSBpdGVtLmxlbmd0aDtcbiAgICBpZiAoZnJhZ21lbnQubGVuZ3RoID09PSAyKSB7XG4gICAgICBvYmpbZnJhZ21lbnRbMF1dID0gZnJhZ21lbnRbMV0gfHwgJyc7ICBcbiAgICB9IGVsc2UgaWYgKGluZGV4ID4gMCkge1xuICAgICAgdmFyIGtleSA9IGl0ZW0uc2xpY2UoMCwgaW5kZXgpO1xuICAgICAgdmFyIHZhbHVlID0gaXRlbS5zbGljZShpbmRleCArIDEsIGxlbikgfHwgJyc7XG4gICAgICBvYmpba2V5XSA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmpbZnJhZ21lbnRbMF1dID0gJyc7XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmo7XG59O1xuXG4vLyBjb25zb2xlLmxvZygnVE9ETyBkZWxldGUgc19wbGFpbl9vYmonKTtcbnZhciBzX3BsYWluX29iaiA9ICc6Oi1wbGFpbi06Oic7XG5leHBvcnRzLnNfcGxhaW5fb2JqID0gc19wbGFpbl9vYmo7XG5cbi8qKlxuICogYXJyYXkgdG8gcGFyYW1cbiAqIOWwhuS4gOS4queugOWNleeahOaVsOe7hOi9rOWMluS4uiB1cmwg5Y+C5pWw55qE5b2i5byP77yMXG4gKiDlhbbkuK3mlbDnu4TkuLpcbiAqICAgICAgW1trMSwgdjFdLCBbazIsIHYyXSwgW2szLCB2M10sIC4uLl1cbiAqIOeahOW9ouW8j+OAglxuICog5LiOIG9iajJwYXJhbSDnm7jmr5TvvIzov5nkuKrmlrnms5XnmoTlpb3lpITmmK/lj6/ku6Xkv53or4HmnIDlkI7lj4LmlbDnmoTpobrluo9cbiAqIEBwYXJhbSBhcnIge0FycmF5fVxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5mdW5jdGlvbiBhcnIycGFyYW0oYXJyLCBza2lwRW5jb2RlKSB7XG4gIHZhciBhID0gW10sXG4gICAgayxcbiAgICB2LFxuICAgIGksXG4gICAgbGVuID0gYXJyLmxlbmd0aDtcblxuICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBrID0gYXJyW2ldWzBdO1xuICAgIHYgPSBhcnJbaV1bMV07XG4gICAgdmFyIGlzSW5QbGFuT2JqID0gay5pbmRleE9mKHNfcGxhaW5fb2JqKSA9PT0gMDtcbiAgICB2YXIgX3ZhbHVlID0gaXNJblBsYW5PYmogfHwgc2tpcEVuY29kZSA/IHYgOiBlbmNvZGVVUklDb21wb25lbnQodik7XG4gICAgYS5wdXNoKGlzSW5QbGFuT2JqID8gX3ZhbHVlIDogKGsgKyAnPScgKyBfdmFsdWUpKTtcbiAgfVxuICByZXR1cm4gYS5qb2luKCcmJyk7XG59O1xuZXhwb3J0cy5hcnIycGFyYW0gPSBhcnIycGFyYW07XG5cbi8qKlxuICogb2JqZWN0IHRvIHBhcmFtXG4gKiDlsIbkuIDkuKrnroDljZXlr7nosaHovazljJbkuLogdXJsIOWPguaVsOeahOW9ouW8j1xuICog5Y+C6KeBIGFycjJwYXJhbSgpIOaWueazlVxuICogQHBhcmFtIG9iaiB7T2JqZWN0fVxuICogQHBhcmFtIGNvbW1UcmFuc2xhdGUge0Jvb2xlYW59IOaZrumAmui9rOaNouS4jeWBmmlzU3RhcnRXaXRo5qCh6aqMXG4gKlxuICovXG5leHBvcnRzLm9iajJwYXJhbSA9IGZ1bmN0aW9uIChvYmosIGNvbW1UcmFuc2xhdGUpIHtcbiAgdmFyIGEgPSBbXTtcbiAgdmFyIGs7XG4gIHZhciB2O1xuICB2YXIgX3Y7XG4gIGZvciAoayBpbiBvYmopXG4gICAgaWYgKGsgJiYgb2JqLmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICB2ID0gJycgKyBvYmpba107XG4gICAgICBfdiA9IGsgKyAnPScgKyB2O1xuICAgICAgaWYgKCFjb21tVHJhbnNsYXRlKSB7XG4gICAgICAgIGEucHVzaChrLmluZGV4T2Yoc19wbGFpbl9vYmopID09PSAwID8gdiA6IF92KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGEucHVzaChfdik7XG4gICAgICB9XG4gICAgfVxuICByZXR1cm4gYS5qb2luKCcmJyk7XG59O1xuXG5leHBvcnRzLmVuY29kZUdva2V5VmFsdWUgPSBmdW5jdGlvbiAoZ29rZXkpIHtcbiAgLy8gdmFyIGFwbHVzID0gcmVxdWlyZSgnQHV0aWxzL3V0aWxHb2xkbG9nJykuZ2V0R2xvYmFsVmFsdWUoJ2FwbHVzJyk7XG4gIC8vIC8vIOWvuWdva2V55YaF55qEdmFsdWXnu5/kuIDliqDkuIDlsYLnvJbnoIFcbiAgLy8gaWYgKHR5cGVvZiBnb2tleSA9PT0gJ29iamVjdCcgJiYgYXBsdXMuZ2xvYmFsQ29uZmlnLmlzQWxpKSB7XG4gIC8vICAgZm9yICh2YXIgayBpbiBnb2tleSkge1xuICAvLyAgICAgaWYgKHR5cGVvZiBnb2tleVtrXSA9PT0gJ3N0cmluZycpIHtcbiAgLy8gICAgICAgdHJ5IHtcbiAgLy8gICAgICAgICBnb2tleVtrXSA9IGVuY29kZVVSSUNvbXBvbmVudChkZWNvZGVVUklDb21wb25lbnQoZ29rZXlba10pKTtcbiAgLy8gICAgICAgfSBjYXRjaCAoZSkge31cbiAgLy8gICAgIH1cbiAgLy8gICB9XG4gIC8vIH1cbiAgcmV0dXJuIGdva2V5O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2xpYl91L3V0aWxzL2Zvcm1hdC5qc1xuLy8gbW9kdWxlIGlkID0gMzJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBwcm9qZWN0IC0gZmlsZXBhdGhcbiAqIGRlc2NyaXB0aW9uXG4gKlxuICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuICpcbiAqIEF1dGhvcnM6XG4gKiAgIOiwi+WjqyA8cWluZ2xpYW5nLmhxbEBhbGliYWJhLWluYy5jb20+XG4gKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxHb2xkbG9nID0gcmVxdWlyZSgnQHV0aWxzL3V0aWxHb2xkbG9nJyk7XG52YXIgYXBsdXNTdGF0aWMgPSByZXF1aXJlKCdAdXRpbHMvYXBsdXNTdGF0aWMnKTtcbnZhciBlYWNoID0gcmVxdWlyZSgnQHV0aWxzL2VhY2gnKTtcbi8vIHZhciBVUERBVEUgPSAndXBkYXRlJztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgcHVzaFF1ZXVlOmZ1bmN0aW9uKG1ldGhvZE5hbWUsIGFyZ3Mpe1xuICAgICAgdmFyIGFwbHVzX3F1ZXVlID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoJ2FwbHVzX3F1ZXVlJyk7XG4gICAgICBhcGx1c19xdWV1ZS5wdXNoKHtcbiAgICAgICAgYWN0aW9uOiAnYXBsdXMuJyArIG1ldGhvZE5hbWUsXG4gICAgICAgIGFyZ3VtZW50czogYXJnc1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBydW46IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZShhcGx1c1N0YXRpYy5BUExVUyk7XG4gICAgICBlYWNoKGFwbHVzU3RhdGljLm9wZW5BUElzLCBmdW5jdGlvbiAodikge1xuICAgICAgICBhcGx1c1t2XSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgaXRlbXMgPSBbXTtcbiAgICAgICAgICBlYWNoKGFyZ3VtZW50cywgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIGl0ZW1zLnB1c2goaXRlbSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIG1ldGhvZE5hbWUgPSB2ID09PSAnZW50ZXInID8gJ19zZW5kUFYnIDogJ18nICsgdjtcbiAgICAgICAgICBfc2VsZi5wdXNoUXVldWUobWV0aG9kTmFtZSwgaXRlbXMpO1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3BsdWdpbnNfbWluaS9vcGVuX2FwaS5qc1xuLy8gbW9kdWxlIGlkID0gMzNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBhbGlsb2cvcyAtIHNyYy9wbHVnaW5zL2FwbHVzX2NsaWVudF9taW5pLmpzXG4gKlxuICogY2xpZW50SW5mbyBmb3IgbWluaWFwcFxuICpcbiAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cbiAqXG4gKiBBdXRob3JzOlxuICogICDosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciBtaW5pID0gcmVxdWlyZSgnLi4vbGliX3UvdXRpbHMvbWluaScpO1xudmFyIHV0aWxHb2xkbG9nID0gcmVxdWlyZSgnLi4vbGliX3UvdXRpbHMvdXRpbEdvbGRsb2cnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgLyoqXG4gICAgICog5Yid5aeL5YyW5qih5Z2XLCDkuKrmgKfljJbpg6jliIblrZDnsbvkuK3lrp7njrBcbiAgICAgKi9cbiAgICAvLyBpbml0OiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgLy8gICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIC8vIH0sXG5cbiAgICBfZ2V0TmV0d29ya1R5cGU6IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgdmFyIGN0eCA9IG1pbmkuZ2V0Q29udGV4dCgpO1xuICAgICAgaWYgKGN0eC5nZXROZXR3b3JrVHlwZSkge1xuICAgICAgICBjdHguZ2V0TmV0d29ya1R5cGUoe1xuICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKHJlcyA/IHJlcy5uZXR3b3JrVHlwZSA6ICcnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2soJycpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiDojrflj5bns7vnu5/kv6Hmga8gaHR0cHM6Ly9kb2NzLmFsaXBheS5jb20vbWluaS9hcGkvc3lzdGVtLWluZm9cbiAgICAgKiDmiYvmnLrlnovlj7fjgIHlsY/luZXliIbovqjnjofjgIHns7vnu5/niYjmnKznrYnkv6Hmga9cbiAgICAgKi9cbiAgICBfZ2V0U3lzdGVtSW5mbzogZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICB2YXIgX3NlbGYgPSB0aGlzO1xuICAgICAgdmFyIGVtcHR5T2JqID0ge307XG4gICAgICB2YXIgc3lzSW5mbyA9IF9zZWxmLlNZU1RFTV9JTkZPIHx8IHt9O1xuICAgICAgaWYgKHN5c0luZm8gJiYgc3lzSW5mby52ZXJzaW9uKSB7XG4gICAgICAgIGNhbGxiYWNrKF9zZWxmLlNZU1RFTV9JTkZPKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbWluaS5nZXRDb250ZXh0KCkuZ2V0U3lzdGVtSW5mbyh7XG4gICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgICBpZiAocmVzICYmIHJlcy52ZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgX3NlbGYuX2dldE5ldHdvcmtUeXBlKGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgICAgICAgICByZXMubmV0d29ya1R5cGUgPSBuO1xuICAgICAgICAgICAgICAgICAgX3NlbGYuU1lTVEVNX0lORk8gPSByZXM7XG4gICAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIF9zZWxmLl9nZXROZXR3b3JrVHlwZShmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgICAgICAgZW1wdHlPYmoubmV0d29ya1R5cGUgPSBuO1xuICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZW1wdHlPYmopO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBjYWxsYmFjayhlbXB0eU9iaik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgX2dldEFjY291bnRJbmZvU3luYzogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGluZm8gPSB7fTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBjdHggPSBtaW5pLmdldENvbnRleHQoKTtcbiAgICAgICAgaWYgKGN0eC5nZXRBY2NvdW50SW5mb1N5bmMgJiYgY3R4LmNhbklVc2UoJ2dldEFjY291bnRJbmZvU3luYycpKSB7XG4gICAgICAgICAgLy8g5b6u5L+hXG4gICAgICAgICAgdmFyIGFjY291bnRJbmZvID0gY3R4LmdldEFjY291bnRJbmZvU3luYygpO1xuICAgICAgICAgIHZhciBtaW5pUHJvZ3JhbSA9IGFjY291bnRJbmZvLm1pbmlQcm9ncmFtIHx8IHt9O1xuICAgICAgICAgIHZhciBwbHVnaW4gPSBhY2NvdW50SW5mby5wbHVnaW4gfHwge307XG4gICAgICAgICAgaW5mby5hcHBJZCA9IG1pbmlQcm9ncmFtLmFwcElkOyAgLy8g5bCP56iL5bqPIGFwcElkXG4gICAgICAgICAgaW5mby5hcHBWZXJzaW9uID0gbWluaVByb2dyYW0udmVyc2lvbiB8fCBtaW5pUHJvZ3JhbS5lbnZWZXJzaW9uOyAgLy8g5bCP56iL5bqPIGFwcFZlcnNpb25cbiAgICAgICAgICBpbmZvLnBsdWdpbkFwcElkID0gcGx1Z2luLmFwcElkOyAvLyDmj5Lku7YgYXBwSWRcbiAgICAgICAgICBpbmZvLnBsdWdpbkFwcFZlcnNpb24gPSBwbHVnaW4udmVyc2lvbjsgLy8g5o+S5Lu2IGFwcFZlcnNpb24gIFxuICAgICAgICB9IGVsc2UgaWYgKGN0eC5nZXRBcHBJZFN5bmMgJiYgY3R4LmNhbklVc2UoJ2dldEFwcElkU3luYycpKSB7XG4gICAgICAgICAgdmFyIGFwcEluZm8gPSBjdHguZ2V0QXBwSWRTeW5jKCkgfHwge307XG4gICAgICAgICAgaW5mby5hcHBJZCA9IGFwcEluZm8uYXBwSWQgfHwgJyc7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICByZXR1cm4gaW5mbztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogd29ya25vXG4gICAgICogICAxLiBjb29raWUuZ2V0Q29va2llKCd3b3Jrbm8nKVxuICAgICAqICAgMi4gY29va2llLmdldENvb2tpZSgnZW1wbElkJylcbiAgICAgKiBAcmV0dXJuIFwiZG9uZVwiIHx8IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIHJ1bjogZnVuY3Rpb24gKHN0YXRlLCBjYikge1xuICAgICAgdmFyIF9zZWxmID0gdGhpcztcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdUT0RPIGdldFN5c3RlbUluZm8nKTtcbiAgICAgIHRoaXMuX2dldFN5c3RlbUluZm8oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAvLyDmlK/ku5jlrp3lsI/nqIvluo/mlofmoaMgIHN5c3RlbS3ns7vnu5/niYjmnKwgcGxhdGZvcm0t57O757uf5ZCNXG4gICAgICAgIHJlcy51c2VyQWdlbnQgPSAnLSc7XG4gICAgICAgIHJlcy5vcyA9IHJlcy5wbGF0Zm9ybSA/IHJlcy5wbGF0Zm9ybS50b0xvY2FsZVVwcGVyQ2FzZSgpIDogJyc7XG4gICAgICAgIHJlcy5vc192ZXJzaW9uID0gcmVzLnN5c3RlbSA/IHJlcy5zeXN0ZW0gOiAnJztcbiAgICAgICAgcmVzLmFjY2VzcyA9IHJlcy5icmFuZCA/IHJlcy5icmFuZCA6ICcnO1xuICAgICAgICB2YXIgaG9zdCA9ICcnO1xuICAgICAgICBpZihyZXMuaG9zdCAmJiAodHlwZW9mIHJlcy5ob3N0LmVudiA9PT0gJ3N0cmluZycpKXtcbiAgICAgICAgICBob3N0ID0gcmVzLmhvc3QuZW52O1xuICAgICAgICB9XG4gICAgICAgIHJlcy5ob3N0ID0gaG9zdDtcblxuICAgICAgICB2YXIgYWNjb3VudEluZm8gPSBfc2VsZi5fZ2V0QWNjb3VudEluZm9TeW5jKCk7XG4gICAgICAgIHZhciBycyA9IE9iamVjdC5hc3NpZ24oe30sIHJlcywgYWNjb3VudEluZm8pO1xuXG4gICAgICAgIHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKCdhcGx1cycpO1xuICAgICAgICBhcGx1cy5fYXBsdXNfY2xpZW50ID0gcnM7XG4gICAgICAgIGNiKCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiAyMDAwO1xuICAgIH1cbiAgfTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9wbHVnaW5zL2FwbHVzX2NsaWVudF9taW5pLmpzXG4vLyBtb2R1bGUgaWQgPSAzNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcbnZhciBQdWJTdWIgPSByZXF1aXJlKCdAY29yZS9QdWJTdWInKTtcbnZhciB1dGlsR29sZGxvZyA9IHJlcXVpcmUoJ0B1dGlscy91dGlsR29sZGxvZycpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgcnVuOiAgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoJ2FwbHVzJyk7XG4gICAgICAvLyDkv53or4Hlj6rkvJrmnInkuIDkuKpwdWJzdWLov5DooYxcbiAgICAgIGlmIChhcGx1cy5hcGx1c19wdWJzdWIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gYXBsdXMuYXBsdXNfcHVic3Vi5piv5LiA5Liq55uR5ZCs6ICF77yM5Zyo5o+S5Lu25YyW5YaF6YOo5Lya55So5Yiw5LuW77yM5pyJ5pWw5o2u5Y+Y5YyW5bCG5Lya5Y+R5bCE55u45bqU55qEZGF0YWNoYW5nZeS6i+S7tlxuICAgICAgYXBsdXMuYXBsdXNfcHVic3ViID0gUHViU3ViLmNyZWF0ZSgpO1xuICAgIH1cbiAgfTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9wbHVnaW5zL2xpYl9tZXNzYWdlci9wdWJzdWJfbWluaS5qc1xuLy8gbW9kdWxlIGlkID0gMzVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBhbGlsb2cvcy9zcmMvbGliX3UvY29yZS9QdWJTdWIuanNcbiAqIOa2iOaBr+iuoumYheaooeWei1xuICpcbiAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cbiAqXG4gKiBBdXRob3JzOlxuICogICDosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciBpc0Z1bmN0aW9uID0gcmVxdWlyZSgnQHV0aWxzL2lzRnVuY3Rpb24nKTtcbnZhciBCYXNlID0gcmVxdWlyZSgnQGNvcmUvQmFzZScpO1xuXG52YXIgZ2V0QXJncyA9IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgdmFyIGxlbiA9IGFyZ3MubGVuZ3RoO1xuICB2YXIgX2FyZ3MgPSBuZXcgQXJyYXkobGVuIC0gMSk7XG4gIGZvciAodmFyIGogPSAxOyBqIDwgbGVuOyBqKyspIHtcbiAgICBfYXJnc1tqIC0gMV0gPSBhcmdzW2pdO1xuICB9XG4gIHJldHVybiBfYXJncztcbn07XG5cbnZhciBQdWJTdWIgPSBCYXNlLmV4dGVuZCh7XG4gIC8qKlxuICAgKiDlr7lmbui/m+ihjOaWreiogO+8jOS4jeaYr+KAmGZ1bmN0aW9u4oCZ57G75Z6L5oql6ZSZ77yM5ZCm5YiZ6L+U5ZueZm5cbiAgICovXG4gIGNhbGxhYmxlOiBmdW5jdGlvbiAoZm4pIHtcbiAgICBpZiAoIWlzRnVuY3Rpb24oZm4pKSB0aHJvdyBuZXcgVHlwZUVycm9yKGZuICsgJyBpcyBub3QgYSBmdW5jdGlvbicpO1xuICAgIHJldHVybiBmbjtcbiAgfSxcblxuICBjcmVhdGU6IGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHZhciBpbnN0YW5jZSA9IG5ldyB0aGlzKCk7XG4gICAgLy8g57uR5a6a6K+l5a6e5L6L55qE5bGe5oCnXG4gICAgZm9yICh2YXIgbmFtZSBpbiBwcm9wcykge1xuICAgICAgaW5zdGFuY2VbbmFtZV0gPSBwcm9wc1tuYW1lXTtcbiAgICB9XG5cbiAgICBpbnN0YW5jZS5oYW5kbGVycyA9IFtdO1xuICAgIGluc3RhbmNlLnB1YnMgPSB7fTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH0sXG5cbiAgc2V0SGFuZGxlcnM6IGZ1bmN0aW9uKGhhbmRsZXJzKSB7XG4gICAgdGhpcy5oYW5kbGVycyA9IGhhbmRsZXJzO1xuICB9LFxuXG4gIC8qKlxuICAgKiDorqLpmIXlj6Xmn4TkuLrigJxlVHlwZeKAneeahOa2iOaBr++8jOW9k+aciea2iOaBr+i/h+adpeaJp+ihjOWbnuiwg+WHveaVsO+8muKAnGjigJ1cbiAgICogQHBhcmFtIHtTdHJpbmd9IGVUeXBlIOiuoumYheeahOa2iOaBr+WPpeafhFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoIOiuoumYheeahOa2iOaBr+Wbnuiwg+WHveaVsFxuICAgKiBAcmV0dXJuIGNvbnRleHRcbiAgICovXG4gIHN1YnNjcmliZTogZnVuY3Rpb24oZVR5cGUsIGgpe1xuICAgIC8vIOWvueWbnuiwg+WHveaVsOi/m+ihjOaWreiogFxuICAgIHRoaXMuY2FsbGFibGUoaCk7XG5cbiAgICB2YXIgX3NlbGYgPSB0aGlzO1xuICAgIHZhciBwdWJzID0gX3NlbGYucHVicyB8fCB7fTtcblxuICAgIHZhciBhcnIgPSBwdWJzW2VUeXBlXSB8fCBbXTtcbiAgICBpZiAoYXJyKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgX2FyZ3MgPSBhcnJbaV0oKTtcbiAgICAgICAgaC5hcHBseShfc2VsZiwgX2FyZ3MpO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgaGFuZGxlcnMgPSBfc2VsZi5oYW5kbGVycyB8fCBbXTtcbiAgICBpZighKGVUeXBlIGluIGhhbmRsZXJzKSkge1xuICAgICAgaGFuZGxlcnNbZVR5cGVdID0gW107XG4gICAgfVxuICAgIGhhbmRsZXJzW2VUeXBlXS5wdXNoKGgpO1xuICAgIF9zZWxmLnNldEhhbmRsZXJzKGhhbmRsZXJzKTtcbiAgICByZXR1cm4gX3NlbGY7XG4gIH0sXG5cbiAgLyoqXG4gICAqIOWPlua2iOiuoumYhe+8jOWwhuS8muWPlua2iOKAnGVUeXBl4oCd5Y+l5p+E5a+55bqU55qE4oCcaOKAneWbnuiwg+WHveaVsOS4i+eahOaJgOacieiuoumYhVxuICAgKiBAcGFyYW0ge1N0cmluZ30gZVR5cGUg6K6i6ZiF55qE5raI5oGv5Y+l5p+EXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGgg6K6i6ZiF55qE5raI5oGv5Zue6LCD5Ye95pWwXG4gICAqIEByZXR1cm4gY29udGV4dFxuICAgKi9cbiAgdW5zdWJzY3JpYmU6IGZ1bmN0aW9uKGVUeXBlLCBoKSB7XG4gICAgLy8g5a+55Zue6LCD5Ye95pWw6L+b6KGM5pat6KiAXG4gICAgdGhpcy5jYWxsYWJsZShoKTtcblxuICAgIHRyeSB7XG4gICAgICB2YXIgcyA9IHRoaXMuaGFuZGxlcnNbZVR5cGVdO1xuICAgICAgaWYgKCFzKSByZXR1cm4gdGhpcztcblxuICAgICAgaWYgKHR5cGVvZiBzID09PSAnb2JqZWN0JyAmJiBzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgaF9zdHIgPSBoLnRvU3RyaW5nKCk7XG4gICAgICAgICAgdmFyIHNfc3RyID0gc1tpXS50b1N0cmluZygpO1xuICAgICAgICAgIGlmIChoX3N0ciA9PT0gc19zdHIpIHtcbiAgICAgICAgICAgIHMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhhbmRsZXJzW2VUeXBlXSA9IHM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWxldGUgdGhpcy5oYW5kbGVyc1tlVHlwZV07XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICog5raI5oGv5YiG5Y+R77yM5bCG5Lya5YiG5Y+R5Yiw5omA5pyJ6K6i6ZiFZVR5cGXlj6Xmn4TnmoTorqLpmIXogIVcbiAgICogQHBhcmFtIHtTdHJpbmd9IGVUeXBlIOWIhuWPkea2iOaBr+WPpeafhFxuICAgKi9cbiAgcHVibGlzaDogZnVuY3Rpb24gKGVUeXBlKSB7XG5cbiAgICB2YXIgYXJncyA9IGdldEFyZ3MoYXJndW1lbnRzKTtcbiAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzIHx8IFtdO1xuXG4gICAgdmFyIHNpemUgPSBoYW5kbGVyc1tlVHlwZV0gPyBoYW5kbGVyc1tlVHlwZV0ubGVuZ3RoIDogMDtcbiAgICBpZiAoc2l6ZSA+IDApIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgIHZhciBmbiA9IGhhbmRsZXJzW2VUeXBlXVtpXTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oZm4pKSB7XG4gICAgICAgICAgZm4uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBjYWNoZVB1YnM6IGZ1bmN0aW9uIChlVHlwZSkge1xuICAgIHZhciBwdWJzID0gdGhpcy5wdWJzIHx8IHt9O1xuICAgIHZhciBhcmdzID0gZ2V0QXJncyhhcmd1bWVudHMpO1xuICAgIGlmICghcHVic1tlVHlwZV0pIHtcbiAgICAgIHB1YnNbZVR5cGVdID0gW107XG4gICAgfVxuICAgIHB1YnNbZVR5cGVdLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGFyZ3M7XG4gICAgfSk7XG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFB1YlN1YjtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2xpYl91L2NvcmUvUHViU3ViLmpzXG4vLyBtb2R1bGUgaWQgPSAzNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIGFsaWxvZy9zL3NyYy9saWJfdS9jb3JlL0Jhc2UuanNcbiAqIOWfuuexu++8jOaPkOS+m+exu+aJgOmcgOimgeeahOWfuuehgOWxnuaAp1xuICpcbiAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cbiAqXG4gKiBBdXRob3JzOlxuICogICDosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciBpc0Z1bmN0aW9uID0gcmVxdWlyZSgnQHV0aWxzL2lzRnVuY3Rpb24nKTtcblxuLy8g5Z+657G7XG5mdW5jdGlvbiBCYXNlKCkge31cblxuLy8g5bCGZXh0ZW5k5ZKMY3JlYXRl572u5LqOcHJvdG90eXBl5a+56LGh5Lit77yM5Lul5L6/5a2Q57G757un5om/XG5CYXNlLnByb3RvdHlwZS5leHRlbmQgPSBmdW5jdGlvbigpIHt9O1xuQmFzZS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oKSB7fTtcblxuLy8g5Li65LqG6IO95Zyo5Z+657G75LiK55u05o6l5LulLmV4dGVuZOeahOaWueW8j+i/m+ihjOiwg+eUqFxuQmFzZS5leHRlbmQgPSBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gdGhpcy5wcm90b3R5cGUuZXh0ZW5kLmNhbGwodGhpcywgcHJvcHMpO1xufTtcblxuQmFzZS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24ocHJvcHMpIHtcbiAgLyoqXG4gICAqIGNyZWF0ZeWunumZheS4iuaYr+WvuW5ld+eahOWwgeijhe+8m1xuICAgKiBjcmVhdGXov5Tlm57nmoTlrp7kvovlrp7pmYXkuIrlsLHmmK9uZXfmnoTpgKDlh7rnmoTlrp7kvovvvJtcbiAgICogdGhpc+WNs+aMh+WQkeiwg+eUqOW9k+WJjWNyZWF0ZeeahOaehOmAoOWHveaVsO+8m1xuICAgKi9cbiAgdmFyIGluc3RhbmNlID0gbmV3IHRoaXMoKTtcbiAgLy8g57uR5a6a6K+l5a6e5L6L55qE5bGe5oCnXG4gIGZvciAodmFyIG5hbWUgaW4gcHJvcHMpIHtcbiAgICBpbnN0YW5jZVtuYW1lXSA9IHByb3BzW25hbWVdO1xuICB9XG4gIHJldHVybiBpbnN0YW5jZTtcbn07XG5cbkJhc2UucHJvdG90eXBlLmV4dGVuZCA9IGZ1bmN0aW9uKHByb3BzKSB7XG4gIC8vIOa0vueUn+WHuuadpeeahOaWsOeahOWtkOexu1xuICB2YXIgU3ViQmFzZSA9IGZ1bmN0aW9uKCkge307XG4gIHRyeSB7XG4gICAgLyoqXG4gICAgICog57un5om/54i257G755qE5bGe5oCn5ZKM5pa55rOV77yMXG4gICAgICog5b2T54S25YmN5o+Q5piv54i257G755qE5bGe5oCn6YO95pS+5ZyocHJvdG90eXBl5LitXG4gICAgICog6ICM6Z2e5LiK6Z2iY3JlYXRl5pa55rOV55qE4oCc5a6e5L6L5bGe5oCn4oCd5LitXG4gICAgICovXG4gICAgaWYgKCFpc0Z1bmN0aW9uKE9iamVjdC5jcmVhdGUpKSB7XG4gICAgICBPYmplY3QuY3JlYXRlID0gZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgZnVuY3Rpb24gRigpIHt9XG4gICAgICAgIEYucHJvdG90eXBlID0gbztcbiAgICAgICAgcmV0dXJuIG5ldyBGKCk7XG4gICAgICB9O1xuICAgIH1cbiAgICBTdWJCYXNlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUodGhpcy5wcm90b3R5cGUpO1xuXG4gICAgLy8g5bm25LiU5re75Yqg6Ieq5bex55qE5pa55rOV5ZKM5bGe5oCnXG4gICAgZm9yICh2YXIgbmFtZSBpbiBwcm9wcykge1xuICAgICAgU3ViQmFzZS5wcm90b3R5cGVbbmFtZV0gPSBwcm9wc1tuYW1lXTtcbiAgICB9XG4gICAgU3ViQmFzZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTdWJCYXNlO1xuXG4gICAgLy8g6ZyA6KaB5LulLmV4dGVuZOeahOaWueW8j+WSjC5jcmVhdGXnmoTmlrnlvI/osIPnlKjvvJpcbiAgICBTdWJCYXNlLmV4dGVuZCA9IFN1YkJhc2UucHJvdG90eXBlLmV4dGVuZDtcbiAgICBTdWJCYXNlLmNyZWF0ZSA9IFN1YkJhc2UucHJvdG90eXBlLmNyZWF0ZTtcbiAgfSBjYXRjaChlcnIpIHtcbiAgICBjb25zb2xlICYmIGNvbnNvbGUubG9nKGVycik7XG4gIH0gZmluYWxseSB7XG4gICAgcmV0dXJuIFN1YkJhc2U7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQmFzZTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2xpYl91L2NvcmUvQmFzZS5qc1xuLy8gbW9kdWxlIGlkID0gMzdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBwcm9qZWN0IC0gZmlsZXBhdGhcbiAqIOiOt+WPlumhtemdouS4iueahCA8bWV0YT4g5Lit5LiOIGFwbHVzIOaJk+eCueebuOWFs+eahOWAvFxuICpcbiAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cbiAqXG4gKiBBdXRob3JzOlxuICogICDosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuICovXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIHJ1bjogZnVuY3Rpb24gKCkge1xuICAgICAgcmVxdWlyZSgnLi9saWJfbWV0YS9tYWluX21pbmknKSh0aGlzLm9wdGlvbnMuY29udGV4dC5hcGx1c19jb25maWcpO1xuICAgIH1cbiAgfTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9wbHVnaW5zL2FwbHVzX21ldGFfaW5qZWN0X21pbmkuanNcbi8vIG1vZHVsZSBpZCA9IDM4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogYWxpbG9nL3MgLSBzcmMvcGx1Z2lucy9saWJfYXBpL21haW4uanNcbiAqIG1ldGHphY3nva7mj5Lku7bvvIzooqthcGnmj5Lku7bkvp3otZZcbiAqXG4gKlxuICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuICpcbiAqIEF1dGhvcnM6XG4gKiAgIFJpY2hhcmR86LCL5aOrIDxxaW5nbGlhbmcuaHFsQGFsaWJhYmEtaW5jLmNvbT5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbEdvbGRsb2cgPSByZXF1aXJlKCdAdXRpbHMvdXRpbEdvbGRsb2cnKTtcbnZhciBhcGx1c1N0YXRpYyA9IHJlcXVpcmUoJ0B1dGlscy9hcGx1c1N0YXRpYycpO1xudmFyIG1ldGFJbmZvID0gcmVxdWlyZSgnLi9tZXRhSW5mb01pbmknKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXBsdXNfY29uZmlnKSB7XG4gIHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKGFwbHVzU3RhdGljLkFQTFVTKTtcbiAgdmFyIF8kID0gKGFwbHVzLl8kID0gYXBsdXMuXyQgfHwge30pOyAvLyDlhoXpg6jkvb/nlKjnmoTlj5jph49cbiAgXyQuaXNfdGVybWluYWwgPSB0cnVlO1xuICBfJC5zZW5kX3B2X2NvdW50ID0gMDtcbiAgLy8gXyQuc3RhdHVzID0gU1RBVFVTO1xuICAvLyBfJC5zY3JpcHRfbmFtZSA9IGFwbHVzX2NvbmZpZy5nbG9iYWxDb25maWcuc2NyaXB0X25hbWU7XG4gIF8kLnNwbSA9IHtcbiAgICBkYXRhOiB7fVxuICB9O1xuICBfJC5tZXRhX2luZm8gPSBtZXRhSW5mby5xR2V0KCkgfHwge307XG4gIGFwbHVzLmdsb2JhbENvbmZpZyA9IGFwbHVzX2NvbmZpZy5nbG9iYWxDb25maWc7XG5cbiAgZm9yICh2YXIgayBpbiBhcGx1c19jb25maWcubWV0YUluZm8pIHtcbiAgICBtZXRhSW5mby5zZXRNZXRhSW5mbyhrLCBhcGx1c19jb25maWcubWV0YUluZm9ba10pO1xuICB9XG4gIGFwbHVzLl8kID0gXyQ7XG5cbiAgYXBsdXMuaXNJbnRlcm5hdGlvbmFsID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9wbHVnaW5zL2xpYl9tZXRhL21haW5fbWluaS5qc1xuLy8gbW9kdWxlIGlkID0gMzlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBwcm9qZWN0IC0gZmlsZXBhdGhcbiAqIOiOt+WPlumhtemdouS4iueahCA8bWV0YT4g5Lit5LiOIGFwbHVzIOaJk+eCueebuOWFs+eahOWAvFxuICpcbiAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cbiAqXG4gKiBBdXRob3JzOlxuICogICDosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuICovXG4ndXNlIHN0cmljdCc7XG5cbi8vIHZhciB1dGlsRGFzaCA9IHJlcXVpcmUoJ0B1dGlscy91dGlsRGFzaCcpO1xudmFyIHV0aWxQdWJzdWIgPSByZXF1aXJlKCdAdXRpbHMvdXRpbFB1YnN1YicpO1xudmFyIGZvcm1hdCA9IHJlcXVpcmUoJ0B1dGlscy9mb3JtYXQnKTtcbnZhciB1dGlsR29sZGxvZyA9IHJlcXVpcmUoJ0B1dGlscy91dGlsR29sZGxvZycpO1xuLy8gdmFyIGFwbHVzU3RhdGljID0gcmVxdWlyZSgnQHV0aWxzL2FwbHVzU3RhdGljJyk7XG4vLyB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZShhcGx1c1N0YXRpYy5BUExVUyk7XG5cbnZhciBpbmZvID0ge307XG5cbnZhciBPQkpFQ1QgPSAnb2JqZWN0JztcbnZhciBTVFJJTkcgPSAnc3RyaW5nJztcblxuLyoqXG4gKiBAcmV0dXJucyB7e319XG4gKi9cbnZhciBsYXN0X2luZm87XG5mdW5jdGlvbiBnZXRJbmZvKCkge1xuICBsYXN0X2luZm8gPSBpbmZvIHx8IHt9O1xuICByZXR1cm4gaW5mbztcbn07XG5leHBvcnRzLmdldEluZm8gPSBnZXRJbmZvO1xuXG4vLyDlpoLmnpzmnInnvJPlrZjvvIzkvb/nlKjnvJPlrZjnmoTlgLzvvIzmsqHmnInnvJPlrZjliJnku44gRE9NIOS4reivu+WPllxuZnVuY3Rpb24gcUdldCAoKSB7XG4gIHJldHVybiBsYXN0X2luZm8gfHwgZ2V0SW5mbygpO1xufTtcbmV4cG9ydHMucUdldCA9IHFHZXQ7XG5cbi8qKlxuICog5Yqo5oCB6YWN572ubWV0YVxuICog5a656ZSZ5qCh6aqM56e75qSN5YiwYXBsdXPlj6/op4bljJbln4vngrnpqozor4Hlt6XlhbflhoUgMjAxOC0wMS0xMCBA6LCL5aOrXG4gKiDor6bop4HvvJpodHRwczovL2xhcmsuYWxpcGF5LmNvbS9hcGx1c2pzL3Byb2plY3QvcGVyZm9ybWFuY2VcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30ga1xuICogQHBhcmFtIHtPYmplY3R9IHZcbiAqL1xuZnVuY3Rpb24gc2V0TWV0YUluZm8gKGssIHYpIHtcbiAgaWYgKCFsYXN0X2luZm8pIHtcbiAgICBsYXN0X2luZm8gPSB7fTtcbiAgfVxuICBsYXN0X2luZm9ba10gPSB2O1xuICByZXR1cm4gdHJ1ZTtcbn07XG5leHBvcnRzLnNldE1ldGFJbmZvID0gc2V0TWV0YUluZm87XG5cbi8qKlxuICogZ2V0IG1ldGFJbmZvIGJ5IGtleVxuICog5a656ZSZ5qCh6aqM56e75qSN5YiwYXBsdXPlj6/op4bljJbln4vngrnpqozor4Hlt6XlhbflhoUgMjAxOC0wMS0xMCBA6LCL5aOrXG4gKiDor6bop4HvvJpodHRwczovL2xhcmsuYWxpcGF5LmNvbS9hcGx1c2pzL3Byb2plY3QvcGVyZm9ybWFuY2VcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ31cbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xudmFyIGdldE1ldGFJbmZvID0gZnVuY3Rpb24oaykge1xuICBpZiAoIWxhc3RfaW5mbykge1xuICAgIGxhc3RfaW5mbyA9IHt9O1xuICB9XG4gIHJldHVybiBsYXN0X2luZm9ba10gfHwgJyc7XG59O1xuZXhwb3J0cy5nZXRNZXRhSW5mbyA9IGdldE1ldGFJbmZvO1xuXG4vKipcbiAqIFRvIGFwcGVuZCBgbWV0YWAgdGFnIGlmIHRoZXJlJ3Mgbm9uZSBhcGx1cyBtZXRhLlxuICogT3RoZXJ3aXNlLCBtZXJnZSBjb250ZW50IGF0dHJpYnV0ZXM6XG4gKiAgLSBgQXJyYXkucHJvdG90eXBlLmNvbmNhdGAgY2FsbGVkIG9uIEFycmF5IHZhbHVlcy5cbiAqICAtIGBPYmplY3QuYXNzaWduYCBjYWxsZWQgb24gT2JqZWN0IHZhbHVlcy5cbiAqICBAcGFyYW0ga1xuICogIEBwYXJhbSB2XG4gKi9cbnZhciBhcHBlbmRNZXRhSW5mbyA9IGZ1bmN0aW9uIChrLCB2KSB7XG4gIC8vIGNvbnNvbGUubG9nKGssIHYpO1xuICBpZiAoayAmJiB2KSB7XG4gICAgLy8gYXBsdXMtdXRwYXJhbSB8fCBhcGx1cy1uZXh0cGFnZS11dHBhcmFtIHx8IGFwbHVzLWV4ZGF0YVxuICAgIHZhciBwcm9jZXNzT2JqZWN0ID0gZnVuY3Rpb24gKG9sZF92YWx1ZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIG5ld192YWx1ZSA9IHR5cGVvZiB2ID09PSBTVFJJTkcgPyBKU09OLnBhcnNlKHYpIDogdjtcbiAgICAgICAgdG9TZXRNZXRhSW5mbyhrLCBPYmplY3QuYXNzaWduKHt9LCBvbGRfdmFsdWUsIG5ld192YWx1ZSkpO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9O1xuICAgIC8vIGFwbHVzLWF1dG8tZXhwIHx8IGFwbHVzLWF1dG8tY2xrXG4gICAgdmFyIHByb2Nlc3NBcnJheSA9IGZ1bmN0aW9uIChvbGRfdmFsdWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBuZXdfdmFsdWUgPSB0eXBlb2YgdiA9PT0gU1RSSU5HID8gSlNPTi5wYXJzZSh2KSA6IHY7XG4gICAgICAgIHRvU2V0TWV0YUluZm8oaywgb2xkX3ZhbHVlLmNvbmNhdChuZXdfdmFsdWUpKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfTtcblxuICAgIHZhciBwcm9jZXNzT2JqID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XG4gICAgICAgIHByb2Nlc3NBcnJheSh2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9jZXNzT2JqZWN0KHZhbHVlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciB0b1NldE1ldGFJbmZvID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgIF9zZXRNZXRhSW5mbyhrZXksIHZhbHVlLCB7XG4gICAgICAgIGZyb206ICdhcHBlbmRNZXRhSW5mbydcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgZmxhZztcbiAgICB2YXIgX29sZFZhbHVlID0gZ2V0TWV0YUluZm8oayk7XG4gICAgaWYgKGsgPT09ICdhcGx1cy1leGluZm8nKSB7XG4gICAgICB0b1NldE1ldGFJbmZvKGssIE9iamVjdC5hc3NpZ24oe30sIF9vbGRWYWx1ZSwgZm9ybWF0LnBhcmFtMm9iaih2KSkpO1xuICAgICAgZmxhZyA9IHRydWU7XG4gICAgfVxuICAgIGlmIChrID09PSAnYXBsdXMtcGFnZS1wcm9wZXJ0aWVzJykge1xuICAgICAgdmFyIHBhZ2VQcm9wZXJ0aWVzID0gdjtcbiAgICAgIGlmIChfb2xkVmFsdWUpIHtcbiAgICAgICAgZm9yICh2YXIgX2sgaW4gX29sZFZhbHVlKSB7XG4gICAgICAgICAgaWYgKHZbX2tdKSB7XG4gICAgICAgICAgICBwYWdlUHJvcGVydGllc1tfa10gPSBPYmplY3QuYXNzaWduKHt9LCBfb2xkVmFsdWVbX2tdLCB2W19rXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhZ2VQcm9wZXJ0aWVzW19rXSA9IF9vbGRWYWx1ZVtfa107XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0b1NldE1ldGFJbmZvKGssIHBhZ2VQcm9wZXJ0aWVzKTtcbiAgICAgIGZsYWcgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoX29sZFZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIF9vbGRWYWx1ZSA9PT0gT0JKRUNUKSB7XG4gICAgICAgIHByb2Nlc3NPYmooX29sZFZhbHVlKTtcbiAgICAgICAgZmxhZyA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciB0bXBfcGFyc2UgPSBKU09OLnBhcnNlKF9vbGRWYWx1ZSk7XG4gICAgICAgICAgaWYgKHR5cGVvZiB0bXBfcGFyc2UgPT09IE9CSkVDVCkge1xuICAgICAgICAgICAgcHJvY2Vzc09iaih0bXBfcGFyc2UpO1xuICAgICAgICAgICAgZmxhZyA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFmbGFnKSB7XG4gICAgICB0b1NldE1ldGFJbmZvKGssIHYpO1xuICAgIH1cbiAgfVxufTtcbmV4cG9ydHMuYXBwZW5kTWV0YUluZm8gPSBhcHBlbmRNZXRhSW5mbztcblxudmFyIF9zZXRNZXRhSW5mbyA9IGZ1bmN0aW9uIChhcmcxLCB2YWx1ZSkge1xuICB2YXIgaztcbiAgdmFyIHY7XG4gIHZhciBkZWZhdWx0TW9kZSA9ICdPVkVSV1JJVEUnO1xuICB2YXIgbW9kZSA9IGRlZmF1bHRNb2RlO1xuICBpZiAodHlwZW9mIGFyZzEgPT09ICdvYmplY3QnKSB7XG4gICAgayA9IGFyZzEubWV0YU5hbWU7XG4gICAgdiA9IGFyZzEubWV0YVZhbHVlO1xuICAgIG1vZGUgPSBhcmcxLm1vZGUgfHwgZGVmYXVsdE1vZGU7XG4gIH0gZWxzZSB7XG4gICAgayA9IGFyZzE7XG4gICAgdiA9IHZhbHVlO1xuICB9XG4gIGlmIChtb2RlID09PSBkZWZhdWx0TW9kZSkge1xuICAgIGlmIChzZXRNZXRhSW5mbyhrLCB2KSkge1xuICAgICAgdmFyIF8kID0gdXRpbEdvbGRsb2cuZ2V0R29sZGxvZ1ZhbCgnXyQnKSB8fCB7fTtcbiAgICAgIF8kLm1ldGFfaW5mbyA9IHFHZXQoKTtcbiAgICAgIHZhciBycyA9IHV0aWxHb2xkbG9nLnNldEdvbGRsb2dWYWwoJ18kJywgXyQpO1xuXG4gICAgICB2YXIgbXNncyA9IFsnc2V0TWV0YUluZm8nLCBrLCB2LCB7fV07XG4gICAgICB1dGlsUHVic3ViLmRvUHViTXNnKG1zZ3MpO1xuICAgICAgdXRpbFB1YnN1Yi5kb0NhY2hlUHVicyhtc2dzKTtcbiAgICAgIHJldHVybiBycztcbiAgICB9IFxuICB9IGVsc2Uge1xuICAgIHJldHVybiBhcHBlbmRNZXRhSW5mbyhrLCB2KTtcbiAgfVxufTtcbmV4cG9ydHMuX3NldE1ldGFJbmZvID0gX3NldE1ldGFJbmZvO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3BsdWdpbnMvbGliX21ldGEvbWV0YUluZm9NaW5pLmpzXG4vLyBtb2R1bGUgaWQgPSA0MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIHByb2plY3QgLSBmaWxlcGF0aFxuICogZGVzY3JpcHRpb25cbiAqXG4gKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG4gKlxuICogQXV0aG9yczpcbiAqICAg6LCL5aOrIDxxaW5nbGlhbmcuaHFsQGFsaWJhYmEtaW5jLmNvbT5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbEdvbGRsb2cgPSByZXF1aXJlKCcuL3V0aWxHb2xkbG9nJyk7XG5cbnZhciBGTiA9ICdmdW5jdGlvbic7XG5cbnZhciBnZXRQdWJzdWIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoJ2FwbHVzJyk7XG4gIHZhciBwdWJzdWIgPSBhcGx1cy5hcGx1c19wdWJzdWIgfHwge307XG4gIHZhciBmbGFnID0gdHlwZW9mIHB1YnN1Yi5wdWJsaXNoID09PSBGTjtcbiAgcmV0dXJuIGZsYWcgPyBwdWJzdWIgOiAnJztcbn07XG5cbi8qKlxuICog5YiG5Y+R5raI5oGv5bel5YW35Ye95pWwXG4gKiBAcGFyYW1zIHtBcnJheX0gYXJncyBba2V5LCBtc2dWYWx1ZTEsIG1zZ1ZhbHVlMiwgbXNnVmFsdWUzLCBtc2dWYWx1ZU4sIC4uLl1cbiAqL1xuZXhwb3J0cy5kb1B1Yk1zZyA9IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgdmFyIHB1YnN1YiA9IGdldFB1YnN1YigpO1xuICBpZiAocHVic3ViICYmIHR5cGVvZiBwdWJzdWIucHVibGlzaCA9PT0gRk4pIHtcbiAgICBwdWJzdWIucHVibGlzaC5hcHBseShwdWJzdWIsIGFyZ3MpO1xuICB9XG59O1xuXG4vKipcbiAqIGNhY2hl5b2T5YmN55qE5YiG5Y+R5Ye95pWw55qE5bel5YW35Ye95pWwXG4gKiBAcGFyYW1zIHtBcnJheX0gYXJncyBba2V5LCBtc2dWYWx1ZTEsIG1zZ1ZhbHVlMiwgbXNnVmFsdWUzLCBtc2dWYWx1ZU4sIC4uLl1cbiAqL1xuZXhwb3J0cy5kb0NhY2hlUHVicyA9IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgdmFyIHB1YnN1YiA9IGdldFB1YnN1YigpO1xuICBpZiAocHVic3ViICYmIHR5cGVvZiBwdWJzdWIuY2FjaGVQdWJzID09PSBGTikge1xuICAgIHB1YnN1Yi5jYWNoZVB1YnMuYXBwbHkocHVic3ViLCBhcmdzKTtcbiAgfVxufTtcblxuLyoqXG4gKiDorqLpmIXmtojmga/lt6Xlhbflh73mlbBcbiAqIEBwYXJhbXMge1N0cmluZ30ga2V5XG4gKiBAcGFyYW1zIHtGdW5jdGlvbn0gY2IoWyBtc2dWYWx1ZTEsIG1zZ1ZhbHVlMiwgbXNnVmFsdWUzLCBtc2dWYWx1ZU4sIC4uLl0pXG4gKi9cbmV4cG9ydHMuZG9TdWJNc2cgPSBmdW5jdGlvbihrZXksIGNiKSB7XG4gIHZhciBwdWJzdWIgPSBnZXRQdWJzdWIoKTtcbiAgaWYgKHB1YnN1YiAmJiB0eXBlb2YgcHVic3ViLnN1YnNjcmliZSA9PT0gRk4pIHtcbiAgICBwdWJzdWIuc3Vic2NyaWJlKGtleSwgY2IpO1xuICB9XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvbGliX3UvdXRpbHMvdXRpbFB1YnN1Yi5qc1xuLy8gbW9kdWxlIGlkID0gNDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXG5cblxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICBydW46IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJlcXVpcmUoJy4vbGliX2F1dG9fY2xrL21haW4nKSgpO1xuICAgIH1cbiAgfTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9wbHVnaW5zX21pbmkvYXV0b190cmFja2VyX2Nsay5qc1xuLy8gbW9kdWxlIGlkID0gNDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY29sbGVjdF9jbGsgPSByZXF1aXJlKCcuL2NvbGxlY3RfY2xrJyk7XG4vLyB2YXIgbWluaSA9IHJlcXVpcmUoJ0B1dGlscy9taW5pJyk7XG52YXIgdXRpbEdvbGRsb2cgPSByZXF1aXJlKCdAdXRpbHMvdXRpbEdvbGRsb2cnKTtcbnZhciBhcGx1c1N0YXRpYyA9IHJlcXVpcmUoJ0B1dGlscy9hcGx1c1N0YXRpYycpO1xudmFyIGlzQXJyYXkgPSByZXF1aXJlKCdAdXRpbHMvaXNBcnJheScpO1xudmFyIGNsb25lRGVlcCA9IHJlcXVpcmUoJ0B1dGlscy9jbG9uZURlZXAnKTtcbnZhciB1dGlsRGFzaCA9IHJlcXVpcmUoJ0B1dGlscy91dGlsRGFzaCcpO1xudmFyIFBhZ2VNYW5hZ2VyID0gcmVxdWlyZSgnQC9wbHVnaW5zL2xpYl91bS9wYWdlTWFuYWdlcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gdmFyIGN0eCA9IG1pbmkuZ2V0Q29udGV4dCgpO1xuICB2YXIgYXBsdXNDdHggPSB1dGlsR29sZGxvZy5nZXRDb250ZXh0KCk7XG4gIHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKCdhcGx1cycpO1xuICB2YXIgY2xrX2NvbmZpZyA9IFtdO1xuXG4gIHZhciBpbml0Q2xrID0gZnVuY3Rpb24gKG9wdCkge1xuICAgIGNsa19jb25maWcgPSBhcGx1cy5nZXRNZXRhSW5mbygnYXBsdXMtYXV0by1jbGsnKTtcbiAgICB2YXIgc3BtQiA9IFBhZ2VNYW5hZ2VyLmdldFBhZ2VDb2RlKCk7XG4gICAgaWYgKGlzQXJyYXkoY2xrX2NvbmZpZykpIHtcbiAgICAgIGNsa19jb25maWcuZm9yRWFjaChmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgIGlmICghdXRpbERhc2guaXNTdGFydFdpdGgoY29uZmlnLmNzc1NlbGVjdG9yLCAnLicpKSB7XG4gICAgICAgICAgY29uZmlnLmNzc1NlbGVjdG9yID0gJy4nICsgY29uZmlnLmNzc1NlbGVjdG9yO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY29uZmlnLnNwbUIpIHtcbiAgICAgICAgICBjb25maWcuc3BtQiA9IHNwbUI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVsZW1lbnRzID0gb3B0LmNvbnRleHQuY3JlYXRlU2VsZWN0b3JRdWVyeSgpLnNlbGVjdEFsbChjb25maWcuY3NzU2VsZWN0b3IpO1xuICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnRzLmZpZWxkcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGVsZW1lbnRzLmZpZWxkcyh7XG4gICAgICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgICAgIGRhdGFzZXQ6IHRydWUsXG4gICAgICAgICAgICByZWN0OiB0cnVlLFxuICAgICAgICAgICAgc2Nyb2xsT2Zmc2V0OiB0cnVlXG4gICAgICAgICAgfSwgZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgY29sbGVjdF9jbGsud2F0Y2hfY2xpY2sob3B0LmV2ZW50IHx8IG9wdC5yZXMsIGNsb25lRGVlcChyZXMpLCBjb25maWcpO1xuICAgICAgICAgIH0pLmV4ZWMoKTsgXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8g5LiN5pSv5oyBZmllbGRz5pa55rOV55qE5Zy65pmv77yI5pSv5LuY5a6d5LiL77yM5pS555So5Z2Q5qCH77yJXG4gICAgICAgICAgZWxlbWVudHMuYm91bmRpbmdDbGllbnRSZWN0KCkuZXhlYyhmdW5jdGlvbiAocmV0KSB7XG4gICAgICAgICAgICBpZiAocmV0ICYmIHJldC5sZW5ndGggPiAwICYmIHJldFswXSkge1xuICAgICAgICAgICAgICBjb2xsZWN0X2Nsay53YXRjaF9jbGljayhvcHQuZXZlbnQsIGNsb25lRGVlcChyZXRbMF0pLCBjb25maWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIFxuICBhcGx1c0N0eC5hcGx1c19xdWV1ZS5wdXNoKHtcbiAgICBhY3Rpb246IGFwbHVzU3RhdGljLlNVQlNDUklCRSxcbiAgICBhcmd1bWVudHM6IFsnYXBsdXNSZWFkeScsIGZ1bmN0aW9uIChzdGF0dXMpIHtcbiAgICAgIGlmIChzdGF0dXMgPT09ICdjb21wbGV0ZScpIHtcbiAgICAgICAgY2xrX2NvbmZpZyA9IGFwbHVzLmdldE1ldGFJbmZvKCdhcGx1cy1hdXRvLWNsaycpO1xuICAgICAgfVxuICAgIH1dXG4gIH0pO1xuICAvLyBhcGx1c0N0eC5hcGx1c19xdWV1ZS5wdXNoKHtcbiAgLy8gICBhY3Rpb246IGFwbHVzU3RhdGljLlNVQlNDUklCRSxcbiAgLy8gICBhcmd1bWVudHM6IFsnb25TaG93JywgZnVuY3Rpb24gKCkge1xuICAvLyAgICAgLy8gVE9ET1xuICAvLyAgIH1dXG4gIC8vIH0pO1xuICAvLyBhcGx1c0N0eC5hcGx1c19xdWV1ZS5wdXNoKHtcbiAgLy8gICBhY3Rpb246IGFwbHVzU3RhdGljLlNVQlNDUklCRSxcbiAgLy8gICBhcmd1bWVudHM6IFsnb25IaWRlJywgZnVuY3Rpb24gKCkge1xuICAvLyAgICAgLy8gVE9ET1xuICAvLyAgIH1dXG4gIC8vIH0pO1xuXG4gIGFwbHVzQ3R4LmFwbHVzX3F1ZXVlLnB1c2goe1xuICAgIGFjdGlvbjogYXBsdXNTdGF0aWMuU1VCU0NSSUJFLFxuICAgIGFyZ3VtZW50czogWydvbkFwbHVzQ2xrJywgZnVuY3Rpb24gKG9wdCkge1xuICAgICAgaWYgKG9wdC5zdGF0dXMgPT09ICdyZWFkeScpIHtcbiAgICAgICAgaW5pdENsayhvcHQpO1xuICAgICAgfVxuICAgIH1dXG4gIH0pO1xuXG4gIC8vIGFwbHVzLmFwbHVzX3B1YnN1Yi5zdWJzY3JpYmUoJ29uVW5sb2FkJywgZnVuY3Rpb24gKG9wdCkge1xuICAvLyAgIGlmIChvcHQuc3RhdHVzID09PSAncmVhZHknKSB7XG4gIC8vICAgICAvLyBUT0RPXG4gIC8vICAgfVxuICAvLyB9KTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvcGx1Z2luc19taW5pL2xpYl9hdXRvX2Nsay9tYWluLmpzXG4vLyBtb2R1bGUgaWQgPSA0M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcbid1c2Ugc3RyaWN0JztcblxudmFyIGNsb25lRGVlcCA9IHJlcXVpcmUoJ0B1dGlscy9jbG9uZURlZXAnKTtcbnZhciB1dGlsR29sZGxvZyA9IHJlcXVpcmUoJ0B1dGlscy91dGlsR29sZGxvZycpO1xudmFyIHdhdGNoVHJhY2tlciA9IHJlcXVpcmUoJy4uL3V0aWxzL3dhdGNoVHJhY2tlcicpO1xudmFyIGdldEhhc2hLZXkgPSByZXF1aXJlKCcuLi91dGlscy9nZXRIYXNoS2V5Jyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJ0B1dGlscy91dGlsJyk7XG5cbi8qKlxuICog5oqK6Ieq5Yqo5pud5YWJ55u45ZCMY3NzU2VsZWN0b3LnmoTnm7jlkIzkvY3nva7nmoRkYXRhc2V05ou/5Yiw57uZ6Ieq5Yqo54K55Ye75L2/55SoXG4gKiDlm6DkuLrlnKjmlK/ku5jlrp3njq/looPkuIvoh6rliqjngrnlh7vkuovku7bmi7/kuI3liLBkYXRhc2V0XG4gKi9cbmZ1bmN0aW9uIGdldERhdGFTZXQgKGNvbmZpZywgaW5kZXgpIHtcbiAgdmFyIF9hcGx1c19hdXRvX2V4cCA9IHV0aWxHb2xkbG9nLmdldEdvbGRsb2dWYWwoJ19hcGx1c19hdXRvX2V4cCcpIHx8IHt9O1xuICB2YXIgX2hhc2hNYXAgPSBfYXBsdXNfYXV0b19leHAuaGFzaE1hcCB8fCB7fTtcbiAgXG4gIGZvciAodmFyIGxvZ2tleSBpbiBfaGFzaE1hcCkge1xuICAgIHZhciBlbGVfcyA9IF9oYXNoTWFwW2xvZ2tleV0gfHwgW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZV9zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgdiA9IGVsZV9zW2ldIHx8IHt9O1xuICAgICAgdmFyIGV4cENvbmZpZyA9IHYuZXhwQ29uZmlnIHx8IHt9O1xuICAgICAgLy8g5pud5YWJY3NzU2VsZWN0b3LkuI7ngrnlh7vnmoRjc3NTZWxlY3RvcuebuOWQjOaJjeiupOS4uuaYr+WQjOexu+Wei+WFg+e0oFxuICAgICAgaWYgKGNvbmZpZy5jc3NTZWxlY3RvciA9PT0gZXhwQ29uZmlnLmNzc1NlbGVjdG9yKSB7XG4gICAgICAgIHZhciBoYXNoID0gZ2V0SGFzaEtleSh7XG4gICAgICAgICAgaW5kZXg6IGluZGV4XG4gICAgICAgIH0sIGV4cENvbmZpZyk7XG4gICAgICAgIFxuICAgICAgICBpZiAoaGFzaCA9PT0gdi5oYXNoX3ZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIGNsb25lRGVlcCh2LmRhdGFzZXQpO1xuICAgICAgICB9ICBcbiAgICAgIH1cbiAgICB9XG4gIH1cblxufVxuXG5leHBvcnRzLndhdGNoX2NsaWNrID0gZnVuY3Rpb24gKGNsa0luZm8sIGVsZW1lbnRzLCBjb25maWcpIHtcbiAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoJ2FwbHVzJyk7XG4gIC8vIHZhciBjdHggPSBtaW5pLmdldENvbnRleHQoKTtcbiAgZm9yICh2YXIgaiA9IDA7IGogPCBlbGVtZW50cy5sZW5ndGg7IGorKykge1xuICAgIHZhciBfdmFsdWUgPSBlbGVtZW50c1tqXTtcbiAgICBpZiAoaXNJbkFyZWEoY2xrSW5mbywgX3ZhbHVlKSkge1xuICAgICAgdmFyIGluZGV4ID0gaiArIDE7XG4gICAgICB2YXIgZGF0YXNldCA9IF92YWx1ZS5kYXRhc2V0IHx8IGdldERhdGFTZXQoY29uZmlnLCBpbmRleCkgfHwge307XG4gICAgICB2YXIgc3BtRGF0YSA9IHt9O1xuICAgICAgdmFyIF9zcG1EYXRhID0gdXRpbC5qc29uTGlrZVN0cjJKU09OKGRhdGFzZXQudHJhY2tlclBhcmFtcykgfHwge307XG4gICAgICBpZiAoYXBsdXMuZ2xvYmFsQ29uZmlnLmlzQWxpKSB7XG4gICAgICAgIC8vIOWPlmRhdGEtdHJhY2tlciDmiJYgY3NzU2VsZWN0b3JcbiAgICAgICAgdmFyIHNwbUMgPSBkYXRhc2V0LnRyYWNrZXIgfHwgY29uZmlnLmNzc1NlbGVjdG9yLnJlcGxhY2UoL1xcJ3xcXFwifFxcO3xcXDp8XFw9fFxcW3xcXF18XFwufFxcI3xcXC18XFwvfFxcfC9nLCAnJyk7IC8vIOWOu+aOieeJueauiuWtl+esplxuICAgICAgICBzcG1EYXRhID0gYXBsdXMuXyQuc3BtLmRhdGEgfHwge307XG4gICAgICAgIHNwbURhdGEuYyA9IHNwbUM7XG4gICAgICAgIGlmIChzcG1EYXRhLmMgJiYgc3BtRGF0YS5jICE9PSAnMCcpIHtcbiAgICAgICAgICB2YXIgc3BtRCA9ICdkJyArIGluZGV4O1xuICAgICAgICAgIHNwbURhdGEuZCA9IHNwbUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNwbURhdGEuYiA9IGNvbmZpZy5zcG1CO1xuXG4gICAgICAgIGlmIChjb25maWcuc3BtQykge1xuICAgICAgICAgIHNwbURhdGEuYyA9IGNvbmZpZy5zcG1DO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNwbURhdGEuYyA9IF9zcG1EYXRhLnNwbUMgPyBlbmNvZGVVUklDb21wb25lbnQoX3NwbURhdGEuc3BtQykgOiAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb25maWcuc3BtRCkge1xuICAgICAgICAgIHNwbURhdGEuZCA9IGluZGV4ID8gY29uZmlnLnNwbUQgKyAnXycgKyBpbmRleCA6IGNvbmZpZy5zcG1EO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNwbURhdGEuZCA9IF9zcG1EYXRhLnNwbUQgPyBlbmNvZGVVUklDb21wb25lbnQoX3NwbURhdGEuc3BtRCkgOiAnJztcbiAgICAgICAgfVxuXG4gICAgICB9XG4gICAgICB3YXRjaFRyYWNrZXIucHVzaEV2ZW50KCdDTEsnLCBkYXRhc2V0LCBjb25maWcsIF92YWx1ZSwgc3BtRGF0YSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaXNJbkFyZWEgKGNsa0luZm8sIGVsZUluZm8pIHtcbiAgICB2YXIgY2hhbmdlZFRvdWNoID0ge307XG4gICAgaWYgKGNsa0luZm8pIHtcbiAgICAgIGlmIChjbGtJbmZvLmNoYW5nZWRUb3VjaGVzKSB7XG4gICAgICAgIC8vIOW+ruS/oVxuICAgICAgICBjaGFuZ2VkVG91Y2ggPSBjbGtJbmZvLmNoYW5nZWRUb3VjaGVzWzBdO1xuICAgICAgfSBlbHNlIGlmIChjbGtJbmZvLmRldGFpbCkge1xuICAgICAgICAvLyDmlK/ku5jlrp1cbiAgICAgICAgY2hhbmdlZFRvdWNoID0gY2xrSW5mby5kZXRhaWw7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciB4ID0gY2hhbmdlZFRvdWNoLmNsaWVudFggfHwgMDtcbiAgICB2YXIgeSA9IGNoYW5nZWRUb3VjaC5jbGllbnRZIHx8IDA7XG5cbiAgICB2YXIgX3RvcCA9IGVsZUluZm8udG9wO1xuICAgIHZhciBfYm90dG9tID0gZWxlSW5mby5ib3R0b207XG4gICAgaWYgKGVsZUluZm8uc2Nyb2xsVG9wKSB7XG4gICAgICBfdG9wICs9IGVsZUluZm8uc2Nyb2xsVG9wO1xuICAgICAgX2JvdHRvbSArPSBlbGVJbmZvLnNjcm9sbFRvcDtcbiAgICB9XG5cbiAgICBpZiAoZWxlSW5mby5sZWZ0IDwgeCAmJiB4IDwgZWxlSW5mby5yaWdodCAmJiBfdG9wIDwgeSAmJiB5IDwgX2JvdHRvbSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9wbHVnaW5zX21pbmkvbGliX2F1dG9fY2xrL2NvbGxlY3RfY2xrLmpzXG4vLyBtb2R1bGUgaWQgPSA0NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcbnZhciB1dGlsR29sZGxvZyA9IHJlcXVpcmUoJ0B1dGlscy91dGlsR29sZGxvZycpO1xudmFyIGZvcm1hdCA9IHJlcXVpcmUoJ0B1dGlscy9mb3JtYXQnKTtcbnZhciBjbG9uZURlZXAgPSByZXF1aXJlKCdAdXRpbHMvY2xvbmVEZWVwJyk7XG52YXIgaXNBcnJheSA9IHJlcXVpcmUoJ0B1dGlscy9pc0FycmF5Jyk7XG52YXIgQmFzZSA9IHJlcXVpcmUoJ0Bjb3JlL0Jhc2UnKTtcblxudmFyIHJlY29yZEV4cE1hcFF1ZXVlID0ge307XG52YXIgREVGQVVMVF9QS0dfU0laRSA9IDM7XG52YXIgUE9TVCA9ICdQT1NUJztcbnZhciBFWFAgPSAnRVhQJztcblxuLyoqXG4gKiDojrflj5bnlKjmiLfms6jlhaXnmoTln4vngrnkv6Hmga/vvJpodHRwczovL3l1cXVlLmFudGZpbi1pbmMuY29tL2FwbHVzanMvZG9jcy9tZXRhI2I3ZDhjY2M3XG4gKiBAcGFyYW1zIHtGdW5jdGlvbn0gdXNlckZuTmFtZVxuICogQHBhcmFtcyB7T2JqZWN0fSBlbGVtZW50XG4gKiBAcGFyYW1zIHtPYmplY3R9IHNlbGVjdG9yXG4gKlxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBnZXRVc2VySW5mbyAodXNlckZuTmFtZSwgZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoJ2FwbHVzJykgfHwge307XG4gIHZhciBnZXRNZXRhSW5mbyA9IGFwbHVzLmdldE1ldGFJbmZvO1xuICBpZiAodHlwZW9mIGdldE1ldGFJbmZvID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIHVzZXJGbiA9IGdldE1ldGFJbmZvKHVzZXJGbk5hbWUpO1xuICAgIHZhciB1c2VySW5mbyA9IHt9O1xuICAgIGlmICh0eXBlb2YgdXNlckZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB1c2VySW5mbyA9IHVzZXJGbihlbGVtZW50ID8gY2xvbmVEZWVwKGVsZW1lbnQpIDoge30sIHNlbGVjdG9yKTtcbiAgICB9XG4gICAgcmV0dXJuIGZvcm1hdC5wYXJhbTJvYmoodXNlckluZm8pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7fTtcbiAgfVxufVxuXG4vLyDogZrlkIjkuIrmiqXmm53lhYnml6Xlv5dcbnZhciBFdmVudEFycmF5ID0gQmFzZS5leHRlbmQoe1xuICBwdXNoOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZSgnYXBsdXMnKTtcbiAgICB0aGlzLmJ1ZmZlci5wdXNoKHZhbHVlKTtcbiAgICB3aGlsZSAodGhpcy5idWZmZXIubGVuZ3RoID49IHRoaXMucGtnU2l6ZSkge1xuICAgICAgdmFyIGdva2V5cyA9IHRoaXMuYnVmZmVyLnNwbGljZSgwLCB0aGlzLnBrZ1NpemUpO1xuICAgICAgaWYgKGdva2V5cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGFwbHVzLmNvbWJpbmVSZWNvcmQodGhpcy5sb2drZXksIEVYUCwgZ29rZXlzLCB0aGlzLm1ldGhvZCk7XG4gICAgICB9XG4gICAgfSBcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIGdldEZpeGVkTnVtYmVyICh2YWx1ZSwgbGVuZ3RoKSB7XG4gIHZhciBfcmVzdWx0ID0gJyc7XG4gIHRyeSB7XG4gICAgdmFyIF9udW0gPSBuZXcgTnVtYmVyKHZhbHVlKTtcbiAgICBfcmVzdWx0ID0gcGFyc2VGbG9hdChfbnVtLnRvRml4ZWQobGVuZ3RoKSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBfcmVzdWx0ID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIF9yZXN1bHQ7XG59XG5cbmV4cG9ydHMucHVzaEV2ZW50ID0gZnVuY3Rpb24gKGdta2V5LCBkYXRhLCBjb25maWcsIGVsZW1lbnQsIHNwbURhdGEpIHtcbiAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoJ2FwbHVzJyk7XG4gIHZhciBwcm9wcyA9IGNvbmZpZy5wcm9wcyB8fCBbXTtcbiAgdmFyIHBhcmFtcyA9IHt9O1xuICB2YXIgZGF0YXNldCA9IHt9O1xuXG4gIGlmIChkYXRhKSB7XG4gICAgZm9yICh2YXIgZGF0YWtleSBpbiBkYXRhKSB7XG4gICAgICBkYXRhc2V0W2RhdGFrZXkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9eZGF0YS0vLCAnJykucmVwbGFjZSgvLS9nLCAnJyldID0gZGF0YVtkYXRha2V5XTtcbiAgICB9ICBcbiAgfSAgXG4gIFxuICBpZiAocHJvcHMgJiYgaXNBcnJheShwcm9wcykpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0gcHJvcHNbaV0udG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9eZGF0YS0vLCAnJykucmVwbGFjZSgvLS9nLCAnJyk7XG4gICAgICBwYXJhbXNbcHJvcHNbaV1dID0gZGF0YXNldFtrZXldO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBwYXJhbXMgPSBPYmplY3QuYXNzaWduKHt9LCBkYXRhc2V0KTtcbiAgfVxuICBcbiAgaWYgKGVsZW1lbnQgJiYgZ21rZXkgPT09IEVYUCkge1xuICAgIHBhcmFtcyA9IE9iamVjdC5hc3NpZ24oe30sIHBhcmFtcywge1xuICAgICAgJ193JzogZ2V0Rml4ZWROdW1iZXIoZWxlbWVudC53aWR0aCwgMiksXG4gICAgICAnX2gnOiBnZXRGaXhlZE51bWJlcihlbGVtZW50LmhlaWdodCwgMiksXG4gICAgICAnX3gnOiBnZXRGaXhlZE51bWJlcihlbGVtZW50LngsIDIpLFxuICAgICAgJ195JzogZ2V0Rml4ZWROdW1iZXIoZWxlbWVudC55LCAyKSxcbiAgICAgIC8vICdfaGFzaCc6IGVsZW1lbnQuaGFzaF92YWx1ZSB8fCAnJyxcbiAgICAgICdfcmF0ZSc6IGdldEZpeGVkTnVtYmVyKGVsZW1lbnQudmlld2FiaWxpdHlSYXRlIHx8IGVsZW1lbnQuaW50ZXJzZWN0aW9uUmF0aW8sIDIpLFxuICAgICAgJ192aWV3YWJpbGl0eSc6ICdpbnRlcnNlY3Rpb24nXG4gICAgfSk7XG4gIH0gIFxuICBpZiAoY29uZmlnLl92dCkge1xuICAgIHBhcmFtcy5fdnQgPSBjb25maWcuX3Z0O1xuICB9XG4gIHZhciB1c2VyRm5OYW1lID0gZ21rZXkgPT09IEVYUCA/ICdhcGx1cy1hdXRvLWV4cC11c2VyZm4nIDogJ2FwbHVzLWF1dG8tY2xrLXVzZXJmbic7XG4gIHZhciB1c2VySW5mbyA9IGdldFVzZXJJbmZvKHVzZXJGbk5hbWUsIGVsZW1lbnQsIGNvbmZpZy5jc3NTZWxlY3Rvcik7XG5cbiAgaWYgKCF1c2VySW5mby5zcG0pIHtcbiAgICBpZiAoYXBsdXMuZ2xvYmFsQ29uZmlnLmlzQWxpICYmIHNwbURhdGEgJiYgc3BtRGF0YS5hICYmIHNwbURhdGEuYikge1xuICAgICAgdXNlckluZm8uc3BtID0gW3NwbURhdGEuYSwgc3BtRGF0YS5iLCBzcG1EYXRhLmMgfHwgJzAnLCBzcG1EYXRhLmQgfHwgJzAnXS5qb2luKCcuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVzZXJJbmZvLnNwbSA9IHNwbURhdGEgJiYgc3BtRGF0YS5iID8gc3BtRGF0YSA6IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICB2YXIgZ29rZXkgPSB7fTtcblxuICB2YXIgdHJhY2tlclBhcmFtcyA9IGRhdGEudHJhY2tlclBhcmFtcyB8fCBkYXRhWyd0cmFja2VyLXBhcmFtcyddO1xuICBpZiAodHJhY2tlclBhcmFtcykge1xuICAgIHRyeSB7XG4gICAgICB2YXIgX3RyYWNrZXJQYXJhbXMgPSBKU09OLnBhcnNlKHRyYWNrZXJQYXJhbXMpO1xuICAgICAgcGFyYW1zID0gT2JqZWN0LmFzc2lnbihwYXJhbXMsIF90cmFja2VyUGFyYW1zKTtcbiAgICAgIGRlbGV0ZSBwYXJhbXMudHJhY2tlclBhcmFtcztcbiAgICAgIGRlbGV0ZSBwYXJhbXMudHJhY2tlcnBhcmFtcztcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIFxuICBpZiAoZ21rZXkgPT09ICdFWFAnICYmIGFwbHVzLmdsb2JhbENvbmZpZy5pc0FsaSAmJiByZWNvcmRFeHBNYXBRdWV1ZVtjb25maWcubG9na2V5XSkge1xuICAgIGdva2V5ID0gT2JqZWN0LmFzc2lnbih7fSwge1xuICAgICAgZXhhcmdzOiBwYXJhbXNcbiAgICB9LCB1c2VySW5mbyk7XG4gICAgcmVjb3JkRXhwTWFwUXVldWVbY29uZmlnLmxvZ2tleV0ucHVzaChnb2tleSk7XG4gIH0gZWxzZSB7XG4gICAgZ29rZXkgPSBPYmplY3QuYXNzaWduKHt9LCBwYXJhbXMsIHVzZXJJbmZvLCBjb25maWcuY3VzdG9tQXJncyk7XG4gICAgYXBsdXMucmVjb3JkKGNvbmZpZy5sb2drZXksIGdta2V5LCBnb2tleSwgUE9TVCk7ICBcbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW1zIHtBcnJheU9iamVjdH0gY29uZmlnIDogW3tcbiAqICAgICdwb3NpdGlvblNlbGVjdG9yJzogJy5zY3JvbGwtdmlldycsXG4gKiAgICAnY3NzU2VsZWN0b3InOicuYmFsbCcsXG4gKiAgICAnbG9na2V5JzonL3Rlc3QuYmFsbC4xJyxcbiAqICAgICdwcm9wcyc6IFsnZGF0YS10cmFja2VyJ10sXG4gKiAgfSwge1xuICogICAgJ2Nzc1NlbGVjdG9yJzonLm15YnV0dG9uJyxcbiAqICAgICdsb2drZXknOicvdGVzdC5teWJ1dHRvbi4xJyxcbiAqICAgICdwcm9wcyc6IFsnZGF0YS10cmFja2VyJ10sXG4gKiAgfV1cbiAqL1xuZXhwb3J0cy53YXRjaFJlY29yZCA9IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoJ2FwbHVzJyk7XG4gIFxuICBpZiAoYXBsdXMuZ2xvYmFsQ29uZmlnLmlzQWxpICYmIGNvbmZpZykge1xuICAgIGNvbmZpZy5mb3JFYWNoKGZ1bmN0aW9uIChjZmcpIHtcbiAgICAgIGlmICghcmVjb3JkRXhwTWFwUXVldWUuaGFzT3duUHJvcGVydHkoY2ZnLmxvZ2tleSkpIHtcbiAgICAgICAgcmVjb3JkRXhwTWFwUXVldWVbY2ZnLmxvZ2tleV0gPSBFdmVudEFycmF5LmNyZWF0ZSh7XG4gICAgICAgICAgbGVuZ3RoOiAwLFxuICAgICAgICAgIGJ1ZmZlcjogW10sXG4gICAgICAgICAgbG9na2V5OiBjZmcubG9na2V5LFxuICAgICAgICAgIHBrZ1NpemU6IHR5cGVvZiBjZmcucGtnU2l6ZSA9PT0gJ251bWJlcicgJiYgY2ZnLnBrZ1NpemUgfHwgREVGQVVMVF9QS0dfU0laRSxcbiAgICAgICAgICBtZXRob2Q6IGNmZy5tZXRob2QgfHwgUE9TVFxuICAgICAgICB9KTtcbiAgICAgIH0gXG4gICAgfSk7XG4gIH1cbiAgXG59O1xuXG5leHBvcnRzLmNsZWFyUmVjb3JkID0gZnVuY3Rpb24gKCkge1xuICB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZSgnYXBsdXMnKTtcbiAgaWYgKGFwbHVzLmdsb2JhbENvbmZpZy5pc0FsaSkge1xuICAgIGZvciAodmFyIGxvZ2tleSBpbiByZWNvcmRFeHBNYXBRdWV1ZSkge1xuICAgICAgdmFyIGdva2V5cyA9IHJlY29yZEV4cE1hcFF1ZXVlW2xvZ2tleV0uYnVmZmVyO1xuICAgICAgaWYgKGdva2V5cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGFwbHVzLmNvbWJpbmVSZWNvcmQobG9na2V5LCBFWFAsIGdva2V5cywgUE9TVCk7XG4gICAgICAgIHJlY29yZEV4cE1hcFF1ZXVlW2xvZ2tleV0uYnVmZmVyID0gW107XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9wbHVnaW5zX21pbmkvdXRpbHMvd2F0Y2hUcmFja2VyLmpzXG4vLyBtb2R1bGUgaWQgPSA0NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIOagueaNruWFg+e0oOWxnuaAp+WSjOWfi+eCuemFjee9rueyvuehruiOt+WPluS4gOS4quWFg+e0oOeahGhhc2hLZXlcbiAqIEBwYXJhbXMge09iamVjdH0gZWxlbWVudEF0dHIge1xuICogICBpZFxuICogfVxuICogQHBhcmFtcyB7T2JqZWN0fSBjb25maWcge1xuICogICBsb2drZXksIGNzc1NlbGVjdG9yLCBwb3NpdGlvblNlbGVjdG9yXG4gKiB9XG4gKiBAcmV0dXJuIHtTdHJpbmd9IGhhc2hLZXlcbiAqL1xuXG4vLyBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChlbGVtZW50QXR0ciwgY29uZmlnKSB7XG4vLyAgIHZhciBoYXNoS2V5ID0gW1xuLy8gICAgIGNvbmZpZy5sb2drZXksXG4vLyAgICAgY29uZmlnLmNzc1NlbGVjdG9yLFxuLy8gICAgIGNvbmZpZy5wb3NpdGlvblNlbGVjdG9yLFxuLy8gICAgIGVsZW1lbnRBdHRyLmluZGV4XG4vLyAgIF0uam9pbignXycpO1xuLy8gICByZXR1cm4gaGFzaEtleTtcbi8vIH07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGVsZW1lbnRBdHRyLCBjb25maWcpIHtcbiAgdmFyIGhhc2hLZXkgPSBbXG4gICAgY29uZmlnLmxvZ2tleSxcbiAgICBjb25maWcuY3NzU2VsZWN0b3IsXG4gICAgY29uZmlnLnBvc2l0aW9uU2VsZWN0b3IsXG4gICAgLy8gZWxlbWVudEF0dHIuaW5kZXhcbiAgXTtcbiAgXG4gIGlmIChlbGVtZW50QXR0ci5pZCkge1xuICAgIGhhc2hLZXkucHVzaChlbGVtZW50QXR0ci5pZCk7XG4gIH1cbiAgaWYgKGVsZW1lbnRBdHRyLmRhdGFzZXQpIHtcbiAgICBoYXNoS2V5LnB1c2goSlNPTi5zdHJpbmdpZnkoZWxlbWVudEF0dHIuZGF0YXNldCkpO1xuICB9XG4gIGhhc2hLZXkgPSBoYXNoS2V5LmpvaW4oJ18nKTtcbiAgcmV0dXJuIGhhc2hLZXk7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3BsdWdpbnNfbWluaS91dGlscy9nZXRIYXNoS2V5LmpzXG4vLyBtb2R1bGUgaWQgPSA0NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcblxuXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIHJ1bjogZnVuY3Rpb24gKCkge1xuICAgICAgcmVxdWlyZSgnLi9saWJfYXV0b19leHAvbWFpbicpKCk7XG4gICAgfVxuICB9O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3BsdWdpbnNfbWluaS9hdXRvX3RyYWNrZXJfZXhwLmpzXG4vLyBtb2R1bGUgaWQgPSA0N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlsR29sZGxvZyA9IHJlcXVpcmUoJ0B1dGlscy91dGlsR29sZGxvZycpO1xudmFyIGNvbGxlY3RfZXhwID0gcmVxdWlyZSgnLi9jb2xsZWN0X2V4cCcpO1xudmFyIGNvbmZpZyA9IHJlcXVpcmUoJ0BwX3dlYi9saWJfY29tbW9uL2NvbmZpZycpO1xudmFyIGFwbHVzU3RhdGljID0gcmVxdWlyZSgnQHV0aWxzL2FwbHVzU3RhdGljJyk7XG52YXIgbWluaSA9IHJlcXVpcmUoJ0B1dGlscy9taW5pJyk7XG5cbi8vIOeUqOS6juebkeWQrFxudmFyIFBBR0VfREFUQV9NQVAgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBjdHggPSB1dGlsR29sZGxvZy5nZXRDb250ZXh0KCk7XG4gIHZhciBpc1N0YXJ0ID0gMDtcbiAgdmFyIGlzRmlyc3RUb3VjaCA9IDA7XG4gIHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKCdhcGx1cycpO1xuICBpZiAoYXBsdXMuX2FwbHVzX2F1dG9fZXhwKSB7XG4gICAgcmV0dXJuO1xuICB9IGVsc2Uge1xuICAgIGFwbHVzLl9hcGx1c19hdXRvX2V4cCA9IHtcbiAgICAgIGhhc2hNYXA6IHt9XG4gICAgfTtcbiAgfVxuXG4gIHZhciBfY29uZmlnID0gW107XG5cbiAgZnVuY3Rpb24gd2F0Y2hNZXRhSW5mbyhjb250ZXh0LCBpc0ZpcnN0LCB3YXRjaFR5cGUpIHtcbiAgICB2YXIgaGFuZGxlck1ldGFJbmZvID0gZnVuY3Rpb24gKG1ldGFLZXksIG1ldGFWYWx1ZSkgeyAgXG4gICAgICBpZiAobWV0YUtleSA9PT0gJ2FwbHVzLWF1dG8tZXhwJykge1xuICAgICAgICB2YXIgX2NvbmZpZzIgPSBjb25maWcuZ2V0QXV0b0V4cENvbmZpZyhtZXRhVmFsdWUpO1xuICAgICAgICBpZiAoSlNPTi5zdHJpbmdpZnkoX2NvbmZpZzIpID09PSBKU09OLnN0cmluZ2lmeShfY29uZmlnKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfY29uZmlnID0gX2NvbmZpZzI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1ldGFWYWx1ZSAmJiBfY29uZmlnICYmIF9jb25maWcubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbGxlY3RfZXhwLndhdGNoX2V4cG9zdXJlKGNvbnRleHQsIF9jb25maWcsIGlzRmlyc3QpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBjdHguYXBsdXNfcXVldWUucHVzaCh7XG4gICAgICBhY3Rpb246IHdhdGNoVHlwZSwgLy8gYXBsdXNTdGF0aWMuU1VCU0NSSUJFLFxuICAgICAgYXJndW1lbnRzOiBbJ3NldE1ldGFJbmZvJywgaGFuZGxlck1ldGFJbmZvXVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdEV4cCAoY29udGV4dCwgaXNGaXJzdCkge1xuICAgIF9jb25maWcgPSBhcGx1cy5nZXRNZXRhSW5mbygnYXBsdXMtYXV0by1leHAnKTtcbiAgICAvLyBUYXJv5qGG5p625Z+65LqO6L+Q6KGM5pe277yM6Ieq5Yqo5pud5YWJ5Lya5Ye6546w6I635Y+W5LiN5Yiw5pud5YWJ5YWD57Sg55qE5oOF5Ya1XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGNvbGxlY3RfZXhwLndhdGNoX2V4cG9zdXJlKGNvbnRleHQsIF9jb25maWcsIGlzRmlyc3QpO1xuICAgIH0sIDApO1xuICB9XG5cbiAgY3R4LmFwbHVzX3F1ZXVlLnB1c2goe1xuICAgIGFjdGlvbjogYXBsdXNTdGF0aWMuU1VCU0NSSUJFLFxuICAgIGFyZ3VtZW50czogWydvblNob3cnLCBmdW5jdGlvbiAob3B0KSB7XG4gICAgICBpZiAob3B0LnN0YXR1cyA9PT0gJ3JlYWR5Jykge1xuICAgICAgICB3YXRjaE1ldGFJbmZvKG9wdC5jb250ZXh0LCAxLCBhcGx1c1N0YXRpYy5TVUJTQ1JJQkUpO1xuICAgICAgICBpZiAoaXNTdGFydCA9PT0gMCkge1xuICAgICAgICAgIGluaXRFeHAob3B0LmNvbnRleHQsIDEpO1xuICAgICAgICAgIGlzU3RhcnQgPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGluaXRFeHAob3B0LmNvbnRleHQsIDApO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIF9jdXJyZW50UGFnZSA9IG1pbmkuZ2V0Q3VycmVudFBhZ2UoKTtcbiAgICAgICAgICB2YXIgX3BhdGggPSBfY3VycmVudFBhZ2Uucm91dGUgfHwgX2N1cnJlbnRQYWdlLmlzO1xuICAgICAgICAgIFBBR0VfREFUQV9NQVBbX3BhdGhdID0gX3BhdGg7IC8vIEpTT04uc3RyaW5naWZ5KF9jdXJyZW50UGFnZS5kYXRhKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIH1cbiAgICB9XVxuICB9KTtcblxuICBmdW5jdGlvbiByZXNldEF1dG9FeHAgKG9wdCkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgX2N1cnJlbnRQYWdlID0gbWluaS5nZXRDdXJyZW50UGFnZSgpO1xuICAgICAgdmFyIF9wYXRoID0gX2N1cnJlbnRQYWdlLnJvdXRlIHx8IF9jdXJyZW50UGFnZS5pcztcbiAgICAgIHZhciBfZGF0YSA9IFBBR0VfREFUQV9NQVBbX3BhdGhdO1xuICAgICAgXG4gICAgICB2YXIgX2N1cnJlbnREYXRhID0gSlNPTi5zdHJpbmdpZnkob3B0LmRhdGEpO1xuICAgICAgaWYgKF9kYXRhICE9PSBfY3VycmVudERhdGEpIHtcbiAgICAgICAgUEFHRV9EQVRBX01BUFtfcGF0aF0gPSBfY3VycmVudERhdGE7XG4gICAgICAgIGluaXRFeHAob3B0LmNvbnRleHQsIDApO1xuICAgICAgfSAgXG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuXG4gIGN0eC5hcGx1c19xdWV1ZS5wdXNoKHtcbiAgICBhY3Rpb246IGFwbHVzU3RhdGljLlNVQlNDUklCRSxcbiAgICBhcmd1bWVudHM6IFsnb25BcGx1c1RvdWNoJywgZnVuY3Rpb24gKG9wdCkge1xuICAgICAgaWYgKG9wdC5zdGF0dXMgPT09ICdyZWFkeScpIHtcbiAgICAgICAgaWYgKGlzRmlyc3RUb3VjaCA9PT0gMCkge1xuICAgICAgICAgIGlzRmlyc3RUb3VjaCA9IDE7XG4gICAgICAgICAgaW5pdEV4cChvcHQuY29udGV4dCwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzZXRBdXRvRXhwKG9wdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XVxuICB9KTtcbiAgY3R4LmFwbHVzX3F1ZXVlLnB1c2goe1xuICAgIGFjdGlvbjogYXBsdXNTdGF0aWMuU1VCU0NSSUJFLFxuICAgIGFyZ3VtZW50czogWydvblBhZ2VEYXRhQ2hhbmdlZCcsIGZ1bmN0aW9uIChvcHQpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgcmVzZXRBdXRvRXhwKG9wdCk7XG4gICAgICB9LCAyMDApO1xuICAgIH1dXG4gIH0pO1xuXG4gIGN0eC5hcGx1c19xdWV1ZS5wdXNoKHtcbiAgICBhY3Rpb246IGFwbHVzU3RhdGljLlNVQlNDUklCRSxcbiAgICBhcmd1bWVudHM6IFsnb25IaWRlJywgZnVuY3Rpb24gKG9wdCkge1xuICAgICAgaWYgKG9wdC5zdGF0dXMgPT09ICdyZWFkeScpIHtcbiAgICAgICAgUEFHRV9EQVRBX01BUCA9IHt9O1xuICAgICAgICBpc1N0YXJ0ID0gMDtcbiAgICAgICAgaXNGaXJzdFRvdWNoID0gMDtcbiAgICAgICAgd2F0Y2hNZXRhSW5mbyhvcHQuY29udGV4dCwgMSwgYXBsdXNTdGF0aWMuVU5TVUJTQ1JJQkUpO1xuICAgICAgICBjb2xsZWN0X2V4cC5jbGVhcigpO1xuICAgICAgfVxuICAgIH1dXG4gIH0pO1xuXG4gIGN0eC5hcGx1c19xdWV1ZS5wdXNoKHtcbiAgICBhY3Rpb246IGFwbHVzU3RhdGljLlNVQlNDUklCRSxcbiAgICBhcmd1bWVudHM6IFsnb25VbmxvYWQnLCBmdW5jdGlvbiAob3B0KSB7XG4gICAgICBpZiAob3B0LnN0YXR1cyA9PT0gJ3JlYWR5Jykge1xuICAgICAgICBQQUdFX0RBVEFfTUFQID0ge307XG4gICAgICAgIGNvbGxlY3RfZXhwLmNsZWFyKCk7XG4gICAgICB9XG4gICAgfV1cbiAgfSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvcGx1Z2luc19taW5pL2xpYl9hdXRvX2V4cC9tYWluLmpzXG4vLyBtb2R1bGUgaWQgPSA0OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcbid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxHb2xkbG9nID0gcmVxdWlyZSgnQHV0aWxzL3V0aWxHb2xkbG9nJyk7XG52YXIgX2NvbmZpZyA9IHJlcXVpcmUoJ0BwX3dlYi9saWJfY29tbW9uL2NvbmZpZycpO1xudmFyIGNsb25lRGVlcCA9IHJlcXVpcmUoJ0B1dGlscy9jbG9uZURlZXAnKTtcbnZhciB3YXRjaFRyYWNrZXIgPSByZXF1aXJlKCcuLi91dGlscy93YXRjaFRyYWNrZXInKTtcbnZhciBnZXRIYXNoS2V5ID0gcmVxdWlyZSgnLi4vdXRpbHMvZ2V0SGFzaEtleScpO1xudmFyIG9ic2VydmVycyA9IFtdO1xudmFyIG1pbmkgPSByZXF1aXJlKCdAdXRpbHMvbWluaScpO1xudmFyIGN0eDtcbnZhciB1dGlsRGFzaCA9IHJlcXVpcmUoJ0B1dGlscy91dGlsRGFzaCcpO1xudmFyIHV0aWwgPSByZXF1aXJlKCdAdXRpbHMvdXRpbCcpO1xudmFyIHV0aWxBcnJheSA9IHJlcXVpcmUoJ0B1dGlscy91dGlsQXJyYXknKTtcbnZhciBQYWdlTWFuYWdlciA9IHJlcXVpcmUoJ0AvcGx1Z2lucy9saWJfdW0vcGFnZU1hbmFnZXInKTtcblxuLy8gcmVsb2FkQ3R4IOeUqOS6juWNleWFg+a1i+ivle+8jOWNlea1i+S4remcgOimgeWIh+aNouaUr+S7mOWuneOAgeW+ruS/oeeOr+Wig++8jOWunumZheeUn+S6p+eOr+Wig+eUqOS4jeWIsFxuZXhwb3J0cy53YXRjaF9leHBvc3VyZSA9IGZ1bmN0aW9uIChjb250ZXh0LCBjb25mLCBpc0ZpcnN0LCByZWxvYWRDdHgpIHtcbiAgaWYgKCFjdHggfHwgcmVsb2FkQ3R4KSB7XG4gICAgY3R4ID0gbWluaS5nZXRDb250ZXh0KCk7XG4gIH1cbiAgdmFyIF9hcGx1c19hdXRvX2V4cCA9IHV0aWxHb2xkbG9nLmdldEdvbGRsb2dWYWwoJ19hcGx1c19hdXRvX2V4cCcpIHx8IHt9O1xuICB2YXIgX2hhc2hNYXAgPSBfYXBsdXNfYXV0b19leHAuaGFzaE1hcCB8fCB7fTtcbiAgdmFyIGR1cDtcbiAgXG4gIHdhdGNoVHJhY2tlci53YXRjaFJlY29yZChjb25mKTtcbiAgXG4gIGZ1bmN0aW9uIHdhaXQgKGNvdW50KSB7XG4gICAgaWYgKGNvdW50IDwgY29uZi5sZW5ndGgpIHtcbiAgICAgIHZhciBjb25maWcgPSBjb25mW2NvdW50XTtcbiAgICAgIGR1cCA9IDA7XG4gICAgICBvYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICBpZiAoZWxlbWVudC5zdWJqZWN0WzBdID09PSBjb25maWcuY3NzU2VsZWN0b3IgJiZcbiAgICAgICAgICBlbGVtZW50LnN1YmplY3RbMV0gPT09IGNvbmZpZy5wb3NpdGlvblNlbGVjdG9yKSB7XG4gICAgICAgICAgZHVwID0gMTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB2YXIgc3ViamVjdCA9IFtjb25maWcuY3NzU2VsZWN0b3IsIGNvbmZpZy5wb3NpdGlvblNlbGVjdG9yXTtcbiAgICAgIGZ1bmN0aW9uIGhhc2hpbmcgKGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBjc3NTZWxlY3RvciA9IHN1YmplY3RbMF07XG4gICAgICAgIGlmIChjc3NTZWxlY3RvciAmJiAhdXRpbERhc2guaXNTdGFydFdpdGgoc3ViamVjdFswXSwgJy4nKSkge1xuICAgICAgICAgIGNzc1NlbGVjdG9yID0gJy4nICsgY3NzU2VsZWN0b3I7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgZWxlbWVudHMgPSBjdHguY3JlYXRlU2VsZWN0b3JRdWVyeSgpLnNlbGVjdEFsbChjc3NTZWxlY3Rvcik7ICAgICAgICAgIFxuICAgICAgICAgIGlmICh0eXBlb2YgZWxlbWVudHMuZmllbGRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBlbGVtZW50cy5maWVsZHMoe1xuICAgICAgICAgICAgICBkYXRhc2V0OiB0cnVlLFxuICAgICAgICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJldCkge1xuICAgICAgICAgICAgICBpZiAocmV0ICYmIHV0aWxBcnJheS5pc0FycmF5KHJldCkpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJldC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgcmV0W2ldLmluZGV4ID0gJycgKyAoaSArIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYWxsYmFjayh7XG4gICAgICAgICAgICAgICAgICBlbGVtZW50czogcmV0LFxuICAgICAgICAgICAgICAgICAgdHlwZTogJ0NPTU1PTidcbiAgICAgICAgICAgICAgICB9KTsgIFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS5leGVjKCk7ICBcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCfor6XlubPlj7DkuI3mlK/mjIHoh6rliqjmm53lhYknKTtcbiAgICAgICAgICAgIC8vIC8vIOaUr+S7mOWuneW5s+WPsOS4jeaUr+aMgWZpZWxkc++8jOe7n+S4gOS9v+eUqENTU1NlbGVjdG9y6YCJ5Lit55qE5YWD57Sg57Si5byV5YGa5ZSv5LiA5qCH5b+XXG4gICAgICAgICAgICAvLyBlbGVtZW50cy5ib3VuZGluZ0NsaWVudFJlY3QoKS5leGVjKGZ1bmN0aW9uIChyZXQpIHtcbiAgICAgICAgICAgIC8vICAgaWYgKHJldCAmJiByZXQubGVuZ3RoID4gMCAmJiByZXRbMF0pIHtcbiAgICAgICAgICAgIC8vICAgICB2YXIgX2VsZW1lbnRzID0gW107XG4gICAgICAgICAgICAvLyAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXRbMF0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vICAgICAgIHZhciByID0gcmV0WzBdW2ldO1xuICAgICAgICAgICAgLy8gICAgICAgaWYgKHIpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgX2VsZW1lbnRzLnB1c2goe1xuICAgICAgICAgICAgLy8gICAgICAgICAgIGluZGV4OiAnJyArIChpICsgMSlcbiAgICAgICAgICAgIC8vICAgICAgICAgfSk7ICBcbiAgICAgICAgICAgIC8vICAgICAgIH1cbiAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAvLyAgICAgY2FsbGJhY2soe1xuICAgICAgICAgICAgLy8gICAgICAgZWxlbWVudHM6IF9lbGVtZW50cyxcbiAgICAgICAgICAgIC8vICAgICAgIHR5cGU6ICdBTElQQVknXG4gICAgICAgICAgICAvLyAgICAgfSk7ICBcbiAgICAgICAgICAgIC8vICAgfVxuICAgICAgICAgICAgLy8gfSk7ICBcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUud2Fybign6K+l5bmz5Y+w5LiN5pSv5oyB6Ieq5Yqo5pud5YWJLCBlcnIgPSAnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBoYXNoaW5nKGZ1bmN0aW9uIChvcHRzKSB7XG4gICAgICAgIC8vIHZhciB0eXBlID0gb3B0cy50eXBlO1xuICAgICAgICB2YXIgZWxlbWVudHMgPSBvcHRzLmVsZW1lbnRzIHx8IFtdOyAgICAgICAgXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgZSA9IGVsZW1lbnRzW2ldO1xuICAgICAgICAgIGlmIChkdXAgPT09IDAgfHwgaXNGaXJzdCA9PT0gMCkge1xuICAgICAgICAgICAgdmFyIG5ld09ic2VydmVyID0gaW5pdE9ic2VydmVyKGNvbnRleHQpO1xuICAgICAgICAgICAgbmV3T2JzZXJ2ZXIuc3ViamVjdCA9IHN1YmplY3Q7XG4gICAgICAgICAgICBvYnNlcnZlcnMucHVzaChuZXdPYnNlcnZlcik7XG4gICAgICAgICAgICBpZiAoZS5pbmRleCAmJiAhY2hlY2tJc0luSGFzaE1hcChlLCBjb25maWcpKSB7XG4gICAgICAgICAgICAgIHVwZGF0ZUhhc2hNYXAoZSwgY29uZmlnKTtcbiAgICAgICAgICAgICAgYWRkT2JzZXJ2ZShuZXdPYnNlcnZlciwgY29uZmlnLCBlLmluZGV4LCBmdW5jdGlvbiAoZW50cnksIF9jb25maWcsIF9pbmRleCkge1xuICAgICAgICAgICAgICAgIGlmIChfaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBfZW50cnkgPSBjbG9uZURlZXAoZW50cnkpO1xuICAgICAgICAgICAgICAgICAgX2VudHJ5LmluZGV4ID0gJycgKyBfaW5kZXg7XG4gICAgICAgICAgICAgICAgICB2YXIgZGF0YXNldCA9IGNsb25lRGVlcChfZW50cnkuZGF0YXNldCk7XG4gICAgICAgICAgICAgICAgICB1cGRhdGVIYXNoTWFwKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IF9lbnRyeS5pZCxcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IF9lbnRyeS5pbmRleCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YXNldDogZGF0YXNldCxcbiAgICAgICAgICAgICAgICAgIH0sIF9jb25maWcpO1xuICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2RhdGFzZXQgPT09ICcsIGRhdGFzZXQsICdfZW50cnkuaW5kZXggPT09ICcsIF9lbnRyeS5pbmRleCk7XG4gICAgICAgICAgICAgICAgICBleHBvc3VyZUhhbmRsZShfZW50cnksIGRhdGFzZXQsIGNvbmZpZyk7ICBcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5jb3VudCgnZW1wdHkgaW5kZXgnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB3YWl0KCsrY291bnQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHdhaXQoMCk7XG5cbiAgZnVuY3Rpb24gY2hlY2tJc0luSGFzaE1hcCAoZWxlbWVudCwgY29uZmlnKSB7XG4gICAgdmFyIGhhc2ggPSBnZXRIYXNoS2V5KGVsZW1lbnQsIGNvbmZpZyk7XG4gICAgdmFyIGluZGV4ID0gZWxlbWVudC5pbmRleDtcbiAgICBpZiAoX2hhc2hNYXBbY29uZmlnLmxvZ2tleV0pIHtcbiAgICAgIF9oYXNoTWFwW2NvbmZpZy5sb2drZXldLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICBpZiAoZWxlbWVudC5oYXNoX3ZhbHVlID09PSBoYXNoICYmIGVsZW1lbnQuaW5kZXggPT09IGluZGV4KSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbXMge09iamVjdH0gZSB7XG4gICAqICAgaWQsIGRhdGFzZXQsIHBvc2l0aW9uXG4gICAqIH1cbiAgICovXG4gIGZ1bmN0aW9uIHVwZGF0ZUhhc2hNYXAoZSwgY29uZmlnKSB7XG4gICAgdmFyIGhhc2ggPSBnZXRIYXNoS2V5KGUsIGNvbmZpZyk7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBpbmRleCA9IGUuaW5kZXg7XG4gICAgICBpZiAoX2hhc2hNYXBbY29uZmlnLmxvZ2tleV0pIHtcbiAgICAgICAgdmFyIGV4aXN0ID0gMDtcbiAgICAgICAgX2hhc2hNYXBbY29uZmlnLmxvZ2tleV0uZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgaWYgKGVsZW1lbnQuaGFzaF92YWx1ZSA9PT0gaGFzaCkge1xuICAgICAgICAgICAgZXhpc3QgPSAxO1xuICAgICAgICAgICAgaWYgKGUuaWQpIGVsZW1lbnQuaWQgPSBlLmlkO1xuICAgICAgICAgICAgaWYgKGUuZGF0YXNldCkgZWxlbWVudC5kYXRhc2V0ID0gZS5kYXRhc2V0O1xuICAgICAgICAgICAgaWYgKGUuc3RhdHVzKSBlbGVtZW50LnN0YXR1cyA9IGUuc3RhdHVzO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghZXhpc3QpIHtcbiAgICAgICAgICBfaGFzaE1hcFtjb25maWcubG9na2V5XS5wdXNoKHtcbiAgICAgICAgICAgIGlkOiBlLmlkLFxuICAgICAgICAgICAgaGFzaF92YWx1ZTogaGFzaCxcbiAgICAgICAgICAgIHN0YXR1czogMCxcbiAgICAgICAgICAgIGV4cENvbmZpZzogY29uZmlnLFxuICAgICAgICAgICAgZGF0YXNldDogZS5kYXRhc2V0LFxuICAgICAgICAgICAgaW5kZXg6IGluZGV4XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9oYXNoTWFwW2NvbmZpZy5sb2drZXldID0gW3tcbiAgICAgICAgICBpZDogZS5pZCxcbiAgICAgICAgICBoYXNoX3ZhbHVlOiBoYXNoLFxuICAgICAgICAgIHN0YXR1czogMCxcbiAgICAgICAgICBleHBDb25maWc6IGNvbmZpZyxcbiAgICAgICAgICBkYXRhc2V0OiBlLmRhdGFzZXQsXG4gICAgICAgICAgaW5kZXg6IGluZGV4XG4gICAgICAgIH1dO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdlcnJvciA9PT0gJywgZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaW5pdE9ic2VydmVyKGNvbnRleHQpIHtcbiAgICB2YXIgb3B0aW9ucyA9e1xuICAgICAgdGhyZXNob2xkczogW19jb25maWcuQVVUT19BVF9WSUVXX1JBVEVdLFxuICAgICAgaW5pdGlhbFJhdGlvOiAwXG4gICAgfTtcbiAgICB2YXIgaXNNWSA9IGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICBpZiAobXkpIHtcbiAgICAgICAgaXNNWSA9IHRydWU7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICBpZiAoaXNNWSkge1xuICAgICAgLy8g6JqC6JqB55qE5pud5YWJ55uR5ZCs5ZKM5b6u5L+h5LiN5LiA6Ie077yMaHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2FwaS93eG1sL3d4LmNyZWF0ZUludGVyc2VjdGlvbk9ic2VydmVyLmh0bWxcbiAgICAgIC8vIGh0dHBzOi8vb3BlbmRvY3MuYWxpcGF5LmNvbS9taW5pL2FwaS9pbnRlcnNlY3Rpb25vYnNlcnZlclxuICAgICAgb3B0aW9ucy5zZWxlY3RBbGwgPSB0cnVlO1xuICAgICAgcmV0dXJuIGN0eC5jcmVhdGVJbnRlcnNlY3Rpb25PYnNlcnZlcihvcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0aW9ucy5vYnNlcnZlQWxsID0gdHJ1ZTtcbiAgICAgIHJldHVybiBjdHguY3JlYXRlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoY29udGV4dCwgb3B0aW9ucyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYWRkT2JzZXJ2ZShvYnNlcnZlciwgY29uZmlnLCBpbmRleCwgY2FsbGJhY2spIHtcbiAgICB2YXIgY3NzID0gY29uZmlnLmNzc1NlbGVjdG9yO1xuICAgIGlmIChjc3MgJiYgIXV0aWxEYXNoLmlzU3RhcnRXaXRoKGNzcywgJy4nKSkge1xuICAgICAgY3NzID0gJy4nICsgY3NzO1xuICAgIH1cbiAgICBpZiAoY29uZmlnLnBvc2l0aW9uU2VsZWN0b3IpIHtcbiAgICAgIG9ic2VydmVyLnJlbGF0aXZlVG8oY29uZmlnLnBvc2l0aW9uU2VsZWN0b3IpLm9ic2VydmUoY3NzLCBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY2FsbGJhY2socmVzLCBjb25maWcsIGluZGV4KTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvck1lc3NhZ2U6ICcsIGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JzZXJ2ZXIucmVsYXRpdmVUb1ZpZXdwb3J0KCkub2JzZXJ2ZShjc3MsIGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjYWxsYmFjayhyZXMsIGNvbmZpZywgaW5kZXgpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yTWVzc2FnZTogJywgZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGV4cG9zdXJlSGFuZGxlIChlbnRyeSwgZGF0YXNldCwgY29uZmlnKSB7XG4gICAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoJ2FwbHVzJyk7XG4gICAgdmFyIGV4cG9zdXJlVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIHZhciBleHBFbGVtZW50cyA9IGNoZWNrU3RhcnQoZXhwb3N1cmVUaW1lLCBlbnRyeSwgY29uZmlnKTtcbiAgICBcbiAgICBpZiAoZXhwRWxlbWVudHMgJiYgZXhwRWxlbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgdmFyIGVsZW1lbnQgPSBleHBFbGVtZW50c1swXTtcbiAgICAgIC8vIOWPlmRhdGEtdHJhY2tlciDmiJYgY3NzU2VsZWN0b3JcbiAgICAgIHZhciBzcG1DID0gZGF0YXNldC50cmFja2VyIHx8IGNvbmZpZy5jc3NTZWxlY3Rvci5yZXBsYWNlKC9cXCd8XFxcInxcXDt8XFw6fFxcPXxcXFt8XFxdfFxcLnxcXCN8XFwtfFxcL3xcXHwvZywgJycpOyAvLyDljrvmjonnibnmrorlrZfnrKZcbiAgICAgIC8vIOabneWFieinpuWPkeeahHNwbeS4jeaxoeafk+WFqOWxgGFwbHVzLl8kLnNwbS5kYXRh77yM5pWF6L+Z6YeM5YGa5rex5ou36LSdXG5cbiAgICAgIHZhciBzcG1EYXRhID0ge307XG4gICAgICB2YXIgX3NwbURhdGEgPSB1dGlsLmpzb25MaWtlU3RyMkpTT04oZGF0YXNldC50cmFja2VyUGFyYW1zIHx8IHt9KSB8fCB7fTtcbiAgICAgIHZhciBfaW5kZXggPSBlbGVtZW50LmluZGV4O1xuICAgICAgaWYgKGFwbHVzLmdsb2JhbENvbmZpZy5pc0FsaSkge1xuICAgICAgICBzcG1EYXRhID0gY2xvbmVEZWVwKGFwbHVzLl8kLnNwbS5kYXRhIHx8IHt9KTtcbiAgICAgICAgc3BtRGF0YS5jID0gc3BtQztcbiAgICAgICAgaWYgKHNwbURhdGEuYyAmJiBzcG1EYXRhLmMgIT09ICcwJykge1xuICAgICAgICAgIHZhciBzcG1EID0gJ2QnICsgX2luZGV4O1xuICAgICAgICAgIHNwbURhdGEuZCA9IHNwbUQ7XG4gICAgICAgIH0gIFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKFBhZ2VNYW5hZ2VyLmdldFBhZ2VDb2RlKCkpIHtcbiAgICAgICAgICBzcG1EYXRhLmIgPSBQYWdlTWFuYWdlci5nZXRQYWdlQ29kZSgpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoY29uZmlnLnNwbUMpIHtcbiAgICAgICAgICBzcG1EYXRhLmMgPSBjb25maWcuc3BtQztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzcG1EYXRhLmMgPSBfc3BtRGF0YS5zcG1DID8gZW5jb2RlVVJJQ29tcG9uZW50KF9zcG1EYXRhLnNwbUMpIDogJyc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29uZmlnLnNwbUQpIHtcbiAgICAgICAgICBzcG1EYXRhLmQgPSBfaW5kZXggPyBjb25maWcuc3BtRCArICdfJyArIF9pbmRleCA6IGNvbmZpZy5zcG1EO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNwbURhdGEuZCA9IF9zcG1EYXRhLnNwbUQgPyBlbmNvZGVVUklDb21wb25lbnQoX3NwbURhdGEuc3BtRCkgOiAnJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICB3YXRjaFRyYWNrZXIucHVzaEV2ZW50KCdFWFAnLCBkYXRhc2V0LCBjb25maWcsIE9iamVjdC5hc3NpZ24oe30sIGVudHJ5LCB7XG4gICAgICAgIHg6IGVsZW1lbnQueCxcbiAgICAgICAgeTogZWxlbWVudC55LFxuICAgICAgICB3aWR0aDogZWxlbWVudC53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBlbGVtZW50LmhlaWdodCxcbiAgICAgICAgaGFzaF92YWx1ZTogZWxlbWVudC5oYXNoX3ZhbHVlXG4gICAgICB9KSwgc3BtRGF0YSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2tTdGFydCAoZXhwb3N1cmVUaW1lLCBlbnRyeSwgY29uZmlnKSB7XG4gICAgLy8gdmFyIHNpemUgPSAwO1xuICAgIHZhciBfYXBsdXNfYXV0b19leHAgPSB1dGlsR29sZGxvZy5nZXRHb2xkbG9nVmFsKCdfYXBsdXNfYXV0b19leHAnKSB8fCB7fTtcbiAgICB2YXIgX2hhc2hNYXAgPSBfYXBsdXNfYXV0b19leHAuaGFzaE1hcCB8fCB7fTtcbiAgICB2YXIgdGVtcHMgPSBbXTtcbiAgICBmb3IgKHZhciBsb2drZXkgaW4gX2hhc2hNYXApIHtcbiAgICAgIHZhciBlbGVfcyA9IF9oYXNoTWFwW2xvZ2tleV0gfHwgW107XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZV9zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIHZhciBzdHJpbmcgPSBjb25maWcubG9na2V5ICsgJ18nICsgY29uZmlnLmNzc1NlbGVjdG9yICsgJ18nXG4gICAgICAgIC8vICAgICAgICAgICAgICArIGNvbmZpZy5wb3NpdGlvblNlbGVjdG9yICsgJ18nICsgb3B0cy5pZCArIEpTT04uc3RyaW5naWZ5KG9wdHMuZGF0YXNldCk7XG4gICAgICAgIHZhciBoYXNoID0gZ2V0SGFzaEtleShlbnRyeSwgY29uZmlnKTtcbiAgICAgICAgdmFyIHYgPSBlbGVfc1tpXSB8fCB7fTtcbiAgICAgICAgaWYgKHYuc3RhdHVzID09PSAwICYmIHYuZXhwQ29uZmlnICYmIGhhc2ggPT09IHYuaGFzaF92YWx1ZSkge1xuICAgICAgICAgIHZhciBfZWxlUG9zID0gZW50cnkuYm91bmRpbmdDbGllbnRSZWN0IHx8IHt9O1xuICAgICAgICAgIGlmIChfZWxlUG9zLndpZHRoICYmIF9lbGVQb3MuaGVpZ2h0KSB7XG4gICAgICAgICAgICB2LmRhdGFzZXQgPSBlbnRyeS5kYXRhc2V0O1xuICAgICAgICAgICAgdi54ID0gX2VsZVBvcy5sZWZ0O1xuICAgICAgICAgICAgdi55ID0gX2VsZVBvcy50b3A7XG4gICAgICAgICAgICB2LndpZHRoID0gX2VsZVBvcy53aWR0aDtcbiAgICAgICAgICAgIHYuaGVpZ2h0ID0gX2VsZVBvcy5oZWlnaHQ7XG4gICAgICAgICAgICB2LnNpemUgPSBfZWxlUG9zLndpZHRoICogX2VsZVBvcy5oZWlnaHQ7XG4gICAgICAgICAgICBpZiAoZW50cnkuaW50ZXJzZWN0aW9uUmF0aW8gPj0gX2NvbmZpZy5BVVRPX0FUX1ZJRVdfUkFURSkge1xuICAgICAgICAgICAgICB2LmV4cG9zdXJlVGltZSA9IGV4cG9zdXJlVGltZTtcbiAgICAgICAgICAgICAgdi5zdGF0dXMgPSAxOyAvLyDmm53lhYnnirbmgIFcbiAgICAgICAgICAgICAgdGVtcHMucHVzaCh2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRlbXBzO1xuICB9XG59O1xuXG5leHBvcnRzLnJlc2V0ID0gZnVuY3Rpb24gKCkge307XG5cbmV4cG9ydHMuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKCdhcGx1cycpO1xuICB3YXRjaFRyYWNrZXIuY2xlYXJSZWNvcmQoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYnNlcnZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICBvYnNlcnZlcnNbaV0uZGlzY29ubmVjdCgpO1xuICB9XG4gIG9ic2VydmVycyA9IFtdO1xuICB2YXIgX2FwbHVzX2F1dG9fZXhwID0gdXRpbEdvbGRsb2cuZ2V0R29sZGxvZ1ZhbCgnX2FwbHVzX2F1dG9fZXhwJykgfHwge307XG4gIHZhciBfaGFzaE1hcCA9IF9hcGx1c19hdXRvX2V4cC5oYXNoTWFwIHx8IHt9O1xuICBmb3IgKHZhciBsb2drZXkgaW4gX2hhc2hNYXApIHtcbiAgICBkZWxldGUgX2hhc2hNYXBbbG9na2V5XTtcbiAgfVxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3BsdWdpbnNfbWluaS9saWJfYXV0b19leHAvY29sbGVjdF9leHAuanNcbi8vIG1vZHVsZSBpZCA9IDQ5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogcHJvamVjdCAtIGZpbGVwYXRoXG4gKiBkZXNjcmlwdGlvblxuICpcbiAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cbiAqXG4gKiBBdXRob3JzOlxuICogICDosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciB1dGlsQXJyYXkgPSByZXF1aXJlKCdAdXRpbHMvdXRpbEFycmF5Jyk7XG52YXIgdXRpbE1ldGEgPSByZXF1aXJlKCdAdXRpbHMvdXRpbE1ldGEnKTtcbi8vIHZhciB1dGlsTG9nZ2VyID0gcmVxdWlyZSgnQHV0aWxzL3V0aWxMb2dnZXInKTtcbnZhciB1bG9nID0gcmVxdWlyZSgnQHV0aWxzL3Vsb2cnKTtcbmV4cG9ydHMuREFUQV9BUExVU19BRV9LRVkgPSAnZGF0YS1hcGx1cy1hZSc7XG5leHBvcnRzLkRBVEFfQVBMVVNfQUNfS0VZID0gJ2RhdGEtYXBsdXMtY2xrJztcbmV4cG9ydHMuREFUQV9BUExVU19TUE1fQU5DSE9SX0lEX0tFWSA9ICdkYXRhLXNwbS1hbmNob3ItaWQnO1xuZXhwb3J0cy5EQVRBX0FQTFVTX1ZUX0lURU1fSU5ERVhfS0VZID0gJ2RhdGEtYXBsdXMtdnQtcG9zJztcblxuLy8g5LiN5pSv5oyBb2JzZXJ2ZXLnmoTmg4XlhrXkuIvvvIzova7or6Lpl7TpmpTvvIhtcylcbmV4cG9ydHMuTE9PUF9USU1FID0gMTAwMDtcblxuZXhwb3J0cy5nZXREZWZhdWx0UmVxdWVzdENmZyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBwa2dTaXplOiAxMFxuICB9O1xufTtcblxuZnVuY3Rpb24gZ2V0TWV0YVZhbHVlIChrZXkpIHtcbiAgaWYgKGFwbHVzICYmIGFwbHVzLmdldE1ldGFJbmZvKSB7XG4gICAgcmV0dXJuIGFwbHVzLmdldE1ldGFJbmZvKGtleSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHV0aWxNZXRhLmdldE1ldGFDbnQoa2V5KTtcbiAgfVxufVxuXG4vLyDoh6rliqjmm53lhYnmiZPngrkgLSDliKTlrprlj6/op4bnmoTmr5TkvovnjodcbnZhciBnZXRBdXRvRXhwVmlld1JhdGUgPSBmdW5jdGlvbihkZWZhdWx0X3ZhbHVlKSB7XG4gIHZhciByYXRlID0gZGVmYXVsdF92YWx1ZTtcbiAgdHJ5IHtcbiAgICB2YXIgdmlzaWJsZV9yYXRlID0gZ2V0TWV0YVZhbHVlKCdhcGx1cy1hdXRvLWV4cC12aXNpYmxlJyk7XG4gICAgaWYgKHZpc2libGVfcmF0ZSkge1xuICAgICAgcmF0ZSA9IHBhcnNlRmxvYXQodmlzaWJsZV9yYXRlKTtcbiAgICB9XG4gICAgaWYgKHJhdGUgPD0gMCkge1xuICAgICAgcmF0ZSA9IGRlZmF1bHRfdmFsdWU7XG4gICAgfVxuICB9IGNhdGNoKGUpIHtcbiAgICByYXRlID0gZGVmYXVsdF92YWx1ZTtcbiAgfSBmaW5hbGx5IHtcbiAgICByZXR1cm4gcmF0ZTtcbiAgfVxufTtcbmV4cG9ydHMuQVVUT19BVF9WSUVXX1JBVEUgPSBnZXRBdXRvRXhwVmlld1JhdGUoMC4zKTtcblxuLy8gdmFyIEVYUF9ERUJPVU5DRV9EVVJBVElPTiA9IDEwMDsgLy8gZGVib3VjZSBkdXJhdGlvbiAxMDBtc1xuXG4vKipcbiAqIOacieaViOabneWFieaXtumVv+W6lee6vyAtIOavq+enkuaVsChtcylcbiAqIEBwYXJhbXMge051bWJlcn0gZGVmYXVsdF92YWx1ZSBpcyAzMDBtc1xuICogQHJldHVybiB7TnVtYmVyfSBkdXJhdGlvblxuICovXG52YXIgZ2V0QXV0b0V4cER1cmF0aW9uID0gZnVuY3Rpb24oZGVmYXVsdF92YWx1ZSkge1xuICB2YXIgZHVyYXRpb24gPSBkZWZhdWx0X3ZhbHVlO1xuICB0cnkge1xuICAgIHZhciB0bXBfZHVyYXRpb24gPSBnZXRNZXRhVmFsdWUoJ2FwbHVzLWF1dG8tZXhwLWR1cmF0aW9uJyk7XG4gICAgdmFyIGR1cmF0aW9uX24gPSBwYXJzZUludCh0bXBfZHVyYXRpb24pO1xuICAgIGlmICgoZHVyYXRpb25fbiArICcnKSAhPT0gJ05hTicpIHtcbiAgICAgIGR1cmF0aW9uID0gZHVyYXRpb25fbjtcbiAgICB9XG4gIH0gY2F0Y2goZSkge1xuICB9IGZpbmFsbHkge1xuICAgIHJldHVybiBkdXJhdGlvbjtcbiAgfVxufTtcbmV4cG9ydHMuRVhQX0RVUkFUSU9OID0gZ2V0QXV0b0V4cER1cmF0aW9uKDMwMCk7IC8v6buY6K6kMzAwbXNcblxuLy8gZGVib3VjZSBkdXJhdGlvbiAxMDBtc1xuLy8gZXhwb3J0cy5nZXREZWJvdW5jZUR1cmF0aW9uID0gZnVuY3Rpb24gKCkge1xuLy8gICByZXR1cm4gRVhQX0RFQk9VTkNFX0RVUkFUSU9OO1xuLy8gfTtcblxuLyoqXG4gKiDojrflj5boh6rliqjmm53lhYnphY3nva7pobnvvIzlubblsIZmaWx0ZXLjgIF0YWflkoxjc3NTZWxlY3RvcuWQiOW5tuS4umVsZW1lbnRTZWxlY3RvclxuICogVE9ETyBKU09OLnBhcnNlIOS7heaUr+aMgUlFOOWPiuS7peS4iua1j+iniOWZqCA9PiBqcyBhcGlcbiAqIEBwYXJhbXMga2V5IHtTdHJpbmd9ICdhcGx1cy1hdXRvLWV4cCcvJ2FwbHVzLWF1dG8tY2xrJ1xuICogQHJldHVybiB7QXJyYXl9IFt7XG4gKiAgICBsb2drZXk6IC9hLmIuYzEsXG4gKiAgICBlbGVtZW50U2VsZWN0b3I6ICdkaXZbc2NtPTEyMzRdJyxcbiAqICAgIHRhZzogZGl2LFxuICogICAgZmlsdGVyOiBzY209MTIzNFxuICogICAgcG9zaXRpb25TZWxlY3RvcjogdHJ1ZS8ucGFyZW50Q2xhc3NuYW1lIC8vIOebuOWvueWumuS9jeS4muWKoeWfi+eCuVxuICogfSwge1xuICogICAgbG9na2V5OiAvYS5iLmMyLFxuICogICAgZWxlbWVudFNlbGVjdG9yOiAncFtzY209MjM0NV0ub25lJyxcbiAqICAgIHRhZzogcCxcbiAqICAgIGZpbHRlcjogc2NtPTIzNDUsXG4gKiAgICBjc3NTZWxlY3RvcjogLm9uZVxuICogfSwge1xuICogICAgbG9na2V5OiAvYS5iLmMzLFxuICogICAgZWxlbWVudFNlbGVjdG9yOiAncFtkYXRhLXNwbS1jbGlja10nLFxuICogICAgdGFnOiBwLFxuICogICAgZmlsdGVyOiBkYXRhLXNwbS1jbGlja1xuICogfV1cbiAqL1xudmFyIGdldEF1dG9Db25maWcgPSBmdW5jdGlvbihjb25maWdLZXksIG1ldGFPYmopIHtcbiAgdmFyIGNvbmZpZ3MgPSBbXTtcbiAgLy8gdmFyIHRtcF9sb2drZXlzID0gW107XG4gIHZhciB0bXBfdGFnX2ZpbHRlciA9IFtdO1xuICB2YXIgYXBsdXNBdXRvRXhwO1xuICB0cnkge1xuICAgIGFwbHVzQXV0b0V4cCA9IG1ldGFPYmogfHwgZ2V0TWV0YVZhbHVlKGNvbmZpZ0tleSk7XG4gICAgdmFyIHRlbXBzID0gW107XG4gICAgaWYgKGFwbHVzQXV0b0V4cCAmJiB0eXBlb2YgYXBsdXNBdXRvRXhwID09PSAnc3RyaW5nJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGVtcHMgPSBKU09OLnBhcnNlKGFwbHVzQXV0b0V4cCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHRlbXBzID0gSlNPTi5wYXJzZShhcGx1c0F1dG9FeHAucmVwbGFjZSgvJy9nLCAnXCInKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgYXBsdXNBdXRvRXhwID09PSAnb2JqZWN0JyAmJiBhcGx1c0F1dG9FeHAuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XG4gICAgICB0ZW1wcyA9IGFwbHVzQXV0b0V4cDtcbiAgICB9XG4gICAgaWYgKHRlbXBzICYmIHRlbXBzLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdG1wID0gdGVtcHNbaV0gfHwge307XG4gICAgICAgIHZhciBsb2drZXkgPSB0bXAubG9na2V5IHx8ICcnO1xuICAgICAgICB2YXIgdGFnID0gdG1wLnRhZyA/IHRtcC50YWcgOiAnJztcbiAgICAgICAgdmFyIGZpbHRlciA9IHRtcC5maWx0ZXI7XG4gICAgICAgIHZhciBjc3NTZWxlY3RvciA9IHRtcC5jc3NTZWxlY3RvcjtcbiAgICAgICAgdmFyIHdob2xlU2VsZWN0b3IgPSBjc3NTZWxlY3RvciB8fCAodGFnICYmIGZpbHRlcik7XG4gICAgICAgIGlmICghbG9na2V5IHx8ICF3aG9sZVNlbGVjdG9yKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdtZXRhICcgKyBjb25maWdLZXkgKyAnIGNvbmZpZyBlcnJvciwgJyArIEpTT04uc3RyaW5naWZ5KHRtcCkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIDIwMTctMTEtMjMg5omL5reY5o6l5YWl5ZKMbGF6YWRh5Lia5Yqh6ZyA5rGC77yM5YWB6K64bG9na2V56YeN5aSNXG4gICAgICAgIC8vIGlmICh1dGlsQXJyYXkuaW5kZXhvZih0bXBfbG9na2V5cywgbG9na2V5KSA+IC0xKSB7XG4gICAgICAgIC8vICAgdGhyb3cgbmV3IEVycm9yKCdtZXRhICcgKyBjb25maWdLZXkgKyAnIGNvbmZpZyBlcnJvciwgbG9na2V5ICcgKyBsb2drZXkgKyAnIHJlcGVhdGVkJyk7XG4gICAgICAgIC8vIH1cbiAgICAgICAgZmlsdGVyID0gdHlwZW9mIGZpbHRlciA9PT0gJ3N0cmluZycgPyBmaWx0ZXIuc3BsaXQoXCI9XCIpIDogW107XG4gICAgICAgIHZhciB0YWdfZmlsdGVyID0gdGFnO1xuICAgICAgICBpZiAoZmlsdGVyLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgdGFnX2ZpbHRlciArPSAnWycgKyBmaWx0ZXIuc2hpZnQoKSArICc9XCInICsgZGVjb2RlVVJJQ29tcG9uZW50KGZpbHRlci5qb2luKCcnKSkgKyAnXCJdJztcbiAgICAgICAgfSBlbHNlIGlmIChmaWx0ZXIubGVuZ3RoID09IDEgJiYgZmlsdGVyWzBdKSB7XG4gICAgICAgICAgdGFnX2ZpbHRlciArPSAnWycgKyBkZWNvZGVVUklDb21wb25lbnQoZmlsdGVyWzBdKSArICddJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3NzU2VsZWN0b3IpIHtcbiAgICAgICAgICB0YWdfZmlsdGVyICs9IGNzc1NlbGVjdG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgdG1wLmVsZW1lbnRTZWxlY3RvciA9IHRhZ19maWx0ZXI7XG4gICAgICAgIGlmICh1dGlsQXJyYXkuaW5kZXhvZih0bXBfdGFnX2ZpbHRlciwgdGFnX2ZpbHRlcikgPiAtMSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbWV0YSAnICsgY29uZmlnS2V5ICsgJyBjb25maWcgZXJyb3IsIHRhZ19maWx0ZXJfY3NzU2VsZWN0b3IgJyArIHRhZ19maWx0ZXIgKyAnIHJlcGVhdGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdG1wX2xvZ2tleXMucHVzaChsb2drZXkpO1xuICAgICAgICB0bXBfdGFnX2ZpbHRlci5wdXNoKHRhZ19maWx0ZXIpO1xuICAgICAgICBjb25maWdzLnB1c2godG1wKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIFRPRE8g55uR5o6n6L+Z5Z2X5YaF5a65XG4gICAgdWxvZygpLncoZXJyKTtcbiAgICAvLyB1dGlsTG9nZ2VyLmxvZ2dlcih7XG4gICAgLy8gICBtc2c6IGVyclxuICAgIC8vIH0pO1xuICB9IGZpbmFsbHkge1xuICAgIHJldHVybiBjb25maWdzO1xuICB9XG59O1xuXG4vKipcbiAqIOiOt+WPluabneWFieiHquWKqOmHh+mbhueahOmFjee9rumhuVxuICovXG5leHBvcnRzLmdldEF1dG9FeHBDb25maWcgPSBmdW5jdGlvbihtZXRhT2JqKSB7XG4gIHJldHVybiBnZXRBdXRvQ29uZmlnKCdhcGx1cy1hdXRvLWV4cCcsIG1ldGFPYmopIHx8IFtdO1xufTtcbi8qKlxuICog6I635Y+W5pud5YWJ6Ieq5Yqo6YeH6ZuG55qE6YWN572u6aG5XG4gKi9cbmV4cG9ydHMuZ2V0QXV0b0V4cFVzZXJGbiA9IGZ1bmN0aW9uKCkge1xuICB2YXIgYWVBdXRvVXNlckZuID0gZ2V0TWV0YVZhbHVlKCdhcGx1cy1hdXRvLWV4cC11c2VyZm4nKTtcbiAgaWYgKGFlQXV0b1VzZXJGbikge1xuICAgIHZhciBmbiA9IHdpbmRvd1thZUF1dG9Vc2VyRm5dIHx8IGFlQXV0b1VzZXJGbjtcbiAgICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gZm47XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxuLy8gPG1ldGEgbmFtZT1cImFwbHVzLWF1dG8tZXhwLXdhdGNoZG9tXCIgY29udGVudD1cInRocm90dGxlXCIgLz5cbmV4cG9ydHMuaXNUaHJvdHRsZVdhdGNoRG9tID0gZnVuY3Rpb24gKCkge1xuICB2YXIgcnMgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICBycyA9IGdldE1ldGFWYWx1ZSgnYXBsdXMtYXV0by1leHAtd2F0Y2hkb20nKSA9PT0gJ3Rocm90dGxlJztcbiAgfSBjYXRjaCAoZSkge1xuICB9XG4gIHJldHVybiBycztcbn07XG4vKipcbiAqIOiOt+WPlueCueWHu+iHquWKqOmHh+mbhueahOmFjee9rumhuVxuICovXG5leHBvcnRzLmdldEF1dG9DbGtDb25maWcgPSBmdW5jdGlvbihtZXRhT2JqKSB7XG4gIHJldHVybiBnZXRBdXRvQ29uZmlnKCdhcGx1cy1hdXRvLWNsaycsIG1ldGFPYmopIHx8IFtdO1xufTtcbi8qKlxuICog6I635Y+W54K55Ye76Ieq5Yqo6YeH6ZuG55qE6YWN572u6aG5XG4gKi9cbmV4cG9ydHMuZ2V0QXV0b0Nsa1VzZXJGbiA9IGZ1bmN0aW9uKCkge1xuICB2YXIgYWNBdXRvVXNlckZuID0gZ2V0TWV0YVZhbHVlKCdhcGx1cy1hdXRvLWNsay11c2VyZm4nKTtcbiAgaWYoIGFjQXV0b1VzZXJGbiApe1xuICAgIHZhciBmbiA9IHdpbmRvd1thY0F1dG9Vc2VyRm5dIHx8IGFjQXV0b1VzZXJGbjtcbiAgICBpZiggdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nICl7XG4gICAgICByZXR1cm4gZm47XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3BsdWdpbnNfd2ViL2xpYl9jb21tb24vY29uZmlnLmpzXG4vLyBtb2R1bGUgaWQgPSA1MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIHByb2plY3QgLSBmaWxlcGF0aFxuICog5pWw57uE5bel5YW3XG4gKlxuICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuICpcbiAqIEF1dGhvcnM6XG4gKiAgIOiwi+WjqyA8cWluZ2xpYW5nLmhxbEBhbGliYWJhLWluYy5jb20+XG4gKi9cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBJRTjkuI3mlK/mjIHmlbDnu4Tljp/nlJ/nmoRpbmRleE9m77yM5pWF6Ieq6KGM5a6e546w5LiA5LiqaW5kZXhvZlxuICogQHBhcmFtIFtBcnJheV0gYXJyXG4gKiBAcGFyYW0gW09iamVjdF0gaXRlbVxuICogQHJldHVybiBbTnVtYmVyXSBpbmRleFxuICovXG5leHBvcnRzLmluZGV4b2YgPSBmdW5jdGlvbihhcnIsIGl0ZW0pIHtcbiAgdmFyIGluZGV4ID0gLTE7XG4gIHRyeSB7XG4gICAgaW5kZXggPSBhcnIuaW5kZXhPZihpdGVtKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGZvciAodmFyIGogPSAwOyBqIDwgYXJyLmxlbmd0aDsgaisrKSB7XG4gICAgICBpZiAoYXJyW2pdID09PSBpdGVtKSB7XG4gICAgICAgIGluZGV4ID0gajtcbiAgICAgIH1cbiAgICB9XG4gIH0gZmluYWxseSB7XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG59O1xuXG5leHBvcnRzLml0ZW1NYXRjaCA9IGZ1bmN0aW9uKGFyciwgaXRlbSkge1xuICB2YXIgbWF0Y2hlZCA9IGZhbHNlO1xuICB0cnkge1xuICAgIGlmICghdGhpcy5pc0FycmF5KGFycikpIHtcbiAgICAgIHJldHVybiBtYXRjaGVkO1xuICAgIH1cbiAgICBtYXRjaGVkID0gYXJyLnNvbWUoZnVuY3Rpb24ocykge1xuICAgICAgcmV0dXJuIChzICYmIHMubGVuZ3RoID4gMCkgJiYgaXRlbS5pbmRleE9mKHMpICE9PSAtMTtcbiAgICB9KTtcbiAgfSBjYXRjaChlKSB7XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBhcnIubGVuZ3RoOyBqKyspIHtcbiAgICAgIGlmIChpdGVtLmluZGV4T2YoYXJyW2pdKSAhPT0gLTEpIHtcbiAgICAgICAgbWF0Y2hlZCA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbWF0Y2hlZDtcbn07XG5cbmV4cG9ydHMuaXNBcnJheSA9IGZ1bmN0aW9uIChvKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkobyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIC9BcnJheS8udGVzdChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykpO1xuICB9XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvbGliX3UvdXRpbHMvdXRpbEFycmF5LmpzXG4vLyBtb2R1bGUgaWQgPSA1MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIHByb2plY3QgLSBmaWxlcGF0aFxuICog5pON5L2cbWV0YeeahOW3peWFt+exu1xuICpcbiAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cbiAqXG4gKiBBdXRob3JzOlxuICogICDosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciBfaGVhZF9ub2RlO1xudmFyIF9tZXRhX25vZGVzO1xuXG52YXIgdXRpbEF0dHJpYnV0ZSA9IHJlcXVpcmUoJy4vdXRpbEF0dHJpYnV0ZScpO1xuLyoqXG4gKiDlj5blvpfpobXpnaLkuIogaGVhZCDkuK3nmoTmiYDmnIkgbWV0YSDlhYPntKBcbiAqIEBwYXJhbSBbZm9yY2VdIHtib29sZWFufSDmmK/lkKblvLrliLbojrflj5bmlrDlhoXlrrlcbiAqL1xuZnVuY3Rpb24gZ2V0TWV0YVRhZ3MoZm9yY2UpIHtcbiAgX2hlYWRfbm9kZSA9IF9oZWFkX25vZGUgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcblxuICBpZiAoX21ldGFfbm9kZXMgJiYgIWZvcmNlKSB7XG4gICAgcmV0dXJuIF9tZXRhX25vZGVzO1xuICB9XG5cbiAgcmV0dXJuIF9oZWFkX25vZGUgPyAoX21ldGFfbm9kZXMgPSBfaGVhZF9ub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdtZXRhJykpIDogW107XG59O1xuZXhwb3J0cy5nZXRNZXRhVGFncyA9IGdldE1ldGFUYWdzO1xuXG4vKipcbiAqIOWPluW+lyBoZWFkIC8gbWV0YSDkuK3mjIflrpogbWV0YSDnmoQgKGF0dHIgfHwgY29udGVudCkg5YC8XG4gKiA8bWV0YSBuYW1lPVwiYXBsdXMtdGVybWluYWxcIiBjb250ZW50PVwiMVwiPlxuICovXG5mdW5jdGlvbiBnZXRNZXRhQ250KG5hbWUsIGF0dHIpIHtcbiAgdmFyIGk7XG4gIHZhciBtZXRhO1xuICB2YXIgbWV0YV9ub2RlcyA9IGdldE1ldGFUYWdzKCk7XG4gIHZhciBsID0gbWV0YV9ub2Rlcy5sZW5ndGg7XG4gIHZhciBjb250ZW50O1xuXG4gIGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICBtZXRhID0gbWV0YV9ub2Rlc1tpXTtcbiAgICBpZiAodXRpbEF0dHJpYnV0ZS50cnlUb0dldEF0dHJpYnV0ZShtZXRhLCAnbmFtZScpID09PSBuYW1lKSB7XG4gICAgICBjb250ZW50ID0gdXRpbEF0dHJpYnV0ZS50cnlUb0dldEF0dHJpYnV0ZShtZXRhLCBhdHRyIHx8ICdjb250ZW50Jyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvbnRlbnQgfHwgJyc7XG59O1xuZXhwb3J0cy5nZXRNZXRhQ250ID0gZ2V0TWV0YUNudDtcblxuXG4vKipcbiAqIOehruWumiBoZWFkIC8gbWV0YSDkuK3nmoQgaXNvbmVwYWdlIOeahOaVsOaNrlxuICog5b2i5aaC77yaXG4gKiA8bWV0YSBuYW1lPVwiaXNvbmVwYWdlXCIgY29udGVudD1cIjBcIiAvPiDooajnpLrkuI3mmK9vbmVwYWdlXG4gKiA8bWV0YSBuYW1lPVwiaXNvbmVwYWdlXCIgY29udGVudD1cIjF8aHR0cDovL2g1Lm0udGFvYmFvLmNvbS93ZS9pbmRleC5odG0jZGV0YWlsXCIgLz4g6KGo56S65pivb25lcGFnZVxuICovXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZnVuY3Rpb24gZ2V0T25lUGFnZUluZm8obWV0YUluZm8pIHtcbiAgdmFyIG9iaiA9IHtcbiAgICBpc29uZXBhZ2U6ICctMScsXG4gICAgdXJscGFnZW5hbWU6ICcnXG4gIH07XG4gIHZhciBtZXRhX2luZm8gPSBtZXRhSW5mby5xR2V0KCk7XG4gIGlmIChtZXRhX2luZm8gJiYgbWV0YV9pbmZvLmhhc093blByb3BlcnR5KCdpc29uZXBhZ2VfZGF0YScpKSB7XG4gICAgb2JqLmlzb25lcGFnZSA9IG1ldGFfaW5mby5pc29uZXBhZ2VfZGF0YS5pc29uZXBhZ2U7XG4gICAgb2JqLnVybHBhZ2VuYW1lID0gbWV0YV9pbmZvLmlzb25lcGFnZV9kYXRhLnVybHBhZ2VuYW1lO1xuICB9IGVsc2Uge1xuICAgIHZhciBjb250ZW50ID0gZ2V0TWV0YUNudCgnaXNvbmVwYWdlJykgfHwgJy0xJztcbiAgICB2YXIgYXJyX2NvbnRlbnQgPSBjb250ZW50LnNwbGl0KFwifFwiKTtcbiAgICBvYmouaXNvbmVwYWdlID0gYXJyX2NvbnRlbnRbMF07XG4gICAgb2JqLnVybHBhZ2VuYW1lID0gYXJyX2NvbnRlbnRbMV0gPyBhcnJfY29udGVudFsxXSA6IFwiXCI7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn07XG5leHBvcnRzLmdldE9uZVBhZ2VJbmZvID0gZ2V0T25lUGFnZUluZm87XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9saWJfdS91dGlscy91dGlsTWV0YS5qc1xuLy8gbW9kdWxlIGlkID0gNTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBhbGlsb2cvcy9zcmMvbGliX3UvdXRpbHMvdXRpbEF0dHJpYnV0ZS5qc1xuICpcbiAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cbiAqXG4gKiBBdXRob3JzOlxuICogICDosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuICovXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMudHJ5VG9HZXRBdHRyaWJ1dGUgPSBmdW5jdGlvbihlbGVtZW50LCBhdHRyX25hbWUpIHtcbiAgcmV0dXJuIGVsZW1lbnQgJiYgZWxlbWVudC5nZXRBdHRyaWJ1dGUgPyAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cl9uYW1lKSB8fCAnJykgOiAnJztcbn07XG5cbnZhciB0cnlUb1NldEF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChlbGVtZW50LCBhdHRyX25hbWUsIGF0dHJfdmFsdWUpIHtcbiAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudC5zZXRBdHRyaWJ1dGUpIHtcbiAgICB0cnkge1xuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0cl9uYW1lLCBhdHRyX3ZhbHVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgfVxuICB9XG59O1xuZXhwb3J0cy50cnlUb1NldEF0dHJpYnV0ZSA9IHRyeVRvU2V0QXR0cmlidXRlO1xuXG5leHBvcnRzLnRyeVRvUmVtb3ZlQXR0cmlidXRlID0gZnVuY3Rpb24gKGVsZW1lbnQsIGF0dHJfbmFtZSkge1xuICBpZiAoZWxlbWVudCAmJiBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSkge1xuICAgIHRyeSB7XG4gICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShhdHRyX25hbWUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRyeVRvU2V0QXR0cmlidXRlKGVsZW1lbnQsIGF0dHJfbmFtZSwgJycpO1xuICAgIH1cbiAgfVxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2xpYl91L3V0aWxzL3V0aWxBdHRyaWJ1dGUuanNcbi8vIG1vZHVsZSBpZCA9IDUzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICog5bCP56iL5bqP5LiL6Z2i55qEc3Bt5L2T57O7XG4gKlxuICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuICpcbiAqIEF1dGhvcnM6XG4gKiAgIOm+mempuSA8Y2hlbmdwaW5nLnJjcEBhbGliYWJhLWluYy5jb20+XG4gKi9cbnZhciB1dGlsR29sZGxvZyA9IHJlcXVpcmUoJ0B1dGlscy91dGlsR29sZGxvZycpO1xudmFyIGlzQXJyYXkgID0gcmVxdWlyZSgnQHV0aWxzL2lzQXJyYXknKTtcbnZhciBhcGx1c1N0YXRpYyAgPSByZXF1aXJlKCdAdXRpbHMvYXBsdXNTdGF0aWMnKTtcbnZhciBtaW5pID0gcmVxdWlyZSgnQHV0aWxzL21pbmknKTtcbnZhciB1bG9nID0gcmVxdWlyZSgnQHV0aWxzL3Vsb2cnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgcmVzZXRMYXN0UGFnZVNwbTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoYXBsdXNTdGF0aWMuQVBMVVMsIHt9KTsgXG4gICAgICB2YXIgc3BtID0gYXBsdXMuXyQuc3BtIHx8IHt9O1xuICAgICAgc3BtLnNwbV9jbnQgPSAnJztcbiAgICB9LFxuICAgIGxpc3RlbjogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9zZWxmID0gdGhpcztcbiAgICAgIHZhciBhcGx1c19xdWV1ZSA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKGFwbHVzU3RhdGljLkFQTFVTX1FVRVVFLFtdKTsgIFxuICAgICAgYXBsdXNfcXVldWUucHVzaCh7XG4gICAgICAgIGFjdGlvbjphcGx1c1N0YXRpYy5TVUJTQ1JJQkUsXG4gICAgICAgIGFyZ3VtZW50czpbJ29uU2hvdycsZnVuY3Rpb24ob3B0KXtcbiAgICAgICAgICBpZiAob3B0LnN0YXR1cyA9PT0gJ3JlYWR5Jykge1xuICAgICAgICAgICAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoYXBsdXNTdGF0aWMuQVBMVVMse30pOyBcbiAgICAgICAgICAgIHZhciBwYWdlcyA9IGFwbHVzLmdldE1ldGFJbmZvKCdwYWdlcycpO1xuICAgICAgICAgICAgdmFyIHBhZ2VJbnN0YW5jZSA9IG1pbmkuZ2V0Q3VycmVudFBhZ2UoKTtcbiAgICAgICAgICAgIHZhciBjdXJyZW50UGFnZVBhdGggPSBwYWdlSW5zdGFuY2Uucm91dGUgfHwgcGFnZUluc3RhbmNlLmlzO1xuICAgICAgICAgICAgaWYgKGlzQXJyYXkocGFnZXMpKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFnZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudCA9IHBhZ2VzW2ldO1xuICAgICAgICAgICAgICAgIGlmKGN1cnJlbnQubWF0Y2hVcmwgPT09IGN1cnJlbnRQYWdlUGF0aCl7XG4gICAgICAgICAgICAgICAgICBhcGx1cy5zZXRQYWdlU1BNKGN1cnJlbnQuc3BtQSwgY3VycmVudC5zcG1CKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfV1cbiAgICAgIH0pO1xuICAgICAgYXBsdXNfcXVldWUucHVzaCh7XG4gICAgICAgIGFjdGlvbjphcGx1c1N0YXRpYy5TVUJTQ1JJQkUsXG4gICAgICAgIGFyZ3VtZW50czpbJ2NsZWFyUGFnZVNQTScsZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF9zZWxmLnJlc2V0TGFzdFBhZ2VTcG0oKTtcbiAgICAgICAgfV0sXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW1zIGRhdGEge09iamVjdH0ge1xuICAgICAgICogICBzcG1DbnQ6ICdhLmIuMC4wJ1xuICAgICAgICogICBzcG1Vcmw6ICdhLmIuMC4wJ1xuICAgICAgICogICBzcG1QcmU6ICdhLmIuMC4wJ1xuICAgICAgICogfVxuICAgICAgICovXG4gICAgICBhcGx1c19xdWV1ZS5wdXNoKHtcbiAgICAgICAgYWN0aW9uOmFwbHVzU3RhdGljLlNVQlNDUklCRSxcbiAgICAgICAgYXJndW1lbnRzOlsnc2V0UGFnZVNQTScsZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoYXBsdXNTdGF0aWMuQVBMVVMsIHt9KTsgXG4gICAgICAgICAgICB2YXIgc3BtID0gYXBsdXMuXyQuc3BtIHx8IHt9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgcGFnZXMgPSBnZXRDdXJyZW50UGFnZXMoKSB8fCBbXTtcbiAgICAgICAgICAgIHZhciBzcG1hYiA9IGRhdGEuc3BtQ250ID8gZGF0YS5zcG1DbnQuc3BsaXQoJy4nKSA6IFtzcG0uZGF0YS5hIHx8ICcwJywgc3BtLmRhdGEuYiB8fCAnMCddO1xuICAgICAgICAgICAgaWYgKHNwbWFiLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICBzcG1hYiA9IHNwbWFiLmNvbmNhdChbJzAnLCAnMCddKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzcG1hYnN0ciA9IHNwbWFiLmpvaW4oJy4nKTtcblxuICAgICAgICAgICAgdmFyIGN1cnJlbnRQYWdlID0gcGFnZXNbcGFnZXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICB2YXIgcHJlUGFnZSA9IHBhZ2VzW3BhZ2VzLmxlbmd0aCAtIDJdIHx8IHt9O1xuICAgICAgICAgICAgdmFyIHByZVByZVBhZ2UgPSBwYWdlc1twYWdlcy5sZW5ndGggLSAzXSB8fCB7fTtcblxuICAgICAgICAgICAgaWYgKHBhZ2VzLmxlbmd0aCA+IDAgJiYgY3VycmVudFBhZ2UpIHtcbiAgICAgICAgICAgICAgcGFnZXNbcGFnZXMubGVuZ3RoIC0gMV0uc3BtID0gc3BtYWJzdHI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjdXJyZW50UGFnZVNwbSA9IHNwbS5kYXRhICYmIHNwbS5kYXRhLmEgPyBbc3BtLmRhdGEuYSwgc3BtLmRhdGEuYiwgc3BtLmRhdGEuYyB8fCAnMCcsIHNwbS5kYXRhLmQgfHwgJzAnXS5qb2luKCcuJykgOiAnJztcbiAgICAgICAgICAgIHNwbS5kYXRhLmEgPSBzcG1hYlswXSA/ICcnICsgc3BtYWJbMF0gOiAnMCc7XG4gICAgICAgICAgICBzcG0uZGF0YS5iID0gc3BtYWJbMV0gPyAnJyArIHNwbWFiWzFdIDogJzAnO1xuICAgICAgICAgICAgc3BtLmRhdGEuYyA9ICcwJztcbiAgICAgICAgICAgIHNwbS5kYXRhLmQgPSAnMCc7XG4gICAgICAgICAgICBzcG0ucGFnZV9yZWZlcnJlciA9IHBhZ2VzLmxlbmd0aCA+IDEgJiYgY3VycmVudFBhZ2UgPyAoY3VycmVudFBhZ2Uucm91dGUgfHwgY3VycmVudFBhZ2UuaXMpIDogJyc7XG4gICAgICAgICAgICBzcG0uc3BtX2NudCA9IHNwbWFic3RyO1xuXG4gICAgICAgICAgICAvLyDku6XnlKjmiLflnKhVUkzkuIrmi7zmjqXnmoRzcG3kuLrlh4bvvIxhcGx1cy5zcG1fb3JpZ27mnaXmupDkuo5hdXRvX2luaXQvaW5qZWN0X2FwcC5qc1xuICAgICAgICAgICAgdmFyIHNwbV9vcmlnbiA9IGFwbHVzLnNwbV9vcmlnbiB8fCBzcG0uc3BtX29yaWduO1xuICAgICAgICAgICAgc3BtLnNwbV9wcmUgPSBkYXRhLnNwbVByZSB8fCBzcG0uc3BtX3VybCB8fCBwcmVQcmVQYWdlLnNwbSB8fCAnJztcbiAgICAgICAgICAgIHNwbS5zcG1fdXJsID0gZGF0YS5zcG1VcmwgfHwgY3VycmVudFBhZ2VTcG0gfHwgcHJlUGFnZS5zcG0gfHwgc3BtX29yaWduIHx8ICAnJztcbiAgICAgICAgICAgIGFwbHVzLl8kLnNwbSA9IHNwbTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnc2V0UGFnZVNQTSBlcnJvciwgdGhlIGVycm9ySW5mbyBpcyAnLCBlKTtcbiAgICAgICAgICAgIHVsb2coKS53KCdzZXRQYWdlU1BNIGVycm9yLCB0aGUgZXJyb3JJbmZvIGlzICcsIGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgfV0sXG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgcnVuOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmxpc3RlbigpO1xuICAgIH1cbiAgfTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9wbHVnaW5zX21pbmkvbWluaV9zcG0uanNcbi8vIG1vZHVsZSBpZCA9IDU0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qXG4gKiBGaWxlOiBhcGx1c19taW5pX3JlcG9ydF91bS5qc1xuICogUHJvamVjdDogQGFsaS9hcGx1c1xuICogICAgICBcbiAqIEF1dGhvcjog6ZKw5pitIChjaGFuZ2xpYW5nLmxjbEB1bWVuZy5jb20pXG4gKiAgICAgIFxuICogQ29weXJpZ2h0IC0gMjAyMSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJ1bjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgTWFpbiA9IHJlcXVpcmUoJy4vbGliX2Nvbm5lY3Rpb24vbWFpbl9taW5pX3VtX2h0dHAuanMnKTtcbiAgICAgIHZhciBtYWluID0gTWFpbi5jcmVhdGUoKTtcbiAgICAgIG1haW4ucnVuKHRoaXMub3B0aW9ucyk7XG4gICAgfVxuICB9O1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9wbHVnaW5zL2FwbHVzX21pbmlfcmVwb3J0X3VtLmpzXG4vLyBtb2R1bGUgaWQgPSA1NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKlxuICogRmlsZTogbWFpbl9taW5pX3VtX2h0dHAuanNcbiAqIFByb2plY3Q6IEBhbGkvYXBsdXNcbiAqICAgICAgXG4gKiBBdXRob3I6IOmSsOaYrSAoY2hhbmdsaWFuZy5sY2xAdW1lbmcuY29tKVxuICogICAgICBcbiAqIENvcHlyaWdodCAtIDIwMjEgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuLy8gdmFyIGxvZ19jbG91ZCA9IHJlcXVpcmUoJy4vbG9nX2Nsb3VkJyk7XG52YXIgbWFpbl9iYXNlX2h0dHAgPSByZXF1aXJlKCcuL21haW5fYmFzZV9odHRwJyk7XG52YXIgZXZlbnRNYW5hZ2VyID0gcmVxdWlyZSgnLi4vbGliX3VtL2V2ZW50TWFuYWdlcicpO1xudmFyIHJlcXVlc3RRdWV1ZSA9IHJlcXVpcmUoJy4uL2xpYl91bS9yZXF1ZXN0UXVldWUnKTtcbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL2xpYl91bS91dGlscycpO1xudmFyIHVsb2cgPSByZXF1aXJlKCdAdXRpbHMvdWxvZycpO1xudmFyIGNsb25lRGVlcCA9IHJlcXVpcmUoJ0B1dGlscy9jbG9uZURlZXAnKTtcbnZhciB1dGlsRGFzaCA9IHJlcXVpcmUoJ0B1dGlscy91dGlsRGFzaCcpO1xudmFyIHV0aWxHb2xkbG9nID0gcmVxdWlyZSgnQHV0aWxzL3V0aWxHb2xkbG9nJyk7XG4vLyB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZSgnYXBsdXMnKTtcbnZhciBtaW5pID0gcmVxdWlyZSgnQHV0aWxzL21pbmknKTtcbnZhciBhcGx1c1N0YXRpYyA9IHJlcXVpcmUoJ0B1dGlscy9hcGx1c1N0YXRpYycpO1xudmFyIFBhZ2VNYW5hZ2VyID0gcmVxdWlyZSgnQC9wbHVnaW5zL2xpYl91bS9wYWdlTWFuYWdlcicpO1xuXG5mdW5jdGlvbiBoYW5kbGVFdmVudChpZCwgb3B0aW9ucykge1xuICB1bG9nKCkudignZXZlbnQ6ICcsIGlkLCBvcHRpb25zKTtcbiAgXG4gIGlmICh1dGlscy5jaGVja0V2ZW50KGlkLCBvcHRpb25zKSkge1xuICAgIHZhciBldmVudCA9IHJlcXVpcmUoJy4uL2xpYl91bS9ldmVudC5qcycpKGlkLCBvcHRpb25zKTtcbiAgICBldmVudE1hbmFnZXIoKS5hZGRFdmVudChldmVudCk7XG5cbiAgICByZXF1ZXN0UXVldWUoKS5zZW5kKHV0aWxzLkRhdGFUeXBlLkVLViwgeyBub0NhY2hlOiBmYWxzZSB9LCBmdW5jdGlvbigpe1xuICAgICAgdWxvZygpLmkoJ2V2ZW50IHNlbmQgc3VjY2VzczogJywgaWQsIGV2ZW50KTtcbiAgICB9KTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBtYWluX2Jhc2VfaHR0cC5leHRlbmQoe1xuXG4gIGhhbmRsZXJNaWRkbGV3YXJlOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgIHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKCdhcGx1cycpO1xuICAgIHVsb2coKS5zZXREZWJ1ZyghIWFwbHVzLmdldE1ldGFJbmZvKCdERUJVRycpKTtcbiAgICB2YXIgdXNlckV2ZW50QXJncywgZ29rZXk7XG4gICAgdmFyIGxvZ2tleSA9IGRhdGEgJiYgZGF0YS51c2VyZGF0YSAmJiBkYXRhLnVzZXJkYXRhLmxvZ2tleTtcbiAgICB2YXIgZ21rZXkgPSBkYXRhICYmIGRhdGEudXNlcmRhdGEgJiYgZGF0YS51c2VyZGF0YS5nbWtleTtcbiAgICB2YXIgbG9nZGF0YSA9IGRhdGEgJiYgZGF0YS53aGF0X3RvX3NlbmQgJiYgZGF0YS53aGF0X3RvX3NlbmQubG9nZGF0YSAmJiBkYXRhLndoYXRfdG9fc2VuZC5sb2dkYXRhIHx8IHt9O1xuICAgIHZhciBncCA9IGFwbHVzLmdldE1ldGFJbmZvKCdnbG9iYWxwcm9wZXJ0eScpO1xuICAgIHZhciBwYWdlX25hbWU7XG4gICAgaWYgKGdta2V5ID09PSAnQ0xLJyB8fCBnbWtleSA9PT0gJ0VYUCcgfHwgZ21rZXkgPT09ICdPVEhFUicgfHwgbG9na2V5ID09PSBhcGx1c1N0YXRpYy5BUFBfU1RBUlQgfHwgbG9na2V5ID09PSBhcGx1c1N0YXRpYy5BUFBfRU5EKSB7XG4gICAgICB1c2VyRXZlbnRBcmdzID0gY2xvbmVEZWVwKGRhdGEgJiYgZGF0YS51c2VyZGF0YSAmJiBkYXRhLnVzZXJkYXRhLmdva2V5IHx8IHt9KTtcbiAgICAgIGdva2V5ID0gbG9nZGF0YS5nb2tleSB8fCB7fTtcbiAgICAgIHZhciBldmVudF9hcmdzO1xuICAgICAgdmFyIHNka0FyZ3MgPSB7fTtcbiAgICAgIGlmIChsb2drZXkgPT09ICckJF9zaGFyZScpIHtcbiAgICAgICAgc2RrQXJncy5yZWZlcl9wYWdlID0gbG9nZGF0YS51cmw7XG4gICAgICAgIHNka0FyZ3Muc2hhcmVfdHlwZSA9IHVzZXJFdmVudEFyZ3Muc2hhcmVfdHlwZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGdva2V5LnNjZW5lKSB7XG4gICAgICAgIHNka0FyZ3Muc2NlbmUgPSBtaW5pLmdldFBsYXRmb3JtVHlwZSgpICsgJ18nICsgZ29rZXkuc2NlbmU7XG4gICAgICB9XG5cbiAgICAgIC8vICQkX2FwcF9saW5r5LqL5Lu255qEdGFyZ2V0QXBwS2V5XG4gICAgICBpZihnb2tleS50YXJnZXRBcHBLZXkpIHtcbiAgICAgICAgc2RrQXJncy50YXJnZXRBcHBLZXkgPSB1c2VyRXZlbnRBcmdzLnRhcmdldEFwcEtleTtcbiAgICAgICAgZGVsZXRlIHVzZXJFdmVudEFyZ3MudGFyZ2V0QXBwS2V5O1xuICAgICAgfVxuICAgICAgXG4gICAgICBwYWdlX25hbWUgPSB1c2VyRXZlbnRBcmdzWydkYXRhLXBhZ2VuYW1lJ10gfHwgdXNlckV2ZW50QXJncy5wYWdlX25hbWUgfHwgKHVzZXJFdmVudEFyZ3Muc3BtICYmIHVzZXJFdmVudEFyZ3Muc3BtLmIpIHx8IGFwbHVzLmdldFBhZ2VOYW1lKCkgfHwgbG9nZGF0YS51cmwgfHwgJyc7XG4gICAgICBzZGtBcmdzLnBhZ2VfbmFtZSA9IHBhZ2VfbmFtZTtcbiAgICAgIFxuICAgICAgc2RrQXJncy51cmwgPSBsb2dkYXRhLnVybCB8fCAnLSc7XG4gICAgICBpZiAodXNlckV2ZW50QXJncy5wYWdlX25hbWUgfHwgdXNlckV2ZW50QXJnc1snZGF0YS1wYWdlbmFtZSddKSB7XG4gICAgICAgIGRlbGV0ZSB1c2VyRXZlbnRBcmdzLnBhZ2VfbmFtZTtcbiAgICAgICAgZGVsZXRlIHVzZXJFdmVudEFyZ3NbJ2RhdGEtcGFnZW5hbWUnXTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF1dGlsRGFzaC5pc0VtcHR5T2JqZWN0KGdwKSkge1xuICAgICAgICBzZGtBcmdzLmdwID0gZ3A7XG4gICAgICB9XG5cbiAgICAgIGlmICh1c2VyRXZlbnRBcmdzLnNwbSkge1xuICAgICAgICBzZGtBcmdzWydzcG0tY250J10gPSBbZW5jb2RlVVJJQ29tcG9uZW50KHBhZ2VfbmFtZSksIHVzZXJFdmVudEFyZ3Muc3BtLmMsIHVzZXJFdmVudEFyZ3Muc3BtLmRdLmZpbHRlcihmdW5jdGlvbih2KXtcbiAgICAgICAgICByZXR1cm4gISF2O1xuICAgICAgICB9KS5qb2luKCcuJyk7XG4gICAgICAgIGRlbGV0ZSB1c2VyRXZlbnRBcmdzLnNwbTtcbiAgICAgIH1cblxuICAgICAgdmFyIGNsb25lUCA9IGNsb25lRGVlcCh1c2VyRXZlbnRBcmdzKTtcbiAgICAgIGZvciAodmFyIGsgaW4gY2xvbmVQKSB7XG4gICAgICAgIGlmICh0eXBlb2YgayA9PT0gJ3N0cmluZycgJiYgdXRpbHMuc3RhcnRzV2l0aChrLCAnXycpKSB7XG4gICAgICAgICAgc2RrQXJnc1trXSA9IGNsb25lUFtrXTtcbiAgICAgICAgICBkZWxldGUgdXNlckV2ZW50QXJnc1trXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGxvZ2tleSA9PT0gYXBsdXNTdGF0aWMuQVBQX1NUQVJUIHx8IGxvZ2tleSA9PT0gYXBsdXNTdGF0aWMuQVBQX0VORCkge1xuICAgICAgICBldmVudF9hcmdzID0gdXRpbERhc2guYXNzaWduKHNka0FyZ3MsIHVzZXJFdmVudEFyZ3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXZlbnRfYXJncyA9IHV0aWxEYXNoLmFzc2lnbihzZGtBcmdzLCB7IGN1c3A6IHVzZXJFdmVudEFyZ3MgfSk7XG4gICAgICB9XG4gICAgICBoYW5kbGVFdmVudChsb2drZXksIGV2ZW50X2FyZ3MpO1xuICAgIH0gZWxzZSBpZiAobG9nZGF0YS5ldmVudF9jb2RlID09PSAnMjAwMScpIHsgXG4gICAgICB2YXIgcHZhcmdzID0ge307XG4gICAgICB2YXIgcGFnZV9pZCA9IGFwbHVzU3RhdGljLlBBR0VfU1RBUlQ7XG4gICAgICBnb2tleSA9IGNsb25lRGVlcChsb2dkYXRhLmdva2V5IHx8IHt9KTtcbiAgICAgIFxuICAgICAgcGFnZV9uYW1lID0gZ29rZXkucGFnZV9uYW1lIHx8IGFwbHVzLmdldFBhZ2VOYW1lKCkgfHwgUGFnZU1hbmFnZXIuZ2V0UGFnZUNvZGUobG9nZGF0YS51cmwpIHx8IGxvZ2RhdGEudXJsIHx8ICcnO1xuICAgICAgcHZhcmdzLnIgPSBsb2dkYXRhLmFyZzEgfHwgbG9nZGF0YS5sb2drZXkgfHwgJy0nO1xuICAgICAgcHZhcmdzLnBhZ2VfbmFtZSA9IHBhZ2VfbmFtZTtcbiAgICAgIGlmIChnb2tleS5fcGFnZV9hdXRvX3B2KSB7XG4gICAgICAgIHB2YXJncy5pc19hdXRvID0gMTtcbiAgICAgICAgcHZhcmdzLnVybCA9IGdva2V5LnBhdGggfHwgJy0nO1xuICAgICAgICBwdmFyZ3MucmVmX3VybCA9IGdva2V5LnJlZmVycmVyO1xuICAgICAgICBkZWxldGUgZ29rZXkuX3BhZ2VfYXV0b19wdjtcbiAgICAgICAgZGVsZXRlIGdva2V5LnJlZmVycmVyO1xuICAgICAgICBkZWxldGUgZ29rZXkucGF0aDtcbiAgICAgICAgZGVsZXRlIGdva2V5LnBhZ2VfbmFtZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHB2YXJncy5pc19hdXRvID0gMDtcbiAgICAgICAgcHZhcmdzLnVybCA9IGxvZ2RhdGEudXJsIHx8ICctJztcbiAgICAgICAgcHZhcmdzLnJlZl91cmwgPSBsb2dkYXRhLnByZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGdva2V5LmR1cmF0aW9uKSB7XG4gICAgICAgIHB2YXJncy5kdXJhdGlvbiA9IGdva2V5LmR1cmF0aW9uO1xuICAgICAgICBkZWxldGUgZ29rZXkuZHVyYXRpb247XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmICghdXRpbERhc2guaXNFbXB0eU9iamVjdChncCkpIHtcbiAgICAgICAgcHZhcmdzLmdwID0gZ3A7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChnb2tleS5zY2VuZSkge1xuICAgICAgICBwdmFyZ3Muc2NlbmUgPSBtaW5pLmdldFBsYXRmb3JtVHlwZSgpICsgJ18nICsgZ29rZXkuc2NlbmU7XG4gICAgICB9XG4gICAgICBnb2tleSA9IHV0aWxzLmRlbGV0ZUluZm8oZ29rZXksIFsnX2Fub255X2lkJywgJ19kZXZfaWQnLCAnX3Nlc3Npb25faWQnLCAnX3VzZXJfaWQnLCAnX3VzZXJfbmljaycsICd1YWlkJywgJ3B2aWQnLCAnc2NlbmUnXSk7XG4gICAgICBwdmFyZ3NbJ3NwbS1jbnQnXSA9IGVuY29kZVVSSUNvbXBvbmVudChwYWdlX25hbWUpO1xuICAgICAgaWYgKGdva2V5Ll9wYWdlX2F1dG9faWQpIHtcbiAgICAgICAgcGFnZV9pZCA9IGdva2V5Ll9wYWdlX2F1dG9faWQ7XG4gICAgICAgIGRlbGV0ZSBnb2tleS5fcGFnZV9hdXRvX2lkO1xuICAgICAgfVxuXG4gICAgICBpZiAoZ29rZXkucGFnZV9zdGFydCkge1xuICAgICAgICBwdmFyZ3MucGFnZV9zdGFydCA9IGdva2V5LnBhZ2Vfc3RhcnQ7XG4gICAgICAgIGRlbGV0ZSBnb2tleS5wYWdlX3N0YXJ0O1xuICAgICAgfVxuXG4gICAgICAvLyBpZiAoZ29rZXkucGFnZV9uYW1lKSB7XG4gICAgICAvLyBkZWxldGUgZ29rZXkucGFnZV9uYW1lO1xuICAgICAgLy8gfVxuICAgICAgXG4gICAgICBoYW5kbGVFdmVudChwYWdlX2lkLCB1dGlsRGFzaC5hc3NpZ24ocHZhcmdzLCB7IGN1c3A6IGdva2V5fSApKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gY29uc29sZS5sb2coMjIyMiwgZGF0YSk7XG4gICAgfVxuICB9LFxuXG4gIHJ1bjogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy53YXRjaExPRygpO1xuICB9XG4gIFxufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvcGx1Z2lucy9saWJfY29ubmVjdGlvbi9tYWluX21pbmlfdW1faHR0cC5qc1xuLy8gbW9kdWxlIGlkID0gNTZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiDmi6bmiKrlubbmjIlodHRw5Y2P6K6u5Y+R6YCB5pel5b+XXG4gKlxuICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuICpcbiAqIEF1dGhvcnM6XG4gKiAgIFJpY2hhcmR86LCL5aOrIDxxaW5nbGlhbmcuaHFsQGFsaWJhYmEtaW5jLmNvbT5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgQmFzZSA9IHJlcXVpcmUoJ0Bjb3JlL0Jhc2UnKTtcbi8vIHZhciBsb2dfY2xvdWQgPSByZXF1aXJlKCcuL2xvZ19jbG91ZCcpO1xudmFyIHV0aWxHUSA9IHJlcXVpcmUoJ0B1dGlscy91dGlsR1EnKTtcbnZhciBhcGx1c1N0YXRpYyA9IHJlcXVpcmUoJ0B1dGlscy9hcGx1c1N0YXRpYycpO1xuLy8gdmFyIHV0aWxHb2xkbG9nID0gcmVxdWlyZSgnQHV0aWxzL3V0aWxHb2xkbG9nJyk7XG4vLyB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZSgnYXBsdXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBCYXNlLmV4dGVuZCh7XG5cbiAgc3Vic2NyaWJlTG9nczogZnVuY3Rpb24gKGFjdGlvbiwgY2FsbGJhY2spIHtcbiAgICB1dGlsR1EucHVzaEludG9Hb2xkbG9nUXVldWUoYXBsdXNTdGF0aWMuU1VCU0NSSUJFLCBbYWN0aW9uLCBmdW5jdGlvbiAob3JpRGF0YXMpIHtcbiAgICAgIGlmIChvcmlEYXRhcy5zdGF0dXMgPT09IGFwbHVzU3RhdGljLkNPTVBMRVRFKSB7XG4gICAgICAgIGNhbGxiYWNrKG9yaURhdGFzKTtcbiAgICAgIH1cbiAgICB9XSk7XG4gIH0sXG5cbiAgZ2V0TG9naWNTeW1ib2w6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5mb3JtYXQgPT09ICdBTEknID8gJyYnIDogJ3x8JztcbiAgfSxcblxuICAvKipcbiAgICog5Zyo5a2Q57G75Lit5a6e546wXG4gICAqIEBwYXJhbXMge09iamVjdH0gZGF0YVxuICAgKi9cbiAgaGFuZGxlck1pZGRsZXdhcmU6IGZ1bmN0aW9uICgpIHt9LFxuICBcblxuICB3YXRjaExPRzogZnVuY3Rpb24gKCkge1xuICAgIHZhciBfc2VsZiA9IHRoaXM7XG4gICAgXG4gICAgLy8g6K6i6ZiFcHbkuovku7ZcbiAgICBfc2VsZi5zdWJzY3JpYmVMb2dzKGFwbHVzU3RhdGljLk1XX0NIQU5HRV9QViwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIF9zZWxmLmhhbmRsZXJNaWRkbGV3YXJlKGRhdGEsICdwdicpO1xuICAgIH0pO1xuXG4gICAgLy8g6K6i6ZiFaGpsai9hcGx1c+S6i+S7tlxuICAgIF9zZWxmLnN1YnNjcmliZUxvZ3MoYXBsdXNTdGF0aWMuTVdfQ0hBTkdFX0hKTEosIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICBfc2VsZi5oYW5kbGVyTWlkZGxld2FyZShkYXRhLCBhcGx1c1N0YXRpYy5BUExVUyk7XG4gICAgfSk7XG4gIH0sXG5cbiAgcnVuOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy53YXRjaExPRygpO1xuICB9XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3BsdWdpbnMvbGliX2Nvbm5lY3Rpb24vbWFpbl9iYXNlX2h0dHAuanNcbi8vIG1vZHVsZSBpZCA9IDU3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogYWxpbG9nL3Mvc3JjL2xpYl91L3V0aWxzL3V0aWxHUS5qc1xuICog5pON5L2cYXBsdXNfcXVldWXnmoTlt6XlhbfnsbtcbiAqXG4gKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG4gKlxuICogQXV0aG9yczpcbiAqICAg6LCL5aOrIDxxaW5nbGlhbmcuaHFsQGFsaWJhYmEtaW5jLmNvbT5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbEdvbGRsb2cgPSByZXF1aXJlKCcuL3V0aWxHb2xkbG9nJyk7XG5cbmV4cG9ydHMucHVzaEludG9Hb2xkbG9nUXVldWUgPSBmdW5jdGlvbiAoYWN0aW9uLCBhcmdzKSB7XG4gIHZhciBhcGx1c19xdWV1ZSA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKCdhcGx1c19xdWV1ZScpO1xuICB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZSgnYXBsdXMnKTtcbiAgdmFyIG5hbWVzID0gYWN0aW9uLnNwbGl0KCcuJyk7XG4gIHZhciBhcGx1c18xID0gYXBsdXNbbmFtZXNbMV1dO1xuICB2YXIgYXBsdXNfMiA9IGFwbHVzXzEgPyBhcGx1c18xW25hbWVzWzJdXSA6IG51bGw7XG5cbiAgaWYgKGFwbHVzICYmIG5hbWVzLmxlbmd0aCA9PT0gMiAmJiBhcGx1c18xKSB7XG4gICAgYXBsdXNfMS5hcHBseShhcGx1cywgYXJncyk7XG4gIH0gZWxzZSBpZiAobmFtZXMubGVuZ3RoID09PSAzICYmIGFwbHVzXzIpIHtcbiAgICBhcGx1c18yLmFwcGx5KGFwbHVzXzEsIGFyZ3MpOyAgXG4gIH0gZWxzZSB7XG4gICAgYXBsdXNfcXVldWUucHVzaCh7XG4gICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgIGFyZ3VtZW50czogYXJnc1xuICAgIH0pO1xuICB9XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvbGliX3UvdXRpbHMvdXRpbEdRLmpzXG4vLyBtb2R1bGUgaWQgPSA1OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKlxuICogRmlsZTogZXZlbnQuanNcbiAqIFByb2plY3Q6IEBhbGkvYXBsdXNcbiAqICAgICAgXG4gKiBBdXRob3I6IOmSsOaYrSAoY2hhbmdsaWFuZy5sY2xAdW1lbmcuY29tKVxuICogICAgICBcbiAqIENvcHlyaWdodCAtIDIwMjEgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG4gKi9cbnZhciB1dGlsR29sZGxvZyA9IHJlcXVpcmUoJ0B1dGlscy91dGlsR29sZGxvZycpO1xudmFyIHV0aWxEYXNoID0gcmVxdWlyZSgnQHV0aWxzL3V0aWxEYXNoJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaWQsIHByb3BlcnRpZXMpIHtcbiAgaWYgKHR5cGVvZiBpZCAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgZXZlbnQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBldmVudC5pZCA9IGlkO1xuICBpZiAoIXByb3BlcnRpZXMgfHwgIXByb3BlcnRpZXMudHMpIHtcbiAgICBldmVudC50cyA9IERhdGUubm93KCk7XG4gIH1cbiAgdmFyIHByb3BzVHlwZSA9IHR5cGVvZiBwcm9wZXJ0aWVzO1xuICBpZiAocHJvcHNUeXBlID09PSAnb2JqZWN0Jykge1xuICAgIGZvciAodmFyIGtleSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICBpZiAoe30uaGFzT3duUHJvcGVydHkuY2FsbChwcm9wZXJ0aWVzLCBrZXkpKSB7XG4gICAgICAgIGV2ZW50W2tleV0gPSBwcm9wZXJ0aWVzW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKCdhcGx1cycpO1xuICB2YXIgZ3AgPSBhcGx1cy5nZXRNZXRhSW5mbygnZ2xvYmFscHJvcGVydHknKTtcbiAgaWYgKCF1dGlsRGFzaC5pc0VtcHR5T2JqZWN0KGdwKSkge1xuICAgIGV2ZW50WydncCddID0gZ3A7IFxuICB9XG4gIHJldHVybiBldmVudDtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvcGx1Z2lucy9saWJfdW0vZXZlbnQuanNcbi8vIG1vZHVsZSBpZCA9IDU5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogcHJvamVjdCAtIGZpbGVwYXRoXG4gKiDms6jlhaVsb2dDb25maWcs5L6b5ZCO57ut5o+S5Lu25L2/55SoXG4gKlxuICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuICpcbiAqIEF1dGhvcnM6XG4gKiAgIOiwi+WjqyA8cWluZ2xpYW5nLmhxbEBhbGliYWJhLWluYy5jb20+XG4gKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIGVhY2ggPSByZXF1aXJlKCcuLi9saWJfdS91dGlscy9lYWNoJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIGdldExvZ0NvbmZpZzogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGxvZ0NvbmZpZyA9IHt9O1xuICAgICAgdmFyIHBsdWdpbnMgPSB0aGlzLm9wdGlvbnMuY29uZmlnLnBsdWdpbnM7XG5cbiAgICAgIGZvciAodmFyIGsgaW4gcGx1Z2lucykge1xuICAgICAgICBsb2dDb25maWdba10gPSB7XG4gICAgICAgICAgcGx1Z2luczogcGx1Z2luc1trXSxcbiAgICAgICAgICBjb250ZXh0OiB7fVxuICAgICAgICB9O1xuICAgICAgICBlYWNoKHBsdWdpbnNba10sIGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgbG9nQ29uZmlnW2tdLmNvbnRleHRbdi5uYW1lXSA9IHYuY29uZmlnIHx8IHt9O1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBsb2dDb25maWc7XG4gICAgfSxcblxuICAgIHJ1bjogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5vcHRpb25zLmNvbnRleHQubG9nQ29uZmlnID0gdGhpcy5nZXRMb2dDb25maWcoKTtcbiAgICAgIHRoaXMub3B0aW9ucy5jb250ZXh0LmxvZ0NvbmZpZy5wYWdlTG9hZFRpbWUgPSB0aGlzLm9wdGlvbnMuY29udGV4dC5QQUdFX0xPQURfVElNRTtcbiAgICB9XG4gIH07XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvcGx1Z2lucy9hcGx1c19sb2dfaW5qZWN0LmpzXG4vLyBtb2R1bGUgaWQgPSA2MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIGFsaWxvZy9zIC0gc3JjL2xpYl91L2NvbmZpZy9wbHVnaW5zL2V0YWcuanNcbiAqXG4gKiDkvZznlKjvvJrlkIzmraVhcGx1c19pbml05bel5L2c5rWB55qE5L+h5oGvXG4gKiBkZXBzOiDml6BcbiAqXG4gKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG4gKlxuICogQXV0aG9yczpcbiAqICAg6LCL5aOrIDxxaW5nbGlhbmcuaHFsQGFsaWJhYmEtaW5jLmNvbT5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbEdvbGRsb2cgPSByZXF1aXJlKCdAdXRpbHMvdXRpbEdvbGRsb2cnKTtcbnZhciBtaW5pID0gcmVxdWlyZSgnQHV0aWxzL21pbmknKTtcbnZhciBhcGx1c1N0YXRpYyA9IHJlcXVpcmUoJ0B1dGlscy9hcGx1c1N0YXRpYycpO1xudmFyIHV0aWxFdGFnID0gcmVxdWlyZSgnQHV0aWxzL3V0aWxFdGFnJyk7XG52YXIgdWxvZyA9IHJlcXVpcmUoJ0B1dGlscy91bG9nJyk7XG52YXIgRU1QVFlfQ05BID0gJ0VNUFRZX0NOQSc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgX3N5bmNFdGFnOiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgIHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKGFwbHVzU3RhdGljLkFQTFVTKTtcbiAgICAgIHZhciBfc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgY2hlY2sgPSBmdW5jdGlvbiAobykge1xuICAgICAgICB2YXIgY25hID0gbyAmJiBvLmRhdGEgPyBvLmRhdGEuY25hIDogJyc7XG4gICAgICAgIGlmICghY25hKSB7XG4gICAgICAgICAgaWYgKGFwbHVzLmZldGNoRXRhZ1N0YXR1cyA9PT0gJ1knKSB7XG4gICAgICAgICAgICAvLyDkuLrkuobop6PlhrPlubblj5Hpl67popjvvIzku45hcGx1c19xdWV1ZeaUueaIkOebtOaOpeeUqGFwbHVzLmFwbHVzX3B1YnN1YiBA6LCL5aOrIDIwMDIxLTAxLTE5XG4gICAgICAgICAgICBhcGx1cy5hcGx1c19wdWJzdWIuc3Vic2NyaWJlKCdldGFnJywgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrKHZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0b1N5bmNFdGFnKCk7ICBcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdXRpbEdvbGRsb2cuc2V0R29sZGxvZ1ZhbChldGFnU3RvcmFnZUtleSwgY25hKTtcbiAgICAgICAgICBjYWxsYmFjayhjbmEpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgXG4gICAgICB2YXIgYXBsdXNfcmhvc3RfdiA9IGFwbHVzLmdldE1ldGFJbmZvKGFwbHVzU3RhdGljLkFQTFVTX1BWX0RPTUFJTik7XG4gICAgICB2YXIgdXJsO1xuXG4gICAgICBpZiAoYXBsdXNfcmhvc3Rfdikge1xuICAgICAgICB1cmwgPSB1dGlsRXRhZy5nZXRVcmwoe1xuICAgICAgICAgIGVnVXJsOiAoYXBsdXNfcmhvc3Rfdi5pbmRleE9mKCcvLycpID09PSAtMSA/ICcvLycgKyBhcGx1c19yaG9zdF92IDogYXBsdXNfcmhvc3RfdikgKyAnL2VnLmpzJ1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKF9zZWxmLm9wdGlvbnMuY29udGV4dC5ldGFnKSB7XG4gICAgICAgICAgX3NlbGYub3B0aW9ucy5jb250ZXh0LmV0YWcuZWdVcmwgPSB1cmw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBjdHggPSBtaW5pLmdldENvbnRleHQoKTtcbiAgICAgIHZhciBldGFnU3RvcmFnZUtleSA9IGFwbHVzLmdsb2JhbENvbmZpZy5FVEFHX1NUT1JBR0VfS0VZO1xuICAgICAgdmFyIHRvU3luY0V0YWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh1cmwpIHtcbiAgICAgICAgICBhcGx1cy5mZXRjaEV0YWdTdGF0dXMgPSAnWSc7XG4gICAgICAgICAgbWluaS5yZXF1ZXN0KHVybCwge1xuICAgICAgICAgICAgZGF0YVR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgIHJlcXVlc3RNZXRob2ROYW1lOiAncmVxdWVzdCdcbiAgICAgICAgICB9LCBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICBhcGx1cy5mZXRjaEV0YWdTdGF0dXMgPSAnTic7XG4gICAgICAgICAgICB2YXIgZXRhZyA9ICcnO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YSB8fCAnJztcbiAgICAgICAgICAgICAgdmFyIGFyciA9IGRhdGEuc3BsaXQoJzsnKTtcbiAgICAgICAgICAgICAgaWYgKGFyci5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV0YWdLZXlWYWx1ZSA9IGFyclsxXTtcbiAgICAgICAgICAgICAgICB2YXIgZXRhZ3MgPSBldGFnS2V5VmFsdWUuc3BsaXQoJz0nKTtcbiAgICAgICAgICAgICAgICBldGFnID0gZXRhZ3NbMV0gfHwgJyc7XG4gICAgICAgICAgICAgICAgZXRhZyA9IGV0YWcucmVwbGFjZSgvXFxcIi9nLCAnJyk7XG4gICAgICAgICAgICAgICAgdXRpbEdvbGRsb2cuc2V0R29sZGxvZ1ZhbChldGFnU3RvcmFnZUtleSwgZXRhZyk7XG4gICAgICAgICAgICAgICAgY3R4LnNldFN0b3JhZ2Uoe1xuICAgICAgICAgICAgICAgICAga2V5OiBldGFnU3RvcmFnZUtleSxcbiAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgY25hOiBldGFnXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8g5Li65LqG6Kej5Yaz5bm25Y+R6Zeu6aKY77yM5LuOYXBsdXNfcXVldWXmlLnmiJDnm7TmjqXnlKhhcGx1cy5hcGx1c19wdWJzdWJcbiAgICAgICAgICAgICAgICAvLyDlubZjYWNoZeS9j+S4iuS4gOasoeeahOe7k+aenCBA6LCL5aOrIDIwMDIxLTAxLTE5XG4gICAgICAgICAgICAgICAgYXBsdXMuYXBsdXNfcHVic3ViLnB1Ymxpc2goJ2V0YWcnLCBldGFnKTtcbiAgICAgICAgICAgICAgICBhcGx1cy5hcGx1c19wdWJzdWIuY2FjaGVQdWJzKCdldGFnJywgZXRhZyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgdWxvZygpLncoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWV0YWcpIHtcbiAgICAgICAgICAgICAgZXRhZyA9IEVNUFRZX0NOQTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbGxiYWNrKGV0YWcpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZXMyKSB7XG4gICAgICAgICAgICB1bG9nKCkudyhyZXMyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHZhciBDTkEgPSB1dGlsR29sZGxvZy5nZXRHb2xkbG9nVmFsKGV0YWdTdG9yYWdlS2V5KTtcbiAgICAgIGlmIChDTkEpIHtcbiAgICAgICAgY2FsbGJhY2soQ05BKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN0eC5nZXRTdG9yYWdlKHtcbiAgICAgICAgICBrZXk6IGV0YWdTdG9yYWdlS2V5LFxuICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgIGNoZWNrKHJlcyk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBmYWlsOiBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICBjaGVjayhyZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHB25Y+R6YCB5Yiw5ZOq6YeM5Y67XG4gICAgICog6L+U5ZueXCJkb25lXCLnu4jmraLkuK3pl7Tku7bmiafooYzvvIzov5Tlm57igJxwYXVzZeKAneaaguWBnOS4remXtOS7tuaJp+ihjO+8jOi/lOWbnuS4gOS4quaVtOaVsOKAnG7igJ3lkYror4nkuK3pl7Tku7bigJxu4oCd5q+r56eS5ZCO57un57ut5omn6KGM5Lit6Ze05Lu2XG4gICAgICog4oCc5pqC5YGc4oCd5pyA5aSaMTBz77yM6Iul6LaF5pe25Lit6Ze05Lu25Lya5by65Yi257un57ut5omn6KGMXG4gICAgICogQHBhcmFtIFtTdHJpbmddIHN0YXRlIOeKtuaAgVxuICAgICAqIEBwYXJhbSBbRnVuY3Rpb25dIGNiICDlm57osINcbiAgICAgKiBAcmV0dXJuIFwiZG9uZVwiIHwgdW5kZWZpbmVkXG4gICAgICovXG4gICAgcnVuOiBmdW5jdGlvbiAoc3RhdGUsIGNiKSB7XG4gICAgICB2YXIgX3NlbGYgPSB0aGlzO1xuICAgICAgLy8gdmFyIHN0YXJ0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoJ2FwbHVzJyk7XG4gICAgICB2YXIgZXRhZ1RpbWVvdXQgPSBhcGx1cy5nZXRNZXRhSW5mbygnYXBsdXMtZXRhZy10aW1lb3V0Jyk7XG4gICAgICB2YXIgZGVmYXVsdFRpbWUgPSAyMDA7XG4gICAgICB2YXIgdGltZSA9IGRlZmF1bHRUaW1lO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGltZSA9IHBhcnNlSW50KGV0YWdUaW1lb3V0KTtcbiAgICAgICAgaWYgKGlzTmFOKHRpbWUpKSB7XG4gICAgICAgICAgdGltZSA9IGRlZmF1bHRUaW1lO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3N5bmNFdGFnKGZ1bmN0aW9uIChjbmEpIHtcbiAgICAgICAgaWYgKF9zZWxmLm9wdGlvbnMuY29udGV4dC5ldGFnKSB7XG4gICAgICAgICAgX3NlbGYub3B0aW9ucy5jb250ZXh0LmV0YWcuY25hID0gY25hOyAgXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbWUgPj0gMjAwKSB7XG4gICAgICAgICAgY2IoY25hKTsgIFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIOWRiuiviWNvbXBvc2XmmoLlgZzmiafooYzkuK3pl7Tku7bvvIznm7TliLBjYuWbnuWIsOWQjuWGjee7p+e7rVxuICAgICAgaWYgKHRpbWUgPCAyMDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRpbWU7XG4gICAgfSxcbiAgfTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9wbHVnaW5zL2xpYl9sb2cvbWlkZGxld2FyZS9jb21tb24vZXRhZ19taW5pLmpzXG4vLyBtb2R1bGUgaWQgPSA2MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIHByb2plY3QgLSBmaWxlcGF0aFxuICogZG9t5pON5L2c5bel5YW357G777yM6L+Z5Liq5Z+656GA5bel5YW357G75Lya6KKr5YW25LuW5bel5YW357G75byV55So77yM5pWF5Lil56aB5Zyo6L+Z6YeM5YaN5byV55So5YW25LuW5qih5Z2X5Lul5YWN5Ye6546w6Zeu6aKYXG4gKlxuICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuICpcbiAqIEF1dGhvcnM6XG4gKiAgIOiwi+WjqyA8cWluZ2xpYW5nLmhxbEBhbGliYWJhLWluYy5jb20+XG4gKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxEYXRhID0gcmVxdWlyZSgnLi91dGlsRGF0YScpO1xuXG4vLyDku4XpmZDlvLnlhoXvvJvlsI/nsbPnpoHnlKhlZy5qc+W6lOWvueetlueVpe+8muS9v+eUqOWKqOaAgeWQjue8gOWQjVxuLy8g5ZCO57yA5ZCN55Sf5oiQ5pa55rOVOiDlvZPliY3ml7bpl7TmiLPovawxNui/m+WItu+8jOWPluWQjjjkvY3vvIxcbi8vIGZ1bmN0aW9uIGV0YWdVcmxTdWZmaXgoZXRhZ1VybCkge1xuLy8gICB2YXIgZHluYW1pY1VybCA9IGV0YWdVcmw7XG4vLyAgIHRyeSB7XG4vLyAgICAgaWYoYXBsdXMuZ2xvYmFsQ29uZmlnLmlzQWxpKSB7XG4vLyAgICAgICB0cnkge1xuLy8gICAgICAgICB2YXIgdGltZVN0YW1wID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4vLyAgICAgICAgIHZhciBkeW5hbWljU3VmZml4ID0gdGltZVN0YW1wLnRvU3RyaW5nKDE2KS5zbGljZSgtOCk7XG4vLyAgICAgICAgIHdoaWxlKGR5bmFtaWNTdWZmaXgubGVuZ3RoIDwgOCkge1xuLy8gICAgICAgICAgIGR5bmFtaWNTdWZmaXggPSBkeW5hbWljU3VmZml4ICsgJ2YnO1xuLy8gICAgICAgICB9XG4vLyAgICAgICAgIGR5bmFtaWNVcmwgPSBldGFnVXJsLnJlcGxhY2UoL2VnLmpzLywgZHluYW1pY1N1ZmZpeCArICcuanMnKTtcbi8vICAgICAgIH0gY2F0Y2goZSkge1xuLy8gICAgICAgfVxuLy8gICAgICAgcmV0dXJuIGR5bmFtaWNVcmw7XG4vLyAgICAgfVxuLy8gICB9IGNhdGNoKGUpIHtcblxuLy8gICB9XG4vLyAgIHJldHVybiBkeW5hbWljVXJsO1xuLy8gfVxuXG5leHBvcnRzLmdldFVybCA9IGZ1bmN0aW9uIChldGFnKSB7XG4gIHZhciB1cmwgPSB1dGlsRGF0YS5nZXRVcmwoZXRhZyAmJiBldGFnLmVnVXJsKTtcbiAgLy8gdXJsID0gZXRhZ1VybFN1ZmZpeCh1cmwpO1xuICAvLyDlpoLmnpxlZ1VybOayoeacieW4puWNj+iuru+8jOi/memHjOihpeWFheWujOaVtFxuICBpZiAodXJsLmluZGV4T2YoJ2h0dHAnKSAhPT0gMCkge1xuICAgIHZhciBwcm90b2NhbCA9ICdodHRwczonO1xuICAgIGlmICgvKFxcZCtcXC4pezMsfVxcZCsvLnRlc3QodXJsKSkge1xuICAgICAgcHJvdG9jYWwgPSAnaHR0cDonO1xuICAgIH1cbiAgICB1cmwgPSBwcm90b2NhbCArIHVybDtcbiAgfVxuICByZXR1cm4gdXJsO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9saWJfdS91dGlscy91dGlsRXRhZy5qc1xuLy8gbW9kdWxlIGlkID0gNjJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBwcm9qZWN0IC0gZmlsZXBhdGhcbiAqIGRlc2NyaXB0aW9uXG4gKlxuICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuICpcbiAqIEF1dGhvcnM6XG4gKiAgIOiwi+WjqyA8cWluZ2xpYW5nLmhxbEBhbGliYWJhLWluYy5jb20+XG4gKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxUcmltID0gcmVxdWlyZSgnLi91dGlsVHJpbScpO1xudmFyIHV0aWxTdG9yZSA9IHJlcXVpcmUoJy4vdXRpbFN0b3JlJyk7XG52YXIgdXRpbEdvbGRsb2cgPSByZXF1aXJlKCdAdXRpbHMvdXRpbEdvbGRsb2cnKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHRyeVRvRGVjb2RlVVJJQ29tcG9uZW50OiBmdW5jdGlvbiAodmFsLCBkZWZhdWx0X3ZhbCkge1xuICAgIHZhciB2ID0gZGVmYXVsdF92YWwgfHwgJyc7XG4gICAgaWYgKHZhbCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdiA9IGRlY29kZVVSSUNvbXBvbmVudCh2YWwpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdjtcbiAgfSxcbiAgXG4gIC8qKlxuICAgKiDlsIblvaLlpoIgXCJwYWdlSWQ9MTIzOyBzaXRlSWQ9NDU2XCIg55qE5YaF5a656Kej5p6Q5Li6IE9iamVjdFxuICAgKiBAcGFyYW0gcyB7U3RyaW5nfVxuICAgKiBAcGFyYW0gW2RpY3RdIHtPYmplY3R9XG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICovXG4gIHBhcnNlU2VtaWNvbG9uQ29udGVudDogZnVuY3Rpb24gKHMsIGRpY3QsIHVuZGVjb2RlKSB7XG4gICAgZGljdCA9IGRpY3QgfHwge307XG4gICAgdmFyIGEgPSBzLnNwbGl0KCc7Jyk7XG4gICAgdmFyIGo7XG4gICAgdmFyIGFfbGVuID0gYS5sZW5ndGg7XG4gICAgdmFyIGEyO1xuXG4gICAgZm9yIChqID0gMDsgaiA8IGFfbGVuOyBqKyspIHtcbiAgICAgIGEyID0gYVtqXS5zcGxpdCgnPScpO1xuICAgICAgdmFyIF92YWx1ZSA9IHV0aWxUcmltLnRyaW0oYTIuc2xpY2UoMSkuam9pbignPScpKTtcbiAgICAgIGRpY3RbdXRpbFRyaW0udHJpbShhMlswXSkgfHwgJyddID0gdW5kZWNvZGUgPyBfdmFsdWUgOiB0aGlzLnRyeVRvRGVjb2RlVVJJQ29tcG9uZW50KF92YWx1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRpY3Q7XG4gIH0sXG5cbiAgLyoqXG4gICAqIOWwhuS4gOS4qiBub2RlIGxpc3Qg6L2s5Li65pWw57uEXG4gICAqIEBwYXJhbSBub2RlcyB7Tm9kZUxpc3R9XG4gICAqIOWPguinge+8mmh0dHA6Ly93d3cucGxhbmFiYy5uZXQvMjAxMC8wMS8wNi9hcmd1bWVudHNfdG9fYXJyYXkvXG4gICAqL1xuICBub2RlTGlzdFRvQXJyYXk6IGZ1bmN0aW9uIChub2Rlcykge1xuICAgIHZhciBhcnI7XG4gICAgdmFyIGxlbmd0aDtcblxuICAgIHRyeSB7XG4gICAgICAvLyB3b3JrcyBpbiBldmVyeSBicm93c2VyIGV4Y2VwdCBJRVxuICAgICAgYXJyID0gW10uc2xpY2UuY2FsbChub2Rlcyk7XG4gICAgICByZXR1cm4gYXJyO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgLy8gc2xvd2VyLCBidXQgd29ya3MgaW4gSUVcbiAgICAgIGFyciA9IFtdO1xuICAgICAgbGVuZ3RoID0gbm9kZXMubGVuZ3RoO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFyci5wdXNoKG5vZGVzW2ldKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFycjtcbiAgICB9XG4gIH0sXG5cbiAgZ2V0THNDbmE6IGZ1bmN0aW9uIChFVEFHX1NUT1JBR0VfS0VZLCBkYXRlKSB7XG4gICAgaWYgKHV0aWxTdG9yZS5zZXQgJiYgdXRpbFN0b3JlLnRlc3QoKSkge1xuICAgICAgdmFyIF9sc19jbmEgPSAnJztcbiAgICAgIHZhciBfdmFsdWUgPSB1dGlsU3RvcmUuZ2V0KEVUQUdfU1RPUkFHRV9LRVkpO1xuICAgICAgaWYgKF92YWx1ZSkge1xuICAgICAgICB2YXIgX2FyciA9IF92YWx1ZS5zcGxpdCgnXycpIHx8IFtdO1xuICAgICAgICBpZiAoZGF0ZSkge1xuICAgICAgICAgIF9sc19jbmEgPSBfYXJyLmxlbmd0aCA+IDEgJiYgZGF0ZSA9PT0gX2FyclswXSA/IF9hcnJbMV0gOiAnJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfbHNfY25hID0gX2Fyci5sZW5ndGggPiAxID8gX2FyclsxXSA6ICcnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KF9sc19jbmEpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICB9LFxuXG4gIC8vIHV0aWxTdG9yZS5zZXQodGhpcy5FVEFHX1NUT1JBR0VfS0VZLCAgdGhpcy50b2RheSArICdfJyArIGVuY29kZVVSSUNvbXBvbmVudChjbmEpKTtcbiAgc2V0THNDbmE6IGZ1bmN0aW9uIChFVEFHX1NUT1JBR0VfS0VZLCB0b2RheSwgY25hKSB7XG4gICAgaWYgKGNuYSAmJiB1dGlsU3RvcmUuc2V0ICYmIHV0aWxTdG9yZS50ZXN0KCkpIHtcbiAgICAgIHV0aWxTdG9yZS5zZXQoRVRBR19TVE9SQUdFX0tFWSwgIHRvZGF5ICsgJ18nICsgZW5jb2RlVVJJQ29tcG9uZW50KGNuYSkpO1xuICAgIH1cbiAgfSxcblxuICBnZXRVcmw6IGZ1bmN0aW9uICh1cmwpIHtcbiAgICB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZSgnYXBsdXMnKTtcbiAgICB2YXIgYXBsdXNTdGF0aWMgPSByZXF1aXJlKCdAdXRpbHMvYXBsdXNTdGF0aWMnKTtcbiAgICB2YXIgZWdVcmwgPSB1cmwgfHwgJy8vbG9nLm1tc3RhdC5jb20vZWcuanMnO1xuICAgIHRyeSB7XG4gICAgICB2YXIgcmhvc3RfdiA9IGFwbHVzLmdldE1ldGFJbmZvKGFwbHVzU3RhdGljLkFQTFVTX1BWX0RPTUFJTik7XG4gICAgICB2YXIgcmVnID0gL1tbYS16fFxcLXxcXF98MC05XFwuXStbYS16fFxcLXxcXF98MC05XSg6XFxkKik/LztcbiAgICAgIHZhciBjdXN0b21faG9zdCA9IHJob3N0X3YubWF0Y2gocmVnKTtcbiAgICAgIGlmIChjdXN0b21faG9zdCAmJiBjdXN0b21faG9zdFswXSkge1xuICAgICAgICAvLyBlZ1VybCA9IGVnVXJsLnJlcGxhY2UocmVnLCBjdXN0b21faG9zdFswXSk7XG4gICAgICAgIGVnVXJsID0gJy8vJyArIGN1c3RvbV9ob3N0WzBdICsgJy9lZy5qcyc7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgIH1cbiAgICByZXR1cm4gZWdVcmw7XG4gIH1cbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9saWJfdS91dGlscy91dGlsRGF0YS5qc1xuLy8gbW9kdWxlIGlkID0gNjNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBwcm9qZWN0IC0gZmlsZXBhdGhcbiAqIOWvueWtl+espuS4sui/m+ihjHRyaW3lpITnkIZcbiAqXG4gKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG4gKlxuICogQXV0aG9yczpcbiAqICAg6LCL5aOrIDxxaW5nbGlhbmcuaHFsQGFsaWJhYmEtaW5jLmNvbT5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIOWOu+aOieWtl+espuS4siBzIOWJjeWQjueahOepuuagvFxuICogQHBhcmFtIHMge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gdHJpbShzKSB7XG4gIHJldHVybiAodHlwZW9mIHMgPT09ICdzdHJpbmcnKSA/IHMucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpIDogJyc7XG59O1xuZXhwb3J0cy50cmltID0gdHJpbTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2xpYl91L3V0aWxzL3V0aWxUcmltLmpzXG4vLyBtb2R1bGUgaWQgPSA2NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIHByb2plY3QgLSBmaWxlcGF0aFxuICogZGVzY3JpcHRpb25cbiAqXG4gKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG4gKlxuICogQXV0aG9yczpcbiAqICAg6LCL5aOrIDxxaW5nbGlhbmcuaHFsQGFsaWJhYmEtaW5jLmNvbT5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2V0OiBmdW5jdGlvbiAoaywgdikge1xuICAgIHRyeSB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrLCB2KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG4gIC8vIOe7j+i/h3Rlc3TkuYvlkI5nZXTlupTor6XkuI3kvJrmnInpl67pophcbiAgZ2V0OiBmdW5jdGlvbiAoaykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oayk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgfSxcbiAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgIHZhciB0ZXN0S2V5ID0gJ2dyZXlfdGVzdF9rZXknO1xuICAgIHRyeSB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0ZXN0S2V5LCAxKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHRlc3RLZXkpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcbiAgcmVtb3ZlOiBmdW5jdGlvbiAoaykge1xuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGspO1xuICB9XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvbGliX3UvdXRpbHMvdXRpbFN0b3JlLmpzXG4vLyBtb2R1bGUgaWQgPSA2NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIGFsaWxvZy9zIC0gc3JjL2xpYl91L2NvbmZpZy9wbHVnaW5zL3doZW5fdG9fc2VuZC5qc1xuICpcbiAqICAg5L2c55So77yaIOS9leaXtuaJp+ihjHNlbmRwduaPkuS7tlxuICogICBmbjogZ2V0TWV0YUluZm8g57un5om/6IezQmFzZVxuICogICBmbjogcnVuICjmj5Lku7bmoIflh4bnmoTmiafooYzlhaXlj6MpXG4gKiAgIGFwbHVzLXdhaXRpbmc9XCIxXCI6IOetieW+hTbnp5LlkI7lsJ3or5Xlj5HpgIFQVuaXpeW/lztcbiAqICAgYXBsdXMtd2FpdGluZz1cIk1BTlwiOiDkuI3oh6rliqjlj5HpgIFQVuaXpeW/lztcbiAqICAgYXBsdXMtd2FpdGluZz1cIm5cIjog5YW25LitbuS4uuWkp+S6jjHnmoTmraPmlbTmlbAsIGFwbHVz5Zyo562J5b6Fbuavq+enkuS5i+WQjuWwneivleWPkemAgVBW5pel5b+XO1xuICpcbiAqICAgZGVwc++8miDml6BcbiAqXG4gKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG4gKlxuICogQXV0aG9yczpcbiAqICAg6LCL5aOrIDxxaW5nbGlhbmcuaHFsQGFsaWJhYmEtaW5jLmNvbT5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbEdvbGRsb2cgPSByZXF1aXJlKCdAdXRpbHMvdXRpbEdvbGRsb2cnKTtcbnZhciBhcGx1c1N0YXRpYyA9IHJlcXVpcmUoJ0B1dGlscy9hcGx1c1N0YXRpYycpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcblxuICAgIC8qKlxuICAgICAqIOiOt+WPlm1ldGFfaW5mb1xuICAgICAqIFRPRE8g6Iul5LuK5ZCO5pyJ5Yqo5oCB5L+u5pS5bWV0YV9pbmZv55qE6ZyA5rGC77yMXG4gICAgICog5q2k5aSE6ZyA6KaB5Yqo5oCB5LuOIG1ldGFJbmZv5qih5Z2X5Lit5Y676LCD55SoZ2V0SW5mb+aWueazleadpeiOt+WPluebuOWFs+S/oeaBr++8jOi/meagt+WBmueahOWdj+WkhOaYr+a2iOiAl+aAp+iDvVxuICAgICAqL1xuICAgIGdldE1ldGFJbmZvOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBfJCA9IHV0aWxHb2xkbG9nLmdldEdvbGRsb2dWYWwoJ18kJykgfHwge307XG4gICAgICB2YXIgbWV0YV9pbmZvID0gXyQubWV0YV9pbmZvOyAvLyB8fCBtZXRhSW5mby5nZXRJbmZvKCk7XG4gICAgICByZXR1cm4gbWV0YV9pbmZvO1xuICAgIH0sXG5cbiAgICBnZXRBcGx1c1dhaXRpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG1ldGFfaW5mbyA9IHRoaXMuZ2V0TWV0YUluZm8oKSB8fCB7fTtcbiAgICAgIHJldHVybiBtZXRhX2luZm9bJ2FwbHVzLXdhaXRpbmcnXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICog5L2V5pe25omn6KGMc2VuZHB25omn6KGM5YWl5Y+j77yM6YWN572u5LqGYXBsdXNXYWl0aW5nIOW5tuS4lCDmmK9hcGx1c+iHquWKqOaJk+eCueaJjei1sOi/meautemAu+i+kVxuICAgICAqIDxtZXRhIG5hbWU9XCJhcGx1cy13YWl0aW5nXCIgY29udGVudD1cInh4eFwiIC8+XG4gICAgICogICB4eHg6ICdNQU4nIC0g5LiN5Y+R6YCBcHbnmoTmoIfor4ZcbiAgICAgKiAgIHh4eDogJzEnIC0g5bCd6K+V562J5b6FNuenkuWQjuWPkXB2XG4gICAgICpcbiAgICAgKiBAcGFyYW0gW1N0cmluZ10gc3RhdGUg54q25oCBXG4gICAgICogQHBhcmFtIFtGdW5jdGlvbl0gY2IgIOWbnuiwg1xuICAgICAqXG4gICAgICogQHJldHVybiBcImRvbmVcIijnu4jmraLkuK3pl7Tku7bmiafooYwpIHwgdW5kZWZpbmVkXG4gICAgICovXG4gICAgcnVuOiBmdW5jdGlvbihzdGF0ZSwgY2IpIHtcbiAgICAgIHZhciBjb25maWcgPSB0aGlzLm9wdGlvbnMuY29uZmlnIHx8IHt9O1xuICAgICAgdmFyIGFwbHVzV2FpdGluZyA9IHRoaXMuZ2V0QXBsdXNXYWl0aW5nKCk7XG4gICAgICBpZiAoYXBsdXNXYWl0aW5nICYmIGNvbmZpZy5pc19hdXRvKSB7XG4gICAgICAgIGFwbHVzV2FpdGluZyA9IHRoaXMuZ2V0QXBsdXNXYWl0aW5nKCkgKyAnJztcbiAgICAgICAgdGhpcy5vcHRpb25zLmNvbnRleHQud2hlbl90b19zZW5kcHYgPSB7XG4gICAgICAgICAgYXBsdXNXYWl0aW5nOiBhcGx1c1dhaXRpbmdcbiAgICAgICAgfTtcbiAgICAgICAgc3dpdGNoKGFwbHVzV2FpdGluZykge1xuICAgICAgICBjYXNlIGFwbHVzU3RhdGljLl9VU0VSX0lEOlxuICAgICAgICBjYXNlIGFwbHVzU3RhdGljLl9BTk9OWV9JRDpcbiAgICAgICAgY2FzZSAnTUFOJzpcbiAgICAgICAgICByZXR1cm4gJ2RvbmUnO1xuICAgICAgICBjYXNlICcxJzpcbiAgICAgICAgICB0aGlzLm9wdGlvbnMuY29udGV4dC53aGVuX3RvX3NlbmRwdi5pc1dhaXQgPSB0cnVlO1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGNiKCk7XG4gICAgICAgICAgfSwgNjAwMCk7XG4gICAgICAgICAgcmV0dXJuIDYwMDA7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdmFyIG4gPSBhcGx1c1dhaXRpbmcgKiAxO1xuICAgICAgICAgIGlmICgobiArICcnKSAhPT0gJ05hTicpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5jb250ZXh0LndoZW5fdG9fc2VuZHB2LmlzV2FpdCA9IHRydWU7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgIGNiKCk7XG4gICAgICAgICAgICB9LCBuKTtcbiAgICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH0sXG4gIH07XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvcGx1Z2lucy9saWJfbG9nL21pZGRsZXdhcmUvcHYvd2hlbl90b19zZW5kcHYuanNcbi8vIG1vZHVsZSBpZCA9IDY2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qXG4gKiBGaWxlOiB3aGVyZV90b19zZW5kX21pbmlfdW0uanNcbiAqIFByb2plY3Q6IEBhbGkvYXBsdXNcbiAqICAgICAgXG4gKiBBdXRob3I6IOmSsOaYrSAoY2hhbmdsaWFuZy5sY2xAdW1lbmcuY29tKVxuICogICAgICBcbiAqIENvcHlyaWdodCAtIDIwMjEgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxHb2xkbG9nID0gcmVxdWlyZSgnQHV0aWxzL3V0aWxHb2xkbG9nJyk7XG4vLyB2YXIgdXRpbExvZ2dlciA9IHJlcXVpcmUoJ0B1dGlscy91dGlsTG9nZ2VyJyk7XG52YXIgdWxvZyA9IHJlcXVpcmUoJ0B1dGlscy91bG9nJyk7XG52YXIgbWluaSA9IHJlcXVpcmUoJ0B1dGlscy9taW5pJyk7XG52YXIgYXBsdXNTdGF0aWMgPSByZXF1aXJlKCdAdXRpbHMvYXBsdXNTdGF0aWMnKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnQHV0aWxzL3V0aWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICAvKipcbiAgICAgKiDojrflj5YgbWV0YV9pbmZvIFxuICAgICovXG4gICAgZ2V0TWV0YUluZm86IGZ1bmN0aW9uKGtleSkge1xuICAgICAgdmFyIF8kID0gdXRpbEdvbGRsb2cuZ2V0R29sZGxvZ1ZhbCgnXyQnKSB8fCB7fTtcbiAgICAgIHJldHVybiAoXyQubWV0YV9pbmZvIHx8IHt9KVtrZXldO1xuICAgIH0sXG5cbiAgICBnZXRIb3N0VXJsOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciByaG9zdCA9IHRoaXMuZ2V0TWV0YUluZm8oYXBsdXNTdGF0aWMuQVBMVVNfUFZfRE9NQUlOKTtcbiAgICAgIGlmICghdXRpbC5jaGVja0RvbWFpbihyaG9zdCkpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuXG4gICAgICB2YXIgbG9nRG9tYWluID0gbWluaS5nZXRMb2dEb21haW4oKTtcbiAgICAgIGlmICghbG9nRG9tYWluKSB7XG4gICAgICAgIHVsb2coKS50aXBfdygn5b2T5YmN5bCP56iL5bqP5qGG5p625pyq5pSv5oyB77yM6K+36IGU57O7UVTkuqTku5jlkIzlrablr7vmsYLluK7liqnvvIHvvIEnKTtcbiAgICAgICAgcmV0dXJuICcnOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICB9XG4gICAgICB2YXIgdXJsID0gWycvLycsIHJob3N0LCBsb2dEb21haW5dO1xuICAgICAgcmV0dXJuIHVybC5qb2luKCcnKTtcbiAgICB9LFxuXG5cbiAgICBydW46IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5vcHRpb25zLmNvbnRleHQud2hlcmVfdG9fc2VuZC5tZXRob2QgPSAnUE9TVCc7XG4gICAgICB2YXIgdXJsID0gdGhpcy5nZXRIb3N0VXJsKCk7XG4gICAgICBpZiAoIXVybCkge1xuICAgICAgICByZXR1cm4gJ2RvbmUnO1xuICAgICAgfVxuXG4gICAgICBpZiAodXJsLmluZGV4T2YoJy8vJykgPT09IDApIHtcbiAgICAgICAgdmFyIHByb3RvY2FsID0gYXBsdXNTdGF0aWMuSFRUUFM7XG4gICAgICAgIGlmICgvKFxcZCtcXC4pezMsfVxcZCsvLnRlc3QodXJsKSkge1xuICAgICAgICAgIHByb3RvY2FsID0gJ2h0dHA6JztcbiAgICAgICAgfVxuICAgICAgICB1cmwgPSBwcm90b2NhbCArIHVybDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVsb2coKS53KCfkuIrmiqXln5/lkI3ml6DmlYg6ICcgKyB1cmwpO1xuICAgICAgICAvLyB1dGlsTG9nZ2VyLmxvZ2dlcih7IFxuICAgICAgICAvLyAgIG1zZzogJ+S4iuaKpeWfn+WQjeaXoOaViDogJyArIHVybCBcbiAgICAgICAgLy8gfSk7XG4gICAgICAgIHJldHVybiAnZG9uZSc7XG4gICAgICB9XG4gICAgICB0aGlzLm9wdGlvbnMuY29udGV4dC53aGVyZV90b19zZW5kLnVybCA9IHVybDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH07XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3BsdWdpbnMvbGliX2xvZy9taWRkbGV3YXJlL2NvbW1vbi93aGVyZV90b19zZW5kX21pbmlfdW0uanNcbi8vIG1vZHVsZSBpZCA9IDY3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogYWxpbG9nL3MgLSBzcmMvbGliX3UvY29uZmlnL3BsdWdpbnMvd2hhdF90b19zZW5kLmpzXG4gKlxuICog5L2c55So77ya5pel5b+X5Y+R6YCB5Z+656GA5Y+C5pWw5pS26ZuG77yaXG4gKiAgICAgIOaMiemhuuW6j+WwhmFwbHVzLnB2X2RhdGEuYmFzaWPjgIFleHBhcmFtc+OAgW9sZFBhcmFtc+OAgWFwbHVzLnB2X2RhdGEuZXh0cmHlm5vkuK3nsbvlnovnmoTlj4LmlbBtZXJnZeWcqOS4gOS4quaVsOe7hOS4rVxuICogZGVwczog5pegXG4gKlxuICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuICpcbiAqIEF1dGhvcnM6XG4gKiAgIOiwi+WjqyA8cWluZ2xpYW5nLmhxbEBhbGliYWJhLWluYy5jb20+XG4gKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxHb2xkbG9nID0gcmVxdWlyZSgnQHV0aWxzL3V0aWxHb2xkbG9nJyk7XG52YXIgYXBsdXNTdGF0aWMgPSByZXF1aXJlKCdAdXRpbHMvYXBsdXNTdGF0aWMnKTtcbi8vIHZhciB1dGlsTG9nZ2VyID0gcmVxdWlyZSgnQHV0aWxzL3V0aWxMb2dnZXInKTtcbnZhciB1bG9nID0gcmVxdWlyZSgnQHV0aWxzL3Vsb2cnKTtcbnZhciBtaW5pID0gcmVxdWlyZSgnQHV0aWxzL21pbmknKTsgIFxudmFyIGxvZ0lkID0gcmVxdWlyZSgnQHV0aWxzL2xvZ0lkJyk7XG52YXIgdXRpbFBhcmFtcyA9IHJlcXVpcmUoJy4vdXRpbFBhcmFtcycpO1xudmFyIHV0aWwgPSByZXF1aXJlKFwiQHV0aWxzL3V0aWxcIik7XG52YXIgQ05UID0gYXBsdXNTdGF0aWMuU1BNX0NOVDtcbnZhciBVUkwgPSBhcGx1c1N0YXRpYy5TUE1fVVJMO1xudmFyIFBSRSA9IGFwbHVzU3RhdGljLlNQTV9QUkU7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIGdldENvbW1vblBhcmFtczogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoYXBsdXNTdGF0aWMuQVBMVVMpO1xuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLm9wdGlvbnMuY29udGV4dCB8fCB7fTtcbiAgICAgIHZhciBldGFnID0gY29udGV4dC5ldGFnIHx8IHt9O1xuICAgICAgdmFyIHVzZXJkYXRhID0gY29udGV4dC51c2VyZGF0YSB8fCB7fTtcbiAgICAgIHZhciBfJCA9IHV0aWxHb2xkbG9nLmdldEdvbGRsb2dWYWwoJ18kJykgfHwge307XG4gICAgICB2YXIgc3BtID0gXyQuc3BtIHx8IHt9O1xuICAgICAgdmFyIGNvbmZpZyA9IHRoaXMub3B0aW9ucy5jb25maWcgfHwge307XG4gICAgICB2YXIgcGxhdGZvcm1UeXBlID0gYXBsdXMuZ2V0TWV0YUluZm8oJ3BsYXRmb3JtVHlwZScpIHx8IG1pbmkuZ2V0UGxhdGZvcm1UeXBlKCk7XG5cbiAgICAgIHZhciB1c2VySW5mbyA9IHtcbiAgICAgICAgX2Rldl9pZDogYXBsdXMuZ2V0TWV0YUluZm8oJ19kZXZfaWQnKSxcbiAgICAgICAgX2Fub255X2lkOiBhcGx1cy5nZXRNZXRhSW5mbyhhcGx1c1N0YXRpYy5fQU5PTllfSUQpLFxuICAgICAgICBfdXNlcl9pZDogYXBsdXMuZ2V0TWV0YUluZm8oYXBsdXNTdGF0aWMuX1VTRVJfSUQpLFxuICAgICAgICBfdXNlcl9uaWNrOiBhcGx1cy5nZXRNZXRhSW5mbygnX3VzZXJfbmljaycpLFxuICAgICAgICBfc2Vzc2lvbl9pZDogYXBsdXMuZ2V0TWV0YUluZm8oJ19zZXNzaW9uX2lkJyksXG4gICAgICAgIHVhaWQ6IChhcGx1cy5nZXRNZXRhSW5mbygndWFpZCcpICsgJycpID09PSAnMScgPyAxIDogMCxcbiAgICAgIH07XG5cbiAgICAgIHZhciBjbGllbnQgPSBhcGx1cy5fYXBsdXNfY2xpZW50IHx8IHt9O1xuICAgICAgdmFyIGdsb2JhbENvbmZpZyA9IGFwbHVzLmdsb2JhbENvbmZpZyB8fCB7fTtcblxuICAgICAgdmFyIHVybCA9ICctJztcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBwYWdlSW5zdGFuY2UgPSBnZXRDdXJyZW50UGFnZXMoKVswXTtcbiAgICAgICAgdXJsID0gcGFnZUluc3RhbmNlLnJvdXRlIHx8IHBhZ2VJbnN0YW5jZS5pcztcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICBcbiAgICAgIHZhciBsb2dJZEtleSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgdXJsO1xuICAgICAgdmFyIGxvZ0lkS2V5MiA9IGNsaWVudC5tb2RlbCArIGNsaWVudC5uZXR3b3JrVHlwZSArIGNvbmZpZy50aXRsZSArIGV0YWcuY25hO1xuICAgICAgdmFyIGNhY2hlID0gKGdsb2JhbENvbmZpZy5pc0RlY29kZVVybCA/ICdEQ18nIDogJycpICsgbG9nSWQuZ2V0TG9nSWQobG9nSWRLZXksIGxvZ0lkS2V5Mik7XG5cbiAgICAgIHZhciBhcHBLZXkgPSB1dGlsLmdldEFwcEtleSgpO1xuICAgICAgaWYgKCFhcHBLZXkpIHtcbiAgICAgICAgdWxvZygpLncoJ3BsZWFzZSBzZXQgYXBwS2V5IGluIGFwbHVzIG1ldGFJbmZvIGJlZm9yZSBzZW5kUFYhJyk7XG4gICAgICB9XG4gICAgICB2YXIgY29tbW9uUGFyYW1zID0gIE9iamVjdC5hc3NpZ24oe30sIHtcbiAgICAgICAgYXBwS2V5OiBhcHBLZXksXG4gICAgICAgIGNhY2hlOiBjYWNoZSxcbiAgICAgICAgY25hOiBldGFnLmNuYSxcbiAgICAgICAgZXRhZzogZXRhZyxcbiAgICAgICAgcHJlOiBfJC5wYWdlX3JlZmVycmVyIHx8ICctJyxcbiAgICAgICAgc2RrX2luZm86IHtcbiAgICAgICAgICBqc3ZlcjogZ2xvYmFsQ29uZmlnLnNjcmlwdF9uYW1lLFxuICAgICAgICAgIGx2ZXI6IGdsb2JhbENvbmZpZy5sdmVyLFxuICAgICAgICAgIGN1c3RvbVNka0lkOiBhcGx1cy5nZXRNZXRhSW5mbygnY3VzdG9tU2RrSWQnKSB8fCAnJyxcbiAgICAgICAgICBwbGF0Zm9ybVR5cGU6IHBsYXRmb3JtVHlwZS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICB9LFxuICAgICAgICB0aXRsZTogY29uZmlnLnRpdGxlIHx8ICcnLFxuICAgICAgICB1cmw6IHVybCB8fCAnLScsXG4gICAgICAgIGNsaWVudDogY2xpZW50LFxuICAgICAgICB0aW1lWm9uZTogdXRpbFBhcmFtcy5nZXRUaW1lWm9uZSgpLFxuICAgICAgICBnbWtleTogdXNlcmRhdGEuZ21rZXkgfHwgJycsXG4gICAgICAgIG1ldGhvZDogdGhpcy5vcHRpb25zLmNvbnRleHQud2hlcmVfdG9fc2VuZC5tZXRob2RcbiAgICAgIH0sIHVzZXJJbmZvKTtcbiAgICAgIFxuICAgICAgdmFyIGdva2V5ID0gdXNlckluZm87XG5cbiAgICAgIGlmIChzcG0uc3BtX3VybCkge1xuICAgICAgICBnb2tleVtVUkxdID0gc3BtLnNwbV91cmwgfHwgJyc7ICBcbiAgICAgIH1cbiAgICAgIGlmIChzcG0uc3BtX3ByZSkge1xuICAgICAgICBnb2tleVtQUkVdID0gc3BtLnNwbV9wcmUgfHwgJyc7ICBcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHNwbS5zcG1fY250KSB7XG4gICAgICAgIGdva2V5W0NOVF0gPSBzcG0uc3BtX2NudCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGdva2V5W2FwbHVzU3RhdGljLlBWSURdID0gYXBsdXMucHZpZCB8fCAnJztcbiAgICAgIGNvbW1vblBhcmFtcy5zZXNzaW9uQXJncyA9IGFwbHVzLmdldE1ldGFJbmZvKCdhcGx1cy1zZXNzaW9uLWFyZ3MnKTtcbiAgICAgIGNvbW1vblBhcmFtcy5nbG9iYWxBcmdzID0gYXBsdXMuZ2V0TWV0YUluZm8oJ2FwbHVzLWdsb2JhbC1hcmdzJyk7ICAvLyAyMDIxLTAxLTE0QOS5nemUoemcgOaxglxuICAgICAgLy8g6ZyA6KaB5Yig6Zmk55qE5Luj56CBLS0tLWVuZFxuICAgICAgY29tbW9uUGFyYW1zLmdva2V5ID0gZ29rZXk7XG4gICAgICByZXR1cm4gY29tbW9uUGFyYW1zO1xuICAgIH0sXG5cblxuICAgIGdldFB2UGFyYW1zOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZShhcGx1c1N0YXRpYy5BUExVUyk7XG4gICAgICB2YXIgY29tbW9uUGFyYW1zID0gdGhpcy5nZXRDb21tb25QYXJhbXMoKTtcbiAgICAgIGlmICghdGhpcy5vcHRpb25zLmNvbmZpZy5pc19hdXRvKSB7XG4gICAgICAgIGNvbW1vblBhcmFtcy5zZGtfaW5mby5tYW5zbmRsb2cgPSAxO1xuICAgICAgfVxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGNvbW1vblBhcmFtcywge1xuICAgICAgICBldmVudF9jb2RlOiBhcGx1c1N0YXRpYy5QVl9DT0RFLFxuICAgICAgICBsb2d0eXBlOiAnMScsXG4gICAgICAgIGxvZ2tleTogJy92eC5naWYnLFxuICAgICAgICBldmVudF90aW1lc3RhbXA6IGFwbHVzLl8kLnNlbmRfcHZfY291bnQgPiAwID8gbmV3IERhdGUoKSA6IGFwbHVzLmxvZ0NvbmZpZy5wYWdlTG9hZFRpbWUsXG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgZ2V0SGpsalBhcmFtczogZnVuY3Rpb24gKCkge1xuICAgICAgLy8gdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoYXBsdXNTdGF0aWMuQVBMVVMpO1xuICAgICAgdmFyIGMgPSB0aGlzLm9wdGlvbnMuY29udGV4dCB8fCB7fTtcbiAgICAgIHZhciB1c2VyZGF0YSA9IGMudXNlcmRhdGEgfHwge307XG5cbiAgICAgIHZhciBoamxqUGFyYW1zID0ge1xuICAgICAgICBldmVudF9jb2RlOiBhcGx1c1N0YXRpYy5FVkVOVF9JRF9NQVBbdXNlcmRhdGEuZ21rZXldIHx8IHVzZXJkYXRhLmdta2V5LCAvLyBhcGx1c1N0YXRpYy5PVEhFUl9DT0RFLFxuICAgICAgICBsb2d0eXBlOiAnMicsXG4gICAgICAgIGxvZ2tleTogdXNlcmRhdGEubG9na2V5LFxuICAgICAgICBldmVudF90aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgIC8vIG1hbnNuZGxvZzogJzEnLFxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZ2V0Q29tbW9uUGFyYW1zKCksIGhqbGpQYXJhbXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiDkvZXml7bmiafooYxzZW5kcHbmiafooYzlhaXlj6NcbiAgICAgKiDov5Tlm55cImRvbmVcIue7iOatouS4remXtOS7tuaJp+ihjFxuICAgICAqIDEuIGFwbHVz6buY6K6k6ZyA6KaB6YeH6ZuG55qE5Y+C5pWwOiBiYXNpY0xpc3RcbiAgICAgKiAyLiBiZWFjb27mianlsZXlj4LmlbA6IGV4cGFyYW1zXG4gICAgICogMy4gYXBsdXPpu5jorqTpnIDopoHph4fpm4bnmoTlrqLmiLfnq6/lj4LmlbA6IGV4dHJhTGlzdFxuICAgICAqIOS4remAlOWkhOeQhl8k5YWo5bGA5Y+Y6YePOiBwcm9jZXNzTG9kYXNoRG9sbGFyXG4gICAgICogNC4gbG9jYWxTdG9yYWdl5Lit5a2Y5YKo55qE5LiK5LiA6aG1c3Bt5L+h5oGvOiBzcG1hYnRlc3RcbiAgICAgKiDku6XkuIo06YOo5YiG5ou86KOF5oiQcHZkYXRhXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIFwiZG9uZVwiIHx8IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIHJ1bjogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHBhcmFtcyA9IHt9O1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5jb25maWcucmVjb3JkVHlwZSA9PT0gXCJQVlwiKSB7XG4gICAgICAgIHBhcmFtcyA9IHRoaXMuZ2V0UHZQYXJhbXMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcmFtcyA9IHRoaXMuZ2V0SGpsalBhcmFtcygpO1xuICAgICAgfVxuICAgICAgdGhpcy5vcHRpb25zLmNvbnRleHQud2hhdF90b19zZW5kLmxvZ2RhdGEgPSBwYXJhbXM7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3BsdWdpbnMvbGliX2xvZy9taWRkbGV3YXJlL2NvbW1vbi93aGF0X3RvX3NlbmRfbWluaV9jbG91ZC5qc1xuLy8gbW9kdWxlIGlkID0gNjhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBwcm9qZWN0IC0gZmlsZXBhdGhcbiAqIHB2aWRcbiAqXG4gKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG4gKlxuICogQXV0aG9yczpcbiAqICAg6LCL5aOrIDxxaW5nbGlhbmcuaHFsQGFsaWJhYmEtaW5jLmNvbT5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbEhhc2ggPSByZXF1aXJlKCcuL3V0aWxIYXNoJyk7XG5cbnZhciBnZXRSYW5kb21JZCA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIC8qKlxuICAgKiDnlJ/miJDmnKzpobXnmoQgcHYgaWRcbiAgICogcHYgaWQg5Y+q6ZyA6KaB5b2T5YmN55So5oi35Lya6K+d5ZSv5LiA5Y2z5Y+v77yM6L+Z5YS/5L2/55So5LiA5LiqIDYg5L2N55qEIDE2IOi/m+WItuaVsOWtl1xuICAgKi9cbiAgdmFyIHJuZF9zdHJzID0gJyc7XG4gIHZhciBjaGFycyA9ICcwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWic7XG4gIHZhciBoYW5kbGVkID0gZmFsc2U7XG4gIHZhciBjaGFyO1xuXG4gIC8qKlxuICAgKiDop6PlhrPpg6jliIYgc3BtIOiiqyBHRlcg5aKZ5LqG55qE5oOF5Ya177yM5aaCIDIyLmdsXG4gICAqIOaOkumZpCBwdmlkIOS7pSBnbCDlvIDlpLTnmoTmg4XlhrVcbiAgICovXG4gIGZ1bmN0aW9uIGhhbmRsZVBWSWQgKGNoYXJQb3MpIHtcbiAgICB2YXIgY2hhcnNXaXRob3V0RyA9ICcwMTIzNDU2Nzg5YWJjZGVmaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkhJSktMTU5PUFFSU1RVVldYWVonO1xuICAgIHZhciBjaGFyc1dpdGhvdXRMID0gJzAxMjM0NTY3ODlhYmNkZWZnaGlqa21ub3BxcnN0dXZ3eHl6QUJDREVGR0hJSktNTk9QUVJTVFVWV1hZWic7XG5cbiAgICBpZiAoY2hhclBvcyA9PSAxKSB7XG4gICAgICByZXR1cm4gY2hhcnNXaXRob3V0Ry5zdWJzdHIoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNjApLCAxKTtcbiAgICB9IGVsc2UgaWYgKGNoYXJQb3MgPT0gMikge1xuICAgICAgcmV0dXJuIGNoYXJzV2l0aG91dEwuc3Vic3RyKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDYwKSwgMSk7XG4gICAgfVxuICAgIHJldHVybiAnMCc7XG4gIH07XG5cbiAgd2hpbGUgKHJuZF9zdHJzLmxlbmd0aCA8IHNpemUpIHtcbiAgICBjaGFyID0gY2hhcnMuc3Vic3RyKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDYyKSwgMSk7XG4gICAgLy8g5aSE55CG6KKr5aKZ55qE5oOF5Ya177yM55uu5YmN5Y+q6ZKI5a+5Z2zlvIDlpLTnmoRcbiAgICBpZiAoIWhhbmRsZWQgJiYgcm5kX3N0cnMubGVuZ3RoIDw9IDIgJiYgKGNoYXIudG9Mb3dlckNhc2UoKSA9PSAnZycgfHwgY2hhci50b0xvd2VyQ2FzZSgpID09ICdsJykpIHtcbiAgICAgIGlmIChybmRfc3Rycy5sZW5ndGggPT09IDAgJiYgY2hhci50b0xvd2VyQ2FzZSgpID09ICdnJykge1xuICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IDAuNSkge1xuICAgICAgICAgIGNoYXIgPSBoYW5kbGVQVklkKDEpO1xuICAgICAgICAgIGhhbmRsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHJuZF9zdHJzLmxlbmd0aCA9PSAxICYmIGNoYXIudG9Mb3dlckNhc2UoKSA9PSAnbCcgJiYgcm5kX3N0cnMuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgPT0gJ2cnKSB7XG4gICAgICAgIGNoYXIgPSBoYW5kbGVQVklkKDIpO1xuICAgICAgICBoYW5kbGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcm5kX3N0cnMgKz0gY2hhcjtcbiAgfVxuICByZXR1cm4gcm5kX3N0cnM7XG59O1xuXG5mdW5jdGlvbiBnZXRDaGFycyAoYXJncywgc2l6ZSwgZGVmYXVsdFZhbCkge1xuICBpZiAoYXJncykge1xuICAgIHJldHVybiB1dGlsSGFzaC5oYXNoKGVuY29kZVVSSUNvbXBvbmVudChhcmdzKSkuc3Vic3RyKDAsIHNpemUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBkZWZhdWx0VmFsO1xuICB9XG59XG5cbmV4cG9ydHMuZ2V0TG9nSWQgPSBmdW5jdGlvbiAocGFnZVVybCwgbG9nTmFtZSkge1xuICB2YXIgcmFuZG9tOENoYXJzID0gZ2V0UmFuZG9tSWQoOCk7XG4gIHZhciByYW5kb200Q2hhcnMgPSByYW5kb204Q2hhcnMuc3Vic3RyKDAsIDQpO1xuICB2YXIgcmFuZG9tNkNoYXJzID0gcmFuZG9tOENoYXJzLnN1YnN0cigwLCA2KTtcbiAgcmV0dXJuIFtcbiAgICBnZXRDaGFycyhwYWdlVXJsLCA0LCByYW5kb200Q2hhcnMpLFxuICAgIGdldENoYXJzKGxvZ05hbWUsIDQsIHJhbmRvbTRDaGFycyksXG4gICAgcmFuZG9tNkNoYXJzXG4gIF0uam9pbignJyk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvbGliX3UvdXRpbHMvbG9nSWQuanNcbi8vIG1vZHVsZSBpZCA9IDY5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogcHJvamVjdCAtIGZpbGVwYXRoXG4gKiBkZXNjcmlwdGlvblxuICpcbiAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cbiAqXG4gKiBBdXRob3JzOlxuICogICDosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuICovXG4ndXNlIHN0cmljdCc7XG5cbi8vIOagueaNruWvhumSpXPlr7nlrZfnrKbkuLJzdHLov5vooYzovazkuYlcbmV4cG9ydHMuaGFzaCA9IGZ1bmN0aW9uKHN0ciwgcykge1xuICB2YXIgZGVmX3YgPSAxMzE1NDIzOTExO1xuICB2YXIgaGFzaCA9IHMgfHwgZGVmX3YsIGksIGNoO1xuICBmb3IgKGkgPSBzdHIubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBjaCA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgIGhhc2ggXj0gKChoYXNoIDw8IDUpICsgY2ggKyAoaGFzaCA+PiAyKSk7XG4gIH1cbiAgdmFyIHJzID0gKGhhc2ggJiAweDdGRkZGRkZGKS50b1N0cmluZygxNik7XG4gIHJldHVybiBycztcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9saWJfdS91dGlscy91dGlsSGFzaC5qc1xuLy8gbW9kdWxlIGlkID0gNzBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiDov5Tlm55HTVTmoLzlvI/nmoTml7bljLrvvIzlpoLvvJpHTVQrMDU6NDUsIEdNVC0wNzowMCwgR01UKzA4OjAwXG4gKi9cbmV4cG9ydHMuZ2V0VGltZVpvbmUgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdGltZVpvbmUgPSAtbmV3IERhdGUoKS5nZXRUaW1lem9uZU9mZnNldCgpIC8gNjA7XG4gIHZhciBfYW5kID0gJysnO1xuICBpZiAoX3RpbWVab25lIDwgMCkge1xuICAgIF9hbmQgPSAnLSc7XG4gIH1cbiAgdmFyIHpvbmUgPSBNYXRoLmFicyhwYXJzZUludChfdGltZVpvbmUpKTtcbiAgdmFyIHJlbWFpbmRlciA9IE1hdGguYWJzKHBhcnNlSW50KF90aW1lWm9uZSkgLSBfdGltZVpvbmUpO1xuICB2YXIgcmVtYWluZGVyWm9uZSA9ICcwMCc7XG4gIGlmIChyZW1haW5kZXIgPiAwKSB7XG4gICAgcmVtYWluZGVyWm9uZSA9IDYwICogcmVtYWluZGVyO1xuICB9XG4gIHJldHVybiAnR01UJyArIF9hbmQgKyAoem9uZSA+IDkgPyB6b25lIDogKCcwJyArIHpvbmUpKSArICc6JyArIHJlbWFpbmRlclpvbmU7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvcGx1Z2lucy9saWJfbG9nL21pZGRsZXdhcmUvY29tbW9uL3V0aWxQYXJhbXMuanNcbi8vIG1vZHVsZSBpZCA9IDcxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogYWxpbG9nL3MgLSBzcmMvcGx1Z2lucy9saWJfbG9nL21pZGRsZXdhcmUvY29tbW9uL21pbmlhcHBfZGF0YS5qc1xuICpcbiAqIOS9nOeUqO+8muaXpeW/l+WPkemAgeWfuuehgOWPguaVsOaUtumbhu+8mlxuICogICAgICDmjInpobrluo/lsIZhcGx1cy5wdl9kYXRhLmJhc2lj44CBZXhwYXJhbXPjgIFvbGRQYXJhbXPjgIFhcGx1cy5wdl9kYXRhLmV4dHJh5Zub5Lit57G75Z6L55qE5Y+C5pWwbWVyZ2XlnKjkuIDkuKrmlbDnu4TkuK1cbiAqIGRlcHM6IOaXoFxuICpcbiAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cbiAqXG4gKiBBdXRob3JzOlxuICogICDosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciBhcGx1c1N0YXRpYyA9IHJlcXVpcmUoJ0B1dGlscy9hcGx1c1N0YXRpYycpO1xudmFyIHV0aWxHb2xkbG9nID0gcmVxdWlyZSgnQHV0aWxzL3V0aWxHb2xkbG9nJyk7XG52YXIgbWluaSA9IHJlcXVpcmUoJ0B1dGlscy9taW5pJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIC8qKlxuICAgICAqIOS9leaXtuaJp+ihjHNlbmRwduaJp+ihjOWFpeWPo1xuICAgICAqIOi/lOWbnlwiZG9uZVwi57uI5q2i5Lit6Ze05Lu25omn6KGMXG4gICAgICogMS4gYXBsdXPpu5jorqTpnIDopoHph4fpm4bnmoTlj4LmlbA6IGJhc2ljTGlzdFxuICAgICAqIDIuIGJlYWNvbuaJqeWxleWPguaVsDogZXhwYXJhbXNcbiAgICAgKiAzLiBhcGx1c+m7mOiupOmcgOimgemHh+mbhueahOWuouaIt+err+WPguaVsDogZXh0cmFMaXN0XG4gICAgICog5Lit6YCU5aSE55CGXyTlhajlsYDlj5jph486IHByb2Nlc3NMb2Rhc2hEb2xsYXJcbiAgICAgKiA0LiBsb2NhbFN0b3JhZ2XkuK3lrZjlgqjnmoTkuIrkuIDpobVzcG3kv6Hmga86IHNwbWFidGVzdFxuICAgICAqIOS7peS4ijTpg6jliIbmi7zoo4XmiJBwdmRhdGFcbiAgICAgKlxuICAgICAqIEByZXR1cm4gXCJkb25lXCIgfHwgdW5kZWZpbmVkXG4gICAgICovXG4gICAgcnVuOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgaXNUQkVudiA9IG1pbmkuaXNUQigpO1xuICAgICAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoYXBsdXNTdGF0aWMuQVBMVVMpO1xuICAgICAgdmFyIGxvZ2RhdGEgPSB0aGlzLm9wdGlvbnMuY29udGV4dC53aGF0X3RvX3NlbmQubG9nZGF0YSB8fCB7fTtcbiAgICAgIHZhciBwYWdlcyA9IGdldEN1cnJlbnRQYWdlcygpO1xuICAgICAgdmFyIGN1cnJlbnRQYWdlICA9IHBhZ2VzW3BhZ2VzLmxlbmd0aCAtIDFdIHx8IHt9O1xuICAgICAgaWYgKGN1cnJlbnRQYWdlICYmICFsb2dkYXRhLnRpdGxlKSB7XG4gICAgICAgIGxvZ2RhdGEudGl0bGUgPSBjdXJyZW50UGFnZS5yb3V0ZSB8fCAnJzsgIFxuICAgICAgfVxuICAgICAgbG9nZGF0YS51cmwgPSAoIWlzVEJFbnYgJiYgYXBsdXMuZ2xvYmFsQ29uZmlnLmlzQWxpID8gJ2h0dHBzOi8vJyA6ICcnKSArIChjdXJyZW50UGFnZS5yb3V0ZSAgfHwgY3VycmVudFBhZ2UuaXMgfHwgJy0nKTtcblxuICAgICAgdmFyIHByZSA9ICctJztcbiAgICAgIGlmIChwYWdlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHZhciBwcmVQYWdlID0gcGFnZXNbcGFnZXMubGVuZ3RoIC0gMl0gfHwge307XG4gICAgICAgIHByZSA9ICghaXNUQkVudiAmJiBhcGx1cy5nbG9iYWxDb25maWcuaXNBbGkgPyAnaHR0cHM6Ly8nIDogJycpICsgKHByZVBhZ2Uucm91dGUgfHwgcHJlUGFnZS5pcyB8fCAnLScpO1xuICAgICAgfVxuICAgICAgbG9nZGF0YS5wcmUgPSBwcmU7XG4gICAgICBpZiAobG9nZGF0YS5zZGtfaW5mbykge1xuICAgICAgICBsb2dkYXRhLnNka19pbmZvLndpbmRtaWxsID0gJzEnO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm9wdGlvbnMuY29udGV4dC53aGF0X3RvX3NlbmQubG9nZGF0YSA9IGxvZ2RhdGE7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3BsdWdpbnMvbGliX2xvZy9taWRkbGV3YXJlL2NvbW1vbi9taW5pYXBwX2RhdGEuanNcbi8vIG1vZHVsZSBpZCA9IDcyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogYWxpbG9nL3MgLSBzcmMvbGliX3UvcGx1Z2lucy9wdi93aGF0X3RvX3NlbmRwdl91c2VyZGF0YS5qc1xuICpcbiAqICDmj5Lku7bkvZznlKjvvJrmlLbpm4blupTnlKjmlrnoh6rlrprkuYlwduWPguaVsFxuICogICAgICAgICAgIOW5tuWwhuaUtumbhuWIsOeahOiHquWumuS5ieWPguaVsOS7peaVsOe7hOagvOW8j+i/veWKoOWIsHB2ZGF0YeWQjumdou+8mnB2ZGF0YS5jb25jYXQodXNlcmRhdGEpXG4gKiAgZGVwczogd2hhdF90b19zZW5kcHZcbiAqXG4gKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG4gKlxuICogQXV0aG9yczpcbiAqICAg6LCL5aOrIDxxaW5nbGlhbmcuaHFsQGFsaWJhYmEtaW5jLmNvbT5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgZm9ybWF0ID0gcmVxdWlyZSgnQHV0aWxzL2Zvcm1hdCcpO1xudmFyIGlzQXJyYXkgPSByZXF1aXJlKCdAdXRpbHMvaXNBcnJheScpO1xudmFyIHV0aWxHb2xkbG9nID0gcmVxdWlyZSgnQHV0aWxzL3V0aWxHb2xkbG9nJyk7XG52YXIgYXBsdXNTdGF0aWMgPSByZXF1aXJlKCdAdXRpbHMvYXBsdXNTdGF0aWMnKTtcbnZhciBtaW5pID0gcmVxdWlyZSgnQHV0aWxzL21pbmknKTtcbi8vIHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKCdhcGx1cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuXG4gICAgLyoqXG4gICAgICog6YeH6ZuG5Liq5oCn5YyW5Y+C5pWwXG4gICAgICpcbiAgICAgKiBnb2tleTpcbiAgICAgKiAgIOi/meWdl+S4uuWvueWOhuWPsnVzZXJkYXRh5Lyg6YCS55qE5YW85a655YGa5rOV77yMVE9ET++8muaOqOWKqOW6lOeUqOaWueWPmOabtFxuICAgICAqICAg5bqU55So5pa55Lyg6YCS55qEZ29rZXnmoLzlvI/lupTnlKjmlrnoh6rooYzlhrPlrprvvIxcbiAgICAgKiAgICAg5aaCIGdva2V5PVwiYT0xJmI9MlwiIOaIliB7XCJhXCI6W3tcImtleVwiOjIwMTYxMjI2MTU1MCxcInZhbHVlXCI6MC4xfSx7XCJrZXlcIjoyMDE2MTIyNjE2MDAsXCJ2YWx1ZVwiOjAuNX0se1wia2V5XCI6MjAxNjEyMjYxNjEwLFwidmFsdWVcIjoxfV19XG4gICAgICogICDov5nlnZfpgLvovpHmmK/pgKDmiJBleHRlbmRhcmdz5YaF6YOo5Ye6546w5aSa5Liq5pac5p2g55qE5YWD5Ye277yB77yB77yBXG4gICAgICogcGFnZV9pZDpcbiAgICAgKiAgIOaciXBhZ2VfaWTlsLHlnKhzcG1i5Lit5re75Yqg5a2Q5Y+C5pWwXG4gICAgICogICDml6BwYWdlX2lk5bCx5riF6Zmkc3BtYuS4reeahOWtkOWPguaVsFxuICAgICAqIHNwbV9jbnRcbiAgICAgKiAgIOabtOaUueWujHNwbWLkvY3ov5jpnIDopoHmm7TmlrBzcG1fY250IEDosIvlo6sgaW4gMjAxOC0wMy0yMCAg5Lul5YWNdG9VVOeahHNwbS1jbnTkuKLlpLHliIbmobblj7dcbiAgICAgKiDkuKrmgKfljJblj4LmlbDvvJpcbiAgICAgKiAgIDEuIChhcGx1c+akjeWFpSk6IDxtZXRhIG5hbWU9XCJhcGx1cy1jcHZkYXRhXCIgY29udGVudD1cIkpTT05zdHJpbmdcIj5cbiAgICAgKiAgIDIuIOaWueazleS8oOWFpTogYXBsdXMuc2VuZFBWKHtDT05GSUd9LCB7VVNFUkRBVEV9KTtcbiAgICAgKiDlj43kvZzlvIrnmoTmlofmoaPlrr3pq5g6IF9wdyxfcGhcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gey4uLn1cbiAgICAgKi9cbiAgICBnZXRVc2VyZGF0YTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZSgnYXBsdXMnKTtcbiAgICAgIHZhciBjb25maWcgPSB0aGlzLm9wdGlvbnMuY29uZmlnIHx8IHt9O1xuICAgICAgdmFyIGQgPSB7fTtcblxuICAgICAgaWYgKGNvbmZpZyAmJiAhY29uZmlnLmlzX2F1dG8pIHtcbiAgICAgICAgaWYgKGNvbmZpZy5nb2tleSkge1xuICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnLmdva2V5ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgZCA9IGZvcm1hdC5wYXJhbTJvYmooY29uZmlnLmdva2V5KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb25maWcuZ29rZXkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBkID0gY29uZmlnLmdva2V5O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgY29tYm9Vc2VyZGF0YSA9IGZ1bmN0aW9uKF9kYXRhKSB7XG4gICAgICAgIGlmKGlzQXJyYXkoX2RhdGEpKXtcbiAgICAgICAgICBfZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgICAgICAgZCA9IE9iamVjdC5hc3NpZ24oe30sIGQsIGl0ZW0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGQgPSBPYmplY3QuYXNzaWduKHt9LCBkLCBfZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBjb21ib1VzZXJkYXRhKGFwbHVzLmdldE1ldGFJbmZvKCdhcGx1cy1jcHZkYXRhJykpO1xuXG4gICAgICB2YXIgY3VycmVudFBhZ2UgPSBtaW5pLmdldEN1cnJlbnRQYWdlKCk7XG4gICAgICB2YXIgcGFnZU5hbWUgPSBjdXJyZW50UGFnZS5yb3V0ZSB8fCBjdXJyZW50UGFnZS5pcyB8fCAncGFnZSc7XG4gICAgICB2YXIgcGFnZVByb3BlcnRpZXMgPSBhcGx1cy5nZXRNZXRhSW5mbygnYXBsdXMtcGFnZS1wcm9wZXJ0aWVzJykgfHwge307XG4gICAgICB2YXIgcGFnZVByb3BlcnR5ID0gcGFnZVByb3BlcnRpZXNbcGFnZU5hbWVdO1xuICAgICAgaWYgKHR5cGVvZiBwYWdlUHJvcGVydHkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGNvbWJvVXNlcmRhdGEocGFnZVByb3BlcnR5KTtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLm9wdGlvbnMuY29udGV4dCB8fCB7fTtcbiAgICAgIHZhciB1c2VyZGF0YSA9IGNvbnRleHQudXNlcmRhdGEgfHwge307XG4gICAgICBjb21ib1VzZXJkYXRhKHVzZXJkYXRhKTtcblxuICAgICAgcmV0dXJuIGQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIOabtOaWsHByZe+8iOWcqOi/memHjOWBmueahOWOn+WboOaYr++8jHByZeWPguaVsOWxnuS6jmJhc2lj5Y+C5pWw77yM5L2G5pivdXNlcmRhdGHkuK3lpoLkvKDpgJLkuoZyZWZlcnJlcu+8jOWPr+S7peimhueblnByZe+8iVxuICAgICAqL1xuICAgIHVwZGF0ZVByZTogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZhciBjb25maWcgPSB0aGlzLm9wdGlvbnMuY29uZmlnIHx8IHt9O1xuICAgICAgdmFyIF8kID0gdXRpbEdvbGRsb2cuZ2V0R29sZGxvZ1ZhbCgnXyQnKSB8fCB7fTtcbiAgICAgIGlmIChjb25maWcgJiYgY29uZmlnLnJlZmVycmVyKSB7XG4gICAgICAgIF8kLnBhZ2VfcmVmZXJyZXIgPSBjb25maWcucmVmZXJyZXI7XG4gICAgICAgIGRhdGEucHJlID0gY29uZmlnLnJlZmVycmVyO1xuICAgICAgfVxuICAgICAgdXRpbEdvbGRsb2cuc2V0R29sZGxvZ1ZhbCgnXyQnLCBfJCk7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIOabtOaWsOmhtemdoueahFVybFxuICAgICAqL1xuICAgIHVwZGF0ZVVybDpmdW5jdGlvbihkYXRhKXtcbiAgICAgIHZhciBjb25maWcgPSB0aGlzLm9wdGlvbnMuY29uZmlnIHx8IHt9O1xuICAgICAgaWYoY29uZmlnJiZjb25maWcucGFnZVVybCl7XG4gICAgICAgIGRhdGEudXJsID0gY29uZmlnLnBhZ2VVcmw7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIOabtOaWsOadpea6kHNwbVxuICAgICAqL1xuICAgIHVwZGF0ZVNwbVVybDpmdW5jdGlvbihkYXRhKXtcbiAgICAgIHZhciBjb25maWcgPSB0aGlzLm9wdGlvbnMuY29uZmlnIHx8IHt9O1xuICAgICAgdmFyIHNwbVVybCA9IGNvbmZpZ1thcGx1c1N0YXRpYy5TUE1fVVJMXXx8Y29uZmlnLnNwbVVybDtcbiAgICAgIGlmKHNwbVVybCl7XG4gICAgICAgIGRhdGEuZ29rZXlbYXBsdXNTdGF0aWMuU1BNX1VSTF0gPSBzcG1Vcmw7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIOS9leaXtuaJp+ihjHNlbmRwduaJp+ihjOWFpeWPo1xuICAgICAqIOi/lOWbnlwiZG9uZVwi57uI5q2i5Lit6Ze05Lu25omn6KGMXG4gICAgICogQHBhcmFtIFtTdHJpbmddIHN0YXRlIOeKtuaAgVxuICAgICAqIEBwYXJhbSBbRnVuY3Rpb25dIGNiICDlm57osINcbiAgICAgKiBAcmV0dXJuIFwiZG9uZVwiIHwgdW5kZWZpbmVkXG4gICAgICovXG4gICAgcnVuOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBkID0gdGhpcy5vcHRpb25zLmNvbnRleHQud2hhdF90b19zZW5kLmxvZ2RhdGE7XG4gICAgICB2YXIgdXNlcmRhdGEgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmdldFVzZXJkYXRhKCksIGQudXNlcmRhdGEgfHwge30pO1xuICAgICAgZC5nb2tleSA9IE9iamVjdC5hc3NpZ24oe30sIGQuZ29rZXksIHVzZXJkYXRhKTtcbiAgICAgIGQgPSB0aGlzLnVwZGF0ZVByZShkKTtcbiAgICAgIGQgPSB0aGlzLnVwZGF0ZVVybChkKTtcbiAgICAgIGQgPSB0aGlzLnVwZGF0ZVNwbVVybChkKTtcbiAgICAgIHRoaXMub3B0aW9ucy5jb250ZXh0LndoYXRfdG9fc2VuZC5sb2dkYXRhID0gZDtcbiAgICAgIHRoaXMub3B0aW9ucy5jb250ZXh0LnVzZXJkYXRhID0gZC5nb2tleTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH07XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvcGx1Z2lucy9saWJfbG9nL21pZGRsZXdhcmUvcHYvd2hhdF90b19zZW5kcHZfdXNlcmRhdGFfbWluaS5qc1xuLy8gbW9kdWxlIGlkID0gNzNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBhbGlsb2cvcyAtIHNyYy9saWJfdS9jb25maWcvcGx1Z2lucy9jYW5fdG9fc2VuZHB2LmpzXG4gKlxuICog5L2c55So77ya5Yik5patcHbog73lkKblj5HpgIHvvIzkuI3lj6/ku6Xlj5HpgIHliJnkvJrkuK3mlq3lkI7nu63miYDmnInkuK3pl7Tku7bmiafooYxcbiAqIGRlcHM6IOaXoFxuICpcbiAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cbiAqXG4gKiBBdXRob3JzOlxuICogICDosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciB1dGlsR29sZGxvZyA9IHJlcXVpcmUoJ0B1dGlscy91dGlsR29sZGxvZycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIC8qKlxuICAgICAqIOaYr+WQpuimgeaJp+ihjHNlbmRwdueahOWFpeWPo1xuICAgICAqIOi/lOWbnlwiZG9uZVwi57uI5q2i5Lit6Ze05Lu25omn6KGMXG4gICAgICogQHBhcmFtIFtTdHJpbmddIHN0YXRlIOeKtuaAgVxuICAgICAqIEBwYXJhbSBbRnVuY3Rpb25dIGNiICDlm57osINcbiAgICAgKiBAcmV0dXJuIFwiZG9uZVwiIHwgdW5kZWZpbmVkXG4gICAgICovXG4gICAgcnVuOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBfJCA9IHV0aWxHb2xkbG9nLmdldEdvbGRsb2dWYWwoJ18kJykgfHwge307XG4gICAgICB2YXIgY291bnQgPSBfJC5zZW5kX3B2X2NvdW50IHx8IDA7XG4gICAgICBfJC5zZW5kX3B2X2NvdW50ID0gKytjb3VudDtcbiAgICAgIHV0aWxHb2xkbG9nLnNldEdvbGRsb2dWYWwoJ18kJywgXyQpO1xuICAgICAgcmV0dXJuO1xuICAgIH0sXG4gIH07XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvcGx1Z2lucy9saWJfbG9nL21pZGRsZXdhcmUvcHYvY2FuX3RvX3NlbmRwdl9taW5pLmpzXG4vLyBtb2R1bGUgaWQgPSA3NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIGFsaWxvZy9zIC0gc3JjL2xpYl91L3BsdWdpbnMvcHYvd2hhdF90b19oamxqX3VzZXJkYXRhLmpzXG4gKlxuICogIOaPkuS7tuS9nOeUqO+8muaUtumbhuW6lOeUqOaWueiHquWumuS5iXB25Y+C5pWwXG4gKiAgICAgICAgICAg5bm25bCG5pS26ZuG5Yiw55qE6Ieq5a6a5LmJ5Y+C5pWw5Lul5pWw57uE5qC85byP6L+95Yqg5YiwbG9nZGF0YeWQjumdou+8mmxvZ2RhdGEuY29uY2F0KHVzZXJkYXRhKVxuICogIGRlcHM6IHdoYXRfdG9faGpsalxuICpcbiAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cbiAqXG4gKiBBdXRob3JzOlxuICogICDosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciBmb3JtYXQgPSByZXF1aXJlKCdAdXRpbHMvZm9ybWF0Jyk7XG52YXIgaXNBcnJheSA9IHJlcXVpcmUoJ0B1dGlscy9pc0FycmF5Jyk7XG4vLyB2YXIgdXRpbERhc2ggPSByZXF1aXJlKCdAdXRpbHMvdXRpbERhc2gnKTtcbnZhciB1dGlsR29sZGxvZyA9IHJlcXVpcmUoJ0B1dGlscy91dGlsR29sZGxvZycpO1xuXG4vLyB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZSgnYXBsdXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcblxuICAgIC8qKlxuICAgICAqIOmHh+mbhuS4quaAp+WMluWPguaVsFxuICAgICAqXG4gICAgICogcmVjb3JkKGxvZ2tleSwgZ21rZXksIGdva2V5KSBBUEnkuK3nmoRnb2tleVxuICAgICAqIG1ldGE6YXBsdXMtZXhpbmZv5L+h5oGvLCBtZXRhOmFwbHVzLWV4ZGF0YeS/oeaBr1xuICAgICAqXG4gICAgICogQHJldHVybiB7T2JqZWN0fSB7Li4ufVxuICAgICAqL1xuICAgIGdldFVzZXJEYXRhOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZSgnYXBsdXMnKTtcbiAgICAgIHZhciBjID0gdGhpcy5vcHRpb25zLmNvbnRleHQgfHwge307XG4gICAgICB2YXIgdXNlcmRhdGEgPSBjLnVzZXJkYXRhIHx8IHt9O1xuICAgICAgdmFyIGdva2V5ID0gYy53aGF0X3RvX3NlbmQubG9nZGF0YS5nb2tleTtcbiAgICAgIGdva2V5ID0gT2JqZWN0LmFzc2lnbih7fSwgZ29rZXksIGZvcm1hdC5wYXJhbTJvYmoodXNlcmRhdGEuZ29rZXkpKTtcbiAgICAgIGdva2V5ID0gT2JqZWN0LmFzc2lnbih7fSwgZ29rZXksIGZvcm1hdC5wYXJhbTJvYmooYXBsdXMuZ2V0TWV0YUluZm8oJ2FwbHVzLWV4aW5mbycpfHx7fSkpO1xuICAgICAgdmFyIGV4ZGF0YSA9IGFwbHVzLmdldE1ldGFJbmZvKCdhcGx1cy1leGRhdGEnKTtcbiAgICAgIGlmIChpc0FycmF5KGV4ZGF0YSkpIHtcbiAgICAgICAgZXhkYXRhLmZvckVhY2goZnVuY3Rpb24oaXRlbSl7XG4gICAgICAgICAgZ29rZXkgPSBPYmplY3QuYXNzaWduKHt9LCBnb2tleSwgaXRlbSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ29rZXkgPSBPYmplY3QuYXNzaWduKHt9LCBnb2tleSwgZXhkYXRhIHx8IHt9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBnb2tleTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICog5L2V5pe25omn6KGMc2VuZHB25omn6KGM5YWl5Y+jXG4gICAgICog6L+U5ZueJ2RvbmUn57uI5q2i5Lit6Ze05Lu25omn6KGMXG4gICAgICogQHBhcmFtIFtTdHJpbmddIHN0YXRlIOeKtuaAgVxuICAgICAqIEBwYXJhbSBbRnVuY3Rpb25dIGNiICDlm57osINcbiAgICAgKiBAcmV0dXJuICdkb25lJyB8IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIHJ1bjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbG9nZGF0YSA9IHRoaXMub3B0aW9ucy5jb250ZXh0LndoYXRfdG9fc2VuZC5sb2dkYXRhO1xuICAgICAgdmFyIGdva2V5ID0gdGhpcy5nZXRVc2VyRGF0YSgpO1xuICAgICAgLy8g5bqU55So6YCA5Ye65LqL5Lu25q+U6L6D54m55q6K77yMZHVyYXRpb27ljbNhcmcxIEDmlofpnZJcbiAgICAgIGlmIChsb2dkYXRhLmdta2V5ID09PSAnMTAxMCcpIHtcbiAgICAgICAgbG9nZGF0YS5hcmcxID0gZ29rZXkuZHVyYXRpb24gfHwgbG9nZGF0YS5sb2drZXk7XG4gICAgICB9XG4gICAgICBsb2dkYXRhLmdva2V5ID0gZ29rZXk7XG4gICAgICB0aGlzLm9wdGlvbnMuY29udGV4dC53aGF0X3RvX3NlbmQubG9nZGF0YSA9IGxvZ2RhdGE7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3BsdWdpbnMvbGliX2xvZy9taWRkbGV3YXJlL2hqbGovd2hhdF90b19oamxqX3VzZXJkYXRhX21pbmkuanNcbi8vIG1vZHVsZSBpZCA9IDc1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogYWxpbG9nL3MgLSBzcmMvcGx1Z2lucy9saWJfYXBpL21haW4uanNcbiAqIEFQSeaPkuS7tlxuICpcbiAqXG4gKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG4gKlxuICogQXV0aG9yczpcbiAqICAgUmljaGFyZHzosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuICovXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIHJ1bjogZnVuY3Rpb24gKCkge1xuICAgICAgcmVxdWlyZSgnLi9saWJfYXBpL21haW5fbWluaScpKHRoaXMub3B0aW9ucy5jb250ZXh0LmxvZ0NvbmZpZyk7XG4gICAgfVxuICB9O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3BsdWdpbnMvYXBsdXNfYXBpX21pbmkuanNcbi8vIG1vZHVsZSBpZCA9IDc2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogYWxpbG9nL3MgLSBzcmMvcGx1Z2lucy9saWJfYXBpL21haW4uanNcbiAqIEFQSeaPkuS7tlxuICpcbiAqXG4gKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG4gKlxuICogQXV0aG9yczpcbiAqICAgUmljaGFyZHzosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciB1dGlsUHVic3ViID0gcmVxdWlyZSgnQHV0aWxzL3V0aWxQdWJzdWInKTtcbnZhciBhcGx1c1N0YXRpYyA9IHJlcXVpcmUoJ0B1dGlscy9hcGx1c1N0YXRpYycpO1xudmFyIHV0aWxHb2xkbG9nID0gcmVxdWlyZSgnQHV0aWxzL3V0aWxHb2xkbG9nJyk7XG5cbi8qKlxuICogQHBhcmFtcyB7T2JqZWN0fSBsb2dDb25maWcge1xuICogICAgcHY6IHtcbiAqICAgICAgcGx1Z2luczogcmVxdWlyZSgnLi9saWJfbG9nL3BsdWdpbnNfcHYnKSxcbiAqICAgICAgY29udGV4dDogcmVxdWlyZSgnLi9saWJfbG9nL2NvbmZpZy9jb25maWdfdScpXG4gKiAgICB9LFxuICogICAgaGpsajoge1xuICogICAgICBwbHVnaW5zOiByZXF1aXJlKCcuL2xpYl9sb2cvcGx1Z2luc19oamxqJyksXG4gKiAgICAgIGNvbnRleHQ6IHJlcXVpcmUoJy4vbGliX2xvZy9jb25maWcvY29uZmlnX2hqbGpfdScpXG4gKiAgICB9XG4gKiAgfVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsb2dDb25maWcpIHtcbiAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoYXBsdXNTdGF0aWMuQVBMVVMpO1xuICBpZiAoYXBsdXMuX2FwbHVzX2FwaSkge1xuICAgIHJldHVybjtcbiAgfSBlbHNlIHtcbiAgICBhcGx1cy5fYXBsdXNfYXBpID0ge1xuICAgICAgc3RhdHVzOiBhcGx1c1N0YXRpYy5DT01QTEVURVxuICAgIH07XG4gIH1cblxuICB2YXIgYXBsdXNPYmogPSByZXF1aXJlKCcuL2FwbHVzX21pbmknKS5ydW4uY3JlYXRlKHtcbiAgICBsb2dDb25maWc6IGxvZ0NvbmZpZ1xuICB9KTtcbiAgZm9yICh2YXIgayBpbiBhcGx1c09iaikge1xuICAgIGFwbHVzW2tdID0gYXBsdXNPYmpba107XG4gIH1cbiAgdXRpbEdvbGRsb2cuc2V0R2xvYmFsVmFsdWUoYXBsdXNTdGF0aWMuQVBMVVMsIGFwbHVzKTtcbiAgdmFyIG1zZ0FyciA9IFthcGx1c1N0YXRpYy5BUExVUyArICdSZWFkeScsIGFwbHVzU3RhdGljLkNPTVBMRVRFXTtcbiAgdXRpbFB1YnN1Yi5kb1B1Yk1zZyhtc2dBcnIpO1xuICB1dGlsUHVic3ViLmRvQ2FjaGVQdWJzKG1zZ0Fycik7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvcGx1Z2lucy9saWJfYXBpL21haW5fbWluaS5qc1xuLy8gbW9kdWxlIGlkID0gNzdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBwcm9qZWN0IC0gZmlsZXBhdGhcbiAqIGRlc2NyaXB0aW9uXG4gKlxuICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuICpcbiAqIEF1dGhvcnM6XG4gKiAgIOiwi+WjqyA8cWluZ2xpYW5nLmhxbEBhbGliYWJhLWluYy5jb20+XG4gKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIEJhc2UgPSByZXF1aXJlKCdAY29yZS9CYXNlJyk7XG52YXIgaXNGdW5jdGlvbiA9IHJlcXVpcmUoJ0B1dGlscy9pc0Z1bmN0aW9uJyk7XG52YXIgbWluaSA9IHJlcXVpcmUoJ0B1dGlscy9taW5pJyk7XG52YXIgaXNBcnJheSA9IHJlcXVpcmUoJ0B1dGlscy9pc0FycmF5Jyk7XG52YXIgYXBsdXNTdGF0aWMgPSByZXF1aXJlKCdAdXRpbHMvYXBsdXNTdGF0aWMnKTtcbnZhciB1dGlsUHVic3ViID0gcmVxdWlyZSgnQHV0aWxzL3V0aWxQdWJzdWInKTtcbnZhciBjbG9uZURlZXAgPSByZXF1aXJlKCdAdXRpbHMvY2xvbmVEZWVwJyk7XG52YXIgdXRpbEdvbGRsb2cgPSByZXF1aXJlKCdAdXRpbHMvdXRpbEdvbGRsb2cnKTtcbnZhciBSZWR1Y2VyID0gcmVxdWlyZSgnQGNvcmUvUmVkdWNlcicpO1xudmFyIG1ldGFJbmZvID0gcmVxdWlyZSgnLi4vbGliX21ldGEvbWV0YUluZm9NaW5pJyk7XG52YXIgaXNUcml2ZXIgPSByZXF1aXJlKCdAdXRpbHMvaXNUcml2ZXInKTtcbi8vIHZhciB1dGlsTG9nZ2VyID0gcmVxdWlyZSgnQHV0aWxzL3V0aWxMb2dnZXInKTtcbnZhciB1bG9nID0gcmVxdWlyZSgnQHV0aWxzL3Vsb2cnKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnQHV0aWxzL3V0aWwnKTtcbnZhciBQYWdlTWFuYWdlciA9IHJlcXVpcmUoJ0AvcGx1Z2lucy9saWJfdW0vcGFnZU1hbmFnZXInKTtcblxuLy8gdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoYXBsdXNTdGF0aWMuQVBMVVMpO1xudmFyIF9nZXRQYWdlU3BtID0gLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmIChteSAmJiBteS5jYWxsICYmIHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG15LmNhbGwoJ2hhbmRsZUxvZ2dpbmdBY3Rpb24nLCB7XG4gICAgICAndHlwZSc6ICdiZWhhdmlvcicsXG4gICAgICAnc3ViVHlwZSc6IG9wdHMuc3ViVHlwZVxuICAgIH0sIGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIHZhciBycyA9IHt9O1xuICAgICAgcnNbb3B0cy5zcG1UeXBlXSA9IHJlc1tvcHRzLnNwbVR5cGVdO1xuICAgICAgY2FsbGJhY2socnMpO1xuICAgIH0pO1xuICB9XG59O1xuXG52YXIgcnVuID0gQmFzZS5leHRlbmQoe1xuXG4gIC8qKlxuICAgKiBHRVQg6K+35rGC5LiA5Liq5Zu+54mH5Zyw5Z2A77yM5ZCR5pyN5Yqh5Zmo5Y+R6YCB5omT54K5XG4gICAqXG4gICAqIEBwYXJhbSB1cmwge1N0cmluZ31cbiAgICogQHBhcmFtIFtkYXRhU3RyXSB7U3RyaW5nIHx8IE9iamVjdH1cbiAgICogQHBhcmFtIFttZXRob2RdIHtTdHJpbmd9ICAvLyBQT1NUIE9SIEdFVFxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqL1xuICBfc2VuZDogZnVuY3Rpb24gKHVybCwgZGF0YSwgbWV0aG9kLCBzdWNjZXNzQ2FsbGJhY2ssIGZhaWx1cmVDYWxsYmFjaykge1xuICAgIHVybCA9IHV0aWwuY2FuMmh0dHBzKHVybCk7XG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnb2JqZWN0JyAmJiBtZXRob2QgPT09ICdQT1NUJykge1xuICAgICAgbWluaS5yZXF1ZXN0KHVybCwge1xuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgZGF0YVR5cGU6ICdiYXNlNjQnXG4gICAgICB9LCBzdWNjZXNzQ2FsbGJhY2ssIGZhaWx1cmVDYWxsYmFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1pbmkucmVxdWVzdCh1cmwgKyAnPycgKyBkYXRhLCB7XG4gICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICBkYXRhVHlwZTogJ2Jhc2U2NCdcbiAgICAgIH0sIHN1Y2Nlc3NDYWxsYmFjaywgZmFpbHVyZUNhbGxiYWNrKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHVybDtcbiAgfSxcblxuICAvKipcbiAgICogR0VUIOivt+axguS4gOS4quWPr+inhuWMlumFjee9ruS/oeaBr++8jOWQkeacjeWKoeWZqOWPkVxuICAgKlxuICAgKiBAcGFyYW0gdXJsIHtTdHJpbmd9XG4gICAqL1xuICBfcmVxdWVzdFZUQ29uZmlnOiBmdW5jdGlvbih1cmwsIHN1Y2Nlc3NDYWxsYmFjaywgZmFpbHVyZUNhbGxiYWNrKSB7XG4gICAgaWYgKHVybC5pbmRleE9mKCcvLycpID09PSAwKSB7XG4gICAgICAvLyB1cmwgPSBhcGx1c1N0YXRpYy5IVFRQUyArIHVybDtcbiAgICAgIHZhciBwcm90b2NhbCA9IGFwbHVzU3RhdGljLkhUVFBTO1xuICAgICAgaWYgKC8oXFxkK1xcLil7Myx9XFxkKy8udGVzdCh1cmwpKSB7XG4gICAgICAgIHByb3RvY2FsID0gJ2h0dHA6JztcbiAgICAgIH1cbiAgICAgIHVybCA9IHByb3RvY2FsICsgdXJsO1xuICAgIH1cbiAgICBtaW5pLnJlcXVlc3QodXJsLCB7IG1ldGhvZDogJ0dFVCcgfSwgc3VjY2Vzc0NhbGxiYWNrLCBmYWlsdXJlQ2FsbGJhY2spO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0gW09iamVjdF0gY29uZmlnOiB7XG4gICAqICAgY2hlY2tzdW06IDExMTExMTExLCAgIC8vIOagueaNrnNwbWEsc3BtYuiHquWKqOeUn+aIkOeahOS4gOS4quWtl+espuS4slxuICAgKiAgIGlzX2F1dG86IHRydWUvZmFsc2XvvIwgLy8g5qCH6K+G5piv5ZCm6Ieq5Yqo5omT54K577yM6buY6K6k5Li6dHJ1Ze+8jOWNlemhteW6lOeUqOmcgOimgeS8oGZhbHNlXG4gICAqICAgcGFnZV9pZDogMTIzLCAgICAgICAgIC8vIOWwhuS8muS9k+eOsOWcqHNwbWLkvY3kuIpcbiAgICogICBnb2tleTogJycsICAgICAgICAgICAgLy8g55So5oi36Ieq5a6a5LmJ5Y+C5pWw77yI5ZCR5LiL5YW85a6577yMVE9ET+WQjue7reS4i+aOie+8iVxuICAgKiB9XG4gICAqIEBwYXJhbSBbT2JqZWN0XSB1c2VyZGF0YToge1xuICAgKiAgIHJlZmVycmVyOiAnaHR0cDovL3d3dy50YW9iYW8uY29tJyAgIC8vIOWwhuS8muabv+aNonB26K+35rGC55qEcHJl5Y+C5pWwXG4gICAqICAgeHh4MTogJ3Z2djEnLFxuICAgKiAgIHh4eDI6ICd2dnYyJyxcbiAgICogICB4eHhOOiAndnZ2TicsXG4gICAqIH0gICAvLyDlkITnp43oh6rlrprkuYlwduWPguaVsFxuICAgKi9cbiAgX3NlbmRQVjogZnVuY3Rpb24gKGNvbmZpZywgdXNlcmRhdGEpIHtcbiAgICB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZShhcGx1c1N0YXRpYy5BUExVUyk7XG4gICAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xuXG4gICAgaWYgKGNvbmZpZy5wYWdlTmFtZSkge1xuICAgICAgYXBsdXMuX3NldE1ldGFJbmZvKGFwbHVzU3RhdGljLkFQTFVTICsgJy1wYWdlbmFtZScsIGNvbmZpZy5wYWdlTmFtZSk7XG4gICAgfVxuXG4gICAgdmFyIHJlZHVjZXIgPSBuZXcgUmVkdWNlcigpO1xuICAgIGNvbmZpZy5yZWNvcmRUeXBlID0gJ1BWJzsgLy8g5Yik5pat5Y2V5Y+M5Y+R55So55qE77yM6ICD6JmR56e76ZmkXG4gICAgaWYgKCFjb25maWcubWV0aG9kKSB7XG4gICAgICBjb25maWcubWV0aG9kID0gJ0dFVCc7XG4gICAgfVxuXG4gICAgdmFyIHB2ID0gYXBsdXMubG9nQ29uZmlnLnB2O1xuICAgIHJlZHVjZXIucnVuKHtcbiAgICAgIHBsdWdpbnM6IHB2LnBsdWdpbnMsXG4gICAgICBjb250ZXh0OiBjbG9uZURlZXAocHYuY29udGV4dCkgLy8g6Ziy5q2i5rqQ6YWN572u6KKr5rGh5p+TXG4gICAgfSwge1xuICAgICAgY29uZmlnOiBjb25maWcsXG4gICAgICB1c2VyZGF0YTogdXNlcmRhdGEgfHwge30sXG4gICAgICBwdWJzdWJUeXBlOiAncHYnLFxuICAgICAgLy8gbWVzc2FnZUZuUXVldWU6IGZuX2FmdGVyX3B2LFxuICAgICAgbWlkZGxld2FyZU1lc3NhZ2VLZXk6ICdtd19jaGFuZ2VfcHYnXG4gICAgfSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIOiBmuWQiOS4iuaKpeS7pOeureaXpeW/l1xuICAgKlxuICAgKiBAcGFyYW1zIHtTdHJpbmd9IGxvZ2tlee+8iOW/heWhq++8iVxuICAgKiBAcGFyYW1zIHtTdHJpbmd9IGdta2V577yI5b+F5aGr77yJIOaemuS4vuWAvO+8miBDTEsg5ZKMIEVYUFxuICAgKiBAcGFyYW1zIHtBcnJheU9iamVjdH0gZ29rZXlz77yI5b+F5aGr77yJ5YaF572u55qE5a+56LGh5Y+C5pWw5qC85byP5aaC77yaXG4gICAqICBbe1xuICAgKiAgICBcImV4YXJnc1wiOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDkuIrmiqXnmoToh6rlrprkuYnlj4LmlbDvvIzlhoXlrrnlnYfkuLrlj6/pgInvvIzlpoLml6Doh6rlrprkuYnlj4LmlbDliJnkvKDnqbrlr7nosaFcbiAgICogICAgICBcIl93XCI6IDM3NSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5pud5YWJ5qih5Z2X5a695bqmXG4gICAqICAgICAgXCJfaFwiOiAxODgsICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOabneWFieaooeWdl+mrmOW6plxuICAgKiAgICAgIFwiX3hcIjogMCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDmm53lhYnmqKHlnZfmqKrlnZDmoIdcbiAgICogICAgICBcIl95XCI6IDg3LCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5pud5YWJ5qih5Z2X57q15Z2Q5qCHXG4gICAqICAgICAgXCJfcmF0ZVwiOiBcIjEuMDBcIiwgICAgICAgICAgICAgICAgICAgICAgLy8g5pud5YWJ6Z2i56ev5q+U5L6LXG4gICAqICAgICAgXCJfdmlld2FiaWxpdHlcIjogXCJpbnRlcnNlY3Rpb25cIiwgICAgICAgLy8g5pud5YWJ5pa55byPIGludGVyc2VjdGlvbiDmiJYgZmlsbHdpbmRvd1xuICAgKiAgICAgIC8vIOmZpOS6huS4iui/sOS/neeVmeWPguaVsOWklueahOWFtuS7luWPguaVsGtleS12YWx1ZeiHquihjOWumuS5ie+8mlxuICAgKiAgICAgIFwieW91cktleTFcIjogXCJ5b3VyVmFsdWUxXCIsICAgICAgICBcbiAgICogICAgICBcInlvdXJLZXkyXCI6IFwiJUU0JUI4JUFEJUU1JTlCJUJEXCIgICAgICAvLyDlpoLkuLrkuK3mlofvvIzliJnpnIDoh6rooYznvJbnoIFcbiAgICogICAgICAuLi4uLi5cbiAgICogICAgfSxcbiAgICogICAgXCJzY21cIjogXCJhLmIuYy5kXCIsICAgICAgICAgICAgICAgICAgICAgICAvLyBzY23kuLrlj6/pgInlj4LmlbDvvIzlpoLml6DliJnkvKDnqbrlgLxcbiAgICogICAgXCJzcG1cIjogXCJzcG1hLnNwbWIuc3BtYy5zcG1kXCIsICAgICAgICAgICAvLyBzcG3kuLrlv4XpgInlj4LmlbDvvIzkvb/nlKjmoIflh4bnmoTlm5vmrrXlvI9cbiAgICogICAgXCJhcGx1c0NvbnRlbnRJZFwiOiBcIlwiICAgICAgICAgICAgICAgICAgICAvLyDkv53nlZnlrZfmrrXvvIzmmoLml7bkuI3pnIDopoHkvKBcbiAgICogIH1dXG4gICAqIEBwYXJhbXMge1N0cmluZ30gbWV0aG9k77yI5Y+v6YCJ77yJICAgICAgICAgICAgICAvLyDmnprkuL7lgLzvvJogR0VU5ZKMUE9TVO+8jOm7mOiupOS9v+eUqFBPU1TmlrnlvI/kuIrmiqVcbiAgICogQHBhcmFtcyB7RnVuY3Rpb259IGNiICAgICAgICAgICAgICAgICAgICAgIC8vIOS/neeVmeWxnuaAp++8jOaaguaXtuS4jemcgOimgeS8oFxuICAgKi9cbiAgX2NvbWJpbmVSZWNvcmQ6IGZ1bmN0aW9uKGxvZ2tleSwgZ21rZXksIGdva2V5cywgbWV0aG9kKSB7XG4gICAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoYXBsdXNTdGF0aWMuQVBMVVMpO1xuICAgIHZhciBFWFAgPSAnRVhQJztcbiAgICBpZiAoYXBsdXMuZ2xvYmFsQ29uZmlnLmlzQWxpICYmIChnbWtleSA9PT0gRVhQIHx8IGdta2V5ID09PSAnQ0xLJykpIHtcbiAgICAgIGlmIChpc0FycmF5KGdva2V5cykpIHtcbiAgICAgICAgaWYgKCFtZXRob2QpIHtcbiAgICAgICAgICBtZXRob2QgPSAnUE9TVCc7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHVzZXJkYXRhID0gW107XG4gICAgICAgIHZhciBzZW5kdG9teSA9ICd0cnVlJztcbiAgICAgICAgZ29rZXlzLmZvckVhY2goZnVuY3Rpb24odil7XG4gICAgICAgICAgdXNlcmRhdGEucHVzaCh7XG4gICAgICAgICAgICBleGFyZ3M6IHR5cGVvZiB2LmV4YXJncyA9PT0gJ29iamVjdCcgPyB2LmV4YXJncyA6IHt9LFxuICAgICAgICAgICAgc2NtOiB2LnNjbSxcbiAgICAgICAgICAgIHNwbTogdi5zcG0sXG4gICAgICAgICAgICBhcGx1c0NvbnRlbnRJZDogdi5hcGx1c0NvbnRlbnRJZCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAodi5fYXBsdXNfc2VuZHRvbXkgPT09ICdmYWxzZScgJiYgc2VuZHRvbXkgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgc2VuZHRvbXkgPSAnZmFsc2UnO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBfZ29rZXlzID0gW107XG4gICAgICAgIF9nb2tleXMucHVzaCgoZ21rZXkgPT09IEVYUCA/ICdleHBkYXRhPScgOiAnY2xrZGF0YT0nKSArIEpTT04uc3RyaW5naWZ5KHVzZXJkYXRhKSk7XG4gICAgICAgIF9nb2tleXMucHVzaChnbWtleSA9PT0gRVhQID8gJ19pc19hdXRvX2V4cD0xJyA6ICdfaXNfYXV0b19jbGs9MScpO1xuICAgICAgICBfZ29rZXlzLnB1c2goJ19ldmVudFR5cGU9Y3VzdG9tJyk7XG4gICAgICAgIF9nb2tleXMucHVzaCgnX21ldGhvZD0nICsgbWV0aG9kKTtcbiAgICAgICAgX2dva2V5cy5wdXNoKCdfcGtnU2l6ZT0nICsgZ29rZXlzLmxlbmd0aCk7XG4gICAgICAgIGlmIChzZW5kdG9teSA9PT0gJ2ZhbHNlJykge1xuICAgICAgICAgIF9nb2tleXMucHVzaCgnX2FwbHVzX3NlbmR0b215PWZhbHNlJyk7XG4gICAgICAgIH1cbiAgICAgICAgYXBsdXMucmVjb3JkKGxvZ2tleSwgZ21rZXksIF9nb2tleXMuam9pbignJicpLCBtZXRob2QpOyAgXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oJ3R5cGUgb2YgZ29rZXlzIG11c3QgYmUgQXJyYXlPYmplY3QhJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2Fybignb25seSBzdXBwb3J0IEVYUCBvciBDTEsgbG9nIHRvIGNvbWJpbGUgcmVjb3JkIScpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICog5Y+R6YCB6buE6YeR5Luk566t5omT54K5XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBsb2drZXlcbiAgICogQHBhcmFtIHtTdHJpbmd9IGdta2V5XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBnb2tleVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kIOivt+axguaWueazleS4uiBQT1NUIG9yIEdFVFxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2JcbiAgICovXG4gIF9yZWNvcmQ6IGZ1bmN0aW9uIChsb2drZXksIGdta2V5LCBnb2tleSwgbWV0aG9kLCBjYikge1xuICAgIHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKGFwbHVzU3RhdGljLkFQTFVTKTtcbiAgICBsb2drZXkgPSBsb2drZXkgKyAnJztcbiAgICBpZiAobG9na2V5ICYmIGxvZ2tleS5pbmRleE9mKCcvJykgIT09IDAgJiYgYXBsdXMuZ2xvYmFsQ29uZmlnLmlzQWxpKSB7XG4gICAgICBsb2drZXkgPSAnLycgKyBsb2drZXk7XG4gICAgfVxuICAgIHZhciByZWR1Y2VyID0gbmV3IFJlZHVjZXIoKTtcbiAgICB2YXIgaGpsaiA9IGFwbHVzLmxvZ0NvbmZpZy5oamxqO1xuICAgIHJlZHVjZXIucnVuKHtcbiAgICAgIHBsdWdpbnM6IGhqbGoucGx1Z2lucyxcbiAgICAgIGNvbnRleHQ6IGNsb25lRGVlcChoamxqLmNvbnRleHQpIC8vIOmYsuatoua6kOmFjee9ruiiq+axoeafk1xuICAgIH0sIHtcbiAgICAgIGNvbmZpZzoge1xuICAgICAgICByZWNvcmRUeXBlOiAnQ09NTU9OX0hKTEonLCAvLyDliKTmlq3ljZXlj4zlj5HnlKjnmoTvvIzogIPomZHnp7vpmaRcbiAgICAgICAgbWV0aG9kOiBtZXRob2QgfHwgJ0dFVCdcbiAgICAgIH0sXG4gICAgICB1c2VyZGF0YToge1xuICAgICAgICBsb2drZXk6IGxvZ2tleSxcbiAgICAgICAgZ21rZXk6IGdta2V5LFxuICAgICAgICBnb2tleTogZ29rZXlcbiAgICAgIH0sXG4gICAgICBwdWJzdWJUeXBlOiAnaGpsaicsXG4gICAgICAvLyBtZXNzYWdlRm5RdWV1ZTogZm5fYWZ0ZXJfcmVjb3JkLFxuICAgICAgbWlkZGxld2FyZU1lc3NhZ2VLZXk6ICdtd19jaGFuZ2VfaGpsaidcbiAgICB9LCBmdW5jdGlvbigpe1xuICAgICAgaWYgKGlzRnVuY3Rpb24oY2IpKSB7XG4gICAgICAgIGNiKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG4gIFxuICBnZXRQYWdlU1BNOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoYXBsdXNTdGF0aWMuQVBMVVMpO1xuICAgIHZhciBfJCA9IGFwbHVzLl8kIHx8IHt9O1xuICAgIHZhciBzcG0gPSBfJC5zcG0gfHwge307XG4gICAgdmFyIGRhdGEgPSBzcG0uZGF0YSB8fCB7fTtcbiAgICByZXR1cm4gW2RhdGEuYSwgZGF0YS5iXTtcbiAgfSxcblxuICAvKipcbiAgICog5pu05paw6aG16Z2i55qEIGHjgIFiIOS9jVxuICAgKiDpnIDmsYLlj4Lop4HvvJpodHRwOi8vZ2l0bGFiLmFsaWJhYmEtaW5jLmNvbS9hbGlsb2cva2IvaXNzdWVzLzEzN1xuICAgKiBAcGFyYW0gYSB7U3RyaW5nfVxuICAgKiBAcGFyYW0gW2JdIHtTdHJpbmd9XG4gICAqIEBwYXJhbSBbY2JdIHtGdW5jdGlvbn1cbiAgICovXG4gIF9zZXRQYWdlU1BNOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG9iaiA9IHt9O1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgIHZhciBjYjtcbiAgICBpZiAodHlwZW9mIGFyZ3NbMF0gPT09ICdvYmplY3QnKSB7XG4gICAgICBvYmogPSBhcmdzWzBdO1xuICAgICAgY2IgPSBhcmdzWzFdO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmouc3BtQ250ID0gW2FyZ3NbMF0sIGFyZ3NbMV0sICcwJywgJzAnXS5qb2luKCcuJyk7XG4gICAgICBjYiA9IGFyZ3NbMl07XG4gICAgfVxuICAgIHZhciBtc2dzO1xuICAgIGlmICghb2JqLnNwbUNudCAmJiAhb2JqLnNwbVVybCAmJiBtZXRhSW5mby5nZXRNZXRhSW5mbygncGFnZUNvbmZpZycpKSB7XG4gICAgICBtc2dzID0gWydjbGVhclBhZ2VTUE0nXTtcbiAgICAgIHV0aWxQdWJzdWIuZG9QdWJNc2cobXNncyk7XG4gICAgICB1dGlsUHVic3ViLmRvQ2FjaGVQdWJzKG1zZ3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbXMgb2JqIHtPYmplY3R9IHtcbiAgICAgICAqICAgc3BtQ250OiAnYS5iLjAuMCdcbiAgICAgICAqICAgc3BtVXJsOiAnYS5iLjAuMCdcbiAgICAgICAqICAgc3BtUHJlOiAnYS5iLjAuMCdcbiAgICAgICAqIH1cbiAgICAgICAqL1xuICAgICAgbXNncyA9IFsnc2V0UGFnZVNQTScsIG9ial07XG4gICAgICB1dGlsUHVic3ViLmRvUHViTXNnKG1zZ3MpO1xuICAgICAgdXRpbFB1YnN1Yi5kb0NhY2hlUHVicyhtc2dzKTtcbiAgICB9XG4gICAgdmFyIGNhbGxiYWNrID0gdHlwZW9mIGNiID09PSAnZnVuY3Rpb24nID8gY2IgOiBmdW5jdGlvbiAoKSB7fTtcbiAgICBjYWxsYmFjayhtc2dzKTtcbiAgfSxcblxuICAvKipcbiAgICog5Yqo5oCB6YWN572ubWV0YVxuICAgKiBAcGFyYW0ge1N0cmluZ30ga1xuICAgKiBAcGFyYW0ge09iamVjdH0gdlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cyB7XG4gICAqICAgZnJvbTogJ2FwcGVuZE1ldGFJbmZvJ1xuICAgKiB9XG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAqL1xuICBfc2V0TWV0YUluZm86IGZ1bmN0aW9uKGFyZzEsIHZhbHVlKSB7XG4gICAgcmV0dXJuIG1ldGFJbmZvLl9zZXRNZXRhSW5mbyhhcmcxLCB2YWx1ZSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIGh0dHBzOi8veXVxdWUuYW50ZmluLWluYy5jb20vYXBsdXNqcy9wcm9qZWN0L2FwbHVzX2Nsb3VkIzMzMmRlNjJjXG4gICAqIOS4jeaUr+aMgXVwZGF0ZVBhZ2VQcm9wZXJ0aWVz77yM5pS555So5pu/5Luj5pa55qGIc2V0TWV0YUluZm9cbiAgICogQHBhcmFtcyB7U3RyaW5nfSDpgI/kvKBqc29u5a2X56ym5Liy77yM5b+F6aG75piv5a2X56ym5LiyXG4gICAqL1xuICBfdXBkYXRlUGFnZVByb3BlcnRpZXM6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIGZ1bmN0aW9uKHBhcmFtcyl7XG4gICAgaWYgKHR5cGVvZiBwYXJhbXMgPT09ICdvYmplY3QnKSB7XG4gICAgICAvLyDmlrDlrrnlmahUcml2ZXLph4fnlKh1cGRhdGVQYWdlUHJvcGVydGllc1xuICAgICAgaWYgKGlzVHJpdmVyKCkpIHtcbiAgICAgICAgbXkucmVwb3J0QW5hbHl0aWNzKCd1cGRhdGVQYWdlUHJvcGVydGllcycsIHBhcmFtcyk7XG4gICAgICB9IGVsc2UgaWYobWluaS5nZXRQbGF0Zm9ybVR5cGUoKT09PSdteScpe1xuICAgICAgICBteS5jYWxsKCdyZXBvcnREYXRhJyx7XG4gICAgICAgICAgc3BtRGV0YWlsOnBhcmFtcyxcbiAgICAgICAgICBpZ25vcmVEZWZhdWx0UGFnZU1vbml0b3I6dHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIC8vIOWQkeS4i+WFvOWuue+8jOS4jeeuoeaAjuS5iOagt+mDveW+gG1ldGFJbmZv6K6+572u5LiA5Lu9XG4gICAgICB2YXIgY3VycmVudFBhZ2UgPSBtaW5pLmdldEN1cnJlbnRQYWdlKCk7XG4gICAgICB2YXIgcGFnZU5hbWUgPSBjdXJyZW50UGFnZS5yb3V0ZSB8fCBjdXJyZW50UGFnZS5pcyB8fCAncGFnZSc7XG4gICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgZGF0YVtwYWdlTmFtZV0gPSBwYXJhbXM7XG4gICAgICBtZXRhSW5mby5hcHBlbmRNZXRhSW5mbygnYXBsdXMtcGFnZS1wcm9wZXJ0aWVzJywgZGF0YSk7XG4gICAgfVxuICB9LFxuICAvKipcbiAgICogaHR0cHM6Ly95dXF1ZS5hbnRmaW4taW5jLmNvbS9hcGx1c2pzL3Byb2plY3QvYXBsdXNfY2xvdWQjNjAzNGMxZGFcbiAgICovXG4gIF91cGRhdGVOZXh0UGFnZVByb3BlcnRpZXM6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICBpZiAoIXBhcmFtcykge1xuICAgICAgcGFyYW1zID0ge307XG4gICAgfVxuICAgIGlmIChteSkge1xuICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgIHR5cGU6ICd1cGRhdGVOZXh0UHJvcCcsXG4gICAgICAgIGV2ZW50SWQ6IC0xLFxuICAgICAgICBldmVudGlkOiAtMSxcbiAgICAgICAgbmFtZTogJycsXG4gICAgICAgIHBhZ2VOYW1lOiAnJyxcbiAgICAgICAgY29tTmFtZTogJycsXG4gICAgICAgIGFyZzE6ICcnLFxuICAgICAgICBhcmcyOiAnJyxcbiAgICAgICAgYXJnMzogJycsXG4gICAgICAgIHBhcmFtOiBwYXJhbXMsXG4gICAgICAgIHBhcmFtczogcGFyYW1zXG4gICAgICB9O1xuICAgICAgaWYgKG15LmNhbGxVc2VyVHJhY2spIHtcbiAgICAgICAgbXkuY2FsbFVzZXJUcmFjaygnY29tbWl0dXQnLCBkYXRhKTtcbiAgICAgIH0gZWxzZSBpZiAobXkucmVwb3J0QW5hbHl0aWNzKSB7XG4gICAgICAgIG15LnJlcG9ydEFuYWx5dGljcygnZW50ZXInLCBkYXRhKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRvIGFwcGVuZCBgbWV0YWAgdGFnIGlmIHRoZXJlJ3Mgbm9uZSBhcGx1cyBtZXRhLlxuICAgKiBPdGhlcndpc2UsIG1lcmdlIGNvbnRlbnQgYXR0cmlidXRlczpcbiAgICogIC0gYEFycmF5LnByb3RvdHlwZS5jb25jYXRgIGNhbGxlZCBvbiBBcnJheSB2YWx1ZXMuXG4gICAqICAtIGBPYmplY3QuYXNzaWduYCBjYWxsZWQgb24gT2JqZWN0IHZhbHVlcy5cbiAgICogIEBwYXJhbSBrXG4gICAqICBAcGFyYW0gdlxuICAgKi9cbiAgX2FwcGVuZE1ldGFJbmZvOiBtZXRhSW5mby5hcHBlbmRNZXRhSW5mbyxcblxuICAvKipcbiAgICogZ2V0IG1ldGFJbmZvIGJ5IGtleVxuICAgKiBAcGFyYW0ge1N0cmluZ31cbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKi9cbiAgZ2V0TWV0YUluZm86IGZ1bmN0aW9uIChrKSB7XG4gICAgcmV0dXJuIG1ldGFJbmZvLmdldE1ldGFJbmZvKGspO1xuICB9LFxuXG4gIC8vIOa3seW6puWFi+mahu+8jOS7juaguOW/g+W6k+aatOmcsuWHuuWOu+S+m2FwbHVzSlPmj5Lku7bkvb/nlKhcbiAgY2xvbmVEZWVwOiBjbG9uZURlZXAsXG4gIC8qKlxuICAgKiDlpoLmnpzlrrnlmajlrp7njrDkuoZhcHBlYXLjgIFkaXNhcHBlYXLvvIzkvYbkuJrliqHlj4jmg7PmiYvliqjmjqfliLbmiZPngrnnlJ/lkb3lkajmnJ/ml7bkvb/nlKhcbiAgICpcbiAgICogQHJldHVybiB7VW5kZWZpbmVkfVxuICAgKi9cbiAgX3NraXBQYWdlOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBmdW5jdGlvbiAoKSB7XG4gICAgLy8gVXNlclRyYWNrLnNraXBQYWdlKCk7XG4gICAgaWYgKG15ICYmIG15LmNhbGxVc2VyVHJhY2spIHtcbiAgICAgIG15LmNhbGxVc2VyVHJhY2soJ3NraXBQYWdlJyk7XG4gICAgfVxuICB9LFxuICAvKipcbiAgICog5aaC5p6c5a655Zmo5pyq5o+Q5L6bYXBwZWFy44CBZGlzYXBwZWFy5pe26ZyA6KaB5Lia5Yqh5omL5Yqo6LCD55SoXG4gICAqXG4gICAqIEByZXR1cm4ge1VuZGVmaW5lZH1cbiAgICovXG4gIF9wYWdlQXBwZWFyOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBmdW5jdGlvbigpe1xuICAgIGlmIChteSAmJiBteS5jYWxsVXNlclRyYWNrICYmIHRoaXMuaXNQYWdlRGlzQXBwZWFyKSB7XG4gICAgICB0aGlzLmlzUGFnZURpc0FwcGVhciA9IGZhbHNlO1xuICAgICAgdGhpcy5pc1BhZ2VBcHBlYXIgPSB0cnVlO1xuICAgICAgbXkuY2FsbFVzZXJUcmFjaygncGFnZUFwcGVhcicpO1xuICAgIH1cbiAgfSxcbiAgLyoqXG4gICAqIOWmguaenOWuueWZqOacquaPkOS+m2FwcGVhcuOAgWRpc2FwcGVhcuaXtumcgOimgeS4muWKoeaJi+WKqOiwg+eUqFxuICAgKlxuICAgKiBAcmV0dXJuIHtVbmRlZmluZWR9XG4gICAqL1xuICBfcGFnZURpc2FwcGVhcjogLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gZnVuY3Rpb24oKXtcbiAgICBpZiAobXkgJiYgbXkuY2FsbFVzZXJUcmFjayAmJiB0aGlzLmlzUGFnZUFwcGVhcikge1xuICAgICAgdGhpcy5pc1BhZ2VEaXNBcHBlYXIgPSB0cnVlO1xuICAgICAgdGhpcy5pc1BhZ2VBcHBlYXIgPSBmYWxzZTtcbiAgICAgIG15LmNhbGxVc2VyVHJhY2soJ3BhZ2VEaXNhcHBlYXInKTtcbiAgICB9XG4gIH0sXG4gIF91cGRhdGVQYWdlVXRwYXJhbTogLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gZnVuY3Rpb24gKHBhcmFtcykge1xuICAgIGlmICghcGFyYW1zKSB7XG4gICAgICBwYXJhbXMgPSB7fTtcbiAgICB9XG4gICAgaWYgKG15ICYmIG15LmNhbGxVc2VyVHJhY2spIHtcbiAgICAgIG15LmNhbGxVc2VyVHJhY2soJ3VwZGF0ZVBhZ2VVdHBhcmFtJywge1xuICAgICAgICAndXRQYXJhbUpzb24nOiBKU09OLnN0cmluZ2lmeShwYXJhbXMpXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgX3VwZGF0ZU5leHRQYWdlVXRwYXJhbTogLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gZnVuY3Rpb24ocGFyYW1zKXtcbiAgICBpZiAoIXBhcmFtcykge1xuICAgICAgcGFyYW1zID0ge307XG4gICAgfVxuICAgIGlmIChteSAmJiBteS5jYWxsVXNlclRyYWNrKSB7XG4gICAgICBteS5jYWxsVXNlclRyYWNrKCd1cGRhdGVOZXh0UGFnZVV0cGFyYW0nLCB7XG4gICAgICAgICd1dFBhcmFtSnNvbic6IEpTT04uc3RyaW5naWZ5KHBhcmFtcylcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICog5LuF5omL5reY77yIVjkuMTAuMO+8ieWwj+eoi+W6j+aUr+aMgVxuICAgKiBAcGFyYW1zIHtPYmplY3R9IHByb3BlcnRpZXNcbiAgICogQHJldHVybiB7VW5kZWZpbmVkfVxuICAgKi9cbiAgX3VwZGF0ZVNlc3Npb25Qcm9wZXJ0aWVzOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBmdW5jdGlvbiAocHJvcGVydGllcykge1xuICAgIC8vIGlmIChteSAmJiBteS5yZXBvcnRBbmFseXRpY3MgJiYgdHlwZW9mIHByb3BlcnRpZXMgPT09ICdvYmplY3QnKSB7XG4gICAgLy8gICBteS5yZXBvcnRBbmFseXRpY3MoJ3VwZGF0ZVNlc3Npb25Qcm9wZXJ0aWVzJywgcHJvcGVydGllcyk7XG4gICAgLy8gfVxuICAgIGlmIChteSAmJiBteS5jYWxsICYmIHR5cGVvZiBwcm9wZXJ0aWVzID09PSAnb2JqZWN0Jykge1xuICAgICAgbXkuY2FsbCgnaGFuZGxlTG9nZ2luZ0FjdGlvbicsIHtcbiAgICAgICAgdHlwZTogJ2JlaGF2aW9yJyxcbiAgICAgICAgc3ViVHlwZTogJ3VwZGF0ZVNlc3Npb25Qcm9wZXJ0aWVzJyxcbiAgICAgICAgZXh0RGF0YTogcHJvcGVydGllcyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgLyoqXG4gICAqIOS7heaJi+a3mO+8iFY5LjkuMO+8ieWwj+eoi+W6j+aUr+aMgVxuICAgKiBAcGFyYW1zIHtGdW5jdGlvbn0gY2FsbGJhY2s6IHtzcG1Vcmw6ICcnfVxuICAgKi9cbiAgX2dldFBhZ2VTcG1Vcmw6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIF9nZXRQYWdlU3BtKHtcbiAgICAgIHN1YlR5cGU6ICdnZXRQYWdlU3BtVXJsJyxcbiAgICAgIHNwbVR5cGU6ICdzcG1VcmwnXG4gICAgfSwgY2FsbGJhY2spO1xuICB9LFxuXG4gIC8qKlxuICAgKiDku4XmiYvmt5jvvIhWOS45LjDvvInlsI/nqIvluo/mlK/mjIFcbiAgICogQHBhcmFtcyB7RnVuY3Rpb259IGNhbGxiYWNrIDoge3NwbVByZTogJyd9XG4gICAqL1xuICBfZ2V0UGFnZVNwbVByZTogLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgX2dldFBhZ2VTcG0oe1xuICAgICAgc3ViVHlwZTogJ2dldFBhZ2VTcG1QcmUnLFxuICAgICAgc3BtVHlwZTogJ3NwbVByZSdcbiAgICB9LCBjYWxsYmFjayk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIOiuvue9rlBhZ2VOYW1lIFxuICAqL1xuICBfc2V0UGFnZU5hbWU6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIGZ1bmN0aW9uKHBhZ2VOYW1lLCBwYXRoKSB7XG4gICAgaWYgKCFwYWdlTmFtZSkge1xuICAgICAgdWxvZygpLncoJ3NldFBhZ2VOYW1lIGZhaWxlZDogJyArICcgcGFnZU5hbWU9JyArIHBhZ2VOYW1lKTtcbiAgICAgIC8vIHV0aWxMb2dnZXIubG9nZ2VyKHtcbiAgICAgIC8vICAgbXNnOiAnc2V0UGFnZU5hbWUgZmFpbGVkOiAnICsgJyBwYWdlTmFtZT0nICsgcGFnZU5hbWUgXG4gICAgICAvLyB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGN1clBhdGggPSBwYXRoIHx8IFBhZ2VNYW5hZ2VyLmdldEN1cnJlbnRQYWdlUGF0aCgpO1xuICAgIFxuICAgIHZhciBwYWdlTWV0YSA9IGNsb25lRGVlcChtZXRhSW5mby5nZXRNZXRhSW5mbygncGFnZUNvbmZpZycpIHx8IHt9KTtcbiAgICBwYWdlTWV0YVtjdXJQYXRoXSA9IHBhZ2VOYW1lO1xuICAgIG1ldGFJbmZvLmFwcGVuZE1ldGFJbmZvKCdwYWdlQ29uZmlnJywgcGFnZU1ldGEpO1xuICB9LFxuXG4gIC8qKlxuICAgKiDojrflj5ZQYWdlTmFtZVxuICAqL1xuICBnZXRQYWdlTmFtZTogLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gZnVuY3Rpb24ocGF0aCkge1xuICAgIHJldHVybiBQYWdlTWFuYWdlci5nZXRQYWdlQ29kZShwYXRoKTtcbiAgfSxcblxuICAvKipcbiAgICog6I635Y+W5YWD57Sg55qEc3BtXG4gICAqICovIFxuICBfZ2V0RWxlbWVudFNQTTogLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gZnVuY3Rpb24odGFyZ2V0LCBjYWxsYmFjaykge1xuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHZhciBzcG1CID0gUGFnZU1hbmFnZXIuZ2V0UGFnZUNvZGUoKSB8fCAnJzsgXG5cbiAgICBpZiAodHlwZW9mIHRhcmdldCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHZhciB0cmFja2VyUGFyYW1zID0gdGFyZ2V0LmRhdGFzZXQgJiYgdGFyZ2V0LmRhdGFzZXQudHJhY2tlclBhcmFtcyB8fCAnJztcbiAgICAgIHZhciBzcG1DRCA9IHV0aWwuanNvbkxpa2VTdHIySlNPTih0cmFja2VyUGFyYW1zKTtcbiAgICAgIHJldHVybiBbc3BtQiwgc3BtQ0Quc3BtQywgc3BtQ0Quc3BtRF0uam9pbignLicpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgY3R4ID0gbWluaS5nZXRDb250ZXh0KCk7XG4gICAgICB2YXIgYXV0b19jbGtfbWV0YWluZm8gPSBtZXRhSW5mby5nZXRNZXRhSW5mbygnYXBsdXMtYXV0by1jbGsnKSB8fCBbXTtcbiAgICAgIHZhciBhdXRvX2V4cF9tZXRhaW5mbyA9IG1ldGFJbmZvLmdldE1ldGFJbmZvKCdhcGx1cy1hdXRvLWV4cCcpIHx8IFtdO1xuICAgICAgdmFyIHRhcmdldFNwbTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBpO1xuICAgICAgICAvL+iHquWKqOeCueWHu+S8mOWFiOe6p+abtOmrmFxuICAgICAgICBmb3IoaSA9IDA7IGkgPCBhdXRvX2Nsa19tZXRhaW5mby5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgdmFyIGNsa19pbmZvID0gYXV0b19jbGtfbWV0YWluZm9baV07XG4gICAgICAgICAgaWYgKGNsa19pbmZvLmNzc1NlbGVjdG9yID09PSB0YXJnZXQpIHtcbiAgICAgICAgICAgIHRhcmdldFNwbSA9IFtzcG1CLCBjbGtfaW5mby5zcG1DLCBjbGtfaW5mby5zcG1EXS5qb2luKCcuJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICBmb3IoaSA9IDA7IGkgPCBhdXRvX2V4cF9tZXRhaW5mby5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgdmFyIGV4cF9pbmZvID0gYXV0b19leHBfbWV0YWluZm9baV07XG4gICAgICAgICAgaWYgKGV4cF9pbmZvLmNzc1NlbGVjdG9yID09PSB0YXJnZXQpIHtcbiAgICAgICAgICAgIHRhcmdldFNwbSA9IFtzcG1CLCBleHBfaW5mby5zcG1DLCBleHBfaW5mby5zcG1EXS5qb2luKCcuJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH07IFxuXG4gICAgICAgIHZhciBlbGVtZW50cyA9IGN0eC5jcmVhdGVTZWxlY3RvclF1ZXJ5KCkuc2VsZWN0QWxsKHRhcmdldCk7XG4gICAgICAgIGlmICh0eXBlb2YgZWxlbWVudHMuZmllbGRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgZWxlbWVudHMuZmllbGRzKHtcbiAgICAgICAgICAgIGRhdGFzZXQ6IHRydWUsXG4gICAgICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgICB9LCBmdW5jdGlvbihyZXQpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgICAgIGlmIChyZXQgJiYgcmV0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gcmV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godGFyZ2V0U3BtICsgJ18nICsgaSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrICYmIHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHJlc3VsdCk7ICBcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmV4ZWMoKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdWxvZygpLncoJ+ivpeW5s+WPsOS4jeaUr+aMgWRvbeWFg+e0oOafpeivoiwgZXJyID0gJywgZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICog5Lmd6ZSh6ZyA5rGC77yaaHR0cHM6Ly95dXF1ZS5hbnRmaW4taW5jLmNvbS9seGxuN2gvYnZ6eW1yL2FrYjQ5ZiNoUGFYTFxuICAgKiBhcHDllKTotbfkuovku7bmjqXlj6PvvIzlrp7pmYXlsLHmmK9yZWNvcmRcbiAgICovXG4gIF9yZWNvcmRBcHBMaW5rOiBmdW5jdGlvbiAoZ29rZXksIG1ldGhvZCwgY2IpIHtcbiAgICBpZighZ29rZXkudGFyZ2V0QXBwS2V5KSB7XG4gICAgICB1bG9nKCkudygnc2VuZCAkJF9hcHBfbGluayBmYWlsZWQ6IHRhcmdldEFwcEtleSBpcyBudWxsJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKGFwbHVzU3RhdGljLkFQTFVTKTtcbiAgICByZXR1cm4gYXBsdXMuX3JlY29yZCgnJCRfYXBwX2xpbmsnLCAnT1RIRVInLCBnb2tleSwgbWV0aG9kLCBjYik7XG4gIH0sXG59KTtcblxuZXhwb3J0cy5ydW4gPSBydW47XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9wbHVnaW5zL2xpYl9hcGkvYXBsdXNfbWluaS5qc1xuLy8gbW9kdWxlIGlkID0gNzhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBwcm9qZWN0IC0gZmlsZXBhdGhcbiAqIGRlc2NyaXB0aW9uXG4gKlxuICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuICpcbiAqIEF1dGhvcnM6XG4gKiAgIOiwi+WjqyA8cWluZ2xpYW5nLmhxbEBhbGliYWJhLWluYy5jb20+XG4gKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIGVhY2ggPSByZXF1aXJlKCdAdXRpbHMvZWFjaCcpO1xudmFyIHV0aWxHb2xkbG9nID0gcmVxdWlyZSgnQHV0aWxzL3V0aWxHb2xkbG9nJyk7XG52YXIgaXNGdW5jdGlvbiA9IHJlcXVpcmUoJ0B1dGlscy9pc0Z1bmN0aW9uJyk7XG52YXIgdXRpbFB1YnN1YiA9IHJlcXVpcmUoJ0B1dGlscy91dGlsUHVic3ViJyk7XG52YXIgdXRpbExvZ2dlciA9IHJlcXVpcmUoJ0B1dGlscy91dGlsTG9nZ2VyJyk7XG52YXIgYXBsdXNTdGF0aWMgPSByZXF1aXJlKCdAdXRpbHMvYXBsdXNTdGF0aWMnKTtcbnZhciBDb21wb3NlID0gcmVxdWlyZSgnQGNvcmUvY29tcG9zZScpO1xudmFyIHBsdWdpbnNMb2FkZXIgPSByZXF1aXJlKCdAY29yZS9wbHVnaW5zTG9hZGVyJyk7XG5cbi8qKlxuICogc2VucHZcbiAqIEBwYXJhbSBbT2JqZWN0XSBjb25maWc6IHtcbiAqICAgY2hlY2tzdW06IDExMTExMTExLCAgIC8vIOagueaNrnNwbWEsc3BtYuiHquWKqOeUn+aIkOeahOS4gOS4quWtl+espuS4slxuICogICBpc19hdXRvOiB0cnVlL2ZhbHNl77yMIC8vIOagh+ivhuaYr+WQpuiHquWKqOaJk+eCue+8jOm7mOiupOS4unRydWXvvIzljZXpobXlupTnlKjpnIDopoHkvKBmYWxzZVxuICogICBwYWdlX2lkOiAxMjMsICAgICAgICAvLyDlsIbkvJrkvZPnjrDlnKhzcG1i5L2N5LiKXG4gKiAgIGdva2V5OiAnJywgICAgICAgICAgIC8vIOebruWJjeW3sue7j+WkseaViFxuICogICByZWZlcnJlcjogJ2h0dHA6Ly93d3cudGFvYmFvLmNvbScgICAvLyDlsIbkvJrmm7/mjaJwduivt+axgueahHByZeWPguaVsFxuICogfSAvLyDlkIwgYXBsdXMubGF1bmNo56ys5LqM5Liq5YWl5Y+C4oCcbWFudWFs4oCdXG4gKlxuICogQHBhcmFtIFtPYmplY3RdIHVzZXJkYXRhICAgLy8g5ZCE56eN6Ieq5a6a5LmJcHblj4LmlbBcbiAqXG4gKiBAcGFyYW0gW09iamVjdF0gb2JqIC0ge2ZuX2FmdGVyX3B2OiBmbl9hZnRlcl9wdiwgeHh4OiB4eHh9XG4gKlxuICogc3RlcDE6IGxvYWRlciBwbHVnaW5zICBtaWRkbGV3YXJlXG4gKiBzdGVwMjogbG9hZGVyIGRvU2VuZFB2IG1pZGRsZXdhcmVcbiAqIHN0ZXAzOiBydW4gbWlkZGxld2FyZXNcbiAqL1xuXG52YXIgUmVkdWNlciA9IGZ1bmN0aW9uKCkge1xufTtcblxuLyoqXG4gKiBAcGFyYW1zIE9iamVjdCBDT05GSUcge1xuICogICBjb250ZXh0OiB4eHgsXG4gKiAgIHBsdWdpbnM6IHh4eCBcbiAqIH1cbiAqIEBwYXJhbXMgT2JqZWN0IG9wdHMge1xuICogICBjb25maWc6IGNvbmZpZyxcbiAqICAgdXNlcmRhdGE6IHVzZXJkYXRhLFxuICogICBwdWJzdWJUeXBlOiAncHYnIHx8ICdoamxqJyB8fCAncHJlcHYnXG4gKiAgIG1pZGRsZXdhcmVNZXNzYWdlS2V5OiAnbXdfY2hhbmdlX3B2JyB8fCAnbXdfY2hhbmdlX2hqbGonIHx8ICdtd19jaGFuZ2VfcHJlcHYnXG4gKiAgIG1lc3NhZ2VGblF1ZXVlOiBbZm4xLCBmbjIgLi4uXVxuICogfVxuICovXG5SZWR1Y2VyLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoQ09ORklHLCBvcHRzLCBjYWxsYmFjaykge1xuICAvLyAx44CBaW5pdCBwbHVnaW5zXG4gIHZhciBwbCA9IG5ldyBwbHVnaW5zTG9hZGVyKCk7XG4gIHBsLmluaXQoe1xuICAgIG1pZGRsZXdhcmU6IFtdLFxuICAgIGNvbmZpZzogb3B0cy5jb25maWcsXG4gICAgcGx1Z2luczogQ09ORklHLnBsdWdpbnNcbiAgfSk7XG4gIHZhciBtaWRkbGV3YXJlID0gcGwucnVuKCk7XG5cbiAgLy8g5Yid5aeL5YyW5LiK5LiL5paH546v5aKD77yMY29udGV4dOWGheeahGRhdGHlsIbkvJrlnKjlkITkuKrmj5Lku7bkuK3ov5vooYzotYvlgLzmiJbogIXkv67mlLnvvIjph43opoHvvIlcbiAgdmFyIGNvbnRleHQgPSBpc0Z1bmN0aW9uKENPTkZJRy5jb250ZXh0KSA/IG5ldyBDT05GSUcuY29udGV4dCgpIDogQ09ORklHLmNvbnRleHQ7XG4gIGNvbnRleHQudXNlcmRhdGEgPSBvcHRzLnVzZXJkYXRhO1xuICBjb250ZXh0LmxvZ2dlciA9IHV0aWxMb2dnZXIubG9nZ2VyO1xuXG4gIHZhciBhcHAgPSB7XG4gICAgY29udGV4dDogY29udGV4dCxcbiAgICBwdWJzdWI6IHV0aWxHb2xkbG9nLmdldEdvbGRsb2dWYWwoJ2FwbHVzX3B1YnN1YicpLFxuICAgIHB1YnN1YlR5cGU6IG9wdHMgJiYgb3B0cy5wdWJzdWJUeXBlXG4gIH07XG5cbiAgdmFyIGNvbXBvc2UgPSBuZXcgQ29tcG9zZSgpO1xuICBjb21wb3NlLmNyZWF0ZShhcHApO1xuICAvLyDmiafooYzkuK3pl7Tku7ZcbiAgY29tcG9zZS53cmFwKG1pZGRsZXdhcmUsIGZ1bmN0aW9uKCkge1xuICAgIGFwcC5jb250ZXh0LnN0YXR1cyA9IGFwbHVzU3RhdGljLkNPTVBMRVRFO1xuICAgIGlmIChvcHRzKSB7XG4gICAgICBpZiAob3B0cy5taWRkbGV3YXJlTWVzc2FnZUtleSkge1xuICAgICAgICB1dGlsUHVic3ViLmRvUHViTXNnKFtvcHRzLm1pZGRsZXdhcmVNZXNzYWdlS2V5LCBhcHAuY29udGV4dF0pOyAgXG4gICAgICB9XG4gICAgICBpZiAob3B0cy5tZXNzYWdlRm5RdWV1ZSkge1xuICAgICAgICBlYWNoKG9wdHMubWVzc2FnZUZuUXVldWUsIGZ1bmN0aW9uIChmbikge1xuICAgICAgICAgIGZuKHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKGFwbHVzU3RhdGljLkFQTFVTKSwgQ09ORklHKTtcbiAgICAgICAgfSk7ICBcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzRnVuY3Rpb24oY2FsbGJhY2spKSB7XG4gICAgICBjYWxsYmFjayhhcHAuY29udGV4dCk7XG4gICAgfVxuICB9KSgpO1xuXG59O1xubW9kdWxlLmV4cG9ydHMgPSBSZWR1Y2VyO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvbGliX3UvY29yZS9SZWR1Y2VyLmpzXG4vLyBtb2R1bGUgaWQgPSA3OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIHByb2plY3QgLSBmaWxlcGF0aFxuICog5pel5b+X57G75bel5YW36ZuG5ZCIXG4gKlxuICogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuICpcbiAqIEF1dGhvcnM6XG4gKiAgIOiwi+WjqyA8cWluZ2xpYW5nLmhxbEBhbGliYWJhLWluYy5jb20+XG4gKi9cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAcGFyYW1zIHtPYmplY3R9IG8gOntcbiAqICAgbGV2ZWw6ICd3YXJuL2luZm8vbG9nJyBkZWZhdWx0IGlzIHdhcm5cbiAqICAgbXNnOiAnbXNnJ1xuICogfVxuICovXG52YXIgcHJlZml4ID0gJ1tBUExVU10gLS0gJztcbmV4cG9ydHMubG9nZ2VyID0gZnVuY3Rpb24gKG8pIHtcbiAgaWYgKCFvKSB7XG4gICAgbyA9IHt9O1xuICB9XG4gIHZhciBsZXZlbCA9IG8ubGV2ZWwgfHwgJ3dhcm4nO1xuICBjb25zb2xlICYmIGNvbnNvbGVbbGV2ZWxdICYmIGNvbnNvbGVbbGV2ZWxdKHByZWZpeCtvLm1zZyk7XG59O1xuXG5leHBvcnRzLmRlYnVnTG9nID0gZnVuY3Rpb24obykge1xuICB2YXIgYXBsdXMgPSByZXF1aXJlKCdAdXRpbHMvdXRpbEdvbGRsb2cnKS5nZXRHbG9iYWxWYWx1ZSgnYXBsdXMnKTtcbiAgaWYgKGFwbHVzICYmIGFwbHVzLmFwbHVzRGVidWcpIHtcbiAgICB0aGlzLmxvZ2dlcihvKTtcbiAgfVxufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9saWJfdS91dGlscy91dGlsTG9nZ2VyLmpzXG4vLyBtb2R1bGUgaWQgPSA4MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIGFsaWxvZy9zIC0gc3JjL2xpYl91L2NvbmZpZy9jb21wb3NlLmpzXG4gKiDlh73mlbDpmJ/liJfljIXoo4XlmaggRXhwb3NlIGNvbXBvc2l0b3JcbiAqXG4gKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG4gKlxuICogQXV0aG9yczpcbiAqICAg6LCL5aOrIDxxaW5nbGlhbmcuaHFsQGFsaWJhYmEtaW5jLmNvbT5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgaXNGdW5jdGlvbiA9IHJlcXVpcmUoJ0B1dGlscy9pc0Z1bmN0aW9uJyk7XG52YXIgdXRpbEFycmF5ID0gcmVxdWlyZSgnQHV0aWxzL3V0aWxBcnJheScpO1xuLy8gdmFyIHV0aWxMb2dnZXIgPSByZXF1aXJlKCdAdXRpbHMvdXRpbExvZ2dlcicpO1xudmFyIHVsb2cgPSByZXF1aXJlKCdAdXRpbHMvdWxvZycpO1xuXG5mdW5jdGlvbiBjb21wb3NlICgpIHt9O1xuXG5jb21wb3NlLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihwcm9wcykge1xuICAvKipcbiAgICogY3JlYXRl5a6e6ZmF5LiK5piv5a+5bmV355qE5bCB6KOF77ybXG4gICAqIGNyZWF0Zei/lOWbnueahOWunuS+i+WunumZheS4iuWwseaYr25ld+aehOmAoOWHuueahOWunuS+i++8m1xuICAgKiB0aGlz5Y2z5oyH5ZCR6LCD55So5b2T5YmNY3JlYXRl55qE5p6E6YCg5Ye95pWw77ybXG4gICAqL1xuICBmb3IgKHZhciBuYW1lIGluIHByb3BzKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzW25hbWVdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpc1tuYW1lXSA9IHByb3BzW25hbWVdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cbmNvbXBvc2UucHJvdG90eXBlLmNhbGxlZExpc3QgPSBbXTtcblxuY29tcG9zZS5wcm90b3R5cGUuc2V0Q2FsbGVkTGlzdCA9IGZ1bmN0aW9uKGkpIHtcbiAgaWYgKHV0aWxBcnJheS5pbmRleG9mKHRoaXMuY2FsbGVkTGlzdCwgaSkgPT09IC0xKSB7XG4gICAgdGhpcy5jYWxsZWRMaXN0LnB1c2goaSk7XG4gIH1cbn07XG5cbmNvbXBvc2UucHJvdG90eXBlLnJlc2V0Q2FsbGVkTGlzdCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmNhbGxlZExpc3QgPSBbXTtcbn07XG5cbmNvbXBvc2UucHJvdG90eXBlLndyYXAgPSBmdW5jdGlvbihtdywgY2FsbGJhY2spIHtcbiAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICB2YXIgY3R4ID0gdGhpcy5jb250ZXh0IHx8IHt9O1xuICB2YXIgY29tcG9zZSA9IGN0eC5jb21wb3NlIHx8IHt9O1xuICB2YXIgbWF4VGltZW91dCA9IGNvbXBvc2UubWF4VGltZW91dCB8fCAxMCAqIDEwMDA7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHZhciBzaXplID0gbXcubGVuZ3RoOyAvLyDkuK3pl7Tku7bpmJ/liJfplb/luqZcbiAgICB2YXIgaSA9IDA7IC8vIOS4remXtOS7tue0ouW8lVxuICAgIHZhciBqID0gMDsgLy8g5LiA5Liq5qCH6K+G77yMMC3liJ3lp4vnirbmgIHvvIwxLeS4remXtOS7tuWbnuiwg+aJp+ihjOS6hlxuICAgIHZhciBzbGVlcEhhbmRlcjE7XG4gICAgdmFyIHJ1biA9IGZ1bmN0aW9uKGluZGV4LCBzdGF0dXMpIHtcbiAgICAgIC8vIGNvbnRleHQucHVic3ViSW5mbyhjb250ZXh0LCBtd1tpXSk7XG4gICAgICAvLyDkuK3pl7Tku7bpmJ/liJfmiafooYzlrozmr5XlkI7ov5Tlm55cbiAgICAgIGlmIChpID09PSBzaXplKSB7XG4gICAgICAgIHN0YXRlID0gJ2RvbmUnO1xuICAgICAgICBjb250ZXh0LnJlc2V0Q2FsbGVkTGlzdCgpOyAvLyDph43nva5jYWxsZWRMaXN05Y+Y6YePXG4gICAgICAgIC8vIHN0YXR1c+WmguaenOetieS6jmRvbmXvvIzor7TmmI7mmK/kuK3pgJTpgIDlh7rnmoTkuK3pl7Tku7bvvIzkuI3pnIDopoHmiafooYzlm57osINcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oY2FsbGJhY2spICYmIHN0YXR1cyAhPT0gc3RhdGUpIHtcbiAgICAgICAgICBjYWxsYmFjay5jYWxsKGNvbnRleHQsIHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBjbGVhclRpbWVvdXQoc2xlZXBIYW5kZXIxKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gdmFyIGNiX3N0YXRlID0gbnVsbDtcbiAgICAgIC8vIOS/neivgeavj+S4quS4remXtOS7tuWPquS8muaJp+ihjOS4gOasoVxuICAgICAgaWYgKHV0aWxBcnJheS5pbmRleG9mKGNvbnRleHQuY2FsbGVkTGlzdCwgaSkgPT09IC0xKSB7XG4gICAgICAgIGNvbnRleHQuc2V0Q2FsbGVkTGlzdCAmJiBjb250ZXh0LnNldENhbGxlZExpc3QoaSk7XG4gICAgICAgIGlmIChtdyAmJiBtd1tpXSAmJiBpc0Z1bmN0aW9uKG13W2ldWzBdKSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEBwYXJhbXMge0FycmF5fSBtaWRkbGV3YXJlXG4gICAgICAgICAgICAgKiBAcGFyYW1zIHtBcnJheX0gbXNnXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHN0YXRlID0gbXdbaV1bMF0uY2FsbChjb250ZXh0LCBzdGF0ZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgIGogPSAxOyAgLy8gMS3kuK3pl7Tku7blm57osIPmiafooYzkuoZcbiAgICAgICAgICAgICAgcnVuKGkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdWxvZygpLncoZSk7XG4gICAgICAgICAgICAvLyB1dGlsTG9nZ2VyLmxvZ2dlcih7XG4gICAgICAgICAgICAvLyAgIG1zZzogZVxuICAgICAgICAgICAgLy8gfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8g54q25oCB5Li6cGF1c2XnrYnlvoUyMDBtc+i9ruivou+8jOeKtuaAgeS4um51bWJlcuexu+Wei+eahOaVsOWAvOetieW+hXN0YXRlbXPova7or6JcbiAgICAgIHZhciBpc051bWJlciA9IHR5cGVvZiBzdGF0ZSA9PT0gJ251bWJlcic7XG4gICAgICBpZiAoc3RhdGUgPT09ICdwYXVzZScgfHwgaXNOdW1iZXIpIHtcbiAgICAgICAgaiA9IDA7XG4gICAgICAgIC8vIOacgOWkp+etieW+heaXtumVv1xuICAgICAgICB2YXIgX3RpbWVfb3V0ID0gaXNOdW1iZXIgPyBzdGF0ZSA6IG1heFRpbWVvdXQ7XG4gICAgICAgIHZhciBfbXdfbmFtZSA9IG13W2ldID8gbXdbaV1bMV0gOiAnJztcbiAgICAgICAgc2xlZXBIYW5kZXIxID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoaiA9PT0gMCkge1xuICAgICAgICAgICAgdWxvZygpLncoJ2p1bXAgdGhlIG1pZGRsZXdhcmUgYWJvdXQgJyArIF9td19uYW1lICsgJywgYmVjYXVzZSB3YWl0aW5nIHRpbWVvdXQgbWF4VGltZW91dCA9ICcgKyBfdGltZV9vdXQpO1xuICAgICAgICAgICAgLy8gdXRpbExvZ2dlci5sb2dnZXIoe1xuICAgICAgICAgICAgLy8gICBtc2c6ICdqdW1wIHRoZSBtaWRkbGV3YXJlIGFib3V0ICcgKyBfbXdfbmFtZSArICcsIGJlY2F1c2Ugd2FpdGluZyB0aW1lb3V0IG1heFRpbWVvdXQgPSAnICsgX3RpbWVfb3V0XG4gICAgICAgICAgICAvLyB9KTtcbiAgICAgICAgICAgIHN0YXRlID0gbnVsbDtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIHJ1bihpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF90aW1lX291dCk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSAnZG9uZScpIHtcbiAgICAgICAgLy8g54q25oCB5Li6ZG9uZeihqOekuue7k+adn++8jOS4jeeuoeWQjumdoui/mOacieayoeacieS4remXtOS7tumDvee7k+adn1xuICAgICAgICBpID0gc2l6ZTtcbiAgICAgICAgcnVuKGksIHN0YXRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIOm7mOiupOeKtuaAge+8jOWPqueuoeaJp+ihjOS4remXtOS7tumYn+WIl1xuICAgICAgICBpKys7XG4gICAgICAgIHJ1bihpKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmIChjb250ZXh0LmNhbGxlZExpc3QgJiYgY29udGV4dC5jYWxsZWRMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnRleHQucmVzZXRDYWxsZWRMaXN0KCk7XG4gICAgfVxuICAgIHJldHVybiBydW4oaSk7XG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbXBvc2U7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvbGliX3UvY29yZS9jb21wb3NlLmpzXG4vLyBtb2R1bGUgaWQgPSA4MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIGFsaWxvZy9zIC0gc3JjL2xpYl91L2NvbmZpZy9wbHVnaW5zL3BsdWdpbnNMb2FkZXIuanNcbiAqIOaPkuS7tuWKoOi9veWZqFxuICpcbiAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cbiAqXG4gKiBBdXRob3JzOlxuICogICDosIvlo6sgPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciBhc3NpZ24gPSByZXF1aXJlKCdAdXRpbHMvYXNzaWduJyk7XG4vLyB2YXIgdXRpbExvZ2dlciA9IHJlcXVpcmUoJ0B1dGlscy91dGlsTG9nZ2VyJyk7XG52YXIgdWxvZyA9IHJlcXVpcmUoJ0B1dGlscy91bG9nJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtcyBvcHRzIHtcbiAgICAgKiAgIG1pZGRsZXdhcmU6IFtdLFxuICAgICAqICAgcGx1Z2luczogW10sXG4gICAgICogICBjb25maWc6IHt9XG4gICAgICogfVxuICAgICAqL1xuICAgIGluaXQ6IGZ1bmN0aW9uKG9wdHMpIHtcbiAgICAgIHRoaXMub3B0cyA9IG9wdHM7XG4gICAgICBpZiAob3B0cyAmJiB0eXBlb2Ygb3B0cy5taWRkbGV3YXJlID09PSAnb2JqZWN0JyAmJiBvcHRzLm1pZGRsZXdhcmUubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmUgPSBvcHRzLm1pZGRsZXdhcmU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmUgPSBbXTtcbiAgICAgIH1cbiAgICAgIHRoaXMucGx1Z2luc19uYW1lID0gW107XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIOWIhuWPkeiuoumYheWPmOWMllxuICAgICAqIEBwYXJhbSBvIHtcbiAgICAgKiAgIHB1YnN1Yjogey4uLn0sXG4gICAgICogICBjb250ZXh0OiB7Li4ufVxuICAgICAqIH0sXG4gICAgICogQHBhcmFtIG13IOW9k+WJjeaJp+ihjOeahOS4remXtOS7tlxuICAgICAqL1xuICAgIHB1YnN1YkluZm86IGZ1bmN0aW9uKGN0eCwgbXcpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBwdWJzdWIgPSBjdHgucHVic3ViO1xuICAgICAgICBpZiAocHVic3ViKSB7XG4gICAgICAgICAgcHVic3ViLnB1Ymxpc2goJ3BsdWdpbnNfY2hhbmdlXycgKyBjdHgucHVic3ViVHlwZSwgbXcpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHVsb2coKS53KGUpO1xuICAgICAgICAvLyB1dGlsTG9nZ2VyLmxvZ2dlcih7XG4gICAgICAgIC8vICAgbXNnOiBlXG4gICAgICAgIC8vIH0pO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBydW46IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgaWYoIWluZGV4KSBpbmRleCA9IDA7XG4gICAgICB2YXIgX3NlbGYgPSB0aGlzO1xuICAgICAgdmFyIG1pZGRsZXdhcmUgPSB0aGlzLm1pZGRsZXdhcmU7XG4gICAgICB2YXIgb3B0cyA9IHRoaXMub3B0cyB8fCB7fTtcbiAgICAgIHZhciBwbHVnaW5zID0gb3B0cy5wbHVnaW5zO1xuICAgICAgaWYgKHBsdWdpbnMgJiYgdHlwZW9mIHBsdWdpbnMgPT09ICdvYmplY3QnICYmIHBsdWdpbnMubGVuZ3RoID4gMCkge1xuICAgICAgICB2YXIgcGx1Z2luID0gcGx1Z2luc1tpbmRleF07XG4gICAgICAgIHRoaXMucGx1Z2luc19uYW1lLnB1c2gocGx1Z2luLm5hbWUpO1xuICAgICAgICBtaWRkbGV3YXJlLnB1c2goW2Z1bmN0aW9uKHN0YXRlLCBjYil7XG4gICAgICAgICAgX3NlbGYucHVic3ViSW5mbyh0aGlzLCBwbHVnaW4pO1xuICAgICAgICAgIC8vIOiOt+WPluaPkuS7tuaooeWdl+i3r+W+hOW5tuWIneWni+WMllxuICAgICAgICAgIHZhciBtID0gbmV3IHBsdWdpbi5wYXRoKCk7XG5cbiAgICAgICAgICAvLyDkuLroioLnnIHku6PnoIHph4/vvIzpu5jorqTnmoTliJ3lp4vljJbmlrnms5XlnKjliqDovb3lmajlhoXlgZrlhZzlupXlpITnkIbvvIzljbPmj5Lku7blhoXml6Dnibnmrormg4XlhrXml6DpnIDlrp7njrBpbml05pa55rOVXG4gICAgICAgICAgaWYgKCFtLmluaXQpIHtcbiAgICAgICAgICAgIG0uaW5pdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyDlsIbkuIrkuIvmlofms6jlhaXliLDmj5Lku7blhoVcbiAgICAgICAgICBtLmluaXQoe1xuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgY29uZmlnOiBhc3NpZ24ocGx1Z2luLmNvbmZpZyB8fCB7fSwgb3B0cy5jb25maWcpXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIG0ucnVuKHN0YXRlLCBmdW5jdGlvbiAobXNnKSB7XG4gICAgICAgICAgICAvLyDov5nph4zkvb/nlKgx5q+r56eS5bu26L+f5omn6KGM77yM6Ziy5q2i5Lit6Ze05Lu25Li75L2T5YaF55qEY2FsbGJhY2vlhYjmiafooYzvvIzlr7zoh7TmoYbmnrbmi7/kuI3liLDkuK3pl7Tku7ZyZXR1cm7nmoTnrYnlvoXml7bplb/vvIzku47ogIzlr7zoh7Tnm5HmjqflvILluLhcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBjYihwbHVnaW4sIG1zZyk7XG4gICAgICAgICAgICB9LCAxKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgcGx1Z2luLm5hbWVdKTtcblxuICAgICAgICBpbmRleCsrO1xuICAgICAgICBpZihwbHVnaW5zW2luZGV4XSl7XG4gICAgICAgICAgcmV0dXJuIHRoaXMucnVuKGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG1pZGRsZXdhcmU7XG4gICAgfVxuICB9O1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9saWJfdS9jb3JlL3BsdWdpbnNMb2FkZXIuanNcbi8vIG1vZHVsZSBpZCA9IDgyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImZ1bmN0aW9uIGlzVHJpdmVyKCkge1xuICB0cnkge1xuICAgIHZhciBVQSA9IG5hdmlnYXRvciA/IChuYXZpZ2F0b3IudXNlckFnZW50IHx8IG5hdmlnYXRvci5zd3VzZXJBZ2VudCkgOiAnJztcbiAgICByZXR1cm4gL1RyaXZlci9nLnRlc3QoVUEpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGlzVHJpdmVyO1xuXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9saWJfdS91dGlscy9pc1RyaXZlci5qc1xuLy8gbW9kdWxlIGlkID0gODNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBhbGlsb2cvcyAtIHNyYy9saWJfdS9jb25maWcvaW5pdC9pbml0TG9hZF9iYXNlLmpzXG4gKiDliJ3lp4vljJbln7rnoYDmqKHlnZfvvIzkuI3og73nm7TmjqXkvb/nlKjvvIzpnIDopoHpgJrov4dpbml0TG9hZF9wYy5qc+aIlmluaXRMb2FkX3dhcC5qc+etieWFt+S9k+eahOWcuuaZr+aooeWdl+iwg+eUqFxuICpcbiAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cbiAqXG4gKiBBdXRob3JzOlxuICogICBAYXV0aG9yIGppemhhLnd5aiBAYmxvZyBodHRwOi8vb2xkai5uZXRcbiAqICAg6LCL5aOrIDxxaW5nbGlhbmcuaHFsQGFsaWJhYmEtaW5jLmNvbT5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgYWN0aW9uID0gcmVxdWlyZSgnLi9hY3Rpb24nKTtcbnZhciB1dGlsR29sZGxvZyA9IHJlcXVpcmUoJ0B1dGlscy91dGlsR29sZGxvZycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICBydW46ICBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgYXBsdXNfY29uZmlnID0gdGhpcy5vcHRpb25zLmNvbnRleHQuYXBsdXNfY29uZmlnO1xuICAgICAgdmFyIEFQTFVTX1FVRVVFID0gYXBsdXNfY29uZmlnLmdsb2JhbENvbmZpZy5BUExVU19RVUVVRTtcblxuICAgICAgdmFyIGNvbnRleHQgPSB1dGlsR29sZGxvZy5nZXRDb250ZXh0KCk7XG4gICAgICB2YXIgcXVlID0gY29udGV4dFtBUExVU19RVUVVRV0gfHwgW107XG4gICAgICB2YXIgcnMgPSBhY3Rpb24uZ2V0Rm9ybWF0UXVldWUocXVlLCAnbWV0YVF1ZXVlJyk7XG4gICAgICBjb250ZXh0W0FQTFVTX1FVRVVFXSA9IHJzLnF1ZXVlO1xuICAgICAgYWN0aW9uLnByb2Nlc3NHb2xkbG9nUXVldWUocnMuZm9ybWF0UXVldWUsIHRoaXMub3B0aW9ucy5jb25maWcpO1xuICAgIH1cbiAgfTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9wbHVnaW5zL2xpYl9xdWV1ZS9tZXRhX3F1ZXVlLmpzXG4vLyBtb2R1bGUgaWQgPSA4NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcbnZhciB1dGlsR29sZGxvZyA9IHJlcXVpcmUoJ0B1dGlscy91dGlsR29sZGxvZycpO1xudmFyIHV0aWxBcnJheSA9IHJlcXVpcmUoJ0B1dGlscy91dGlsQXJyYXknKTtcbnZhciBpc0Z1bmN0aW9uID0gcmVxdWlyZSgnQHV0aWxzL2lzRnVuY3Rpb24nKTtcbi8vIHZhciB1dGlsTG9nZ2VyID0gcmVxdWlyZSgnQHV0aWxzL3V0aWxMb2dnZXInKTtcbnZhciB1bG9nID0gcmVxdWlyZSgnQHV0aWxzL3Vsb2cnKTtcbnZhciBhcGx1c1N0YXRpYyA9IHJlcXVpcmUoJ0B1dGlscy9hcGx1c1N0YXRpYycpO1xuXG4vKipcbiAqIEBwYXJhbXMge0FycmF5fSBRVUVVRVxuICogQHBhcmFtcyB7T2JqZWN0fSBvcHRzIHtcbiAqICAgaXNPcGVuQXBpOiB0cnVlIHx8IGZhbHNlIFxuICogfVxuICovXG52YXIgcHJvY2Vzc0dvbGRsb2dRdWV1ZSA9IGZ1bmN0aW9uIChRVUVVRSwgb3B0cykge1xuICBmdW5jdGlvbiBmKCkge1xuICAgIGlmICghUVVFVUUgfHwgIXV0aWxBcnJheS5pc0FycmF5KFFVRVVFKSB8fCAhUVVFVUUubGVuZ3RoKSByZXR1cm47XG4gICAgLy8g5o6S5bqPXG4gICAgdmFyIHF1ZSA9IGdldEZvcm1hdFF1ZXVlKFFVRVVFKS5xdWV1ZTtcbiAgICB2YXIgdGFzayA9IHt9O1xuICAgIHZhciBkZWxheVRhc2tzID0gW107XG4gICAgd2hpbGUgKHRhc2sgPSBxdWUuc2hpZnQoKSkgeyAvLyDkvp3mrKHmiafooYwgd2luZG93LmFwbHVzX3F1ZXVlIOS4reeahOS7u+WKoVxuICAgICAgcHJvY2Vzc1Rhc2sodGFzaywgb3B0cywgZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgZGVsYXlUYXNrcy5wdXNoKHQpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChkZWxheVRhc2tzLmxlbmd0aCA+IDApIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICB3aGlsZSAodGFzayA9IGRlbGF5VGFza3Muc2hpZnQoKSkge1xuICAgICAgICAgIHByb2Nlc3NUYXNrKHRhc2ssIG9wdHMpO1xuICAgICAgICB9XG4gICAgICB9LCAxMDApO1xuICAgIH1cbiAgfTtcbiAgdHJ5IHtcbiAgICBmKCk7XG4gIH0gY2F0Y2goZSkge1xuICAgIHVsb2coKS53KGUpO1xuICAgIC8vIHV0aWxMb2dnZXIubG9nZ2VyKHtcbiAgICAvLyAgIG1zZzogZVxuICAgIC8vIH0pO1xuICB9XG59O1xuZXhwb3J0cy5wcm9jZXNzR29sZGxvZ1F1ZXVlID0gcHJvY2Vzc0dvbGRsb2dRdWV1ZTtcblxuZnVuY3Rpb24gZ2V0TWV0YUluZm8oKSB7XG4gIHZhciBfJCA9IHV0aWxHb2xkbG9nLmdldEdvbGRsb2dWYWwoJ18kJykgfHwge307XG4gIHZhciBtZXRhX2luZm8gPSBfJC5tZXRhX2luZm87IC8vIHx8IG1ldGFJbmZvLmdldEluZm8oKTtcbiAgcmV0dXJuIG1ldGFfaW5mbztcbn1cblxuZnVuY3Rpb24gZ2V0QXBsdXNIb2xkVHlwZSAoKSB7XG4gIHZhciBtZXRhX2luZm8gPSBnZXRNZXRhSW5mbygpIHx8IHt9O1xuICB2YXIgdWFpZCA9IG1ldGFfaW5mby51YWlkICsgJyc7XG4gIGlmICh1YWlkID09PSAnMScgJiYgIW1ldGFfaW5mby5fYW5vbnlfaWQpIHtcbiAgICByZXR1cm4gJ0JMT0NLJztcbiAgfVxuICByZXR1cm4gbWV0YV9pbmZvWydfaG9sZCddIHx8IG1ldGFfaW5mb1snYXBsdXMtd2FpdGluZyddO1xufVxuXG52YXIgQVBMVVNfSE9MRF9VU0VSSURfUVVFVUUgPSBbXTtcbnZhciBBUExVU19IT0xEX0FOT05ZX1FVRVVFID0gW107XG52YXIgQVBMVVNfSE9MRF9RVUVVRSA9IFtdO1xuXG5mdW5jdGlvbiBmaWx0ZXJUYXNrICh0YXNrKSB7XG4gIHZhciBob2xkVHlwZSA9IGdldEFwbHVzSG9sZFR5cGUoKTtcbiAgLy8gY29uc29sZS5sb2coJ2hvbGRUeXBlID09PSAnLCBob2xkVHlwZSk7XG4gIHZhciBtZXRhX2luZm8gPSBnZXRNZXRhSW5mbygpIHx8IHt9O1xuICB2YXIgZmxhZyA9IHRydWU7XG5cbiAgLy8gMDogXCJfaG9sZFwiXG4gIC8vIDE6IFwiU1RBUlRcIlxuICB2YXIgYXJncyA9IHRhc2suYXJndW1lbnRzIHx8IFtdO1xuICB2YXIgbWV0YUtleSA9IGFyZ3NbMF07XG4gIHZhciBtZXRhVmFsdWUgPSBhcmdzWzFdO1xuICB2YXIgU1RBUlQgPSAnU1RBUlQnO1xuICBpZiAobWV0YUtleSA9PT0gJ19ob2xkJyAmJiBtZXRhVmFsdWUgPT09IFNUQVJUKSB7XG4gICAgcmV0dXJuIFNUQVJUO1xuICB9XG4gIGlmIChtZXRhS2V5ID09PSAnX2Fub255X2lkJyAmJiBtZXRhVmFsdWUpIHtcbiAgICByZXR1cm4gU1RBUlQ7XG4gIH1cbiAgaWYgKHRhc2sgJiYgL3NlbmRQVnxyZWNvcmR8c2V0UGFnZVNQTXxzZXRNZXRhSW5mb3xhcHBlbmRNZXRhSW5mbyQvLnRlc3QodGFzay5hY3Rpb24pKSB7XG4gICAgc3dpdGNoIChob2xkVHlwZSkge1xuICAgIGNhc2UgJ0JMT0NLJzpcbiAgICAgIGlmICghbWV0YV9pbmZvW2hvbGRUeXBlXSkge1xuICAgICAgICBBUExVU19IT0xEX1FVRVVFLnB1c2godGFzayk7XG4gICAgICAgIGZsYWcgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZsYWc7XG59XG5cblxuLy8gdmFyIHByb2Nlc3NlZCA9IGZhbHNlO1xuZnVuY3Rpb24gcHJvY2Vzc0hvbGRHb2xkbG9nUXVldWUgKG9wdHMpIHtcbiAgLy8gaWYgKCFwcm9jZXNzZWQpIHtcbiAgLy8gICBwcm9jZXNzZWQgPSB0cnVlO1xuICBwcm9jZXNzR29sZGxvZ1F1ZXVlKEFQTFVTX0hPTERfVVNFUklEX1FVRVVFLCBvcHRzKTtcbiAgcHJvY2Vzc0dvbGRsb2dRdWV1ZShBUExVU19IT0xEX0FOT05ZX1FVRVVFLCBvcHRzKTtcbiAgcHJvY2Vzc0dvbGRsb2dRdWV1ZShBUExVU19IT0xEX1FVRVVFLCBvcHRzKTsgIFxuICAvLyB9XG59XG5cbi8qKlxuICogQHBhcmFtcyB7T2JqZWN0fSBxdWV1ZU5hbWU6IGFwbHVzX3F1ZXVlIHx8IGdvbGRsb2dfcXVldWVcbiAqIEBwYXJhbXMge09iamVjdH0gb3B0cyB7XG4gKiAgIGlzT3BlbkFwaTogdHJ1ZSB8fCBmYWxzZSBcbiAqIH1cbiAqL1xuZXhwb3J0cy5zdWJzY3JpYmVBbmRQcm9jZXNzUXVldWUgPSBmdW5jdGlvbiAocXVldWVOYW1lLCBvcHRzKSB7XG4gIHZhciBxdWUgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZShxdWV1ZU5hbWUpO1xuICBxdWUucHVzaCh7XG4gICAgYWN0aW9uOiBhcGx1c1N0YXRpYy5TVUJTQ1JJQkUsXG4gICAgYXJndW1lbnRzOiBbYXBsdXNTdGF0aWMuU0VUX01FVEFfSU5GTywgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgIGlmIChrZXkgPT09IGFwbHVzU3RhdGljLl9VU0VSX0lEICYmIHZhbHVlKSB7XG4gICAgICAgIHByb2Nlc3NHb2xkbG9nUXVldWUoQVBMVVNfSE9MRF9VU0VSSURfUVVFVUUsIG9wdHMpO1xuICAgICAgfSBlbHNlIGlmIChrZXkgPT09IGFwbHVzU3RhdGljLl9BTk9OWV9JRCAmJiB2YWx1ZSkge1xuICAgICAgICBwcm9jZXNzR29sZGxvZ1F1ZXVlKEFQTFVTX0hPTERfQU5PTllfUVVFVUUsIG9wdHMpO1xuICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdfaG9sZCcgJiYgdmFsdWUgPT09ICdTVEFSVCcpIHtcbiAgICAgICAgcHJvY2Vzc0hvbGRHb2xkbG9nUXVldWUob3B0cyk7XG4gICAgICB9XG4gICAgfV1cbiAgfSk7XG59O1xuXG5mdW5jdGlvbiBnZXRNZXRob2ROYW1lIChrZXksIGlzT3BlbkFwaSkge1xuICBpZiAoaXNPcGVuQXBpICYmIGFwbHVzU3RhdGljLm9wZW5BUElzLmluZGV4T2Yoa2V5KSA+IC0xKSB7XG4gICAga2V5ID0gJ18nICsga2V5O1xuICB9XG4gIHJldHVybiBrZXk7XG59XG5cbi8qKlxuICogQHBhcmFtcyB7T2JqZWN0fSB0YXNrXG4gKiBAcGFyYW1zIHtPYmplY3R9IG9wdHMge1xuICogICBpc09wZW5BcGk6IHRydWUgfHwgZmFsc2UgXG4gKiB9XG4gKi9cbnZhciBwcm9jZXNzVGFzayA9IGZ1bmN0aW9uKHRhc2ssIG9wdHMsIGNhbGxiYWNrKSB7XG4gIHZhciBpc09wZW5BcGkgPSAhIW9wdHMuaXNPcGVuQXBpO1xuICB2YXIgYWN0aW9uID0gdGFzayA/IHRhc2suYWN0aW9uIDogJyc7XG4gIHZhciBhcmdzID0gdGFzayA/IHRhc2suYXJndW1lbnRzIDogJyc7XG5cbiAgdmFyIHJlc3VsdCA9IGZpbHRlclRhc2sodGFzayk7XG4gIGlmICghcmVzdWx0KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBjb250ZXh0ID0gdXRpbEdvbGRsb2cuZ2V0Q29udGV4dCgpO1xuICB0cnkgeyAvLyDnoa7kv53mn5DkuKrku7vliqHmiafooYzlpLHotKXkuI3kvJrlvbHlk43lhbblroPku7vliqFcbiAgICBpZiAoYWN0aW9uICYmIGFyZ3MgJiYgdXRpbEFycmF5LmlzQXJyYXkoYXJncykpIHtcbiAgICAgIHZhciBhID0gYWN0aW9uLnNwbGl0KCcuJyk7XG4gICAgICB2YXIgb2JqID0gY29udGV4dDtcbiAgICAgIHZhciBfZm4gPSBjb250ZXh0O1xuICAgICAgdmFyIG1ldGhvZE5hbWU7XG4gICAgICBpZiAoYS5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgb2JqID0gY29udGV4dFthWzBdXVthWzFdXSB8fCB7fTtcbiAgICAgICAgbWV0aG9kTmFtZSA9IGdldE1ldGhvZE5hbWUoYVsyXSwgaXNPcGVuQXBpKTtcbiAgICAgICAgX2ZuID0gb2JqW21ldGhvZE5hbWVdID8gb2JqW21ldGhvZE5hbWVdIDogJyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aGlsZSAoYS5sZW5ndGgpIHtcbiAgICAgICAgICBtZXRob2ROYW1lID0gZ2V0TWV0aG9kTmFtZShhLnNoaWZ0KCksIGlzT3BlbkFwaSk7XG4gICAgICAgICAgX2ZuID0gb2JqID0gb2JqW21ldGhvZE5hbWVdO1xuICAgICAgICAgIGlmICghb2JqKSB7IC8vIOmdnuazlSBhY3Rpb25cbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgICAgICAgICBjYWxsYmFjayh0YXNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpc0Z1bmN0aW9uKF9mbikpIHtcbiAgICAgICAgX2ZuLmFwcGx5KG9iaiwgYXJncyk7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0ID09PSAnU1RBUlQnKSB7XG4gICAgICAgIHByb2Nlc3NIb2xkR29sZGxvZ1F1ZXVlKG9wdHMpO1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaChlKSB7XG4gICAgdWxvZygpLncoZSk7XG4gICAgLy8gdXRpbExvZ2dlci5sb2dnZXIoe1xuICAgIC8vICAgbXNnOiBlXG4gICAgLy8gfSk7XG4gIH1cbn07XG5leHBvcnRzLnByb2Nlc3NUYXNrID0gcHJvY2Vzc1Rhc2s7XG5cbnZhciBnZXRGb3JtYXRRdWV1ZSA9IGZ1bmN0aW9uIChxdWV1ZSwgdHlwZSkge1xuICB2YXIgcXVldWVNYXAgPSB7XG4gICAgc3Vic2NyaWJlTXdDaGFuZ2VRdWV1ZTogW10sXG4gICAgc3Vic2NyaWJlTWV0YVF1ZXVlOiBbXSxcbiAgICBzdWJzY3JpYmVRdWV1ZTogW10sXG4gICAgbWV0YVF1ZXVlOiBbXSxcbiAgICBvdGhlcnNRdWV1ZTogW11cbiAgfTtcblxuICB2YXIgcSA9IFtdO1xuICB2YXIgdGFzayA9IHt9O1xuICB3aGlsZSAodGFzayA9IHF1ZXVlLnNoaWZ0KCkpIHsgLy8g5L6d5qyh5omn6KGMIHdpbmRvdy5hcGx1c19xdWV1ZSDkuK3nmoTku7vliqFcbiAgICB0cnkge1xuICAgICAgdmFyIGFjID0gdGFzay5hY3Rpb247XG4gICAgICB2YXIga2V5ID0gdGFzay5hcmd1bWVudHNbMF07XG4gICAgICBpZiAoL3N1YnNjcmliZS8udGVzdChhYykpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gJ3NldE1ldGFJbmZvJykge1xuICAgICAgICAgIHF1ZXVlTWFwLnN1YnNjcmliZU1ldGFRdWV1ZS5wdXNoKHRhc2spO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gYXBsdXNTdGF0aWMuTVdfQ0hBTkdFX1BWIHx8IGtleSA9PT0gYXBsdXNTdGF0aWMuTVdfQ0hBTkdFX0hKTEopIHtcbiAgICAgICAgICBxdWV1ZU1hcC5zdWJzY3JpYmVNd0NoYW5nZVF1ZXVlLnB1c2godGFzayk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcXVldWVNYXAuc3Vic2NyaWJlUXVldWUucHVzaCh0YXNrKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICgvTWV0YUluZm8vLnRlc3QoYWMpKSB7XG4gICAgICAgIHF1ZXVlTWFwLm1ldGFRdWV1ZS5wdXNoKHRhc2spO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVNYXAub3RoZXJzUXVldWUucHVzaCh0YXNrKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB1bG9nKCkudyhlKTtcbiAgICAgIC8vIHV0aWxMb2dnZXIubG9nZ2VyKHtcbiAgICAgIC8vICAgbXNnOiBlXG4gICAgICAvLyB9KTtcbiAgICAgIHF1ZXVlTWFwLm90aGVyc1F1ZXVlLnB1c2godGFzayk7XG4gICAgfVxuICB9XG4gIHZhciBmb3JtYXRRdWV1ZTtcbiAgaWYgKHR5cGUgJiYgcXVldWVNYXBbdHlwZV0pIHtcbiAgICBmb3JtYXRRdWV1ZSA9IHF1ZXVlTWFwW3R5cGVdO1xuICAgIHF1ZXVlTWFwW3R5cGVdID0gW107XG4gIH1cbiAgcSA9IHF1ZXVlTWFwLnN1YnNjcmliZU13Q2hhbmdlUXVldWUuY29uY2F0KHF1ZXVlTWFwLm1ldGFRdWV1ZSk7XG4gIHEgPSBxLmNvbmNhdChxdWV1ZU1hcC5zdWJzY3JpYmVRdWV1ZSk7XG4gIHEgPSBxLmNvbmNhdChxdWV1ZU1hcC5zdWJzY3JpYmVNZXRhUXVldWUsIHF1ZXVlTWFwLm90aGVyc1F1ZXVlKTtcbiAgcmV0dXJuIHtcbiAgICBxdWV1ZTogcSxcbiAgICBmb3JtYXRRdWV1ZTogZm9ybWF0UXVldWVcbiAgfTtcbn07XG5leHBvcnRzLmdldEZvcm1hdFF1ZXVlID0gZ2V0Rm9ybWF0UXVldWU7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9wbHVnaW5zL2xpYl9xdWV1ZS9hY3Rpb24uanNcbi8vIG1vZHVsZSBpZCA9IDg1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogYWxpbG9nL3MgLSBzcmMvbGliX3UvY29uZmlnL2luaXQvaW5pdExvYWRfYmFzZS5qc1xuICog5Yid5aeL5YyW5Z+656GA5qih5Z2X77yM5LiN6IO955u05o6l5L2/55So77yM6ZyA6KaB6YCa6L+HaW5pdExvYWRfcGMuanPmiJZpbml0TG9hZF93YXAuanPnrYnlhbfkvZPnmoTlnLrmma/mqKHlnZfosIPnlKhcbiAqXG4gKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG4gKlxuICogQXV0aG9yczpcbiAqICAgQGF1dGhvciBqaXpoYS53eWogQGJsb2cgaHR0cDovL29sZGoubmV0XG4gKiAgIOiwi+WjqyA8cWluZ2xpYW5nLmhxbEBhbGliYWJhLWluYy5jb20+XG4gKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIEJhc2UgPSByZXF1aXJlKCdAY29yZS9CYXNlJyk7XG52YXIgdXRpbEdvbGRsb2cgPSByZXF1aXJlKCdAdXRpbHMvdXRpbEdvbGRsb2cnKTtcbnZhciBhY3Rpb24gPSByZXF1aXJlKCcuL2FjdGlvbicpO1xuXG52YXIgUXVldWUgPSBCYXNlLmV4dGVuZCh7XG4gIHB1c2g6IGZ1bmN0aW9uKHRhc2spIHtcbiAgICB0aGlzLmxlbmd0aCsrO1xuICAgIGFjdGlvbi5wcm9jZXNzVGFzayh0YXNrLCB0aGlzLm9wdHMpOyAgXG4gIH0sXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgcHJvY2Vzc0FwbHVzUXVldWU6IGZ1bmN0aW9uIChxdWV1ZU5hbWUpIHtcbiAgICAgIHZhciBvcHRzID0gdGhpcy5vcHRpb25zLmNvbmZpZyB8fCB7fTtcbiAgICAgIHZhciBxdWUgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZShxdWV1ZU5hbWUpO1xuICAgICAgYWN0aW9uLnByb2Nlc3NHb2xkbG9nUXVldWUocXVlLCBvcHRzKTtcbiAgICAgIHV0aWxHb2xkbG9nLnNldEdsb2JhbFZhbHVlKHF1ZXVlTmFtZSwgUXVldWUuY3JlYXRlKHtcbiAgICAgICAgb3B0czogb3B0cywgXG4gICAgICAgIHN0YXJ0TGVuZ3RoOiBxdWUubGVuZ3RoLFxuICAgICAgICBsZW5ndGg6IDBcbiAgICAgIH0pKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtcyB7U3RyaW5nfSB0eXBlXG4gICAgICovXG4gICAgcnVuOiAgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGFwbHVzX2NvbmZpZyA9IHRoaXMub3B0aW9ucy5jb250ZXh0LmFwbHVzX2NvbmZpZztcbiAgICAgIHZhciBBUExVU19RVUVVRSA9IGFwbHVzX2NvbmZpZy5nbG9iYWxDb25maWcuQVBMVVNfUVVFVUU7XG5cbiAgICAgIHRoaXMucHJvY2Vzc0FwbHVzUXVldWUoQVBMVVNfUVVFVUUpO1xuXG4gICAgICBpZiAoQVBMVVNfUVVFVUUgPT09ICdhcGx1c19xdWV1ZScpIHtcbiAgICAgICAgdGhpcy5wcm9jZXNzQXBsdXNRdWV1ZSgnZ29sZGxvZ19xdWV1ZScpO1xuICAgICAgfVxuICAgICAgYWN0aW9uLnN1YnNjcmliZUFuZFByb2Nlc3NRdWV1ZShBUExVU19RVUVVRSwgdGhpcy5vcHRpb25zLmNvbmZpZyk7XG4gICAgfVxuICB9O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3BsdWdpbnMvbGliX3F1ZXVlL2FwbHVzX3F1ZXVlLmpzXG4vLyBtb2R1bGUgaWQgPSA4NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIOWPi+ebn+S6keadoeS7tuS4i+eahOiHquWKqOS6i+S7tuaPkuS7tiAgICAgXG4gKiBcbiAqICAgICAgXG4gKiBDb3B5cmlnaHQgLSAyMDIxIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuICogXG4gKiBBdXRob3I6IFxuICogICAg6ZKw5pitIChjaGFuZ2xpYW5nLmxjbEB1bWVuZy5jb20pXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbEdvbGRsb2cgPSByZXF1aXJlKCdAdXRpbHMvdXRpbEdvbGRsb2cnKTtcbnZhciBhcGx1c1N0YXRpYyA9IHJlcXVpcmUoJ0B1dGlscy9hcGx1c1N0YXRpYycpO1xudmFyIG1pbmkgPSByZXF1aXJlKCdAdXRpbHMvbWluaScpO1xudmFyIEZldGNoQ29uZmlnID0gcmVxdWlyZSgnLi9saWJfbWluaXZ0L2ZldGNoQ29uZmlnJyk7XG52YXIgdXRpbEdRID0gcmVxdWlyZSgnQHV0aWxzL3V0aWxHUScpO1xudmFyIE1JTklfVlRfQ09ORklHX0ZPUk1BVCA9ICdNaW5pVnRDb25maWdGb3JtYXQnO1xudmFyIHV0aWxWVCA9IHJlcXVpcmUoJy4vbGliX21pbml2dC91dGlsVlQnKTtcbnZhciBQYWdlTWFuYWdlciA9IHJlcXVpcmUoJ0AvcGx1Z2lucy9saWJfdW0vcGFnZU1hbmFnZXInKTtcbnZhciB1bG9nID0gcmVxdWlyZSgnQHV0aWxzL3Vsb2cnKTtcblxuZnVuY3Rpb24gYXV0b1RyYWNrZXIgKCkge1xuICB2YXIgcmJfY29uZmlnLCBwZHJfY29uZmlnLCBzaGFyZV9jb25maWc7XG4gIC8vIHZhciBwcmVmaXggPSBtaW5pLmdldENvbnRleHQoKTtcbiAgdmFyIGN0eCA9IHV0aWxHb2xkbG9nLmdldENvbnRleHQoKTtcbiAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoYXBsdXNTdGF0aWMuQVBMVVMpO1xuICB2YXIgYXBsdXNfcXVldWUgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZShhcGx1c1N0YXRpYy5BUExVU19RVUVVRSk7XG4gIHZhciBfaGFzVHJhY2tlZCA9IGZhbHNlO1xuICB2YXIgX2N1cnJlbnRQYWdlID0gbnVsbDtcbiAgdmFyIGNvdW50ID0ge1xuICAgICdvblB1bGxEb3duUmVmcmVzaCc6IDAsXG4gICAgJ29uU2hhcmVUaW1lbGluZSc6IDAsXG4gICAgJ29uUmVhY2hCb3R0b20nOiAwLFxuICAgICdvblNoYXJlQXBwTWVzc2FnZSc6IDAsXG4gICAgJ29uQ2xpY2snOiAwXG4gIH07XG5cbiAgZnVuY3Rpb24gZXZlbnRIYW5kbGUgKCkge1xuICAgIHZhciBldmVudE5hbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiB2b2lkIDAgIT09IGFyZ3VtZW50c1swXSA/IGFyZ3VtZW50c1swXSA6ICcnO1xuICAgIHZhciBwYWdlSW5zdGFuY2UgPSBtaW5pLmdldEN1cnJlbnRQYWdlKCk7XG4gICAgdmFyIGN1cnJlbnRQYWdlID0gcGFnZUluc3RhbmNlLnJvdXRlIHx8IHBhZ2VJbnN0YW5jZS5pcztcbiAgICAvLyB2YXIgcDtcbiAgICBcbiAgICBzd2l0Y2ggKGV2ZW50TmFtZSkge1xuICAgIGNhc2UgJ29uUHVsbERvd25SZWZyZXNoJzpcbiAgICAgIGNvdW50Lm9uUHVsbERvd25SZWZyZXNoICs9IDE7XG4gICAgICBhcGx1c19xdWV1ZS5wdXNoKHtcbiAgICAgICAgYWN0aW9uOiAnYXBsdXMucmVjb3JkJyxcbiAgICAgICAgYXJndW1lbnRzOiBbcGRyX2NvbmZpZy5sb2drZXkgfHwgJyQkX3B1bGxfZG93bl9yZWZyZXNoJywgJ0NMSycsIHtcbiAgICAgICAgICBldmVudDogZXZlbnROYW1lLFxuICAgICAgICAgIHBhZ2VuYW1lOiBQYWdlTWFuYWdlci5nZXRQYWdlQ29kZSgpIHx8IGN1cnJlbnRQYWdlLFxuICAgICAgICAgIGNvdW50OiBjb3VudC5vblB1bGxEb3duUmVmcmVzaFxuICAgICAgICB9XVxuICAgICAgfSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdvblJlYWNoQm90dG9tJzpcbiAgICAgIGNvdW50Lm9uUmVhY2hCb3R0b20gKz0gMTtcbiAgICAgIGFwbHVzX3F1ZXVlLnB1c2goe1xuICAgICAgICBhY3Rpb246ICdhcGx1cy5yZWNvcmQnLFxuICAgICAgICBhcmd1bWVudHM6IFtyYl9jb25maWcubG9na2V5IHx8ICckJF9yZWFjaF9ib3R0b20nLCAnQ0xLJywge1xuICAgICAgICAgIGV2ZW50OiBldmVudE5hbWUsXG4gICAgICAgICAgcGFnZW5hbWU6IFBhZ2VNYW5hZ2VyLmdldFBhZ2VDb2RlKCkgfHwgY3VycmVudFBhZ2UsXG4gICAgICAgICAgY291bnQ6IGNvdW50Lm9uUmVhY2hCb3R0b21cbiAgICAgICAgfV1cbiAgICAgIH0pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnb25TaGFyZUFwcE1lc3NhZ2UnOlxuICAgICAgY291bnQub25TaGFyZUFwcE1lc3NhZ2UgKz0gMTtcbiAgICAgIGFwbHVzX3F1ZXVlLnB1c2goe1xuICAgICAgICBhY3Rpb246ICdhcGx1cy5yZWNvcmQnLFxuICAgICAgICBhcmd1bWVudHM6IFtzaGFyZV9jb25maWcubG9na2V5IHx8ICckJF9zaGFyZScsICdDTEsnLCB7XG4gICAgICAgICAgZXZlbnQ6IGV2ZW50TmFtZSxcbiAgICAgICAgICBwYWdlbmFtZTogUGFnZU1hbmFnZXIuZ2V0UGFnZUNvZGUoKSB8fCBjdXJyZW50UGFnZSxcbiAgICAgICAgICBjb3VudDogY291bnQub25TaGFyZUFwcE1lc3NhZ2UsXG4gICAgICAgICAgc2hhcmVfdHlwZTogMVxuICAgICAgICB9XVxuICAgICAgfSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdvblNoYXJlVGltZWxpbmUnOiBcbiAgICAgIGNvdW50Lm9uU2hhcmVUaW1lbGluZSArPSAxO1xuICAgICAgYXBsdXNfcXVldWUucHVzaCh7XG4gICAgICAgIGFjdGlvbjogJ2FwbHVzLnJlY29yZCcsXG4gICAgICAgIGFyZ3VtZW50czogW3NoYXJlX2NvbmZpZy5sb2drZXkgfHwgJyQkX3NoYXJlJywgJ0NMSycsIHtcbiAgICAgICAgICBldmVudDogZXZlbnROYW1lLFxuICAgICAgICAgIHBhZ2VuYW1lOiBQYWdlTWFuYWdlci5nZXRQYWdlQ29kZSgpIHx8IGN1cnJlbnRQYWdlLFxuICAgICAgICAgIGNvdW50OiBjb3VudC5vblNoYXJlVGltZWxpbmUsXG4gICAgICAgICAgc2hhcmVfdHlwZTogMFxuICAgICAgICB9XVxuICAgICAgfSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdvblBhZ2VTaG93JzpcbiAgICAgIGlmIChwYWdlSW5zdGFuY2Uucm91dGUgJiYgIV9oYXNUcmFja2VkKSB7XG4gICAgICAgIF9jdXJyZW50UGFnZSA9IHtcbiAgICAgICAgICB0czogRGF0ZS5ub3coKSxcbiAgICAgICAgICBwYXRoOiBwYWdlSW5zdGFuY2Uucm91dGUsXG4gICAgICAgICAgcGFnZV9uYW1lOiBwYWdlSW5zdGFuY2Uucm91dGUsXG4gICAgICAgIH07XG4gICAgICAgIF9oYXNUcmFja2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ29uUGFnZUhpZGUnOiAgXG4gICAgICBpZiAoX2hhc1RyYWNrZWQpIHtcbiAgICAgICAgdmFyIGR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIF9jdXJyZW50UGFnZS50cztcbiAgICAgICAgLy8g5Yqg6L295pe25py655qE6Zeu6aKY77yM5pS+5Zyo5q2k5aSE5Y+WcmVmZXJyZXLnm7jmr5Tkuo5taW5pYXBwX2RhdGHlh4bnoa5cbiAgICAgICAgdmFyIHJlZmVycmVyID0gbWluaS5nZXRSZWZlcnJlclBhZ2UoKS5yb3V0ZSB8fCBtaW5pLmdldFJlZmVycmVyUGFnZSgpLmlzIHx8ICctJztcbiAgICAgICAgdmFyIGV4dHJhUGFyYW1zID0gKFBhZ2VNYW5hZ2VyLmdldFBhZ2VOYW1lKCkgfHwge30pLmV4dHJhUGFyYW1zO1xuICAgICAgICB2YXIgcHZhcmdzID0gT2JqZWN0LmFzc2lnbih7fSwgZXh0cmFQYXJhbXMsIHtcbiAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXG4gICAgICAgICAgcGF0aDogX2N1cnJlbnRQYWdlLnBhdGgsXG4gICAgICAgICAgcGFnZV9uYW1lOiBQYWdlTWFuYWdlci5nZXRQYWdlQ29kZSgpIHx8IF9jdXJyZW50UGFnZS5wYWdlX25hbWUsXG4gICAgICAgICAgcGFnZV9zdGFydDogX2N1cnJlbnRQYWdlLnRzLFxuICAgICAgICAgIGlzTWluaTogdHJ1ZSxcbiAgICAgICAgICBfcGFnZV9hdXRvX2lkOiBhcGx1c1N0YXRpYy5QQUdFX0VORCxcbiAgICAgICAgICBfcGFnZV9hdXRvX3B2OiB0cnVlLFxuICAgICAgICAgIHJlZmVycmVyOiByZWZlcnJlclxuICAgICAgICB9KTtcbiAgICAgICAgYXBsdXMuc2VuZFBWKHsgaXNfYXV0bzogdHJ1ZSB9LCBwdmFyZ3MpO1xuICAgICAgICBfY3VycmVudFBhZ2UgPSBudWxsO1xuICAgICAgICBfaGFzVHJhY2tlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBnZXRDb25maWcgKCkge1xuICAgIHJiX2NvbmZpZyA9IGFwbHVzLmdldE1ldGFJbmZvKCdyYl9jb25maWcnKTtcbiAgICBwZHJfY29uZmlnID0gYXBsdXMuZ2V0TWV0YUluZm8oJ3Bkcl9jb25maWcnKTtcbiAgICBzaGFyZV9jb25maWcgPSBhcGx1cy5nZXRNZXRhSW5mbygnc2hhcmVfY29uZmlnJyk7XG4gIH1cblxuICBmdW5jdGlvbiBmZXRjaFZlcmlmeUNvbmZpZyhjb2RlLCBhcHBJbmZvSWQpIHtcbiAgICBpZiAoIWNvZGUgfHwgIWFwcEluZm9JZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7IFxuICAgICAgdmFyIGFwaV9ob3N0ID0gYXBsdXMuZ2V0TWV0YUluZm8oJ2FwbHVzLWFwaS1ob3N0Jyk7XG4gICAgICB2YXIgcmVnID0gL1tbYS16fFxcLXxcXF98MC05XFwuXStbYS16fFxcLXxcXF98MC05XSg6XFxkKik/LztcbiAgICAgIHZhciB2ZXJpZnlfaG9zdCA9IGFwaV9ob3N0Lm1hdGNoKHJlZyk7XG4gICAgICBcbiAgICAgIGlmICh2ZXJpZnlfaG9zdCAmJiB2ZXJpZnlfaG9zdFswXSkge1xuICAgICAgICB2YXIgcHJvdG9jYWwgPSBhcGx1c1N0YXRpYy5IVFRQUztcbiAgICAgICAgaWYgKC8oXFxkK1xcLil7Myx9XFxkKy8udGVzdCh2ZXJpZnlfaG9zdFswXSkpIHtcbiAgICAgICAgICBwcm90b2NhbCA9ICdodHRwOic7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZlcmlmeVVybCA9IHByb3RvY2FsICsgJy8vJyArIGFwaV9ob3N0KyAnL3Z0L2xvYWRUcmFuc2ZlckNvbmZpZz9jb2RlPScgKyBjb2RlICsgJyZhcHBJbmZvSWQ9JyArIGFwcEluZm9JZDtcbiAgICAgICAgbWluaS5yZXF1ZXN0KHZlcmlmeVVybCwge30sIGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgY2ZnRGF0YSA9IChyZXNwLmRhdGEgJiYgcmVzcC5kYXRhLmRhdGEgJiYgcmVzcC5kYXRhLmRhdGEuY29uZmlnKSB8fCAnJztcbiAgICAgICAgICAgIHZhciBkZWJ1Z0lkID0gKHJlc3AuZGF0YSAmJiByZXNwLmRhdGEuZGF0YSAmJiByZXNwLmRhdGEuZGF0YS5kZWJ1Z0lkKSB8fCAnJztcbiAgICAgICAgICAgIGlmKGRlYnVnSWQpe1xuICAgICAgICAgICAgICBhcGx1cy5hcHBlbmRNZXRhSW5mbygnYXBsdXMtZ2xvYmFsLWFyZ3MnLHtcbiAgICAgICAgICAgICAgICBkZWJ1Z0lkOmRlYnVnSWRcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgX2JlZ2luTG9hZCA9IChuZXcgRGF0ZSkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgYXBsdXMuX21pbmljZmdfbG9hZCA9IChuZXcgRGF0ZSkuZ2V0VGltZSgpIC0gX2JlZ2luTG9hZDtcbiAgICAgICAgICAgIGlmIChjZmdEYXRhKSB7XG4gICAgICAgICAgICAgIGFwbHVzLl9hcGx1c192dF9jZmcgPSBKU09OLnBhcnNlKGNmZ0RhdGEpIHx8IHt9O1xuICAgICAgICAgICAgICB1dGlsVlQudnQyYXV0b0V2ZW50KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdWxvZygpLncoJ+aLieWPluWunuaXtuWPr+inhuWMluWfi+eCuemqjOivgeWksei0pSwg6ZSZ6K+v5L+h5oGv77yaJyArIGUpO1xuICAgICAgICAgICAgLy8gdXRpbExvZ2dlci5sb2dnZXIoe1xuICAgICAgICAgICAgLy8gICBsZXZlbDonZXJyb3InLFxuICAgICAgICAgICAgLy8gICBtc2c6J+aLieWPluWunuaXtuWPr+inhuWMluWfi+eCuemqjOivgeWksei0pSwg6ZSZ6K+v5L+h5oGv77yaJyArIGVcbiAgICAgICAgICAgIC8vIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIFxuICAgIH1cbiAgfVxuXG4gIGFwbHVzX3F1ZXVlLnB1c2goe1xuICAgIGFjdGlvbjogYXBsdXNTdGF0aWMuU1VCU0NSSUJFLFxuICAgIGFyZ3VtZW50czogWydhcGx1c1JlYWR5JywgZnVuY3Rpb24gKHN0YXR1cykge1xuICAgICAgaWYgKHN0YXR1cyA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgICBnZXRDb25maWcoKTtcbiAgICAgIH1cbiAgICB9XVxuICB9KTtcblxuICBhcGx1cy5hcGx1c19wdWJzdWIuc3Vic2NyaWJlKCdvbkxvYWQnLCBmdW5jdGlvbihvcHQpIHtcbiAgICBpZiAob3B0LnN0YXR1cyA9PT0gJ3JlYWR5Jykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIGNvZGUgPSBQYWdlTWFuYWdlci5nZXRWVFJlYWx0aW1lQ29kZSgpO1xuICAgICAgICBpZiAoY29kZSkge1xuICAgICAgICAgIHZhciBhcHBJbmZvSWQgPSBhcGx1cy5nZXRNZXRhSW5mbygnYXBwSW5mb0lkJyk7XG4gICAgICAgICAgZmV0Y2hWZXJpZnlDb25maWcoY29kZSwgYXBwSW5mb0lkKTtcbiAgICAgICAgfSBlbHNlIHsgICAgICAgICAgXG4gICAgICAgICAgISFhcGx1cy5nZXRNZXRhSW5mbygnYXBsdXMtdnQtY2ZnLXVybCcpICYmIHV0aWxWVC52dDJhdXRvRXZlbnQoKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIHVsb2coKS53KCfmi4nlj5blrp7ml7blj6/op4bljJbln4vngrnpqozor4Hkv6Hmga/lpLHotKXvvIwg6ZSZ6K+v5Y6f5Zug77yaJyArIGUpO1xuICAgICAgICAvLyB1dGlsTG9nZ2VyLmxvZ2dlcih7XG4gICAgICAgIC8vICAgbGV2ZWw6ICdlcnJvcicsXG4gICAgICAgIC8vICAgbXNnOiAn5ouJ5Y+W5a6e5pe25Y+v6KeG5YyW5Z+L54K56aqM6K+B5L+h5oGv5aSx6LSl77yMIOmUmeivr+WOn+WboO+8micgKyBlXG4gICAgICAgIC8vIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgYXBsdXMuYXBsdXNfcHVic3ViLnN1YnNjcmliZSgnb25TaG93JywgZnVuY3Rpb24gKG9wdCkge1xuICAgIGlmIChvcHQuc3RhdHVzID09PSAncmVhZHknKSB7XG4gICAgICB2YXIgaXNBdXRvID0gY3R4LmFwbHVzLmdldE1ldGFJbmZvKCdhcGx1cy13YWl0aW5nJykgIT09ICdNQU4nO1xuICAgICAgaXNBdXRvICYmIGV2ZW50SGFuZGxlKCdvblBhZ2VTaG93Jyk7XG4gICAgfVxuICB9KTtcblxuICBhcGx1cy5hcGx1c19wdWJzdWIuc3Vic2NyaWJlKCdvbkhpZGUnLCBmdW5jdGlvbiAob3B0KSB7XG4gICAgaWYgKG9wdC5zdGF0dXMgPT09ICdyZWFkeScpIHtcbiAgICAgIHZhciBpc0F1dG8gPSBjdHguYXBsdXMuZ2V0TWV0YUluZm8oJ2FwbHVzLXdhaXRpbmcnKSAhPT0gJ01BTic7XG4gICAgICBpc0F1dG8gJiYgZXZlbnRIYW5kbGUoJ29uUGFnZUhpZGUnKTtcbiAgICB9XG4gIH0pO1xuXG4gIGFwbHVzLmFwbHVzX3B1YnN1Yi5zdWJzY3JpYmUoJ29uUHVsbERvd25SZWZyZXNoJywgZnVuY3Rpb24gKG9wdCkge1xuICAgIGlmIChvcHQuc3RhdHVzID09PSAncmVhZHknKSB7XG4gICAgICBldmVudEhhbmRsZSgnb25QdWxsRG93blJlZnJlc2gnKTtcbiAgICB9XG4gIH0pO1xuXG4gIGFwbHVzLmFwbHVzX3B1YnN1Yi5zdWJzY3JpYmUoJ29uUmVhY2hCb3R0b20nLCBmdW5jdGlvbiAob3B0KSB7XG4gICAgaWYgKG9wdC5zdGF0dXMgPT09ICdyZWFkeScpIHtcbiAgICAgIGV2ZW50SGFuZGxlKCdvblJlYWNoQm90dG9tJyk7XG4gICAgfVxuICB9KTtcblxuICBhcGx1cy5hcGx1c19wdWJzdWIuc3Vic2NyaWJlKCdvblNoYXJlQXBwTWVzc2FnZScsIGZ1bmN0aW9uIChvcHQpIHtcbiAgICBpZiAob3B0LnN0YXR1cyA9PT0gJ3JlYWR5Jykge1xuICAgICAgZXZlbnRIYW5kbGUoJ29uU2hhcmVBcHBNZXNzYWdlJyk7XG4gICAgfVxuICB9KTtcblxuICBhcGx1cy5hcGx1c19wdWJzdWIuc3Vic2NyaWJlKCdvblNoYXJlVGltZWxpbmUnLCBmdW5jdGlvbiAob3B0KSB7XG4gICAgaWYgKG9wdC5zdGF0dXMgPT09ICdyZWFkeScpIHtcbiAgICAgIGV2ZW50SGFuZGxlKCdvblNoYXJlVGltZWxpbmUnKTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmICghIWFwbHVzLmdldE1ldGFJbmZvKCdhcGx1cy12dC1jZmctdXJsJykpIHtcbiAgICB1dGlsR1EucHVzaEludG9Hb2xkbG9nUXVldWUoYXBsdXNTdGF0aWMuU1VCU0NSSUJFLCBbTUlOSV9WVF9DT05GSUdfRk9STUFULCBmdW5jdGlvbihvcHRpb25zKXtcbiAgICAgIHZhciBwYWdlQ29uZmlnID0gb3B0aW9ucy5wYWdlQ29uZmlnO1xuICAgICAgaWYgKHBhZ2VDb25maWcgJiYgcGFnZUNvbmZpZy5lbmFibGVkKSB7XG4gICAgICAgIGFwbHVzLl9hcGx1c192dF9jZmcgPSBwYWdlQ29uZmlnO1xuICAgICAgfVxuICAgIH1dKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgcnVuOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZSgnYXBsdXMnKTtcbiAgICAgIGF1dG9UcmFja2VyKCk7XG4gICAgICBpZiAoIWFwbHVzLl9hcGx1c19hbGVhZHlfbG9hZF9taW5pdnQpe1xuICAgICAgICBhcGx1cy5fYXBsdXNfYWxlYWR5X2xvYWRfbWluaXZ0ID0gMTtcbiAgICAgICAgdmFyIGZjID0gRmV0Y2hDb25maWcuY3JlYXRlKCk7XG4gICAgICAgIGZjLnJ1bigpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9wbHVnaW5zX21pbmkvYXV0b190cmFja2VyX3VtLmpzXG4vLyBtb2R1bGUgaWQgPSA4N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIOWPr+inhuWMluWfi+eCuemFjee9ruS/oeaBr+ivt+axgiBcbiAqIENvcHlyaWdodChjKSBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cbiAqXG4gKiBBdXRob3JzOlxuICogICBBYXJvbnzpkrDmmK0gPHFpbmdsaWFuZy5ocWxAYWxpYmFiYS1pbmMuY29tPlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIEJhc2UgPSByZXF1aXJlKCdAY29yZS9CYXNlJyk7XG52YXIgdXRpbEdRID0gcmVxdWlyZSgnQHV0aWxzL3V0aWxHUScpO1xudmFyIHV0aWxDYXRjaCA9IHJlcXVpcmUoJ0B1dGlscy91dGlsQ2F0Y2gnKTtcbnZhciBlYWNoID0gcmVxdWlyZSgnQHV0aWxzL2VhY2gnKTtcbnZhciB1dGlsRGFzaCA9IHJlcXVpcmUoJ0B1dGlscy91dGlsRGFzaCcpO1xudmFyIG1pbml2dFN0b3JlID0gcmVxdWlyZSgnQHV0aWxzL21pbml2dFN0b3JlJyk7XG4vLyB2YXIgdXRpbFVybCA9IHJlcXVpcmUoJ0B1dGlscy91dGlsVXJsJyk7XG52YXIgYXBsdXNTdGF0aWMgPSByZXF1aXJlKCdAdXRpbHMvYXBsdXNTdGF0aWMnKTtcbnZhciB1dGlsR29sZGxvZyA9IHJlcXVpcmUoJ0B1dGlscy91dGlsR29sZGxvZycpO1xuLy8gdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoJ2FwbHVzJyk7XG52YXIgTUlOSV9WVF9DT05GSUdfQkFDSyA9ICdNaW5pVnRDb25maWdCYWNrJztcbnZhciBNSU5JX1ZUX0NPTkZJR19GT1JNQVQgPSAnTWluaVZ0Q29uZmlnRm9ybWF0JztcblxudmFyIEdPTERMT0dfUFVCTElTSCA9IGFwbHVzU3RhdGljLlBVQkxJU0g7XG4vLyBwcm9kOiBodHRwczovL2FsaWR0LmFsaWNkbi5jb20vYWxpbG9nL3Z0ZGFpbHkvJHtjb21wb25lbnRJRH0uanNvblxuLy8gaHR0cHM6Ly9kLmFsaWNkbi5jb20vYWxpbG9nL3Z0L2ExejFkMV8xMjI3OTkxNC5qc29uXG4vLyB2YXIgSE9TVCA9ICcvL2cuYWxpY2RuLmNvbS9hbGlsb2cnO1xuLy8gdmFyIEhPU1QgPSAnLy9kLmFsaWNkbi5jb20vYWxpbG9nJztcblxuLy8gZnVuY3Rpb24gaXNEYWlseSAoKSB7XG4vLyAgIHZhciBycyA9IGZhbHNlO1xuLy8gICBpZiAoYXBsdXMgJiYgYXBsdXMuYXBsdXNEZWJ1Zykge1xuLy8gICAgIHJldHVybiB0cnVlO1xuLy8gICB9XG4vLyAgIHJldHVybiBycztcbi8vIH1cblxubW9kdWxlLmV4cG9ydHMgPSBCYXNlLmV4dGVuZCh1dGlsRGFzaC5hc3NpZ24obWluaXZ0U3RvcmUsIHtcblxuICBwYXRobmFtZTogJycsXG5cbiAgcGFnZUNvbmZpZzoge30sXG5cbiAgb3JpZ2luU3BtOiB7XG4gICAgc3BtQTogJycsXG4gICAgc3BtQjogJydcbiAgfSxcblxuICB1cGRhdGVDZmdMczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIF9zZWxmID0gdGhpcztcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICBfc2VsZi5mZXRjaEZyb21DZG4oKTtcbiAgICB9LDEwMDApO1xuICB9LFxuXG4gIGZldGNoRnJvbUNkbjogZnVuY3Rpb24gKCkge1xuICAgIHZhciBfc2VsZiA9IHRoaXM7XG4gICAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoJ2FwbHVzJyk7XG4gICAgdmFyIHBhdGggPSBhcGx1cy5nZXRNZXRhSW5mbygnYXBsdXMtdnQtY2ZnLXVybCcpO1xuICAgIGlmICghcGF0aCkgcmV0dXJuO1xuICAgIHZhciBfYmVnaW5Mb2FkID0gKG5ldyBEYXRlKS5nZXRUaW1lKCk7XG4gICAgYXBsdXMucmVxdWVzdFZUQ29uZmlnKHBhdGgsIGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgIHZhciBjZmdEYXRhID0gcmVzcC5kYXRhO1xuICAgICAgYXBsdXMuX21pbmljZmdfbG9hZCA9IChuZXcgRGF0ZSkuZ2V0VGltZSgpIC0gX2JlZ2luTG9hZDtcbiAgICAgIGlmIChjZmdEYXRhKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXBsdXMuX2FwbHVzX3Z0X2NmZyA9IHR5cGVvZiBjZmdEYXRhID09PSAnb2JqZWN0JyA/IGNmZ0RhdGEgOiBKU09OLnBhcnNlKGNmZ0RhdGEpO1xuICAgICAgICAgIGlmIChhcGx1cy5fYXBsdXNfdnRfY2ZnLnBvaW50cykge1xuICAgICAgICAgICAgZWFjaChhcGx1cy5fYXBsdXNfdnRfY2ZnLnBvaW50cywgZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgdi5zZWxlY3RvciA9IGRlY29kZVVSSUNvbXBvbmVudCh2LnNlbGVjdG9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBfc2VsZi5zZXRDb25maWdJbnRvTHMoYXBsdXMuX2FwbHVzX3Z0X2NmZyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBhcGx1cy5fYXBsdXNfdnRfY2ZnID0ge1xuICAgICAgICAgICAgZW5hYmxlZDogZmFsc2VcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB1dGlsR1EucHVzaEludG9Hb2xkbG9nUXVldWUoR09MRExPR19QVUJMSVNILCBbTUlOSV9WVF9DT05GSUdfQkFDSywge3BhZ2VDb25maWc6YXBsdXMuX2FwbHVzX3Z0X2NmZywgZW5hYmxlOiAwfV0pO1xuICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgaWYgKGFwbHVzLl9hcGx1c192dF9jZmcgJiYgYXBsdXMuX2FwbHVzX3Z0X2NmZy5lbmFibGVkKSB7XG4gICAgICAgIHV0aWxHUS5wdXNoSW50b0dvbGRsb2dRdWV1ZShHT0xETE9HX1BVQkxJU0gsIFtNSU5JX1ZUX0NPTkZJR19CQUNLLCB7cGFnZUNvbmZpZzphcGx1cy5fYXBsdXNfdnRfY2ZnLCBlbmFibGU6IDB9XSk7ICBcbiAgICAgIH1cbiAgICAgIHV0aWxDYXRjaC5jYXRjaEV4Y2VwdGlvbignZ2V0VHJhY2tlckNmZycsIGVycm9yLCB7XG4gICAgICAgIG1zZzogcGF0aFxuICAgICAgfSk7XG4gICAgfSwge1xuICAgICAgdGltZW91dDogNTAwMFxuICAgIH0pO1xuICB9LFxuXG4gIGdldE1pbmlWdERhdGE6IGZ1bmN0aW9uKGNkbnBhdGgsIHByZVVybCwgZnJvbUNETil7XG4gICAgdmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoJ2FwbHVzJyk7XG4gICAgYXBsdXMuX21pbmljZmdfbG9hZCA9IDA7XG4gICAgaWYgKGNkbnBhdGgpIHtcbiAgICAgIHZhciB2dENvbmZpZyA9IHRoaXMuZmV0Y2hGcm9tTFMoY2RucGF0aCk7XG4gICAgICBpZih0eXBlb2YgdnRDb25maWcgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdHJ5e1xuICAgICAgICAgIHZ0Q29uZmlnID0gSlNPTi5wYXJzZSh2dENvbmZpZyk7XG4gICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgIHZ0Q29uZmlnID0ge307XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHZ0Q29uZmlnICYmIHZ0Q29uZmlnLmVuYWJsZWQpIHtcbiAgICAgICAgYXBsdXMuX2FwbHVzX3Z0X2NmZyA9IHZ0Q29uZmlnO1xuICAgICAgfVxuICAgICAgaWYoICFmcm9tQ0ROKSB7XG4gICAgICAgIHV0aWxHUS5wdXNoSW50b0dvbGRsb2dRdWV1ZShHT0xETE9HX1BVQkxJU0gsIFtNSU5JX1ZUX0NPTkZJR19CQUNLLCB7cGFnZUNvbmZpZzp2dENvbmZpZywgZW5hYmxlOiAwfV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5mZXRjaEZyb21DZG4oY2RucGF0aCwgcHJlVXJsKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLy8gaHR0cHM6Ly9kLmFsaWNkbi5jb20vYWxpbG9nL3Z0X2RhaWx5L2ExejFkMV8xMjI3OTkxNC5qc29uXG4gIHN5bmNNaW5pVnREYXRhOiBmdW5jdGlvbigpe1xuICAgIC8vc3Vic2NyaWJlICB3cy5yZWFkeVxuICAgIHZhciBjZG5wYXRoID0gdGhpcy5nZXRWdENvbmZpZ1BhdGgoKTtcbiAgICB0aGlzLmdldE1pbmlWdERhdGEoY2RucGF0aCwgJycsIHRydWUpO1xuICB9LFxuXG4gIGluaXQ6IGZ1bmN0aW9uKCl7XG4gICAgdmFyIF9zZWxmID0gdGhpcztcbiAgICBcbiAgICB2YXIgR09MRExPR19TVUJTQ1JJQkUgPSBhcGx1c1N0YXRpYy5TVUJTQ1JJQkU7XG4gICAgLy90aGlzIGV2ZW50IGZyb20gTFMgb3IgZnJvbSBXUyB0byBnZXQgY29uZmlnXG4gICAgdXRpbEdRLnB1c2hJbnRvR29sZGxvZ1F1ZXVlKEdPTERMT0dfU1VCU0NSSUJFLCBbTUlOSV9WVF9DT05GSUdfQkFDSywgZnVuY3Rpb24gKG9yaURhdGFzKSB7XG4gICAgICBpZighb3JpRGF0YXMuZW5hYmxlKSB7XG4gICAgICAgIF9zZWxmLnBhZ2VDb25maWcgPSBvcmlEYXRhcy5wYWdlQ29uZmlnO1xuICAgICAgfVxuICAgICAgLy90aGlzIGV2ZW50IHRvIHVzZTtcbiAgICAgIHV0aWxHUS5wdXNoSW50b0dvbGRsb2dRdWV1ZShHT0xETE9HX1BVQkxJU0gsIFtNSU5JX1ZUX0NPTkZJR19GT1JNQVQsIHtcbiAgICAgICAgcGFnZUNvbmZpZzogX3NlbGYucGFnZUNvbmZpZyxcbiAgICAgICAgb3JpZ2luU3BtOiBfc2VsZi5vcmlnaW5TcG1cbiAgICAgIH1dKTtcbiAgICAgICFvcmlEYXRhcy5lbmFibGUgJiYgX3NlbGYuc2V0Q29uZmlnSW50b0xzKF9zZWxmLnBhZ2VDb25maWcpO1xuICAgIH1dKTtcbiAgICBfc2VsZi5zeW5jTWluaVZ0RGF0YSgpO1xuICB9LFxuXG4gIHJ1bjogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuaW5pdCgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59KSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9wbHVnaW5zX21pbmkvbGliX21pbml2dC9mZXRjaENvbmZpZy5qc1xuLy8gbW9kdWxlIGlkID0gODhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyogaXN0YW5idWwgaWdub3JlIGZpbGUgKi9cbi8qKlxuICogYWxpbG9nL3Mvc3JjL2xpYl91L3V0aWxzL3V0aWxBdHRyaWJ1dGUuanNcbiAqXG4gKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG4gKlxuICogQXV0aG9yczpcbiAqICAg6LCL5aOrIDxxaW5nbGlhbmcuaHFsQGFsaWJhYmEtaW5jLmNvbT5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbEdRID0gcmVxdWlyZSgnLi91dGlsR1EnKTtcblxuZXhwb3J0cy5jYXRjaEV4Y2VwdGlvbiA9IGZ1bmN0aW9uIChmaWxlbmFtZSwgZXJyb3IpIHtcbiAgdmFyIG1lc3NhZ2UgPSBmaWxlbmFtZTtcbiAgaWYgKHR5cGVvZiBlcnJvciA9PT0gJ29iamVjdCcgJiYgZXJyb3IubWVzc2FnZSkge1xuICAgIG1lc3NhZ2UgPSBtZXNzYWdlICsgJ18nICsgZXJyb3IubWVzc2FnZTtcbiAgfVxuICB1dGlsR1EucHVzaEludG9Hb2xkbG9nUXVldWUoJ2FwbHVzLl9hcGx1c19jcGx1Z2luX20uZG9fdHJhY2tlcl9qc2Vycm9yJywgW3tcbiAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgIGVycm9yOiBKU09OLnN0cmluZ2lmeShlcnJvciksXG4gICAgZmlsZW5hbWU6IGZpbGVuYW1lXG4gIH1dKTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvbGliX3UvdXRpbHMvdXRpbENhdGNoLmpzXG4vLyBtb2R1bGUgaWQgPSA4OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKiBpc3RhbmJ1bCBpZ25vcmUgZmlsZSAqL1xuLyoqXG4gKiBwcm9qZWN0IC0gZmlsZXBhdGhcbiogZGVzY3JpcHRpb25cbipcbiogQ29weXJpZ2h0KGMpIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuKlxuKiBBdXRob3JzOlxuKiAgIEFhcm9uIHwg6ZKw5pitIDxjaGFuZ2xpYW5nLmxjbEB1bWVuZy5jb20+XG4qL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbEdvbGRsb2cgPSByZXF1aXJlKCdAdXRpbHMvdXRpbEdvbGRsb2cnKTtcbi8vIHZhciBhcGx1cyA9IHV0aWxHb2xkbG9nLmdldEdsb2JhbFZhbHVlKCdhcGx1cycpO1xudmFyIG1pbmkgPSByZXF1aXJlKCdAdXRpbHMvbWluaScpO1xudmFyIHV0aWwgPSByZXF1aXJlKCcuLi91dGlscy91dGlsJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgbHNNaW5pdnRDb25maWdLZXk6ICdBUExVU19NSU5JX0NPTkZJRycsXG5cbiAgLyoqXG4gICAqIOWFrOWFseaooeadv+WcuuaZr++8jOWmguaenHR1cm5vbj09PScxJyDmi4nlj5Z2YWx1ZeWGheeahOWGheWuuVxuICAgKiBtZXRhSW5mbzoge1xuICAgKiAgJ2FwbHVzLXRyYWNrLWNvbmZpZy1pZCc6IHtcbiAgICogICAgJ3ZhbHVlJzogJ3BhQ3dabEcyV3Y3bGxoaG0nLFxuICAgKiAgICAndHVybm9uJzogJzAnIG9yICcxJyAgIFxuICAgKiAgfVxuICAgKiB9XG4gICAqL1xuICBnZXRNaW5pVnRUcGxDZG5QYXRoOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXBsdXMgPSB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZSgnYXBsdXMnKTtcbiAgICB2YXIgYXBsdXNUcmFja0NvbmZpZ0lkSW5mbyA9IGFwbHVzLmdldE1ldGFJbmZvKCdhcGx1cy10cmFjay1jb25maWctaWQnKTtcbiAgICB2YXIgdHVybm9uID0gYXBsdXNUcmFja0NvbmZpZ0lkSW5mbyAmJiBhcGx1c1RyYWNrQ29uZmlnSWRJbmZvLnR1cm5vbjtcbiAgICB2YXIgdmFsdWUgPSBhcGx1c1RyYWNrQ29uZmlnSWRJbmZvICYmIGFwbHVzVHJhY2tDb25maWdJZEluZm8udmFsdWU7XG4gICAgaWYgKHR1cm5vbiA9PT0gJzEnICYmIHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiAnJztcbiAgfSxcblxuICBnZXRWdENvbmZpZ1BhdGg6IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0ZW1wbGF0ZVZhbCA9IHRoaXMuZ2V0TWluaVZ0VHBsQ2RuUGF0aCgpO1xuICAgIHZhciBzcG1BQiA9IFtdO1xuICAgIHZhciBzcG1JZDtcbiAgICB2YXIgYXBwa2V5ID0gdXRpbC5nZXRBcHBLZXkoKTtcbiAgICBpZiAoYXBwa2V5KSB7XG4gICAgICBzcG1JZCA9IGFwcGtleTtcbiAgICB9XG4gICAgXG4gICAgaWYgKHNwbUlkKSB7XG4gICAgICBzcG1BQiA9IHNwbUlkLnNwbGl0KCcuJyk7XG4gICAgfSBcbiAgICAvLyByZW1vdmUgZWxzZSBsb2dpYyBpbnNpZGUgd2VidnRTdG9yZSwgYmVjYXVzZSBtaW5pX2Nsb3VkIGRvbnQgc3VwcG9ydCBzcG1cbiAgICBpZiAoc3BtQUIubGVuZ3RoID09PSAyKSB7XG4gICAgICB0aGlzLm9yaWdpblNwbSA9IHtcbiAgICAgICAgc3BtQTogc3BtQUJbMF0sXG4gICAgICAgIHNwbUI6IHNwbUFCWzFdXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoc3BtQUIubGVuZ3RoID09PSAxKSB7XG4gICAgICB0aGlzLm9yaWdpblNwbS5zcG1BID0gc3BtQUJbMF07XG4gICAgfVxuXG4gICAgaWYgKHRlbXBsYXRlVmFsKSB7XG4gICAgICByZXR1cm4gdGVtcGxhdGVWYWw7XG4gICAgfVxuICAgIGlmIChzcG1BQi5sZW5ndGggPT09IDIpIHtcbiAgICAgIHJldHVybiBzcG1BQi5qb2luKCdfJyk7XG4gICAgfSBlbHNlIGlmIChzcG1BQi5sZW5ndGggPT09IDEpIHtcbiAgICAgIHJldHVybiBzcG1BQlswXTtcbiAgICB9XG4gIH0sXG5cbiAgZmV0Y2hGcm9tTFM6IGZ1bmN0aW9uIChjZG5wYXRoKSB7XG4gICAgaWYgKCF0aGlzLmNkbnBhdGgpIHtcbiAgICAgIHRoaXMuY2RucGF0aCA9IGNkbnBhdGggfHwgdGhpcy5nZXRNaW5pVnRUcGxDZG5QYXRoKCk7XG4gICAgfVxuICAgIHZhciBjdHggPSBtaW5pLmdldENvbnRleHQoKTtcbiAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGN0eC5nZXRTdG9yYWdlU3luYyh0aGlzLmxzTWluaXZ0Q29uZmlnS2V5ICsgJy0nICsgY2RucGF0aCkpIHx8IHt9O1xuICB9LFxuXG4gIHNldENvbmZpZ0ludG9MczogZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgaWYgKCF0aGlzLmNkbnBhdGgpIHtcbiAgICAgIHRoaXMuY2RucGF0aCA9IHRoaXMuZ2V0VnRDb25maWdQYXRoKCk7XG4gICAgfVxuICAgIHZhciBjdHggPSBtaW5pLmdldENvbnRleHQoKTtcbiAgICBjdHguc2V0U3RvcmFnZVN5bmModGhpcy5sc01pbml2dENvbmZpZ0tleSArICctJyArIHRoaXMuY2RucGF0aCwgZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNvbmZpZykpKTtcbiAgICAvLyB1dGlsU3RvcmUuc2V0KHRoaXMubHNNaW5pdnRDb25maWdLZXkgKyAnLScgKyB0aGlzLmNkbnBhdGgsIGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShjb25maWcpKSk7XG4gIH1cblxufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9saWJfdS91dGlscy9taW5pdnRTdG9yZS5qc1xuLy8gbW9kdWxlIGlkID0gOTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLypcbiAqIEZpbGU6IHV0aWxWVC5qc1xuICog5Y+v6KeG5YyW6YWN572uIOino+aekOmFjee9ruS/oeaBr+S4uuiHquWKqOeCueWHu+OAgeiHquWKqOabneWFieOAgeiHquWKqHB25YWs5YWx5Ye95pWwXG4gKiBQcm9qZWN0OiBAYWxpL2FwbHVzXG4gKiAgICAgIFxuICogQXV0aG9yOiDpkrDmmK0gKGNoYW5nbGlhbmcubGNsQHVtZW5nLmNvbSlcbiAqICAgICAgXG4gKiBDb3B5cmlnaHQgLSAyMDIxIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuICovXG5cbid1c2Ugc3RyaWN0JztcbnZhciBtaW5pID0gcmVxdWlyZSgnQHV0aWxzL21pbmknKTtcbnZhciB1dGlsR29sZGxvZyA9IHJlcXVpcmUoJ0B1dGlscy91dGlsR29sZGxvZycpO1xudmFyIGVhY2ggPSByZXF1aXJlKCdAdXRpbHMvZWFjaCcpO1xudmFyIGlzQXJyYXkgPSByZXF1aXJlKCdAdXRpbHMvaXNBcnJheScpO1xudmFyIGFwbHVzID0gdXRpbEdvbGRsb2cuZ2V0R2xvYmFsVmFsdWUoJ2FwbHVzJyk7XG52YXIgUGFnZU1hbmFnZXIgPSByZXF1aXJlKCdAL3BsdWdpbnMvbGliX3VtL3BhZ2VNYW5hZ2VyJyk7XG5cbmV4cG9ydHMuZ2V0Q3VycmVudFBhZ2VWVENmZyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgdnRDZmcgPSBhcGx1cy5fYXBsdXNfdnRfY2ZnO1xuICBpZiAoIXZ0Q2ZnKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBwYXRoID0gUGFnZU1hbmFnZXIuZ2V0Q3VycmVudFBhZ2VQYXRoKCk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB2dENmZy5wYWdlcy5sZW5ndGg7IGkrKyApe1xuICAgIHZhciBwYWdlQ29uZmlnID0gdnRDZmcucGFnZXNbaV07XG4gICAgaWYgKHBhZ2VDb25maWcubWF0Y2hVcmwgPT09IHBhdGgpIHtcbiAgICAgIHJldHVybiBwYWdlQ29uZmlnO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybjtcbn07XG5cblxuXG5mdW5jdGlvbiBjb21wbGVtZW50QXJyYXkob3JpLCB0YXJnZXQsIGtleSkge1xuICB2YXIgcmVzdWx0ID0gW107XG4gIGlmICghaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBpZiAob3JpICYmIHRhcmdldCAmJiBpc0FycmF5KG9yaSkgJiYgaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0YXJnZXQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghb3JpLnNvbWUoZnVuY3Rpb24oYSkge1xuICAgICAgICByZXR1cm4gYVtrZXldID09PSB0YXJnZXRbaV1ba2V5XTtcbiAgICAgIH0pKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHRhcmdldFtpXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5leHBvcnRzLnZ0MmF1dG9FdmVudCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgdnRfY2ZnID0gYXBsdXMuX2FwbHVzX3Z0X2NmZztcbiAgaWYgKCF2dF9jZmcpIHJldHVybjtcbiAgdmFyIHBhZ2VJbnN0YW5jZSA9IG1pbmkuZ2V0Q3VycmVudFBhZ2UoKTtcbiAgdmFyIGN1cnJlbnRQYWdlID0gcGFnZUluc3RhbmNlLnJvdXRlIHx8IHBhZ2VJbnN0YW5jZS5pcztcbiAgZWFjaCh2dF9jZmcucGFnZXMsIGZ1bmN0aW9uKHBjKSB7XG4gICAgYXBsdXMuc2V0UGFnZU5hbWUoeyBwYWdlTmFtZTogcGMuc3BtQiwgZXh0cmFQYXJhbXM6IHBjLmV4dHJhUGFyYW1zIH0sIHBjLm1hdGNoVXJsKTtcbiAgICBpZiAocGMubWF0Y2hVcmwgPT09IGN1cnJlbnRQYWdlKSB7XG4gICAgICB2YXIgYXV0b19leHBfYXJyID0gW10sIGF1dG9fY2xrX2FyciA9IFtdO1xuICAgICAgZWFjaCh2dF9jZmcucG9pbnRzLCBmdW5jdGlvbihwKXtcbiAgICAgICAgaWYgKHBjLnNwbUIgPT09IHAuc3BtQikge1xuICAgICAgICAgIGlmIChwLnRyYWNrZXJUeXBlID09PSBcImV4cG9zdXJlXCIpIHsgXG4gICAgICAgICAgICBhdXRvX2V4cF9hcnIucHVzaCh7XG4gICAgICAgICAgICAgICdjc3NTZWxlY3Rvcic6IHAuc2VsZWN0b3IsXG4gICAgICAgICAgICAgICdsb2drZXknOiBwLmxvZ2tleSxcbiAgICAgICAgICAgICAgJ3Byb3BzJzogcC5zZWxlY3RvclR5cGUsXG4gICAgICAgICAgICAgICdzcG1DJzogcC5zcG1DLFxuICAgICAgICAgICAgICAnc3BtRCc6IHAuc3BtRCxcbiAgICAgICAgICAgICAgJ2N1c3RvbUFyZ3MnOiBwLmN1c3RvbUFyZ3MsXG4gICAgICAgICAgICAgICdfdnQnOiBwYy50ZW1wbGF0ZSB8fCBwYy5zdGRJZCA/IDIgOiAxXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXV0b19jbGtfYXJyLnB1c2goe1xuICAgICAgICAgICAgICAnY3NzU2VsZWN0b3InOiBwLnNlbGVjdG9yLFxuICAgICAgICAgICAgICAnbG9na2V5JzogcC5sb2drZXksXG4gICAgICAgICAgICAgICdwcm9wcyc6IHAuc2VsZWN0b3JUeXBlLCBcbiAgICAgICAgICAgICAgJ3NwbUMnOiBwLnNwbUMsXG4gICAgICAgICAgICAgICdzcG1EJzogcC5zcG1ELFxuICAgICAgICAgICAgICAnY3VzdG9tQXJncyc6IHAuY3VzdG9tQXJncyxcbiAgICAgICAgICAgICAgJ192dCc6IHBjLnRlbXBsYXRlIHx8IHBjLnN0ZElkID8gMiA6IDFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB2YXIgb3JpX2F1dG9fZXhwX2FyciA9IGFwbHVzLmdldE1ldGFJbmZvKFwiYXBsdXMtYXV0by1leHBcIikgfHwgW107XG4gICAgICB2YXIgb3JpX2F1dG9fY2xrX2FyID0gYXBsdXMuZ2V0TWV0YUluZm8oXCJhcGx1cy1hdXRvLWNsa1wiKSB8fCBbXTtcbiAgICAgIHZhciB0YXJnZXRfZXhwX2FyciA9IGNvbXBsZW1lbnRBcnJheShvcmlfYXV0b19leHBfYXJyLCBhdXRvX2V4cF9hcnIsICdjc3NTZWxlY3RvcicpO1xuICAgICAgdmFyIHRhcmdldF9jbGtfYXJyID0gY29tcGxlbWVudEFycmF5KG9yaV9hdXRvX2Nsa19hciwgYXV0b19jbGtfYXJyLCAnY3NzU2VsZWN0b3InKTtcbiAgICAgIGlmICh0YXJnZXRfZXhwX2Fyci5sZW5ndGggPiAwKSB7XG4gICAgICAgIGFwbHVzLmFwcGVuZE1ldGFJbmZvKCdhcGx1cy1hdXRvLWV4cCcsIHRhcmdldF9leHBfYXJyKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRhcmdldF9jbGtfYXJyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgYXBsdXMuYXBwZW5kTWV0YUluZm8oJ2FwbHVzLWF1dG8tY2xrJywgdGFyZ2V0X2Nsa19hcnIpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59O1xuXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9wbHVnaW5zX21pbmkvbGliX21pbml2dC91dGlsVlQuanNcbi8vIG1vZHVsZSBpZCA9IDkxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qIGlzdGFuYnVsIGlnbm9yZSBmaWxlICovXG4vKipcbiAqIGFwbHVzX21pbmlfYmFzaWNcbiAqIOWwj+eoi+W6j+aooeWdl+WMlueahGFwbHVzSnPlhaXlj6NcbiAqXG4gKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG4gKlxuICogQXV0aG9yczpcbiAqICAg6b6Z6am5IDxjaGVuZ3BpbmcucmNwQGFsaWJhYmEtaW5jLmNvbT5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcHBDb25maWcsYXBsdXNfY29uZmlnKSB7XG4gIHZhciB1dGlsR29sZGxvZyA9IHJlcXVpcmUoJ0B1dGlscy91dGlsR29sZGxvZycpO1xuICAvLyByZXF1aXJlKCdAdXRpbHMvZGVidWcnKS5pc0RlYnVnQXBsdXModHJ1ZSk7XG5cbiAgdmFyIHV0aWxQdWJzdWIgPSByZXF1aXJlKCdAdXRpbHMvdXRpbFB1YnN1YicpO1xuICAvLyB2YXIgdXRpbExvZ2dlciA9IHJlcXVpcmUoJ0B1dGlscy91dGlsTG9nZ2VyJyk7XG4gIHZhciB1bG9nID0gcmVxdWlyZSgnQHV0aWxzL3Vsb2cnKTtcbiAgdmFyIGVhY2ggPSByZXF1aXJlKCdAdXRpbHMvZWFjaCcpO1xuICB2YXIgbWluaSA9IHJlcXVpcmUoJ0B1dGlscy9taW5pJyk7XG4gIHZhciBhcGx1c2luaXQgPSByZXF1aXJlKCdAY29yZS9hcGx1c2luaXQnKTtcbiAgbWluaS5pbml0SXNUQigpO1xuXG4gIGlmICh0eXBlb2YgYXBwQ29uZmlnID09PSAnb2JqZWN0Jykge1xuICAgIGlmIChhcHBDb25maWcuc2l0ZUlkKSB7XG4gICAgICBhcGx1c19jb25maWcuZ2xvYmFsQ29uZmlnLnNpdGVJZCA9IGFwcENvbmZpZy5zaXRlSWQ7XG4gICAgfVxuICAgIGFwbHVzX2NvbmZpZy5tZXRhSW5mbyA9IE9iamVjdC5hc3NpZ24oe30sIGFwbHVzX2NvbmZpZy5tZXRhSW5mbywgYXBwQ29uZmlnLm1ldGFJbmZvKTtcbiAgfVxuXG4gIHZhciBSVU5OSU5HID0gJ3J1bm5pbmcnO1xuICB2YXIgQ09NUExFVEUgPSAnY29tcGxldGUnO1xuICB2YXIgYXBsdXNTdGF0dXMgPSBbJ2FwbHVzUmVhZHknLCBSVU5OSU5HXTtcblxuICB1dGlsUHVic3ViLmRvUHViTXNnKGFwbHVzU3RhdHVzKTtcblxuICBhcGx1c2luaXQucnVuKHtcbiAgICBwbHVnaW5zOiBhcGx1c19jb25maWcucGx1Z2lucyxcbiAgICBjb250ZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgY29uZmlnX3B2X2NvbnRleHQgPSB7XG4gICAgICAgIFBBR0VfTE9BRF9USU1FOiBuZXcgRGF0ZSgpXG4gICAgICB9O1xuICAgICAgdmFyIFBMVUdJTlNfUFYgPSBbXTtcbiAgICAgIGVhY2goYXBsdXNfY29uZmlnLnBsdWdpbnMsIGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIGNvbmZpZ19wdl9jb250ZXh0W3YubmFtZV0gPSB2LmNvbmZpZztcbiAgICAgICAgaWYgKHYubmFtZSA9PT0gJ2FwbHVzX2xvZ19pbmplY3QnICYmIHYuY29uZmlnICYmIHYuY29uZmlnLnBsdWdpbnMpIHtcbiAgICAgICAgICBQTFVHSU5TX1BWID0gdi5jb25maWcucGx1Z2lucy5wdjtcbiAgICAgICAgICBlYWNoKFBMVUdJTlNfUFYsIGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICBjb25maWdfcHZfY29udGV4dFt2Lm5hbWVdID0gdi5jb25maWc7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGNvbmZpZ19wdl9jb250ZXh0LCB7XG4gICAgICAgIGFwbHVzX2NvbmZpZzogYXBsdXNfY29uZmlnXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIGZ1bmN0aW9uICgpIHtcbiAgICB1bG9nKCkudygnQVBMVVMgSU5JVCBTVUNDRVNTJyk7XG4gICAgLy8gYXBsdXPlh4blpIflpb3kuobvvIzliIblj5HkuIDkuKpyZWFkeeS6i+S7tlxuICAgIGFwbHVzU3RhdHVzWzFdID0gQ09NUExFVEU7XG4gICAgdXRpbFB1YnN1Yi5kb1B1Yk1zZyhhcGx1c1N0YXR1cyk7XG4gIH0pO1xuXG4gIC8vIHJldHVybiB1dGlsR29sZGxvZy5nZXRHbG9iYWxWYWx1ZShhcGx1c19jb25maWcuZ2xvYmFsQ29uZmlnLkFQTFVTX1FVRVVFKTtcbiAgcmV0dXJuIHV0aWxHb2xkbG9nLmdldENvbnRleHQoKTtcbn07XG5cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2FwbHVzX21pbmlfYmFzaWMuanNcbi8vIG1vZHVsZSBpZCA9IDkyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogcHJvamVjdCAtIGZpbGVwYXRoXG4gKiBhcGx1cyBBUElcbiAqXG4gKiBDb3B5cmlnaHQoYykgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG4gKlxuICogQXV0aG9yczpcbiAqICAg6LCL5aOrIDxxaW5nbGlhbmcuaHFsQGFsaWJhYmEtaW5jLmNvbT5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVkdWNlciA9IHJlcXVpcmUoJ0Bjb3JlL1JlZHVjZXInKTtcbnZhciBpc0Z1bmN0aW9uID0gcmVxdWlyZSgnQHV0aWxzL2lzRnVuY3Rpb24nKTtcbnZhciB1dGlsUHVic3ViID0gcmVxdWlyZSgnQHV0aWxzL3V0aWxQdWJzdWInKTtcblxuLyoqXG4gKiDlsIblkI7nu63nmoRpbml05Yqo5L2c6YO95YGa5oiQ5o+S5Lu277yM55uu5YmN5Y+q5pyJd2hlcmVfdG9fc2VuZHB25LiA6aG5XG4gKlxuICogQHBhcmFtcyB7T2JqZWN0fSBvcHRzIHtcbiAqICAgcGx1Z2luc1xuICogICBjb250ZXh0XG4gKiB9XG4gKiBAcGFyYW1zIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqXG4gKi9cbmV4cG9ydHMucnVuID0gZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gIHZhciByZWR1Y2VyID0gbmV3IFJlZHVjZXIoKTtcbiAgcmVkdWNlci5ydW4oe1xuICAgIHBsdWdpbnM6IG9wdHMucGx1Z2lucyxcbiAgICBjb250ZXh0OiBvcHRzLmNvbnRleHRcbiAgfSwge1xuICAgIGNvbmZpZzoge30sXG4gICAgdXNlcmRhdGE6IHt9LFxuICAgIHB1YnN1YlR5cGU6ICdhcGx1c2luaXQnLFxuICAgIG1lc3NhZ2VGblF1ZXVlOiBbXSxcbiAgICBtaWRkbGV3YXJlTWVzc2FnZUtleTogJ213X2NoYW5nZV9hcGx1c2luaXQnXG4gIH0sIGZ1bmN0aW9uIChjdHgpIHtcbiAgICB2YXIgbXNncyA9IFsnYXBsdXNJbml0Q29udGV4dCcsIGN0eF07XG4gICAgdXRpbFB1YnN1Yi5kb1B1Yk1zZyhtc2dzKTtcbiAgICB1dGlsUHVic3ViLmRvQ2FjaGVQdWJzKG1zZ3MpO1xuICAgIGlmIChpc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgY2FsbGJhY2soY3R4KTtcbiAgICB9XG4gIH0pO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2xpYl91L2NvcmUvYXBsdXNpbml0LmpzXG4vLyBtb2R1bGUgaWQgPSA5M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9